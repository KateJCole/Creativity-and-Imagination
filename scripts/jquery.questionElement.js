/*! -- File: jquery.questionElement.js ( Input 0 ) -- */
!function(c){var f=function(a,b){this.options=b;this.showCorrectAtEnd=this.allowInlineFeedback=!0;this.$el=c(a);this.initDB(b.outline);this.initSubscribers();this.attempts=this.score=0;this.type=b.outline.elementtype;this.setResponsive();return this};f.DEFAULTS={accessible:!0,passingMark:50,clickEvents:"click",outline:{},actionAPI:null,feedback:{correct:"",partial:"",incorrect:""},strings:{correct:"",partial:"",incorrect:"",submit:"Submit",tstchoicesLabel1:"You cannot choose more than",tstchoicesLabel2:"selections.",
showResult:"Show Answers",showGiven:"Show Submission",confirmQuestionNoSelection:"Are you sure you wish to submit this question without providing any answers?"}};f.constant=Object.freeze({screenReader:{visible:{tabindex:"1","aria-hidden":"false"},hidden:{tabindex:"-1","aria-hidden":"true"}}});f.prototype={initDB:function(a){this.db=function(){var a={},b={dragdrop_id:{}};return{store:function(c){a[c.id]=c;b.dragdrop_id[c.dragdrop_id]=a[c.id]},get:function(b){return a[b]},getByKey:function(a,c){return b[a][c]},
remove:function(b){delete a[item.id]},clear:function(){a={}},getLength:function(){return Object.keys(a).length}}}();var b=c.proxy(function(a){this.db.store(a);for(var c in a.elements)b(a.elements[c])},this);b(a)},initSubscribers:function(){var a=this;c("input",this.$el).on("focus",function(a){c(this).closest(".input-group-addon").addClass("focus-within")});c("input",this.$el).on("blur",function(a){c(".input-group-addon.focus-within").removeClass("focus-within")});this.$el.on(this.options.clickEvent,
".btn.retake",function(){c(this).hide();c(this).siblings(".submit").show();a.resetOptionClasses();a.resetOptionState();var b=a.$el.find(".dki-question-option input").first();b[0]&&b[0].focus();a.onRetake();return!1});this.$el.on("change","input",function(){a.onInputChange.call(a,c(this))});this.$el.on(this.options.clickEvent,".btn.submit:not(.showAnswers)",function(){c(this).hasClass("disabled")||a.submit()});this.$el.on(this.options.clickEvent,".btn.submit.showAnswers,.btn.showResult",function(){c(this).toggleClass("full");
var b="",e="";c(this).hasClass("full")?((b=a.showCorrectAnswers())&&(e="press enter to return to your answers or tab to continue."),c(this).html(a.options.strings.showGiven)):((b=a.showGivenAnswers())&&(e="for correct answers press enter or tab to continue"),c(this).html(a.options.strings.showResult),a.options.responsive||c(this).hide());b&&(c(this).attr("aria-describedby",""),c(this).attr("aria-description",b),c(this).attr("aria-label",e),c(this).attr("tabindex","-1"));var d=this;setTimeout(function(){a.options.responsive||
c(d).hasClass("full")?(c(d).attr("tabindex","1"),c(d).focus()):(c(d).attr("tabindex","1"),c(d).show())},10)});this.$el.on(this.options.clickEvent,".dki-question-option .input-group-addon",function(b){if(b.target==this)return c(this).find("input").trigger(a.options.clickEvent),b.stopPropagation(),!1});this.$el.on(QuestionElementEvents.correct,function(b,c){a.allowInlineFeedback&&a.showFeedback("correct",c.score,c)});this.$el.on(QuestionElementEvents.incorrect+" "+QuestionElementEvents.attemptIncorrect,
function(b,c){a.allowInlineFeedback&&a.showFeedback("incorrect",c.score,c)});this.$el.on(QuestionElementEvents.partiallyCorrect+" "+QuestionElementEvents.attemptPartiallyCorrect,function(b,c){a.allowInlineFeedback&&a.showFeedback("partial",c.score,c)});c(document).on(DKI.ContentPage.events.started,function(b,c){!player.isSinglePage&&c.page.id!=a.options.outline.pageid||"dragTheWordQuestion"!=a.type||(a.$el.find(".options span.answer").droppable("option","disabled",!1),a.$el.find(".answers span").draggable("option",
"disabled",!1))})},hasRemainingAttempts:function(){return this.attempts<parseInt(this.options.outline.parameters.config.attempts)},getRemainingAttempts:function(){return Math.max(this.options.outline.parameters.config.attempts-this.attempts,0)},disableInputs:function(){this.$el.find("input, select").prop("disabled",!0)},enableInputs:function(){this.$el.find("input, select").prop("disabled",!1)},submit:function(a){this.hasRemainingAttempts()&&this.checkIfAnswered(c.proxy(function(){a&&a();this.attempts+=
1;this.disableInputs();var b=this.scoreQuestion();this.setState(b);this.variableUpdate(b)},this))},hasSelection:function(){return!1},checkIfAnswered:function(a){(this.hasSelection()||confirm(this.options.strings.confirmQuestionNoSelection))&&a()},setState:function(a){var b=this.$el.find(".feedback"),c=null;0<b.length&&b.attr("id")&&-1!==b.attr("id").indexOf("feedback_")&&(c=b.attr("id"));var d=this.$el.find(".submit").removeClass("showAnswers");if(this.hasRemainingAttempts()&&100!=a){d.hide();var g=
d.siblings(".retake");a="";null!=c&&(a=this.$el.find("#ariaScoringDetails_"+c));this.options.outline.parameters.config.showFeedback&&0<a.length&&""!=a.text().trim()?(b.addClass("showFeedback"),g.attr("aria-disabled","true"),g.attr("aria-description",""),g.attr("tabindex","-1"),a.attr("tabindex","1"),a.focus(),setTimeout(function(){g.attr("aria-disabled","false");g.css("display","inline-block");g.attr("tabindex","1")},10)):(g.css("display","inline-block"),g.focus())}else{if(100!=a&&"trueFalseQuestion"!=
this.type&&"multipleChoiceQuestion"!=this.type&&"imageMap"!=this.type&&"matchingQuestion"!=this.type&&"sequencingQuestion"!=this.type){d.hide();var f=d.siblings(".showResult");f.attr("title",this.options.strings.showResult).html(this.options.strings.showResult);null!=c&&(this.options.outline.parameters.config.showFeedback||this.options.outline.parameters.config.showScore)?(f.attr("aria-disabled","true"),f.attr("aria-description",""),f.attr("tabindex","-1"),b.attr("tabindex","1"),b.focus(),setTimeout(function(){f.attr("aria-description",
"for correct answers press enter or tab to continue");f.attr("aria-disabled","false");f.css("display","inline-block");f.attr("tabindex","1")},10)):(f.attr("aria-description","for correct answers press enter or tab to continue"),f.attr("aria-disabled","false"),f.css("display","inline-block"),f.attr("tabindex","1"),f.focus())}else d.attr("aria-disabled","true"),d.addClass("disabled").show().attr("tabindex","-1"),null!=c&&(this.options.outline.parameters.config.showFeedback||this.options.outline.parameters.config.showScore)&&
(b.attr("tabindex","1"),b.focus());d.siblings(".retake").hide()}},resetSubmitButton:function(){var a=this.$el.find(".btn.submit");a.css("display","block").siblings(".retake").css("display","none");a.removeClass("showAnswers disabled").html(this.options.strings.submit)},resetOptionClasses:function(){this.$el.find(".dki-element-content").removeClass("multiChoiceCorrectResponse correct incorrect");this.$el.find(".correctOutline").removeClass("correctOutline")},resetOptionState:function(){this.$el.find(".dki-element-content .input-group").removeClass("checked").find("input").prop("checked",
!1).prop("disabled",!1)},variableUpdate:function(a){this.options.outline.parameters.config.variable_name&&contentApi&&contentApi.setData(this.options.outline.parameters.config.variable_name,a)},fireScoredEvent:function(a,b){this.$el.trigger(QuestionElementEvents.attempted,b);a&&100!=b.score||this.$el.trigger(QuestionElementEvents.submitted,b);b.score>=this.options.passingMark?this.$el.trigger(QuestionElementEvents.correct,b):0!=b.score?a?this.$el.trigger(QuestionElementEvents.attemptPartiallyCorrect,
b):this.$el.trigger(QuestionElementEvents.partiallyCorrect,b):a?this.$el.trigger(QuestionElementEvents.attemptIncorrect,b):this.$el.trigger(QuestionElementEvents.incorrect,b)},setResponsive:function(){DKI.apply(this.__proto__,Object.create(f[this.options.responsive?"responsive":"fixed"]))},onRetake:function(){this.$el.find(".feedback").removeClass("showFeedback");this.$el.trigger(QuestionElementEvents.retry);this.enableInputs()},destroy:function(){},onInputChange:function(a){this.$el.find(".input-group").removeClass("checked");
c(".input-group input:checked",this.$el).each(function(){c(this).closest(".input-group").addClass("checked")})},reset:function(){this.resetOptionState();this.resetOptionClasses();this.resetSubmitButton();this.$el.find(".feedback").removeClass("showFeedback");this.attempts=0},export:function(){},import:function(){},setTestConfig:function(a){this.options.outline.parameters.config.attempts=a.attempts;this.allowInlineFeedback=a.allowInlineFeedback;this.showCorrectAtEnd=a.showCorrectAtEnd}};f.responsive=
{showFeedback:function(a,b,e){var d=this;if((this.options.outline.parameters.config.showFeedback||this.options.outline.parameters.config.showScore)&&(!this.hasRemainingAttempts()||"correct"===a)){var g="";this.options.outline.parameters.config.showScore&&(g+="\x3cdiv class\x3d'sr-only'\x3eyour score is:  "+b.toFixed(0)+"%.\x3c/div\x3e");var f=this.options.outline.parameters.config.useProjectDefault?"\x3cdiv style\x3d'text-align:center'\x3e":"\x3cdiv\x3e";if(this.options.outline.parameters.config.showFeedback)var h=
function(){var b=d.options.feedback[a];DKI.isObject(b)&&DKI.isDefined(b.text)&&(b=b.text);var e="";d.$el.find("input").each(function(){var a=c(this).data("id"),b=d.db.get(a),g=d.optionIsCorrect(this)&&d.options.outline.parameters.config.feedback.showCorrectChoices,f=!d.optionIsCorrect(this)&&d.options.outline.parameters.config.feedback.showIncorrectChoices;(c(this).is(":checked")&&d.options.outline.parameters.config.feedback.showLearnerSelections||g||f)&&""!=c.trim(c("\x3cdiv /\x3e").html(b.parameters.config.feedback).text())&&
(a=c("#content_"+a+" .numbering",d.$el).text(),""==a&&(a="\x26bull;\x26nbsp;"),e+="\x3cdiv class\x3d'optionFeedbackWrapper'\x3e",e+="\x3cspan class\x3d'optionFeedbackNumbering'\x3e",e+=a,e+="\x3c/span\x3e",e+="\x3cspan class\x3d'optionFeedbackContent'\x3e",e+=b.parameters.config.feedback,e+="\x3c/span\x3e",e+="\x3c/div\x3e")});""!=e&&(""==b?1==(e.match(/&bull;/g)||[]).length&&(e=e.replace(/&bull;/g,"")):b+="\x3chr/\x3e",b+="\x3cdiv style\x3d'text-align: left; padding: 0;'\x3e"+e+"\x3c/div\x3e");return b}(),
g=g+("\x3cdiv class\x3d'flex justify-center'\x3e"+f+h+"\x3c/div\x3e\x3c/div\x3e");this.options.outline.parameters.config.showScore&&(g+='\x3cdiv class\x3d\'gauge-wrapper\' tabindex\x3d\'-1\' aria-disable\x3d\'true\' aria-hidden\x3d\'true\'\x3e\x3cspan class\x3d\'gauge\'\x3e\x3cdiv\x3e\x3cdiv class\x3d"overlay"\x3e\x3cdiv tabindex\x3d"1" class\x3d"text dki-element-text"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"mask full"\x3e\x3cdiv class\x3d"fill"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"mask half"\x3e\x3cdiv class\x3d"fill"\x3e\x3c/div\x3e\x3cdiv class\x3d"fill fix"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/span\x3e\x3c/div\x3e');
g=this.$el.find(".feedback").html(g).addClass("showFeedback");if(this.options.outline.parameters.config.showScore){var k=g.find(".gauge \x3e div").addClass(a);k.RadialGauge({parentSelector:".gauge",startingPosition:0,showText:!1,asPercent:!0,ringSize:.25});g.find(".gauge \x3e div").RadialGauge("resize")}d.options.outline.parameters.config.showScore&&k.RadialGauge("setRotation",b.toFixed(0));b=g.find("*[tabindex\x3d'1']");b.attr("tabindex","-1");b.attr("aria-disable","true");b.attr("aria-hidden","true");
c(document).trigger(DKI.ContentPage.events.questionElementFeedbackShown)}this.options.outline.parameters.config.showFeedback&&(g=d.$el.find(".feedback"),b="",e&&e.ariaScoringDetailsText&&(b=e.ariaScoringDetailsText),0<g.length&&g.attr("id")&&-1!==g.attr("id").indexOf("feedback_")&&(g.find("#ariaScoringDetails_"+g.attr("id")).length||g.prepend("\x3cdiv id\x3d'ariaScoringDetails_"+g.attr("id")+"' class\x3d'sr-only'\x3e\x3c/div\x3e")),g.find("#ariaScoringDetails_"+g.attr("id")).html(b))}};f.fixed={showFeedback:function(a,
b){var e=this;if(this.options.outline.parameters.config.showFeedback){b=e.options.feedback[a];DKI.isObject(b)&&DKI.isDefined(b.text)&&(b=b.text);var d="";e.$el.find("input").each(function(){var a=c(this).data("id"),b=e.db.get(a),f=e.optionIsCorrect(this)&&e.options.outline.parameters.config.feedback.showCorrectChoices,k=!e.optionIsCorrect(this)&&e.options.outline.parameters.config.feedback.showIncorrectChoices;(c(this).is(":checked")&&e.options.outline.parameters.config.feedback.showLearnerSelections||
f||k)&&""!=c.trim(c("\x3cdiv /\x3e").html(b.parameters.config.feedback).text())&&(a=c("#content_"+a+" .numbering",e.$el).text(),""==a&&(a="\x26bull;\x26nbsp;"),d+="\x3cdiv class\x3d'optionFeedbackWrapper'\x3e",d+="\x3cspan class\x3d'optionFeedbackNumbering'\x3e",d+=a,d+="\x3c/span\x3e",d+="\x3cspan class\x3d'optionFeedbackContent'\x3e",d+=b.parameters.config.feedback,d+="\x3c/span\x3e",d+="\x3c/div\x3e")});""!=d&&(""!=b&&(b+="\x3chr\x3e"),b+="\x3cul style\x3d'text-align: left; padding: 0;'\x3e"+d+
"\x3c/ul\x3e");switch(a){case "correct":a="success";break;case "incorrect":a="danger";break;default:a="warning"}b&&DKI.PopupPanel.show({modal:!0,style:a,title:"",html:b,popupType:{type:"pop",mod:""},onHide:function(){e.$el.find(".retake").is(":visible")?e.$el.find(".retake").focus():e.$el.find(".showResult").is(":visible")&&setTimeout(function(){e.$el.find(".showResult").focus()},100)}})}}};f.TrueFalseQuestion=function(a,b){this.super=f;this.super.apply(this,arguments);return this};f.TrueFalseQuestion.prototype=
DKI.apply(Object.create(f.prototype),{getCorrectAnswer:function(){return"t"===this.options.outline.parameters.config.correctAnswer},showGivenAnswers:function(){this.resetOptionClasses();this.scoreQuestion(!0)},showCorrectAnswers:function(){var a=[],b=this;this.$el.find("input").each(function(){if(b.optionIsCorrect(this))return a.push(this),!1});this.showInlineFeedback(a,[],!0)},optionIsCorrect:function(a){return c(a).val()===this.getCorrectAnswer().toString()},scoreQuestion:function(a){var b=this.$el.find("input"),
e=b.filter(":checked"),d=[],g=[],f=this;c.each(b,function(){c(this).checked()&&(f.optionIsCorrect(this)?d.push(this):g.push(this))});b=d.length?100:0;this.showInlineFeedback(d,g);a||this.fireScoredEvent(this.getRemainingAttempts(),{score:b,correct:[this.getCorrectAnswer().toString()],selected:[e.val()]});return b},showInlineFeedback:function(a,b,e){if(this.options.outline.parameters.config.showFeedback||e){a=0==this.getRemainingAttempts()?c(a):c(a).filter(":checked");b=0==this.getRemainingAttempts()?
c(b):c(b).filter(":checked");var d=this;0==this.getRemainingAttempts()&&c.each(d.$el.find("input"),function(){d.optionIsCorrect(this)&&c(this).closest(".dki-element-content").addClass("multiChoiceCorrectResponse")});a.each(function(){c(this).closest(".dki-element-content").addClass("correct")});b.each(function(){c(this).closest(".dki-element-content").addClass("incorrect")})}},elementStart:function(){c(".question-title, .question-description, .btn.submit, .btn.retake, .dki-element-content input",
this.$el).attr({tabindex:this.options.accessible?"1":"-1"})},hasSelection:function(){return 0!==this.$el.find("input:checked").length}});f.MultipleChoiceQuestion=function(a,b){this.super=f;c(a).data("dki.MultipleChoiceQuestion",this.super.apply(this,arguments));this.setup();return this};f.MultipleChoiceQuestion.prototype=DKI.apply(Object.create(f.prototype),{setup:function(){this.$el.find(".question-option-image-magnifier").fancybox({transitionIn:"elastic",transitionOut:"elastic",speedIn:600,speedOut:200,
overlayShow:!1,lang:"en",i18n:{en:{CLOSE:DKI.strings.runtime.buttonLabelClose,NEXT:DKI.strings.runtime.buttonLabelNext,PREV:DKI.strings.index.previousButtonLabel}},afterLoad:function(a,b){DKI.enforceFocus(this.$slide.closest(".fancybox-inner"));this.$slide.closest(".fancybox-inner").find(".fancybox-infobar").attr("aria-hidden",!0);this.$slide.closest(".fancybox-container").attr("aria-label","Popup")},beforeShow:function(a){a=a.current.$slide.closest(".fancybox-inner");a.find("*[tabindex\x3d'1']").first()[0].focus();
a.find(".fancybox-button").attr("tabindex",1).filter(".disabled").attr("tabindex",-1)},btnTpl:{close:'\x3cbutton tabindex\x3d"1" aria-label\x3d"{{CLOSE}}" data-fancybox-close class\x3d"fancybox-button fancybox-button--close" title\x3d"{{CLOSE}}" style\x3d"opacity:1 !important;"\x3e\x3csvg tabindex\x3d"-1" aria-hidden\x3d"true" viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M10,10 L30,30 M30,10 L10,30" /\x3e\x3c/svg\x3e\x3c/button\x3e',arrowLeft:'\x3cbutton tabindex\x3d"1" type\x3d"button" aria-label\x3d"{{PREV}}" data-fancybox-prev class\x3d"fancybox-button fancybox-button--arrow_left" title\x3d"{{PREV}}" href\x3d"javascript:;"\x3e\x3csvg tabindex\x3d"-1" aria-hidden\x3d"true" viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M18,12 L10,20 L18,28 M10,20 L30,20"\x3e\x3c/path\x3e\x3c/svg\x3e\x3c/button\x3e',
arrowRight:'\x3cbutton tabindex\x3d"1" type\x3d"button" aria-label\x3d"{{NEXT}}" data-fancybox-next class\x3d"fancybox-button fancybox-button--arrow_right" title\x3d"{{NEXT}}" href\x3d"javascript:;"\x3e\x3csvg tabindex\x3d"-1" aria-hidden\x3d"true" viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M10,20 L30,20 M22,12 L30,20 L22,28"\x3e\x3c/path\x3e\x3c/svg\x3e\x3c/button\x3e'}});this.setHeights()},setHeights:function(){c(".question-option-image-wrapper").length&&QuestionElementUtility.syncOptionHeightsToTallest(this.$el.find(".input-group"))},
onInputChange:function(a){c(".input-group input:checked",this.$el).length>this.options.outline.parameters.config.maxSelections?(a.prop("checked",!1),alert(this.options.strings.tstchoicesLabel1+" "+this.options.outline.parameters.config.maxSelections+" "+this.options.strings.tstchoicesLabel2)):this.super.prototype.onInputChange.apply(this,arguments)},optionIsCorrect:function(a){return this.db.get(c(a).data("id")).parameters.config.correct},optionAnswerIsCorrect:function(a){return this.optionIsCorrect(a)&&
c(a).checked()},showGivenAnswers:function(){this.resetOptionClasses();this.scoreQuestion(!0)},showCorrectAnswers:function(){var a=this;this.$el.find("input").each(function(){a.optionIsCorrect(this)&&c(this).closest(".dki-element-content").addClass("multiChoiceCorrectResponse")})},export:function(){var a={selectedIds:[]};c(".input-group input:checked",this.$el).each(function(){a.selectedIds.push(c(this).closest(".dki-questionOption-element").data("id"))});return a},import:function(a){var b=this;c.each(a.selectedIds,
function(){var a=b.$el.find(".dki-questionOption-element[data-id\x3d"+this+"]");a.find("input").prop("checked",!0);a.find(".input-group").addClass("checked")})},scoreQuestion:function(a,b,c){"undefined"!=typeof c&&c&&this.attempts++;c=this.getScoringDetails();b||this.showInlineFeedback(c.correct,c.incorrect);a||this.fireScoredEvent(this.getRemainingAttempts(),{score:c.score,correct:c.correctPattern,selected:c.submittedPattern});return c.score},getScoringDetails:function(){var a=this.$el.find("input"),
b=this,e=0,d=0,g=[],f=[],h=[],k=[];c.each(a,function(a,n){n=b.db.get(c(this).data("id"));var r=b.optionIsCorrect(this),l=b.optionAnswerIsCorrect(this);e+=r?1:0;l?g.push(this):!1;!l&&c(this).checked()?f.push(this):!1;var q=c(this).closest(".dki-element-content");r?h.push({short:b.options.outline.parameters.config.numbering?q.find("span.numbering").html().replace(")","").trim():(a+1).toString(),long:q.find("label .dki-element-text").html(),outline:n}):c(this).checked()&&d--;c(this).checked()&&k.push({short:b.options.outline.parameters.config.numbering?
q.find("span.numbering").html().replace(")","").trim():(a+1).toString(),long:q.find("label .dki-element-text").html(),outline:n});l&&d++});0>=d?(a=0,0==d&&0==e&&(a=100)):a=d/e*100;return{totalCorrect:e,correct:g,incorrect:f,correctPattern:h,submittedPattern:k,score:a}},hasInlineFeedback:function(){return this.options.outline.parameters.config.showFeedback},showInlineFeedback:function(a,b,e){if(this.hasInlineFeedback()||e){a=0==this.getRemainingAttempts()?c(a):c(a).filter(":checked");b=0==this.getRemainingAttempts()?
c(b):c(b).filter(":checked");var d=this;a.each(function(){c(this).closest(".dki-element-content").addClass("correct")});b.each(function(){d.db.get(c(this).data("id"));c(this).closest(".dki-element-content").addClass("incorrect")});d.showCorrectAtEnd&&0==this.getRemainingAttempts()&&d.showCorrectAnswers()}},elementStart:function(){c(".question-title, .question-description, input, .btn.submit, .btn.retake",this.$el).attr({tabindex:this.options.accessible?"1":"-1"})},hasSelection:function(){return 0!==
this.$el.find("input:checked").length},getSelectedOptions:function(){var a=this,b=[];this.$el.find("input").filter(":checked").each(function(){b.push(a.db.get(c(this).data("id")))});return b},getOptions:function(){var a=this,b=[];this.$el.find("input").each(function(){b.push(a.db.get(c(this).data("id")))});return b}});f.MultiplePulldownQuestion=function(a,b){this.super=f;this.super.apply(this,arguments);this.setup();return this};f.MultiplePulldownQuestion.prototype=DKI.apply(Object.create(f.prototype),
{setup:function(){var a=this;this.$el.find(".pulldown_option").each(function(){var b=a.db.getByKey("dragdrop_id",c(this).data("dragdrop-id")),e=c(this),d=c(this).parent().find(".dropdown-menu");d.attr("id","dropdown_"+c(this).data("dragdrop-id"));e.attr("aria-controls","dropdown_"+c(this).data("dragdrop-id"));b=b?DKI.utility.shuffle(b.meta.split("/,")):[];c.each(b,function(a,b){a=DKI.stripHTML(this);d.append("\x3cli\x3e\x3ca data-val\x3d'"+a+"' href\x3d'javascript:void(0)' tabindex\x3d'-1' aria-label\x3d'"+
a+"' role\x3d'listItem'\x3e"+a+"\x3c/a\x3e\x3c/li\x3e")});d.find("li\x3ea").on("click",function(a,b){e.attr("aria-label",c(this).text()).closest(".btn-group").addClass("checked");e.find(".selectedCont").text(c(this).text());e.focus()}).on("keyup",function(a){if(32==a.which||13==a.which)c(this).trigger("click"),a.preventDefault(),a.stopPropagation()})})},optionIsCorrect:function(a){return c("\x3cdiv/\x3e").append(this.getCorrectOptionValue(a)).text().trim()===c(a).find(".selectedCont").text().trim()},
getCorrectOptionValue:function(a){return this.db.getByKey("dragdrop_id",c(a).data("dragdrop-id")).meta.split("/,")[0].trim()},showGivenAnswers:function(){var a=this;this.resetOptionClasses();var b=0,e="your answers: ";this.$el.find(".pulldown_option").each(function(){var d=c(this).data("dragdrop-id");"undefined"!==typeof a.answered[d]?(c(this).find(".selectedCont").text(a.answered[d]),e+=b+1+". "+a.answered[d].trim()+". "):e+=b+1+". . ";b++});this.scoreQuestion(!0);var d=this.$el.find(".feedback"),
f=null;0<d.length&&d.attr("id")&&-1!==d.attr("id").indexOf("feedback_")&&(f=d.attr("id"));if(f)return this.options.outline.parameters.config.showFeedback&&this.options.responsive?this.$el.find("#ariaScoringDetails_"+f).text():e},showCorrectAnswers:function(){var a=this.$el.find(".pulldown_option"),b=this,e=[];this.answered||(this.answered={},a.each(function(){b.answered[c(this).data("dragdrop-id")]=c(this).find(".selectedCont").text()}));var d=0,f="correct answers: ";this.resetOptionClasses();a.each(function(){e.push(this);
c(this).find(".selectedCont").text(b.getCorrectOptionValue(this));f+=d+1+". "+b.getCorrectOptionValue(this)+". ";d++});this.showInlineFeedback(e,[],!0);return f},scoreQuestion:function(a){var b=this.$el.find(".pulldown_option"),e=this,d=0,f=[],m=[],h=[],k=[],p="your answers: ";c.each(b,function(a,b){b=e.db.getByKey("dragdrop_id",c(this).data("dragdrop-id"));optionCorrect=e.optionIsCorrect(this);d+=optionCorrect?1:0;optionCorrect?f.push(this):m.push(this);p+=a+1+". "+c(this).text().trim()+". "+(optionCorrect?
"correct":"incorrect")+". ";c(this).closest(".dki-element-content");h.push(b.meta.split("/,")[0]);k.push(c(this).find(".selectedCont").text())});b=d/this.options.outline.elements.length*100;this.showInlineFeedback(f,m);var n=c("\x3cdiv\x3e").html(this.$el.find(".options").html());n.find("span.dki-question-option").replaceWith("_____");a||this.fireScoredEvent(this.getRemainingAttempts(),{score:b,correct:h,selected:k,body:n.text(),ariaScoringDetailsText:p});return b},showInlineFeedback:function(a,b,
e){if(this.options.outline.parameters.config.showFeedback||e){var d=this;c.each(a,function(){c(this).closest(".dki-question-option").addClass("correct multiChoiceCorrectResponse")});c.each(b,function(){var a="incorrect";d.db.getByKey("dragdrop_id",c(this).data("dragdrop-id")).parameters.config.correct&&!c(this).checked()&&(a="multiChoiceCorrectResponse");c(this).closest(".dki-question-option").addClass(a)})}},clearSubmitted:function(){this.$el.find(".feedback").html("");this.$el.find(".btn.showResult").hide();
this.$el.find(".selectedCont").text("").prop("disabled",!1)},onRetake:function(){this.super.prototype.onRetake.call(this);this.clearSubmitted();this.$el.find(".pulldown_option:first").focus()},reset:function(){this.super.prototype.reset.call(this);delete this.answered;this.clearSubmitted()},elementStart:function(){c(".question-title, .options, .btn.submit, .btn.retake, .dki-element-content .pulldown_option",this.$el).attr({tabindex:this.options.accessible?"1":"-1"})},hasSelection:function(){for(var a=
this.$el.find("select").toArray(),b=0;b<a.length;b++)if(""==c(a[b]).val())return!1;return!0}});f.FillInTheBlanksQuestion=function(a,b){this.super=f;c(a).data("dki.FillInTheBlanksQuestion",this.super.apply(this,arguments));this.setup();return this};f.FillInTheBlanksQuestion.prototype=DKI.apply(Object.create(f.prototype),{setup:function(){this.$el.on("change","input",function(){var a=c(this),b=""!=a.val().trim()?" \x26nbsp; ":a.data("empty-label");a.prev().html(b)});this.$el.on("focus","input",function(){var a=
c(this);a.attr("aria-describedby",a.data("aria-describedby"))});this.$el.on("blur","input",function(){var a=c(this),b=""!=a.val().trim()?"\x26nbsp;":a.data("empty-label");a.attr("aria-describedby","");a.prev().html(b)})},optionIsCorrect:function(a){var b=c(a).val().trim(),b=this.options.outline.parameters.config.caseSensitive?b:b.toLowerCase();return~jQuery.inArray(b,this.getCorrectOptionValues(a))?!0:!1},getCorrectOptionValues:function(a){a=this.db.getByKey("dragdrop_id",c(a).data("dragdrop-id"));
var b=this;return a?a.meta.split("/,").map(function(a){return(b.options.outline.parameters.config.caseSensitive?a:a.toLowerCase()).trim()}):""},showGivenAnswers:function(){var a=this;this.resetOptionClasses();this.answered||(this.answered={});var b=0,e="your answers: ";this.$el.find("input[type\x3d'text']").each(function(){var d=c(this).data("dragdrop-id");"undefined"!==typeof a.answered[d]?(c(this).val(a.answered[d]),e+=b+1+". "+a.answered[d].trim()+". "):e+=b+1+". . ";b++});this.scoreQuestion(!0);
var d=this.$el.find(".feedback"),f=null;0<d.length&&d.attr("id")&&-1!==d.attr("id").indexOf("feedback_")&&(f=d.attr("id"));if(f)return this.options.outline.parameters.config.showFeedback&&this.options.responsive?this.$el.find("#ariaScoringDetails_"+f).text():e},showCorrectAnswers:function(){var a=this.$el.find("input[type\x3d'text']"),b=this,e=[];this.answered||(this.answered={},a.each(function(){b.answered[c(this).data("dragdrop-id")]=c(this).val()}));var d=0,f="correct answers: ";this.resetOptionClasses();
a.each(function(){e.push(this);c(this).val(b.getCorrectOptionValues(this)[0]);f+=d+1+". "+b.getCorrectOptionValues(this)[0]+". ";d++});this.showInlineFeedback(e,[],!0);return f},export:function(){var a={answered:{}};this.$el.find("input[type\x3d'text']").each(function(){a.answered[c(this).data("dragdrop-id")]=c(this).val()});return a},import:function(a){this.answered=a.answered},scoreQuestion:function(a){a=this.getScoringDetails();this.fireScoredEvent(this.getRemainingAttempts(),a);return a.score},
getScoringDetails:function(){var a=this.$el.find("input"),b=this,e=0,d=[],f=[],m=[],h=[],k=[],p="your answers: ";c.each(a,function(a,l){if(l=b.db.getByKey("dragdrop_id",c(this).data("dragdrop-id")))k.push(l.elementid),l=b.optionIsCorrect(this),p+=a+1+". "+c(this).val().trim()+". "+(l?"correct":"incorrect")+". ",e+=l?1:0,l?d.push(this):f.push(this),c(this).closest(".dki-element-content"),m.push(b.getCorrectOptionValues(this)),h.push(c(this).val())});a=e/this.options.outline.elements.length*100;this.showInlineFeedback(d,
f);var n=c("\x3cdiv\x3e").html(this.$el.find(".options").html());n.find("span.dki-question-option").replaceWith("_____");return{score:a,correct:m,selected:h,body:n.text(),optionEls:k,ariaScoringDetailsText:p}},hasInlineFeedback:function(){return this.options.outline.parameters.config.showFeedback},showInlineFeedback:function(a,b,e){if(this.options.outline.parameters.config.showFeedback||e){var d=this;c.each(a,function(){c(this).closest(".dki-question-option").addClass("correct multiChoiceCorrectResponse")});
c.each(b,function(){d.db.getByKey("dragdrop_id",c(this).data("dragdrop-id"))&&c(this).closest(".dki-question-option").addClass("incorrect")})}},clearSubmitted:function(){this.$el.find(".feedback").html("");this.$el.find(".btn.showResult").hide();this.$el.find("input").val("").prop("disabled",!1);this.$el.find("input").each(function(){var a=c(this);a.prev().html(a.data("empty-label"))})},onRetake:function(){this.super.prototype.onRetake.call(this);this.clearSubmitted()},reset:function(){this.super.prototype.reset.call(this);
delete this.answered;this.clearSubmitted()},elementStart:function(){c(".btn.submit, .btn.retake, input, .question-title, .options",this.$el).attr({tabindex:this.options.accessible?"1":"-1"})},hasSelection:function(){for(var a=this.$el.find("input[type\x3d'text']").toArray(),b=0;b<a.length;b++)if(""==c(a[b]).val())return!1;return!0}});f.ClickTheWordQuestion=function(a,b){this.super=f;this.super.apply(this,arguments);this.setup();return this};f.ClickTheWordQuestion.prototype=DKI.apply(Object.create(f.prototype),
{setup:function(){var a=this;this.$el.on("click",".options:not(.submitted) span",function(){if(a.getCurrentSelectedCount()<a.answers.length||c(this).hasClass("selected"))c(this).toggleClass("selected"),a.setCounter()});var b=this.$el.find(".options").attr({"aria-multiselectable":"true",role:"listbox"}).find("span");this.options.accessible&&(b.first().attr("tabindex","1"),b.on("keyup",function(a){var b="";switch(a.which){case 37:case 40:b="prev";break;case 39:case 38:b="next"}""!=b&&(a=c(this)[b]("span"),
a.length&&(a.attr("tabindex","1")[0].focus(),c(this).attr("tabindex","-1")))}));this.answers=b.filter(".answer");this.answers.removeClass("answer");this.options.responsive&&(this.scrollWith=DKI.func.scrollWith(this.$el.find(".info"),this.$el,{offsetTop:parseInt(c("body").css("margin-top").replace("px"),10),offsetBottom:125,onWinResize:function(a){a.offsetTop=parseInt(c("body").css("margin-top").replace("px"),10)}}),this.scrollWith.start());this.setCounter()},getCurrentSelectedCount:function(){return this.$el.find("span.selected").length},
setCounter:function(){this.counter||(this.counter=this.$el.find(".counter"));this.counter.html(this.getCurrentSelectedCount()+"/"+this.answers.length)},spanifyMeta:function(){},showGivenAnswers:function(){this.answers.removeClass("correctOutline");var a="your answers: ";this.$el.find(".selected").each(function(b){a+=b+1+". "+c(this).text().trim()+". "});var b=this.$el.find(".feedback"),e=null;0<b.length&&b.attr("id")&&-1!==b.attr("id").indexOf("feedback_")&&(e=b.attr("id"));if(e)return this.options.outline.parameters.config.showFeedback&&
this.options.responsive?this.$el.find("#ariaScoringDetails_"+e).text():a},showCorrectAnswers:function(){this.answers.addClass("correctOutline");var a="correct answers: ";this.answers.each(function(b){a+=b+1+". "+c(this).text().trim()+". "});return a},scoreQuestion:function(a){var b=this.answers,e=b.filter(".selected"),d="your answers: ";this.showInlineFeedback(e,this.$el.find("span.selected").map(function(a,b){var f=0==e.filter(b).length;d+=a+1+". "+c(b).text().trim()+". "+(f?"incorrect":"correct")+
". ";if(f)return b}));b=e.length/b.length*100;a||this.fireScoredEvent(this.getRemainingAttempts(),{score:b,correct:[e],ariaScoringDetailsText:d});return b},showInlineFeedback:function(a,b,c){this.options.outline.parameters.config.showFeedback&&(a.addClass("dki-element-content dki-question-option correct multiChoiceCorrectResponse"),b.addClass("dki-element-content dki-question-option incorrect"),this.hasRemainingAttempts()||this.answers.addClass("correctOutline"))},submit:function(a){f.prototype.submit.call(this,
c.proxy(function(){this.$el.find(".options").addClass("submitted")},this))},clearSubmitted:function(){this.$el.find(".feedback").html("");this.$el.find(".btn.showResult").hide();this.$el.find(".options").removeClass("submitted").find(".selected").removeClass("selected dki-element-content dki-question-option")},onRetake:function(){this.super.prototype.onRetake.call(this);this.clearSubmitted()},reset:function(){this.super.prototype.reset.call(this);this.clearSubmitted()},destroy:function(){this.scrollWith&&
(this.scrollWith.stop(),this.scrollWith=null)},elementStart:function(){c(".btn.submit, .btn.retake, .info .question-title",this.$el).attr({tabindex:this.options.accessible?"1":"-1"})},hasSelection:function(){return this.$el.find(".options .selected").length?!0:!1}});f.DragTheWordQuestion=function(a,b){this.super=f;this.super.apply(this,arguments);this.answers=b.outline.answers;this.setup();return this};f.DragTheWordQuestion.prototype=DKI.apply(Object.create(f.prototype),{setup:function(){var a=this;
this.$el.on("click",".answerNav:not(.disabled)",function(){var b=a.$el.find(".answers"),e=b.find(".selected"),d=c(e.get(0));c(this).hasClass("fa-chevron-right")?e.get(1)&&(b.prepend(c(e.get(1)).detach()),b.append(d.detach())):b.prepend(b.find(".selected").last().detach());b.children().get(0).focus()});this.$el.on("keydown",".answerPool",function(a){39==a.which?c(this).find(".answerNav.fa-chevron-right").trigger("click"):37==a.which&&c(this).find(".answerNav.fa-chevron-left").trigger("click")});this.$el.on("click",
".answerPool.selectAnswer .selected, .options span.answer, .options span.selected",function(){var b=a.$el.find(".info .answerPool").data("toSelect");if(b&&b[0]!==this){var e=c(this);b.hasClass("selected")&&(e=b,b=c(this));if(!e.hasClass("answer"))return c(this).parent().hasClass("answers")||c(this).addClass("moved"),b=a.setDrop(e,b),a.setAnswerSelectMode(!1),b[0].focus(),!1}});this.$el.on("click",".options span.answer, .options span.selected",function(){if(c(this).parent()[0]&&!c(this).hasClass("moved")&&
(a.setAnswerSelectMode(!0,c(this)),!c(this).hasClass("selected"))){var b=a.$el.find(".info .answerPool .selected").get(0);b&&b.focus()}c(this).removeClass("moved")});this.setupAnswerPool();this.options.responsive&&(this.scrollWith=DKI.func.scrollWith(this.$el.find(".info"),this.$el,{offsetTop:parseInt(c("body").css("margin-top").replace("px"),10),offsetBottom:125,onWinResize:function(a){a.offsetTop=parseInt(c("body").css("margin-top").replace("px"),10)}}),this.scrollWith.start());this.initInteractions();
this.setCounter()},setAnswerSelectMode:function(a,b){this.$el.find(".info .answerPool")[a?"addClass":"removeClass"]("selectAnswer").data("toSelect",a?b:null).find(".selected").attr(f.constant.screenReader[a?"visible":"hidden"])},getCurrentSelectedCount:function(){return this.$el.find(".options span.selected").length},setupAnswerPool:function(){var a=this.$el.find(".info .answers").html(""),b=a.closest(".answerPool");c.each(DKI.utility.shuffle(this.answers.slice(0)),function(b,c){a.append("\x3cspan class\x3d'selected answerDrag'\x3e"+
c+"\x3c/span\x3e")});var e=a.find(".answerDrag").first().outerHeight(!0),e=Math.max(e,parseInt(b.css("min-height")));b.css("min-height",e)},disableNav:function(){this.$el.find(".answerNav").addClass("disabled")},enabledNav:function(){this.$el.find(".answerNav").removeClass("disabled")},initInteractions:function(){var a=!player.isSinglePage&&contentApi.getPageID()!=this.options.outline.pageid,b=this;this.$el.find(".answers span").draggable({disabled:a,helper:"clone",appendTo:"#content_"+this.options.outline.id,
start:function(a,b){b.helper.css({"z-index":15,cursor:"grabbing"});c(this).css("opacity",0)},drag:function(a,b){DKI.utility.dragFix(b)},stop:function(a,b){c(this).css("opacity","")}}).droppable({accept:".answerDrag",tolerance:"pointer",drop:function(a,d){b.setDrop(d.draggable,c(this))},disabled:!1});this.$el.find(".options span.answer").droppable({accept:".answerDrag",tolerance:"pointer",drop:function(a,d){b.setDrop(d.draggable,c(this))},disabled:a})},setDrop:function(a,b){if(b.hasClass("selected")){var c=
a.html();a.html(b.html());b.html(c);return b}a.data("from")&&(a.before(a.data("from")),a.data("from",""));b.before(a.detach());a.data("from",b.detach());this.setCounter();1===this.$el.find(".answers .selected").length&&this.disableNav();return a},setCounter:function(){this.counter||(this.counter=this.$el.find(".counter"));this.counter.html(this.getCurrentSelectedCount()+"/"+this.answers.length)},disableQuestion:function(){var a=this.$el.find(".answer,.selected");a.filter(".ui-draggable").draggable("destroy");
a.filter(".ui-droppable").droppable("destroy");this.$el.find(".info").addClass("ended");this.options.responsive&&this.scrollWith.stop(!0)},showGivenAnswers:function(){var a=this,b="your answers: ";this.$el.find(".options span.answer, .options span.selected").each(function(d,e){c(this).html(a.answered[d]);b+=d+1+". "+a.answered[d].trim()+". "});this.resetOptionClasses();this.scoreQuestion(!0);var e=this.$el.find(".feedback"),d=null;0<e.length&&e.attr("id")&&-1!==e.attr("id").indexOf("feedback_")&&
(d=e.attr("id"));if(d)return this.options.outline.parameters.config.showFeedback&&this.options.responsive?this.$el.find("#ariaScoringDetails_"+d).text():b},showCorrectAnswers:function(){var a=this,b=this.$el.find(".options span.answer, .options span.selected");this.answered||(this.answered=[],b.each(function(){a.answered.push(c(this).text())}));var e="correct answers: ";b.each(function(b,f){c(this).html(a.answers[b]);e+=b+1+". "+a.answers[b].trim()+". "});this.resetOptionClasses();this.scoreQuestion(!0);
return e},scoreQuestion:function(a){var b=this.answers,e=this.$el.find(".options span.answer, .options span.selected"),d=[],f=[],m="your answers: ";e.each(function(a,e){if(c(this).hasClass("answerDrag")&&c(this).text()===b[a])return m+=a+1+". "+c(this).text().trim()+". correct. ",d.push(c(this)),!0;f.push(c(this));m+=a+1+". "+c(this).text().trim()+". incorrect. "});this.disableQuestion();this.showInlineFeedback(d,f);var h=d.length/b.length*100;a||this.fireScoredEvent(this.getRemainingAttempts(),{score:h,
correct:d,selected:e.toArray().map(function(a){return c(a).text()}),ariaScoringDetailsText:m});return h},showInlineFeedback:function(a,b,e){if(this.options.outline.parameters.config.showFeedback||e)c(a).map(function(){return this.toArray()}).addClass("selected dki-element-content dki-question-option correct multiChoiceCorrectResponse").removeClass("answer"),c(b).map(function(){return this.toArray()}).addClass("selected dki-element-content dki-question-option incorrect").removeClass("answer")},submit:function(a){f.prototype.submit.call(this,
c.proxy(function(){this.$el.find(".options").addClass("submitted")},this))},clearSubmitted:function(){this.$el.find(".feedback").html("");this.$el.find(".btn.showResult").hide();this.$el.find(".options span.answer, .options span.selected").attr("class","answer border-only fa fa-bullseye").html("");this.setupAnswerPool();this.initInteractions();this.setCounter();this.enabledNav();this.$el.find(".info").removeClass("ended")},onRetake:function(){this.super.prototype.onRetake.call(this);this.clearSubmitted();
this.options.responsive&&this.scrollWith.start()},reset:function(){this.super.prototype.reset.call(this);this.clearSubmitted()},destroy:function(){this.scrollWith&&(this.scrollWith.stop(),this.scrollWith=null)},elementStart:function(){c(".btn.submit, .btn.retake, .info .question-title, .options, .options .answer",this.$el).attr({tabindex:this.options.accessible?"1":"-1"})},hasSelection:function(){return this.$el.find(".answerPool .answers").children().length?!1:!0}});f.ImageMap=function(a,b){this.super=
f;this.super.apply(this,arguments);this.mapEl=c(a);return this};f.ImageMap.prototype=DKI.apply(Object.create(f.prototype),{showCorrectAnswers:function(){this.mapEl.ImageMap("enterReview",!0,!1,!0)},scoreQuestion:function(a){var b=this.mapEl.data("dki.ImageMap").score();this.showInlineFeedback(100==b);a||this.fireScoredEvent(this.getRemainingAttempts(),{score:b,imageMapData:this.mapEl.data("dki.ImageMap")});return b},showInlineFeedback:function(a){if(0==this.getRemainingAttempts()||a)this.mapEl.data("dki.ImageMap").enterReview(!0,
!1,!0),this.mapEl.ImageMap("showInlineFeedback",function(){},!this.inReview)},elementStart:function(){c(".question-title, .question-description, .btn.submit, .btn.retake, .dki-element-content input",this.$el).attr({tabindex:this.options.accessible?"1":"-1"})},hasSelection:function(){return this.mapEl.data("dki.ImageMap").hasSelection()},reset:function(){this.mapEl.data("dki.ImageMap").reset();this.resetSubmitButton();this.$el.find(".feedback").removeClass("showFeedback");this.attempts=0},disableInputs:function(){this.mapEl.ImageMap("disable")},
enableInputs:function(){this.mapEl.ImageMap("enable")},resetOptionState:function(){this.mapEl.ImageMap("reset");this.enableInputs()}});f.MatchingQuestion=function(a,b){this.super=f;this.super.apply(this,arguments);this.questionEl=c(a);return this};f.MatchingQuestion.prototype=DKI.apply(Object.create(f.prototype),{showCorrectAnswers:function(){this.questionEl.data("dki.MatchingQuestion").enterReview(!0)},scoreQuestion:function(a){var b=this.questionEl.data("dki.MatchingQuestion").score();this.showInlineFeedback(100==
b);a||this.fireScoredEvent(this.getRemainingAttempts(),{score:b,matchingQuestionData:this.questionEl.data("dki.MatchingQuestion")});return b},showInlineFeedback:function(a){(0==this.getRemainingAttempts()||a)&&this.questionEl.data("dki.MatchingQuestion").showInlineFeedback(!0)},elementStart:function(){c(".question-title, .question-description, .btn.submit, .btn.retake, .dki-element-content input",this.$el).attr({tabindex:this.options.accessible?"1":"-1"})},hasSelection:function(){return this.questionEl.data("dki.MatchingQuestion").hasSelection()},
reset:function(){this.questionEl.data("dki.MatchingQuestion").reset();this.resetSubmitButton();this.$el.find(".feedback").removeClass("showFeedback");this.attempts=0}});f.SequencingQuestion=function(a,b){this.super=f;this.super.apply(this,arguments);this.questionEl=c(a);return this};f.SequencingQuestion.prototype=DKI.apply(Object.create(f.prototype),{showCorrectAnswers:function(){this.questionEl.data("dki.SequencingQuestion").enterReview(!0)},scoreQuestion:function(a){var b=this.questionEl.data("dki.SequencingQuestion").score();
this.showInlineFeedback(100==b);a||this.fireScoredEvent(this.getRemainingAttempts(),{score:b,sequencingQuestionData:this.questionEl.data("dki.SequencingQuestion")});return b},showInlineFeedback:function(a){(0==this.getRemainingAttempts()||a)&&this.questionEl.data("dki.SequencingQuestion").showInlineFeedback(!0)},elementStart:function(){c(".question-title, .question-description, .btn.submit, .btn.retake, .dki-element-content input",this.$el).attr({tabindex:this.options.accessible?"1":"-1"})},hasSelection:function(){return this.questionEl.data("dki.SequencingQuestion").hasSelection()},
reset:function(){this.super.prototype.reset.call(this);this.questionEl.data("dki.SequencingQuestion").reset()},resetOptionClasses:function(){this.$el.find(".card_container").removeClass("multiChoiceCorrectResponse correct incorrect")}});var t=function(a,b){var c=b.outline.elementtype,c=c.charAt(0).toUpperCase()+c.slice(1);return f[c]?new f[c](a,b):new f(a,b)};c.fn.QuestionElement=function(a){var b=a,e=Array.prototype.slice.call(arguments,1);return this.each(function(){var d=c(this),g=c(this).data("dki.QuestionElement");
options=c.extend(!0,{},f.DEFAULTS,"object"===typeof b&&b);if("string"===typeof a&&!g)return!1;g?"string"===typeof a&&(d=c(this).data("dki.QuestionElement"))&&d[a]&&d[a].apply(c(this).data("dki.QuestionElement"),e):d.data("dki.QuestionElement",t(this,options))})};c.fn.QuestionElement.Constructor=f}(window.jQuery);
QuestionElementEvents={submitted:"SUBMIT",attempted:"ATTEMPT",correct:"CORRECT",incorrect:"INCORRECT",partiallyCorrect:"PARTIALLY_CORRECT",attemptPartiallyCorrect:"ATTEMPT_PARTIALLY_CORRECT",attemptIncorrect:"ATTEMPTY_INCORRECT",retry:"RETRIED"};QuestionElementUtility={syncOptionHeightsToTallest:function(c){var f=0;c.css("min-height","").each(function(){f=Math.max(f,$(this).outerHeight())});c.css("min-height",f)}};