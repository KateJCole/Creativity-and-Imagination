 
/*

 handlebars v4.7.8

Copyright (C) 2011-2019 by Yehuda Katz

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.


 RequireJS 2.3.6 Copyright jQuery Foundation and other contributors.
 Released under MIT license, https://github.com/requirejs/requirejs/blob/master/LICENSE
*/
window.Modernizr=function(b,h,c){function l(b,c){return typeof b===c}function m(b,k){for(var h in b){var l=b[h];if(!~(""+l).indexOf("-")&&v[l]!==c)return"pfx"==k?l:!0}return!1}function p(b,k,h){var n=b.charAt(0).toUpperCase()+b.slice(1),q=(b+" "+B.join(n+" ")+n).split(" ");if(l(k,"string")||l(k,"undefined"))k=m(q,k);else a:{q=(b+" "+C.join(n+" ")+n).split(" "),b=q;for(var r in b)if(n=k[b[r]],n!==c){k=!1===h?b[r]:l(n,"function")?n.bind(h||k):n;break a}k=!1}return k}function n(){u.input=function(c){for(var k=
0,l=c.length;k<l;k++)D[c[k]]=c[k]in y;return D.list&&(D.list=!!h.createElement("datalist")&&!!b.HTMLDataListElement),D}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" "));u.inputtypes=function(b){for(var l=0,n,q,r,m=b.length;l<m;l++)y.setAttribute("type",q=b[l]),(n="text"!==y.type)&&(y.value=z,y.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(q)&&y.style.WebkitAppearance!==c?(k.appendChild(y),r=h.defaultView,n=r.getComputedStyle&&"textfield"!==
r.getComputedStyle(y,null).WebkitAppearance&&0!==y.offsetHeight,k.removeChild(y)):/^(search|tel)$/.test(q)||(/^(url|email)$/.test(q)?n=y.checkValidity&&!1===y.checkValidity():n=y.value!=z)),x[b[l]]=!!n;return x}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var u={},k=h.documentElement,q=h.createElement("modernizr"),v=q.style,y=h.createElement("input"),z=":)",A={}.toString,r=" -webkit- -moz- -o- -ms- ".split(" "),B=["Webkit","Moz","O","ms"],C=["webkit",
"moz","o","ms"],q={},x={},D={},F=[],E=F.slice,G,K=function(b,c,l,n){var q,r,m,v,p=h.createElement("div"),y=h.body,z=y||h.createElement("body");if(parseInt(l,10))for(;l--;)m=h.createElement("div"),m.id=n?n[l]:"modernizr"+(l+1),p.appendChild(m);return q=['\x26#173;\x3cstyle id\x3d"smodernizr"\x3e',b,"\x3c/style\x3e"].join(""),p.id="modernizr",(y?p:z).innerHTML+=q,z.appendChild(p),y||(z.style.background="",z.style.overflow="hidden",v=k.style.overflow,k.style.overflow="hidden",k.appendChild(z)),r=c(p,
b),y?p.parentNode.removeChild(p):(z.parentNode.removeChild(z),k.style.overflow=v),!!r},I=function(){var b={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(k,n){n=n||h.createElement(b[k]||"div");k="on"+k;var q=k in n;return q||(n.setAttribute||(n=h.createElement("div")),n.setAttribute&&n.removeAttribute&&(n.setAttribute(k,""),q=l(n[k],"function"),l(n[k],"undefined")||(n[k]=c),n.removeAttribute(k))),q}}(),J={}.hasOwnProperty,L;l(J,"undefined")||
l(J.call,"undefined")?L=function(b,k){return k in b&&l(b.constructor.prototype[k],"undefined")}:L=function(b,k){return J.call(b,k)};Function.prototype.bind||(Function.prototype.bind=function(b){var k=this;if("function"!=typeof k)throw new TypeError;var c=E.call(arguments,1),h=function(){if(this instanceof h){var l=function(){};l.prototype=k.prototype;var l=new l,n=k.apply(l,c.concat(E.call(arguments)));return Object(n)===n?n:l}return k.apply(b,c.concat(E.call(arguments)))};return h});q.flexbox=function(){return p("flexWrap")};
q.flexboxlegacy=function(){return p("boxDirection")};q.canvas=function(){var b=h.createElement("canvas");return!!b.getContext&&!!b.getContext("2d")};q.canvastext=function(){return!!u.canvas&&!!l(h.createElement("canvas").getContext("2d").fillText,"function")};q.webgl=function(){return!!b.WebGLRenderingContext};q.touch=function(){var k;return"ontouchstart"in b||b.DocumentTouch&&h instanceof DocumentTouch?k=!0:K(["@media (",r.join("touch-enabled),("),"modernizr){#modernizr{top:9px;position:absolute}}"].join(""),
function(b){k=9===b.offsetTop}),k};q.geolocation=function(){return"geolocation"in navigator};q.postmessage=function(){return!!b.postMessage};q.websqldatabase=function(){return!!b.openDatabase};q.indexedDB=function(){return!!p("indexedDB",b)};q.hashchange=function(){return I("hashchange",b)&&(h.documentMode===c||7<h.documentMode)};q.history=function(){return!!b.history&&!!history.pushState};q.draganddrop=function(){var b=h.createElement("div");return"draggable"in b||"ondragstart"in b&&"ondrop"in b};
q.websockets=function(){return"WebSocket"in b||"MozWebSocket"in b};q.rgba=function(){v.cssText="background-color:rgba(150,255,150,.5)";return!!~(""+v.backgroundColor).indexOf("rgba")};q.hsla=function(){v.cssText="background-color:hsla(120,40%,100%,.5)";return!!~(""+v.backgroundColor).indexOf("rgba")||!!~(""+v.backgroundColor).indexOf("hsla")};q.multiplebgs=function(){v.cssText="background:url(https://),url(https://),red url(https://)";return/(url\s*\(.*?){3}/.test(v.background)};q.backgroundsize=
function(){return p("backgroundSize")};q.borderimage=function(){return p("borderImage")};q.borderradius=function(){return p("borderRadius")};q.boxshadow=function(){return p("boxShadow")};q.textshadow=function(){return""===h.createElement("div").style.textShadow};q.opacity=function(){v.cssText=r.join("opacity:.55;")+"";return/^0.55$/.test(v.opacity)};q.cssanimations=function(){return p("animationName")};q.csscolumns=function(){return p("columnCount")};q.cssgradients=function(){v.cssText=("background-image:-webkit-gradient(linear,left top,right bottom,from(#9f9),to(white));background-image:"+
r.join("linear-gradient(left top,#9f9, white);background-image:")).slice(0,-17);return!!~(""+v.backgroundImage).indexOf("gradient")};q.cssreflections=function(){return p("boxReflect")};q.csstransforms=function(){return!!p("transform")};q.csstransforms3d=function(){var b=!!p("perspective");return b&&"webkitPerspective"in k.style&&K("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(k,c){b=9===k.offsetLeft&&3===k.offsetHeight}),b};q.csstransitions=
function(){return p("transition")};q.fontface=function(){var b;return K('@font-face {font-family:"font";src:url("https://")}',function(k,c){k=h.getElementById("smodernizr");k=(k=k.sheet||k.styleSheet)?k.cssRules&&k.cssRules[0]?k.cssRules[0].cssText:k.cssText||"":"";b=/src/i.test(k)&&0===k.indexOf(c.split(" ")[0])}),b};q.generatedcontent=function(){var b;return K(['#modernizr{font:0/0 a}#modernizr:after{content:"',z,'";visibility:hidden;font:3px/1 a}'].join(""),function(k){b=3<=k.offsetHeight}),b};
q.video=function(){var b=h.createElement("video"),k=!1;try{if(k=!!b.canPlayType)k=new Boolean(k),k.ogg=b.canPlayType('video/ogg; codecs\x3d"theora"').replace(/^no$/,""),k.h264=b.canPlayType('video/mp4; codecs\x3d"avc1.42E01E"').replace(/^no$/,""),k.webm=b.canPlayType('video/webm; codecs\x3d"vp8, vorbis"').replace(/^no$/,"")}catch(c){}return k};q.audio=function(){var b=h.createElement("audio"),k=!1;try{if(k=!!b.canPlayType)k=new Boolean(k),k.ogg=b.canPlayType('audio/ogg; codecs\x3d"vorbis"').replace(/^no$/,
""),k.mp3=b.canPlayType("audio/mpeg;").replace(/^no$/,""),k.wav=b.canPlayType('audio/wav; codecs\x3d"1"').replace(/^no$/,""),k.m4a=(b.canPlayType("audio/x-m4a;")||b.canPlayType("audio/aac;")).replace(/^no$/,"")}catch(c){}return k};q.localstorage=function(){try{return localStorage.setItem("modernizr","modernizr"),localStorage.removeItem("modernizr"),!0}catch(b){return!1}};q.sessionstorage=function(){try{return sessionStorage.setItem("modernizr","modernizr"),sessionStorage.removeItem("modernizr"),!0}catch(b){return!1}};
q.webworkers=function(){return!!b.Worker};q.applicationcache=function(){return!!b.applicationCache};q.svg=function(){return!!h.createElementNS&&!!h.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect};q.inlinesvg=function(){var b=h.createElement("div");return b.innerHTML="\x3csvg/\x3e","http://www.w3.org/2000/svg"==(b.firstChild&&b.firstChild.namespaceURI)};q.smil=function(){return!!h.createElementNS&&/SVGAnimate/.test(A.call(h.createElementNS("http://www.w3.org/2000/svg","animate")))};
q.svgclippaths=function(){return!!h.createElementNS&&/SVGClipPath/.test(A.call(h.createElementNS("http://www.w3.org/2000/svg","clipPath")))};for(var M in q)L(q,M)&&(G=M.toLowerCase(),u[G]=q[M](),F.push((u[G]?"":"no-")+G));u.input||n();u.addTest=function(b,h){if("object"==typeof b)for(var l in b)L(b,l)&&u.addTest(l,b[l]);else{b=b.toLowerCase();if(u[b]!==c)return u;h="function"==typeof h?h():h;k.className+=" "+(h?"":"no-")+b;u[b]=h}return u};v.cssText="";return q=y=null,function(b,k){function c(){var b=
A.elements;return"string"==typeof b?b.split(" "):b}function h(b){var k=u[b[y]];return k||(k={},z++,b[y]=z,u[z]=k),k}function l(b,c,n){c||(c=k);if(x)return c.createElement(b);n||(n=h(c));var q;return n.cache[b]?q=n.cache[b].cloneNode():v.test(b)?q=(n.cache[b]=n.createElem(b)).cloneNode():q=n.createElem(b),!q.canHaveChildren||m.test(b)||q.tagUrn?q:n.frag.appendChild(q)}function n(b,k){k.cache||(k.cache={},k.createElem=b.createElement,k.createFrag=b.createDocumentFragment,k.frag=k.createFrag());b.createElement=
function(c){return A.shivMethods?l(c,b,k):k.createElem(c)};b.createDocumentFragment=Function("h,f","return function(){var n\x3df.cloneNode(),c\x3dn.createElement;h.shivMethods\x26\x26("+c().join().replace(/[\w\-]+/g,function(b){return k.createElem(b),k.frag.createElement(b),'c("'+b+'")'})+");return n}")(A,k.frag)}function q(b){b||(b=k);var c=h(b);if(A.shivCSS&&!p&&!c.hasCSS){var l,r=b;l=r.createElement("p");r=r.getElementsByTagName("head")[0]||r.documentElement;l=(l.innerHTML="x\x3cstyle\x3earticle,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}\x3c/style\x3e",
r.insertBefore(l.lastChild,r.firstChild));c.hasCSS=!!l}return x||n(b,c),b}var r=b.html5||{},m=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,v=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,p,y="_html5shiv",z=0,u={},x;(function(){try{var b=k.createElement("a");b.innerHTML="\x3cxyz\x3e\x3c/xyz\x3e";p="hidden"in b;var c;if(!(c=1==b.childNodes.length)){k.createElement("a");var h=k.createDocumentFragment();c="undefined"==
typeof h.cloneNode||"undefined"==typeof h.createDocumentFragment||"undefined"==typeof h.createElement}x=c}catch(l){x=p=!0}})();var A={elements:r.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:"3.7.0",shivCSS:!1!==r.shivCSS,supportsUnknownElements:x,shivMethods:!1!==r.shivMethods,type:"default",shivDocument:q,createElement:l,createDocumentFragment:function(b,
l){b||(b=k);if(x)return b.createDocumentFragment();l=l||h(b);b=l.frag.cloneNode();l=0;for(var n=c(),q=n.length;l<q;l++)b.createElement(n[l]);return b}};b.html5=A;q(k)}(this,h),u._version="2.8.3",u._prefixes=r,u._domPrefixes=C,u._cssomPrefixes=B,u.mq=function(k){var c=b.matchMedia||b.msMatchMedia;if(c)return c(k)&&c(k).matches||!1;var h;return K("@media "+k+" { #modernizr { position: absolute; } }",function(k){h="absolute"==(b.getComputedStyle?getComputedStyle(k,null):k.currentStyle).position}),h},
u.hasEvent=I,u.testProp=function(b){return m([b])},u.testAllProps=p,u.testStyles=K,u.prefixed=function(b,k,c){return k?p(b,k,c):p(b,"pfx")},k.className=k.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(" js "+F.join(" ")),u}(this,this.document);
(function(b,h,c){function l(b){return"[object Function]"==r.call(b)}function m(b){return"string"==typeof b}function p(){}function n(b){return!b||"loaded"==b||"complete"==b||"uninitialized"==b}function u(){var b=B.shift();C=1;b?b.t?z(function(){("c"==b.t?H.injectCss:H.injectJs)(b.s,0,b.a,b.x,b.e,1)},0):(b(),u()):C=0}function k(b,k,c,l,q,r,m){function v(c){if(!y&&n(p.readyState)&&(E.r=y=1,!C&&u(),p.onload=p.onreadystatechange=null,c)){"img"!=b&&z(function(){F.removeChild(p)},50);for(var h in J[k])J[k].hasOwnProperty(h)&&
J[k][h].onload()}}m=m||H.errorTimeout;var p=h.createElement(b),y=0,x=0,E={t:c,s:k,e:q,a:r,x:m};1===J[k]&&(x=1,J[k]=[]);"object"==b?p.data=k:(p.src=k,p.type=b);p.width=p.height="0";p.onerror=p.onload=p.onreadystatechange=function(){v.call(this,x)};B.splice(l,0,E);"img"!=b&&(x||2===J[k]?(F.insertBefore(p,D?null:A),z(v,m)):J[k].push(p))}function q(b,c,h,l,n){return C=0,c=c||"j",m(b)?k("c"==c?G:E,b,c,this.i++,h,l,n):(B.splice(this.i++,0,b),1==B.length&&u()),this}function v(){var b=H;return b.loader={load:q,
i:0},b}var y=h.documentElement,z=b.setTimeout,A=h.getElementsByTagName("script")[0],r={}.toString,B=[],C=0,x="MozAppearance"in y.style,D=x&&!!h.createRange().compareNode,F=D?y:A.parentNode,y=b.opera&&"[object Opera]"==r.call(b.opera),y=!!h.attachEvent&&!y,E=x?"object":y?"script":"img",G=y?"script":E,K=Array.isArray||function(b){return"[object Array]"==r.call(b)},I=[],J={},L={timeout:function(b,k){return k.length&&(b.timeout=k[0]),b}},M,H;H=function(b){function k(b){b=b.split("!");var c=I.length,h=
b.pop(),l=b.length,h={url:h,origUrl:h,prefixes:b},n,q,r;for(q=0;q<l;q++)r=b[q].split("\x3d"),(n=L[r.shift()])&&(h=n(h,r));for(q=0;q<c;q++)h=I[q](h);return h}function h(b,n,q,r,m){var p=k(b),y=p.autoCallback;p.url.split(".").pop().split("?").shift();p.bypass||(n&&(n=l(n)?n:n[b]||n[r]||n[b.split("/").pop().split("?")[0]]),p.instead?p.instead(b,n,q,r,m):(J[p.url]?p.noexec=!0:J[p.url]=1,q.load(p.url,p.forceCSS||!p.forceJS&&"css"==p.url.split(".").pop().split("?").shift()?"c":c,p.noexec,p.attrs,p.timeout),
(l(n)||l(y))&&q.load(function(){v();n&&n(p.origUrl,m,r);y&&y(p.origUrl,m,r);J[p.url]=2})))}function n(b,k){function c(b,n){if(b)if(m(b))n||(v=function(){var b=[].slice.call(arguments);y.apply(this,b);z()}),h(b,v,k,0,q);else{if(Object(b)===b)for(x in u=function(){var k=0,c;for(c in b)b.hasOwnProperty(c)&&k++;return k}(),b)b.hasOwnProperty(x)&&(!n&&!--u&&(l(v)?v=function(){var b=[].slice.call(arguments);y.apply(this,b);z()}:v[x]=function(b){return function(){var k=[].slice.call(arguments);b&&b.apply(this,
k);z()}}(y[x])),h(b[x],v,k,x,q))}else!n&&z()}var q=!!b.test,r=b.load||b.both,v=b.callback||p,y=v,z=b.complete||p,u,x;c(q?b.yep:b.nope,!!r);r&&c(r)}var q,r,y=this.yepnope.loader;if(m(b))h(b,0,y,0);else if(K(b))for(q=0;q<b.length;q++)r=b[q],m(r)?h(r,0,y,0):K(r)?H(r):Object(r)===r&&n(r,y);else Object(b)===b&&n(b,y)};H.addPrefix=function(b,k){L[b]=k};H.addFilter=function(b){I.push(b)};H.errorTimeout=1E4;null==h.readyState&&h.addEventListener&&(h.readyState="loading",h.addEventListener("DOMContentLoaded",
M=function(){h.removeEventListener("DOMContentLoaded",M,0);h.readyState="complete"},0));b.yepnope=v();b.yepnope.executeStack=u;b.yepnope.injectJs=function(b,k,c,l,q,r){var m=h.createElement("script"),v,y;l=l||H.errorTimeout;m.src=b;for(y in c)m.setAttribute(y,c[y]);k=r?u:k||p;m.onreadystatechange=m.onload=function(){!v&&n(m.readyState)&&(v=1,k(),m.onload=m.onreadystatechange=null)};z(function(){v||(v=1,k(1))},l);q?m.onload():A.parentNode.insertBefore(m,A)};b.yepnope.injectCss=function(b,k,c,l,n,q){l=
h.createElement("link");var r;k=q?u:k||p;l.href=b;l.rel="stylesheet";l.type="text/css";for(r in c)l.setAttribute(r,c[r]);n||(A.parentNode.insertBefore(l,A),z(k,0))}})(this,document);Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};
!function(b,h){"object"==typeof module&&"object"==typeof module.exports?module.exports=b.document?h(b,!0):function(b){if(!b.document)throw Error("needs a document");return h(b)}:h(b)}("undefined"!=typeof window?window:this,function(b,h){function c(b){var k=b.length,c=w.type(b);return"function"===c||w.isWindow(b)?!1:1===b.nodeType&&k?!0:"array"===c||0===k||"number"==typeof k&&0<k&&k-1 in b}function l(b,k,c){if(w.isFunction(k))return w.grep(b,function(b,h){return!!k.call(b,h,b)!==c});if(k.nodeType)return w.grep(b,
function(b){return b===k!==c});if("string"==typeof k){if(Sa.test(k))return w.filter(k,b,c);k=w.filter(k,b)}return w.grep(b,function(b){return 0<=w.inArray(b,k)!==c})}function m(b,k){do b=b[k];while(b&&1!==b.nodeType);return b}function p(b){var k=Ta[b]={};return w.each(b.match(na)||[],function(b,c){k[c]=!0}),k}function n(){R.addEventListener?(R.removeEventListener("DOMContentLoaded",u,!1),b.removeEventListener("load",u,!1)):(R.detachEvent("onreadystatechange",u),b.detachEvent("onload",u))}function u(){(R.addEventListener||
"load"===event.type||"complete"===R.readyState)&&(n(),w.ready())}function k(b,k,c){if(void 0===c&&1===b.nodeType){var h="data-"+k.replace(Ma,"-$1").toLowerCase();if(c=b.getAttribute(h),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:ob.test(c)?w.parseJSON(c):c}catch(l){}w.data(b,k,c)}else c=void 0}return c}function q(b){for(var k in b)if(("data"!==k||!w.isEmptyObject(b[k]))&&"toJSON"!==k)return!1;return!0}function v(b,k,c,h){if(w.acceptData(b)){var l,n,q=w.expando,
r=b.nodeType,m=r?w.cache:b,v=r?b[q]:b[q]&&q;if(v&&m[v]&&(h||m[v].data)||void 0!==c||"string"!=typeof k)return v||(v=r?b[q]=ga.pop()||w.guid++:q),m[v]||(m[v]=r?{}:{toJSON:w.noop}),("object"==typeof k||"function"==typeof k)&&(h?m[v]=w.extend(m[v],k):m[v].data=w.extend(m[v].data,k)),n=m[v],h||(n.data||(n.data={}),n=n.data),void 0!==c&&(n[w.camelCase(k)]=c),"string"==typeof k?(l=n[k],null==l&&(l=n[w.camelCase(k)])):l=n,l}}function y(b,k,c){if(w.acceptData(b)){var h,l,n=b.nodeType,r=n?w.cache:b,m=n?b[w.expando]:
w.expando;if(r[m]){if(k&&(h=c?r[m]:r[m].data)){w.isArray(k)?k=k.concat(w.map(k,w.camelCase)):k in h?k=[k]:(k=w.camelCase(k),k=k in h?[k]:k.split(" "));for(l=k.length;l--;)delete h[k[l]];if(c?!q(h):!w.isEmptyObject(h))return}(c||(delete r[m].data,q(r[m])))&&(n?w.cleanData([b],!0):P.deleteExpando||r!=r.window?delete r[m]:r[m]=null)}}}function z(){return!0}function A(){return!1}function r(){try{return R.activeElement}catch(b){}}function B(b){var k=yb.split("|");b=b.createDocumentFragment();if(b.createElement)for(;k.length;)b.createElement(k.pop());
return b}function C(b,k){var c,h,l=0,n="undefined"!==typeof b.getElementsByTagName?b.getElementsByTagName(k||"*"):"undefined"!==typeof b.querySelectorAll?b.querySelectorAll(k||"*"):void 0;if(!n)for(n=[],c=b.childNodes||b;null!=(h=c[l]);l++)!k||w.nodeName(h,k)?n.push(h):w.merge(n,C(h,k));return void 0===k||k&&w.nodeName(b,k)?w.merge([b],n):n}function x(b){xa.test(b.type)&&(b.defaultChecked=b.checked)}function D(b,k){return w.nodeName(b,"table")&&w.nodeName(11!==k.nodeType?k:k.firstChild,"tr")?b.getElementsByTagName("tbody")[0]||
b.appendChild(b.ownerDocument.createElement("tbody")):b}function F(b){return b.type=(null!==w.find.attr(b,"type"))+"/"+b.type,b}function E(b){var k=va.exec(b.type);return k?b.type=k[1]:b.removeAttribute("type"),b}function G(b,k){for(var c,h=0;null!=(c=b[h]);h++)w._data(c,"globalEval",!k||w._data(k[h],"globalEval"))}function K(b,k){if(1===k.nodeType&&w.hasData(b)){var c,h,l;h=w._data(b);b=w._data(k,h);var n=h.events;if(n)for(c in delete b.handle,b.events={},n)for(h=0,l=n[c].length;l>h;h++)w.event.add(k,
c,n[c][h]);b.data&&(b.data=w.extend({},b.data))}}function I(k,c){var h;k=w(c.createElement(k)).appendTo(c.body);c=b.getDefaultComputedStyle&&(h=b.getDefaultComputedStyle(k[0]))?h.display:w.css(k[0],"display");return k.detach(),c}function J(b){var k=R,c=Ua[b];return c||(c=I(b,k),"none"!==c&&c||(Ca=(Ca||w("\x3ciframe frameborder\x3d'0' width\x3d'0' height\x3d'0'/\x3e")).appendTo(k.documentElement),k=(Ca[0].contentWindow||Ca[0].contentDocument).document,k.write(),k.close(),c=I(b,k),Ca.detach()),Ua[b]=
c),c}function L(b,k){return{get:function(){var c=b();if(null!=c)return c?void delete this.get:(this.get=k).apply(this,arguments)}}}function M(b,k){if(k in b)return k;for(var c=k.charAt(0).toUpperCase()+k.slice(1),h=k,l=zb.length;l--;)if(k=zb[l]+c,k in b)return k;return h}function H(b,k){for(var c,h,l,n=[],q=0,r=b.length;r>q;q++)h=b[q],h.style&&(n[q]=w._data(h,"olddisplay"),c=h.style.display,k?(n[q]||"none"!==c||(h.style.display=""),""===h.style.display&&za(h)&&(n[q]=w._data(h,"olddisplay",J(h.nodeName)))):
(l=za(h),(c&&"none"!==c||!l)&&w._data(h,"olddisplay",l?c:w.css(h,"display"))));for(q=0;r>q;q++)h=b[q],h.style&&(k&&"none"!==h.style.display&&""!==h.style.display||(h.style.display=k?n[q]||"":"none"));return b}function aa(b,k,c){return(b=Nb.exec(k))?Math.max(0,b[1]-(c||0))+(b[2]||"px"):k}function ca(b,k,c,h,l){k=c===(h?"border":"content")?4:"width"===k?1:0;for(var n=0;4>k;k+=2)"margin"===c&&(n+=w.css(b,c+Aa[k],!0,l)),h?("content"===c&&(n-=w.css(b,"padding"+Aa[k],!0,l)),"margin"!==c&&(n-=w.css(b,"border"+
Aa[k]+"Width",!0,l))):(n+=w.css(b,"padding"+Aa[k],!0,l),"padding"!==c&&(n+=w.css(b,"border"+Aa[k]+"Width",!0,l)));return n}function T(b,k,c){var h=!0,l="width"===k?b.offsetWidth:b.offsetHeight,n=Da(b),q=P.boxSizing&&"border-box"===w.css(b,"boxSizing",!1,n);if(0>=l||null==l){if(l=wa(b,k,n),(0>l||null==l)&&(l=b.style[k]),Ia.test(l))return l;h=q&&(P.boxSizingReliable()||l===b.style[k]);l=parseFloat(l)||0}return l+ca(b,k,c||(q?"border":"content"),h,n)+"px"}function U(b,k,c,h,l){return new U.prototype.init(b,
k,c,h,l)}function Q(){return setTimeout(function(){Xa=void 0}),Xa=w.now()}function X(b,k){var c,h={height:b},l=0;for(k=k?1:0;4>l;l+=2-k)c=Aa[l],h["margin"+c]=h["padding"+c]=b;return k&&(h.opacity=h.width=b),h}function O(b,k,c){for(var h,l=(bb[k]||[]).concat(bb["*"]),n=0,q=l.length;q>n;n++)if(h=l[n].call(c,k,b))return h}function N(b,k){var c,h,l,n,q;for(c in b)if(h=w.camelCase(c),l=k[h],n=b[c],w.isArray(n)&&(l=n[1],n=b[c]=n[0]),c!==h&&(b[h]=n,delete b[c]),q=w.cssHooks[h],q&&"expand"in q)for(c in n=
q.expand(n),delete b[h],n)c in b||(b[c]=n[c],k[c]=l);else k[h]=l}function V(b,k,c){var h,l=0,n=hb.length,q=w.Deferred().always(function(){delete r.elem}),r=function(){if(h)return!1;for(var k=Xa||Q(),k=Math.max(0,m.startTime+m.duration-k),c=1-(k/m.duration||0),l=0,n=m.tweens.length;n>l;l++)m.tweens[l].run(c);return q.notifyWith(b,[m,c,k]),1>c&&n?k:(q.resolveWith(b,[m]),!1)},m=q.promise({elem:b,props:w.extend({},k),opts:w.extend(!0,{specialEasing:{}},c),originalProperties:k,originalOptions:c,startTime:Xa||
Q(),duration:c.duration,tweens:[],createTween:function(k,c){k=w.Tween(b,m.opts,k,c,m.opts.specialEasing[k]||m.opts.easing);return m.tweens.push(k),k},stop:function(k){var c=0,l=k?m.tweens.length:0;if(h)return this;for(h=!0;l>c;c++)m.tweens[c].run(1);return k?q.resolveWith(b,[m,k]):q.rejectWith(b,[m,k]),this}});c=m.props;for(N(c,m.opts.specialEasing);n>l;l++)if(k=hb[l].call(m,b,c,m.opts))return k;return w.map(c,O,m),w.isFunction(m.opts.start)&&m.opts.start.call(b,m),w.fx.timer(w.extend(r,{elem:b,anim:m,
queue:m.opts.queue})),m.progress(m.opts.progress).done(m.opts.done,m.opts.complete).fail(m.opts.fail).always(m.opts.always)}function fa(b){return function(k,c){"string"!=typeof k&&(c=k,k="*");var h=0,l=k.toLowerCase().match(na)||[];if(w.isFunction(c))for(;k=l[h++];)"+"===k.charAt(0)?(k=k.slice(1)||"*",(b[k]=b[k]||[]).unshift(c)):(b[k]=b[k]||[]).push(c)}}function W(b,k,c,h){function l(r){var m;return n[r]=!0,w.each(b[r]||[],function(b,r){b=r(k,c,h);return"string"!=typeof b||q||n[b]?q?!(m=b):void 0:
(k.dataTypes.unshift(b),l(b),!1)}),m}var n={},q=b===pb;return l(k.dataTypes[0])||!n["*"]&&l("*")}function Z(b,k){var c,h,l=w.ajaxSettings.flatOptions||{};for(h in k)void 0!==k[h]&&((l[h]?b:c||(c={}))[h]=k[h]);return c&&w.extend(!0,b,c),b}function S(b,k,c,h){var l;if(w.isArray(k))w.each(k,function(k,l){c||Ob.test(b)?h(b,l):S(b+"["+("object"==typeof l?k:"")+"]",l,c,h)});else if(c||"object"!==w.type(k))h(b,k);else for(l in k)S(b+"["+l+"]",k[l],c,h)}function ja(){try{return new b.XMLHttpRequest}catch(k){}}
function ia(b){return w.isWindow(b)?b:9===b.nodeType?b.defaultView||b.parentWindow:!1}var ga=[],ba=ga.slice,qa=ga.concat,ma=ga.push,La=ga.indexOf,ua={},Ea=ua.toString,ra=ua.hasOwnProperty,P={},w=function(b,k){return new w.fn.init(b,k)},cb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Ya=/^-ms-/,la=/-([\da-z])/gi,ka=function(b,k){return k.toUpperCase()};w.fn=w.prototype={jquery:function(){var b=[];b.push(1);b.push(11);b.push(1);return b.join(".")}(),constructor:w,selector:"",length:0,toArray:function(){return ba.call(this)},
get:function(b){return null!=b?0>b?this[b+this.length]:this[b]:ba.call(this)},pushStack:function(b){b=w.merge(this.constructor(),b);return b.prevObject=this,b.context=this.context,b},each:function(b,k){return w.each(this,b,k)},map:function(b){return this.pushStack(w.map(this,function(k,c){return b.call(k,c,k)}))},slice:function(){return this.pushStack(ba.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(b){var k=this.length;b=+b+(0>b?k:0);
return this.pushStack(0<=b&&k>b?[this[b]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:ma,sort:ga.sort,splice:ga.splice};w.extend=w.fn.extend=function(){var b,k,c,h,l,n=arguments[0]||{},q=1,r=arguments.length,m=!1;"boolean"===typeof n&&(m=n,n=arguments[q]||{},q++);"object"===typeof n||w.isFunction(n)||(n={});q===r&&(n=this,q--);for(;q<r;q++)if(null!=(l=arguments[q]))for(h in l)b=n[h],c=l[h],"__proto__"!==h&&n!==c&&(m&&c&&(w.isPlainObject(c)||(k=w.isArray(c)))?(k?(k=!1,
b=b&&w.isArray(b)?b:[]):b=b&&w.isPlainObject(b)?b:{},n[h]=w.extend(m,b,c)):void 0!==c&&(n[h]=c));return n};w.extend({expando:"jQuery"+("1.11.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(b){throw Error(b);},noop:function(){},isFunction:function(b){return"function"===w.type(b)},isArray:Array.isArray||function(b){return"array"===w.type(b)},isWindow:function(b){return null!=b&&b==b.window},isNumeric:function(b){return!w.isArray(b)&&0<=b-parseFloat(b)},isEmptyObject:function(b){for(var k in b)return!1;
return!0},isPlainObject:function(b){var k;if(!b||"object"!==w.type(b)||b.nodeType||w.isWindow(b))return!1;try{if(b.constructor&&!ra.call(b,"constructor")&&!ra.call(b.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(P.ownLast)for(k in b)return ra.call(b,k);for(k in b);return void 0===k||ra.call(b,k)},type:function(b){return null==b?b+"":"object"==typeof b||"function"==typeof b?ua[Ea.call(b)]||"object":typeof b},globalEval:function(k){k&&w.trim(k)&&(b.execScript||function(k){b.eval.call(b,
k)})(k)},camelCase:function(b){return b.replace(Ya,"ms-").replace(la,ka)},nodeName:function(b,k){return b.nodeName&&b.nodeName.toLowerCase()===k.toLowerCase()},each:function(b,k,h){var l,n=0,q=b.length,r=c(b);if(h)if(r)for(;q>n&&(l=k.apply(b[n],h),!1!==l);n++);else for(n in b){if(l=k.apply(b[n],h),!1===l)break}else if(r)for(;q>n&&(l=k.call(b[n],n,b[n]),!1!==l);n++);else for(n in b)if(l=k.call(b[n],n,b[n]),!1===l)break;return b},trim:function(b){return null==b?"":(b+"").replace(cb,"")},makeArray:function(b,
k){k=k||[];return null!=b&&(c(Object(b))?w.merge(k,"string"==typeof b?[b]:b):ma.call(k,b)),k},inArray:function(b,k,c){var h;if(k){if(La)return La.call(k,b,c);h=k.length;for(c=c?0>c?Math.max(0,h+c):c:0;h>c;c++)if(c in k&&k[c]===b)return c}return-1},merge:function(b,k){for(var c=+k.length,h=0,l=b.length;c>h;)b[l++]=k[h++];if(c!==c)for(;void 0!==k[h];)b[l++]=k[h++];return b.length=l,b},grep:function(b,k,c){for(var h=[],l=0,n=b.length,q=!c;n>l;l++)c=!k(b[l],l),c!==q&&h.push(b[l]);return h},map:function(b,
k,h){var l,n=0,q=b.length,r=[];if(c(b))for(;q>n;n++)l=k(b[n],n,h),null!=l&&r.push(l);else for(n in b)l=k(b[n],n,h),null!=l&&r.push(l);return qa.apply([],r)},guid:1,proxy:function(b,k){var c,h,l;return"string"==typeof k&&(l=b[k],k=b,b=l),w.isFunction(b)?(c=ba.call(arguments,2),h=function(){return b.apply(k||this,c.concat(ba.call(arguments)))},h.guid=b.guid=b.guid||w.guid++,h):void 0},now:function(){return+new Date},support:P});w.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),
function(b,k){ua["[object "+k+"]"]=k.toLowerCase()});var da=function(b){function k(b,c,h,l){var n,q,r,m,v;if((c?c.ownerDocument||c:Y)!==M&&ma(c),c=c||M,h=h||[],!b||"string"!=typeof b)return h;if(1!==(m=c.nodeType)&&9!==m)return[];if(U&&!l){if(n=Sa.exec(b))if(r=n[1])if(9===m){if(q=c.getElementById(r),!q||!q.parentNode)return h;if(q.id===r)return h.push(q),h}else{if(c.ownerDocument&&(q=c.ownerDocument.getElementById(r))&&X(c,q)&&q.id===r)return h.push(q),h}else{if(n[2])return wa.apply(h,c.getElementsByTagName(b)),
h;if((r=n[3])&&G.getElementsByClassName&&c.getElementsByClassName)return wa.apply(h,c.getElementsByClassName(r)),h}if(G.qsa&&(!la||!la.test(b))){if(q=n=V,r=c,v=9===m&&b,1===m&&"object"!==c.nodeName.toLowerCase()){m=K(b);(n=c.getAttribute("id"))?q=n.replace(Ea,"\\$\x26"):c.setAttribute("id",q);q="[id\x3d'"+q+"'] ";for(r=m.length;r--;)m[r]=q+z(m[r]);r=Aa.test(b)&&p(c.parentNode)||c;v=m.join(",")}if(v)try{return wa.apply(h,r.querySelectorAll(v)),h}catch(y){}finally{n||c.removeAttribute("id")}}}return L(b.replace(R,
"$1"),c,h,l)}function c(){function b(c,h){return k.push(c+" ")>I.cacheLength&&delete b[k.shift()],b[c+" "]=h}var k=[];return b}function h(b){return b[V]=!0,b}function l(b){var k=M.createElement("div");try{return!!b(k)}catch(c){return!1}finally{k.parentNode&&k.parentNode.removeChild(k)}}function n(b,k){var c=b.split("|");for(b=b.length;b--;)I.attrHandle[c[b]]=k}function q(b,k){var c=k&&b,h=c&&1===b.nodeType&&1===k.nodeType&&(~k.sourceIndex||-2147483648)-(~b.sourceIndex||-2147483648);if(h)return h;
if(c)for(;c=c.nextSibling;)if(c===k)return-1;return b?1:-1}function r(b){return function(k){return"input"===k.nodeName.toLowerCase()&&k.type===b}}function m(b){return function(k){var c=k.nodeName.toLowerCase();return("input"===c||"button"===c)&&k.type===b}}function v(b){return h(function(k){return k=+k,h(function(c,h){for(var l,n=b([],c.length,k),q=n.length;q--;)c[l=n[q]]&&(c[l]=!(h[l]=c[l]))})})}function p(b){return b&&"undefined"!==typeof b.getElementsByTagName&&b}function y(){}function z(b){for(var k=
0,c=b.length,h="";c>k;k++)h+=b[k].value;return h}function u(b,k,c){var h=k.dir,l=c&&"parentNode"===h,n=Ma++;return k.first?function(k,c,n){for(;k=k[h];)if(1===k.nodeType||l)return b(k,c,n)}:function(k,c,q){var r,m,v=[O,n];if(q)for(;k=k[h];){if((1===k.nodeType||l)&&b(k,c,q))return!0}else for(;k=k[h];)if(1===k.nodeType||l){if(m=k[V]||(k[V]={}),(r=m[h])&&r[0]===O&&r[1]===n)return v[2]=r[2];if(m[h]=v,v[2]=b(k,c,q))return!0}}}function x(b){return 1<b.length?function(k,c,h){for(var l=b.length;l--;)if(!b[l](k,
c,h))return!1;return!0}:b[0]}function A(b,k,c,h,l){for(var n,q=[],r=0,m=b.length,v=null!=k;m>r;r++)(n=b[r])&&(!c||c(n,h,l))&&(q.push(n),v&&k.push(r));return q}function B(b,c,l,n,q,r){return n&&!n[V]&&(n=B(n)),q&&!q[V]&&(q=B(q,r)),h(function(h,r,m,v){var p,y,z=[],u=[],x=r.length,B;if(!(B=h)){B=c||"*";for(var C=m.nodeType?[m]:m,D=[],Ra=0,E=C.length;E>Ra;Ra++)k(B,C[Ra],D);B=D}B=!b||!h&&c?B:A(B,z,b,m,v);C=l?q||(h?b:x||n)?[]:r:B;if(l&&l(B,C,m,v),n)for(p=A(C,u),n(p,[],m,v),m=p.length;m--;)(y=p[m])&&(C[u[m]]=
!(B[u[m]]=y));if(h){if(q||b){if(q){p=[];for(m=C.length;m--;)(y=C[m])&&p.push(B[m]=y);q(null,C=[],p,v)}for(m=C.length;m--;)(y=C[m])&&-1<(p=q?S.call(h,y):z[m])&&(h[p]=!(r[p]=y))}}else C=A(C===r?C.splice(x,C.length):C),q?q(null,r,C,v):wa.apply(r,C)})}function C(b){var k,c,h,l=b.length,n=I.relative[b[0].type];c=n||I.relative[" "];for(var q=n?1:0,r=u(function(b){return b===k},c,!0),m=u(function(b){return-1<S.call(k,b)},c,!0),v=[function(b,c,h){return!n&&(h||c!==ka)||((k=c).nodeType?r(b,c,h):m(b,c,h))}];l>
q;q++)if(c=I.relative[b[q].type])v=[u(x(v),c)];else{if(c=I.filter[b[q].type].apply(null,b[q].matches),c[V]){for(h=++q;l>h&&!I.relative[b[h].type];h++);return B(1<q&&x(v),1<q&&z(b.slice(0,q-1).concat({value:" "===b[q-2].type?"*":""})).replace(R,"$1"),c,h>q&&C(b.slice(q,h)),l>h&&C(b=b.slice(h)),l>h&&z(b))}v.push(c)}return x(v)}function D(b,c){var l=0<c.length,n=0<b.length,q=function(h,q,r,m,v){var p,y,z,u=0,x="0",B=h&&[],C=[],D=ka,Ra=h||n&&I.find.TAG("*",v),E=O+=null==D?1:Math.random()||.1,G=Ra.length;
for(v&&(ka=q!==M&&q);x!==G&&null!=(p=Ra[x]);x++){if(n&&p){for(y=0;z=b[y++];)if(z(p,q,r)){m.push(p);break}v&&(O=E)}l&&((p=!z&&p)&&u--,h&&B.push(p))}if(u+=x,l&&x!==u){for(y=0;z=c[y++];)z(B,C,q,r);if(h){if(0<u)for(;x--;)B[x]||C[x]||(C[x]=La.call(m));C=A(C)}wa.apply(m,C);v&&!h&&0<C.length&&1<u+c.length&&k.uniqueSort(m)}return v&&(O=E,ka=D),B};return l?h(q):q}var E,G,I,F,w,K,J,L,ka,da,Q,ma,M,H,U,la,qa,aa,X,V="sizzle"+-new Date,Y=b.document,O=0,Ma=0,N=c(),fa=c(),Da=c(),ca=function(b,k){return b===k&&(Q=
!0),0},ja={}.hasOwnProperty,ba=[],La=ba.pop,T=ba.push,wa=ba.push,W=ba.slice,S=ba.indexOf||function(b){for(var k=0,c=this.length;c>k;k++)if(this[k]===b)return k;return-1},ia="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),ga="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?\x3d)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ia+"))|)[\\x20\\t\\r\\n\\f]*\\]",Za=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+
ga+")*)|.*)\\)|)",R=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,P=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,Z=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,ta=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,sb=new RegExp(Za),ua=new RegExp("^"+ia+"$"),ea={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:new RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:new RegExp("^"+ga),PSEUDO:new RegExp("^"+Za),CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,
bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},$a=/^(?:input|select|textarea|button)$/i,za=/^h\d$/i,Ka=/^[^{]+\{\s*\[native \w/,Sa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Aa=/[+~]/,Ea=/'|\\/g,xa=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,ra=function(b,k,c){b="0x"+k-65536;
return b!==b||c?k:0>b?String.fromCharCode(b+65536):String.fromCharCode(b>>10|55296,1023&b|56320)};try{wa.apply(ba=W.call(Y.childNodes),Y.childNodes),ba[Y.childNodes.length].nodeType}catch(mc){wa={apply:ba.length?function(b,k){T.apply(b,W.call(k))}:function(b,k){for(var c=b.length,h=0;b[c++]=k[h++];);b.length=c-1}}}G=k.support={};w=k.isXML=function(b){return(b=b&&(b.ownerDocument||b).documentElement)?"HTML"!==b.nodeName:!1};ma=k.setDocument=function(b){var k,c=b?b.ownerDocument||b:Y;b=c.defaultView;
return c!==M&&9===c.nodeType&&c.documentElement?(M=c,H=c.documentElement,U=!w(c),b&&b!==b.top&&(b.addEventListener?b.addEventListener("unload",function(){ma()},!1):b.attachEvent&&b.attachEvent("onunload",function(){ma()})),G.attributes=l(function(b){return b.className="i",!b.getAttribute("className")}),G.getElementsByTagName=l(function(b){return b.appendChild(c.createComment("")),!b.getElementsByTagName("*").length}),G.getElementsByClassName=Ka.test(c.getElementsByClassName)&&l(function(b){return b.innerHTML=
"\x3cdiv class\x3d'a'\x3e\x3c/div\x3e\x3cdiv class\x3d'a i'\x3e\x3c/div\x3e",b.firstChild.className="i",2===b.getElementsByClassName("i").length}),G.getById=l(function(b){return H.appendChild(b).id=V,!c.getElementsByName||!c.getElementsByName(V).length}),G.getById?(I.find.ID=function(b,k){if("undefined"!==typeof k.getElementById&&U)return(b=k.getElementById(b))&&b.parentNode?[b]:[]},I.filter.ID=function(b){var k=b.replace(xa,ra);return function(b){return b.getAttribute("id")===k}}):(delete I.find.ID,
I.filter.ID=function(b){var k=b.replace(xa,ra);return function(b){return(b="undefined"!==typeof b.getAttributeNode&&b.getAttributeNode("id"))&&b.value===k}}),I.find.TAG=G.getElementsByTagName?function(b,k){return"undefined"!==typeof k.getElementsByTagName?k.getElementsByTagName(b):void 0}:function(b,k){var c=[],h=0;k=k.getElementsByTagName(b);if("*"===b){for(;b=k[h++];)1===b.nodeType&&c.push(b);return c}return k},I.find.CLASS=G.getElementsByClassName&&function(b,k){return"undefined"!==typeof k.getElementsByClassName&&
U?k.getElementsByClassName(b):void 0},qa=[],la=[],(G.qsa=Ka.test(c.querySelectorAll))&&(l(function(b){b.innerHTML="\x3cselect msallowclip\x3d''\x3e\x3coption selected\x3d''\x3e\x3c/option\x3e\x3c/select\x3e";b.querySelectorAll("[msallowclip^\x3d'']").length&&la.push("[*^$]\x3d[\\x20\\t\\r\\n\\f]*(?:''|\"\")");b.querySelectorAll("[selected]").length||la.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
b.querySelectorAll(":checked").length||la.push(":checked")}),l(function(b){var k=c.createElement("input");k.setAttribute("type","hidden");b.appendChild(k).setAttribute("name","D");b.querySelectorAll("[name\x3dd]").length&&la.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?\x3d");b.querySelectorAll(":enabled").length||la.push(":enabled",":disabled");b.querySelectorAll("*,:x");la.push(",.*:")})),(G.matchesSelector=Ka.test(aa=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&
l(function(b){G.disconnectedMatch=aa.call(b,"div");aa.call(b,"[s!\x3d'']:x");qa.push("!\x3d",Za)}),la=la.length&&new RegExp(la.join("|")),qa=qa.length&&new RegExp(qa.join("|")),k=Ka.test(H.compareDocumentPosition),X=k||Ka.test(H.contains)?function(b,k){var c=9===b.nodeType?b.documentElement:b;k=k&&k.parentNode;return b===k||!(!k||1!==k.nodeType||!(c.contains?c.contains(k):b.compareDocumentPosition&&16&b.compareDocumentPosition(k)))}:function(b,k){if(k)for(;k=k.parentNode;)if(k===b)return!0;return!1},
ca=k?function(b,k){if(b===k)return Q=!0,0;var h=!b.compareDocumentPosition-!k.compareDocumentPosition;return h?h:(h=(b.ownerDocument||b)===(k.ownerDocument||k)?b.compareDocumentPosition(k):1,1&h||!G.sortDetached&&k.compareDocumentPosition(b)===h?b===c||b.ownerDocument===Y&&X(Y,b)?-1:k===c||k.ownerDocument===Y&&X(Y,k)?1:da?S.call(da,b)-S.call(da,k):0:4&h?-1:1)}:function(b,k){if(b===k)return Q=!0,0;var h=0,l=b.parentNode,n=k.parentNode,r=[b],m=[k];if(!l||!n)return b===c?-1:k===c?1:l?-1:n?1:da?S.call(da,
b)-S.call(da,k):0;if(l===n)return q(b,k);for(;b=b.parentNode;)r.unshift(b);for(b=k;b=b.parentNode;)m.unshift(b);for(;r[h]===m[h];)h++;return h?q(r[h],m[h]):r[h]===Y?-1:m[h]===Y?1:0},c):M};k.matches=function(b,c){return k(b,null,null,c)};k.matchesSelector=function(b,c){if((b.ownerDocument||b)!==M&&ma(b),c=c.replace(ta,"\x3d'$1']"),!(!G.matchesSelector||!U||qa&&qa.test(c)||la&&la.test(c)))try{var h=aa.call(b,c);if(h||G.disconnectedMatch||b.document&&11!==b.document.nodeType)return h}catch(l){}return 0<
k(c,M,null,[b]).length};k.contains=function(b,k){return(b.ownerDocument||b)!==M&&ma(b),X(b,k)};k.attr=function(b,k){(b.ownerDocument||b)!==M&&ma(b);var c=I.attrHandle[k.toLowerCase()],c=c&&ja.call(I.attrHandle,k.toLowerCase())?c(b,k,!U):void 0;return void 0!==c?c:G.attributes||!U?b.getAttribute(k):(c=b.getAttributeNode(k))&&c.specified?c.value:null};k.error=function(b){throw Error("Syntax error, unrecognized expression: "+b);};k.uniqueSort=function(b){var k,c=[],h=0,l=0;if(Q=!G.detectDuplicates,da=
!G.sortStable&&b.slice(0),b.sort(ca),Q){for(;k=b[l++];)k===b[l]&&(h=c.push(l));for(;h--;)b.splice(c[h],1)}return da=null,b};F=k.getText=function(b){var k,c="",h=0;if(k=b.nodeType)if(1===k||9===k||11===k){if("string"==typeof b.textContent)return b.textContent;for(b=b.firstChild;b;b=b.nextSibling)c+=F(b)}else{if(3===k||4===k)return b.nodeValue}else for(;k=b[h++];)c+=F(k);return c};I=k.selectors={cacheLength:50,createPseudo:h,match:ea,attrHandle:{},find:{},relative:{"\x3e":{dir:"parentNode",first:!0},
" ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(b){return b[1]=b[1].replace(xa,ra),b[3]=(b[3]||b[4]||b[5]||"").replace(xa,ra),"~\x3d"===b[2]&&(b[3]=" "+b[3]+" "),b.slice(0,4)},CHILD:function(b){return b[1]=b[1].toLowerCase(),"nth"===b[1].slice(0,3)?(b[3]||k.error(b[0]),b[4]=+(b[4]?b[5]+(b[6]||1):2*("even"===b[3]||"odd"===b[3])),b[5]=+(b[7]+b[8]||"odd"===b[3])):b[3]&&k.error(b[0]),b},PSEUDO:function(b){var k,c=!b[6]&&b[2];return ea.CHILD.test(b[0])?
null:(b[3]?b[2]=b[4]||b[5]||"":c&&sb.test(c)&&(k=K(c,!0))&&(k=c.indexOf(")",c.length-k)-c.length)&&(b[0]=b[0].slice(0,k),b[2]=c.slice(0,k)),b.slice(0,3))}},filter:{TAG:function(b){var k=b.replace(xa,ra).toLowerCase();return"*"===b?function(){return!0}:function(b){return b.nodeName&&b.nodeName.toLowerCase()===k}},CLASS:function(b){var k=N[b+" "];return k||(k=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+b+"([\\x20\\t\\r\\n\\f]|$)"),N(b,function(b){return k.test("string"==typeof b.className&&b.className||"undefined"!==
typeof b.getAttribute&&b.getAttribute("class")||"")}))},ATTR:function(b,c,h){return function(l){l=k.attr(l,b);return null==l?"!\x3d"===c:c?(l+="","\x3d"===c?l===h:"!\x3d"===c?l!==h:"^\x3d"===c?h&&0===l.indexOf(h):"*\x3d"===c?h&&-1<l.indexOf(h):"$\x3d"===c?h&&l.slice(-h.length)===h:"~\x3d"===c?-1<(" "+l+" ").indexOf(h):"|\x3d"===c?l===h||l.slice(0,h.length+1)===h+"-":!1):!0}},CHILD:function(b,k,c,h,l){var n="nth"!==b.slice(0,3),q="last"!==b.slice(-4),r="of-type"===k;return 1===h&&0===l?function(b){return!!b.parentNode}:
function(k,c,m){var v,p,y,z,u;c=n!==q?"nextSibling":"previousSibling";var x=k.parentNode,A=r&&k.nodeName.toLowerCase();m=!m&&!r;if(x){if(n){for(;c;){for(p=k;p=p[c];)if(r?p.nodeName.toLowerCase()===A:1===p.nodeType)return!1;u=c="only"===b&&!u&&"nextSibling"}return!0}if(u=[q?x.firstChild:x.lastChild],q&&m)for(m=x[V]||(x[V]={}),v=m[b]||[],z=v[0]===O&&v[1],y=v[0]===O&&v[2],p=z&&x.childNodes[z];p=++z&&p&&p[c]||(y=z=0)||u.pop();){if(1===p.nodeType&&++y&&p===k){m[b]=[O,z,y];break}}else if(m&&(v=(k[V]||(k[V]=
{}))[b])&&v[0]===O)y=v[1];else for(;(p=++z&&p&&p[c]||(y=z=0)||u.pop())&&((r?p.nodeName.toLowerCase()!==A:1!==p.nodeType)||!++y||(m&&((p[V]||(p[V]={}))[b]=[O,y]),p!==k)););return y-=l,y===h||0===y%h&&0<=y/h}}},PSEUDO:function(b,c){var l,n=I.pseudos[b]||I.setFilters[b.toLowerCase()]||k.error("unsupported pseudo: "+b);return n[V]?n(c):1<n.length?(l=[b,b,"",c],I.setFilters.hasOwnProperty(b.toLowerCase())?h(function(b,k){for(var h,l=n(b,c),q=l.length;q--;)h=S.call(b,l[q]),b[h]=!(k[h]=l[q])}):function(b){return n(b,
0,l)}):n}},pseudos:{not:h(function(b){var k=[],c=[],l=J(b.replace(R,"$1"));return l[V]?h(function(b,k,c,h){var n;c=l(b,null,h,[]);for(h=b.length;h--;)(n=c[h])&&(b[h]=!(k[h]=n))}):function(b,h,n){return k[0]=b,l(k,null,n,c),!c.pop()}}),has:h(function(b){return function(c){return 0<k(b,c).length}}),contains:h(function(b){return function(k){return-1<(k.textContent||k.innerText||F(k)).indexOf(b)}}),lang:h(function(b){return ua.test(b||"")||k.error("unsupported lang: "+b),b=b.replace(xa,ra).toLowerCase(),
function(k){var c;do if(c=U?k.lang:k.getAttribute("xml:lang")||k.getAttribute("lang"))return c=c.toLowerCase(),c===b||0===c.indexOf(b+"-");while((k=k.parentNode)&&1===k.nodeType);return!1}}),target:function(k){var c=b.location&&b.location.hash;return c&&c.slice(1)===k.id},root:function(b){return b===H},focus:function(b){return b===M.activeElement&&(!M.hasFocus||M.hasFocus())&&!!(b.type||b.href||~b.tabIndex)},enabled:function(b){return!1===b.disabled},disabled:function(b){return!0===b.disabled},checked:function(b){var k=
b.nodeName.toLowerCase();return"input"===k&&!!b.checked||"option"===k&&!!b.selected},selected:function(b){return b.parentNode&&b.parentNode.selectedIndex,!0===b.selected},empty:function(b){for(b=b.firstChild;b;b=b.nextSibling)if(6>b.nodeType)return!1;return!0},parent:function(b){return!I.pseudos.empty(b)},header:function(b){return za.test(b.nodeName)},input:function(b){return $a.test(b.nodeName)},button:function(b){var k=b.nodeName.toLowerCase();return"input"===k&&"button"===b.type||"button"===k},
text:function(b){var k;return"input"===b.nodeName.toLowerCase()&&"text"===b.type&&(null==(k=b.getAttribute("type"))||"text"===k.toLowerCase())},first:v(function(){return[0]}),last:v(function(b,k){return[k-1]}),eq:v(function(b,k,c){return[0>c?c+k:c]}),even:v(function(b,k){for(var c=0;k>c;c+=2)b.push(c);return b}),odd:v(function(b,k){for(var c=1;k>c;c+=2)b.push(c);return b}),lt:v(function(b,k,c){for(k=0>c?c+k:c;0<=--k;)b.push(k);return b}),gt:v(function(b,k,c){for(c=0>c?c+k:c;++c<k;)b.push(c);return b})}};
I.pseudos.nth=I.pseudos.eq;for(E in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})I.pseudos[E]=r(E);for(E in{submit:!0,reset:!0})I.pseudos[E]=m(E);y.prototype=I.filters=I.pseudos;I.setFilters=new y;K=k.tokenize=function(b,c){var h,l,n,q,r,m,v;if(r=fa[b+" "])return c?0:r.slice(0);r=b;m=[];for(v=I.preFilter;r;){h&&!(l=P.exec(r))||(l&&(r=r.slice(l[0].length)||r),m.push(n=[]));h=!1;(l=Z.exec(r))&&(h=l.shift(),n.push({value:h,type:l[0].replace(R," ")}),r=r.slice(h.length));for(q in I.filter)!(l=ea[q].exec(r))||
v[q]&&!(l=v[q](l))||(h=l.shift(),n.push({value:h,type:q,matches:l}),r=r.slice(h.length));if(!h)break}return c?r.length:r?k.error(b):fa(b,m).slice(0)};return J=k.compile=function(b,k){var c,h=[],l=[],n=Da[b+" "];if(!n){k||(k=K(b));for(c=k.length;c--;)n=C(k[c]),n[V]?h.push(n):l.push(n);n=Da(b,D(l,h));n.selector=b}return n},L=k.select=function(b,k,c,h){var l,n,q,r,m,v="function"==typeof b&&b,y=!h&&K(b=v.selector||b);if(c=c||[],1===y.length){if(n=y[0]=y[0].slice(0),2<n.length&&"ID"===(q=n[0]).type&&G.getById&&
9===k.nodeType&&U&&I.relative[n[1].type]){if(k=(I.find.ID(q.matches[0].replace(xa,ra),k)||[])[0],!k)return c;v&&(k=k.parentNode);b=b.slice(n.shift().value.length)}for(l=ea.needsContext.test(b)?0:n.length;l--&&(q=n[l],!I.relative[r=q.type]);)if((m=I.find[r])&&(h=m(q.matches[0].replace(xa,ra),Aa.test(n[0].type)&&p(k.parentNode)||k))){if(n.splice(l,1),b=h.length&&z(n),!b)return wa.apply(c,h),c;break}}return(v||J(b,y))(h,k,!U,c,Aa.test(b)&&p(k.parentNode)||k),c},G.sortStable=V.split("").sort(ca).join("")===
V,G.detectDuplicates=!!Q,ma(),G.sortDetached=l(function(b){return 1&b.compareDocumentPosition(M.createElement("div"))}),l(function(b){return b.innerHTML="\x3ca href\x3d'#'\x3e\x3c/a\x3e","#"===b.firstChild.getAttribute("href")})||n("type|href|height|width",function(b,k,c){return c?void 0:b.getAttribute(k,"type"===k.toLowerCase()?1:2)}),G.attributes&&l(function(b){return b.innerHTML="\x3cinput/\x3e",b.firstChild.setAttribute("value",""),""===b.firstChild.getAttribute("value")})||n("value",function(b,
k,c){return c||"input"!==b.nodeName.toLowerCase()?void 0:b.defaultValue}),l(function(b){return null==b.getAttribute("disabled")})||n("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(b,k,c){var h;return c?void 0:!0===b[k]?k.toLowerCase():(h=b.getAttributeNode(k))&&h.specified?h.value:null}),k}(b);w.find=da;w.expr=da.selectors;w.expr[":"]=w.expr.pseudos;w.unique=da.uniqueSort;w.text=da.getText;w.isXMLDoc=da.isXML;w.contains=
da.contains;var Y=w.expr.match.needsContext,Za=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Sa=/^.[^:#\[\.,]*$/;w.filter=function(b,k,c){var h=k[0];return c&&(b=":not("+b+")"),1===k.length&&1===h.nodeType?w.find.matchesSelector(h,b)?[h]:[]:w.find.matches(b,w.grep(k,function(b){return 1===b.nodeType}))};w.fn.extend({find:function(b){var k,c=[],h=this,l=h.length;if("string"!=typeof b)return this.pushStack(w(b).filter(function(){for(k=0;l>k;k++)if(w.contains(h[k],this))return!0}));for(k=0;l>k;k++)w.find(b,h[k],c);return c=
this.pushStack(1<l?w.unique(c):c),c.selector=this.selector?this.selector+" "+b:b,c},filter:function(b){return this.pushStack(l(this,b||[],!1))},not:function(b){return this.pushStack(l(this,b||[],!0))},is:function(b){return!!l(this,"string"==typeof b&&Y.test(b)?w(b):b||[],!1).length}});var ea,R=b.document,db=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(w.fn.init=function(b,k){var c,h;if(!b)return this;if("string"==typeof b){if(c="\x3c"===b.charAt(0)&&"\x3e"===b.charAt(b.length-1)&&3<=b.length?[null,b,null]:
db.exec(b),!c||!c[1]&&k)return!k||k.jquery?(k||ea).find(b):this.constructor(k).find(b);if(c[1]){if(k=k instanceof w?k[0]:k,w.merge(this,w.parseHTML(c[1],k&&k.nodeType?k.ownerDocument||k:R,!0)),Za.test(c[1])&&w.isPlainObject(k))for(c in k)w.isFunction(this[c])?this[c](k[c]):this.attr(c,k[c]);return this}if(h=R.getElementById(c[2]),h&&h.parentNode){if(h.id!==c[2])return ea.find(b);this.length=1;this[0]=h}return this.context=R,this.selector=b,this}return b.nodeType?(this.context=this[0]=b,this.length=
1,this):w.isFunction(b)?"undefined"!=typeof ea.ready?ea.ready(b):b(w):(void 0!==b.selector&&(this.selector=b.selector,this.context=b.context),w.makeArray(b,this))}).prototype=w.fn;ea=w(R);var eb=/^(?:parents|prev(?:Until|All))/,Fa={children:!0,contents:!0,next:!0,prev:!0};w.extend({dir:function(b,k,c){var h=[];for(b=b[k];b&&9!==b.nodeType&&(void 0===c||1!==b.nodeType||!w(b).is(c));)1===b.nodeType&&h.push(b),b=b[k];return h},sibling:function(b,k){for(var c=[];b;b=b.nextSibling)1===b.nodeType&&b!==
k&&c.push(b);return c}});w.fn.extend({has:function(b){var k,c=w(b,this),h=c.length;return this.filter(function(){for(k=0;h>k;k++)if(w.contains(this,c[k]))return!0})},closest:function(b,k){for(var c,h=0,l=this.length,n=[],q=Y.test(b)||"string"!=typeof b?w(b,k||this.context):0;l>h;h++)for(c=this[h];c&&c!==k;c=c.parentNode)if(11>c.nodeType&&(q?-1<q.index(c):1===c.nodeType&&w.find.matchesSelector(c,b))){n.push(c);break}return this.pushStack(1<n.length?w.unique(n):n)},index:function(b){return b?"string"==
typeof b?w.inArray(this[0],w(b)):w.inArray(b.jquery?b[0]:b,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(b,k){return this.pushStack(w.unique(w.merge(this.get(),w(b,k))))},addBack:function(b){return this.add(null==b?this.prevObject:this.prevObject.filter(b))}});w.each({parent:function(b){return(b=b.parentNode)&&11!==b.nodeType?b:null},parents:function(b){return w.dir(b,"parentNode")},parentsUntil:function(b,k,c){return w.dir(b,"parentNode",c)},next:function(b){return m(b,
"nextSibling")},prev:function(b){return m(b,"previousSibling")},nextAll:function(b){return w.dir(b,"nextSibling")},prevAll:function(b){return w.dir(b,"previousSibling")},nextUntil:function(b,k,c){return w.dir(b,"nextSibling",c)},prevUntil:function(b,k,c){return w.dir(b,"previousSibling",c)},siblings:function(b){return w.sibling((b.parentNode||{}).firstChild,b)},children:function(b){return w.sibling(b.firstChild)},contents:function(b){return w.nodeName(b,"iframe")?b.contentDocument||b.contentWindow.document:
w.merge([],b.childNodes)}},function(b,k){w.fn[b]=function(c,h){var l=w.map(this,k,c);return"Until"!==b.slice(-5)&&(h=c),h&&"string"==typeof h&&(l=w.filter(h,l)),1<this.length&&(Fa[b]||(l=w.unique(l)),eb.test(b)&&(l=l.reverse())),this.pushStack(l)}});var na=/\S+/g,Ta={};w.Callbacks=function(b){b="string"==typeof b?Ta[b]||p(b):w.extend({},b);var k,c,h,l,n,q,r=[],m=!b.once&&[],v=function(p){c=b.memory&&p;h=!0;n=q||0;q=0;l=r.length;for(k=!0;r&&l>n;n++)if(!1===r[n].apply(p[0],p[1])&&b.stopOnFalse){c=!1;
break}k=!1;r&&(m?m.length&&v(m.shift()):c?r=[]:y.disable())},y={add:function(){if(r){var h=r.length;!function Pb(k){w.each(k,function(k,c){k=w.type(c);"function"===k?b.unique&&y.has(c)||r.push(c):c&&c.length&&"string"!==k&&Pb(c)})}(arguments);k?l=r.length:c&&(q=h,v(c))}return this},remove:function(){return r&&w.each(arguments,function(b,c){for(var h;-1<(h=w.inArray(c,r,h));)r.splice(h,1),k&&(l>=h&&l--,n>=h&&n--)}),this},has:function(b){return b?-1<w.inArray(b,r):!(!r||!r.length)},empty:function(){return r=
[],l=0,this},disable:function(){return r=m=c=void 0,this},disabled:function(){return!r},lock:function(){return m=void 0,c||y.disable(),this},locked:function(){return!m},fireWith:function(b,c){return!r||h&&!m||(c=c||[],c=[b,c.slice?c.slice():c],k?m.push(c):v(c)),this},fire:function(){return y.fireWith(this,arguments),this},fired:function(){return!!h}};return y};w.extend({Deferred:function(b){var k=[["resolve","done",w.Callbacks("once memory"),"resolved"],["reject","fail",w.Callbacks("once memory"),
"rejected"],["notify","progress",w.Callbacks("memory")]],c="pending",h={state:function(){return c},always:function(){return l.done(arguments).fail(arguments),this},then:function(){var b=arguments;return w.Deferred(function(c){w.each(k,function(k,n){var q=w.isFunction(b[k])&&b[k];l[n[1]](function(){var b=q&&q.apply(this,arguments);b&&w.isFunction(b.promise)?b.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[n[0]+"With"](this===h?c.promise():this,q?[b]:arguments)})});b=null}).promise()},
promise:function(b){return null!=b?w.extend(b,h):h}},l={};return h.pipe=h.then,w.each(k,function(b,n){var q=n[2],r=n[3];h[n[1]]=q.add;r&&q.add(function(){c=r},k[1^b][2].disable,k[2][2].lock);l[n[0]]=function(){return l[n[0]+"With"](this===l?h:this,arguments),this};l[n[0]+"With"]=q.fireWith}),h.promise(l),b&&b.call(l,l),l},when:function(b){var k=0,c=ba.call(arguments),h=c.length,l=1!==h||b&&w.isFunction(b.promise)?h:0,n=1===l?b:w.Deferred(),q=function(b,k,c){return function(h){k[b]=this;c[b]=1<arguments.length?
ba.call(arguments):h;c===r?n.notifyWith(k,c):--l||n.resolveWith(k,c)}},r,m,v;if(1<h)for(r=Array(h),m=Array(h),v=Array(h);h>k;k++)c[k]&&w.isFunction(c[k].promise)?c[k].promise().done(q(k,v,c)).fail(n.reject).progress(q(k,m,r)):--l;return l||n.resolveWith(v,c),n.promise()}});var Na;w.fn.ready=function(b){return w.ready.promise().done(b),this};w.extend({isReady:!1,readyWait:1,holdReady:function(b){b?w.readyWait++:w.ready(!0)},ready:function(b){if(!0===b?!--w.readyWait:!w.isReady){if(!R.body)return setTimeout(w.ready);
w.isReady=!0;!0!==b&&0<--w.readyWait||(Na.resolveWith(R,[w]),w.fn.triggerHandler&&(w(R).triggerHandler("ready"),w(R).off("ready")))}}});w.ready.promise=function(k){if(!Na)if(Na=w.Deferred(),"complete"===R.readyState)setTimeout(w.ready);else if(R.addEventListener)R.addEventListener("DOMContentLoaded",u,!1),b.addEventListener("load",u,!1);else{R.attachEvent("onreadystatechange",u);b.attachEvent("onload",u);var c=!1;try{c=null==b.frameElement&&R.documentElement}catch(h){}c&&c.doScroll&&!function Mb(){if(!w.isReady){try{c.doScroll("left")}catch(b){return setTimeout(Mb,
50)}n();w.ready()}}()}return Na.promise(k)};for(var qb in w(P))break;P.ownLast="0"!==qb;P.inlineBlockNeedsLayout=!1;w(function(){var b,k,c,h;(c=R.getElementsByTagName("body")[0])&&c.style&&(k=R.createElement("div"),h=R.createElement("div"),h.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(h).appendChild(k),"undefined"!==typeof k.style.zoom&&(k.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",P.inlineBlockNeedsLayout=b=3===k.offsetWidth,
b&&(c.style.zoom=1)),c.removeChild(h))});(function(){var b=R.createElement("div");if(null==P.deleteExpando){P.deleteExpando=!0;try{delete b.test}catch(k){P.deleteExpando=!1}}})();w.acceptData=function(b){var k=w.noData[(b.nodeName+" ").toLowerCase()],c=+b.nodeType||1;return 1!==c&&9!==c?!1:!k||!0!==k&&b.getAttribute("classid")===k};var ob=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ma=/([A-Z])/g;w.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(b){return b=
b.nodeType?w.cache[b[w.expando]]:b[w.expando],!!b&&!q(b)},data:function(b,k,c){return v(b,k,c)},removeData:function(b,k){return y(b,k)},_data:function(b,k,c){return v(b,k,c,!0)},_removeData:function(b,k){return y(b,k,!0)}});w.fn.extend({data:function(b,c){var h,l,n,q=this[0],r=q&&q.attributes;if(void 0===b){if(this.length&&(n=w.data(q),1===q.nodeType&&!w._data(q,"parsedAttrs"))){for(h=r.length;h--;)r[h]&&(l=r[h].name,0===l.indexOf("data-")&&(l=w.camelCase(l.slice(5)),k(q,l,n[l])));w._data(q,"parsedAttrs",
!0)}return n}return"object"==typeof b?this.each(function(){w.data(this,b)}):1<arguments.length?this.each(function(){w.data(this,b,c)}):q?k(q,b,w.data(q,b)):void 0},removeData:function(b){return this.each(function(){w.removeData(this,b)})}});w.extend({queue:function(b,k,c){var h;return b?(k=(k||"fx")+"queue",h=w._data(b,k),c&&(!h||w.isArray(c)?h=w._data(b,k,w.makeArray(c)):h.push(c)),h||[]):void 0},dequeue:function(b,k){k=k||"fx";var c=w.queue(b,k),h=c.length,l=c.shift(),n=w._queueHooks(b,k),q=function(){w.dequeue(b,
k)};"inprogress"===l&&(l=c.shift(),h--);l&&("fx"===k&&c.unshift("inprogress"),delete n.stop,l.call(b,q,n));!h&&n&&n.empty.fire()},_queueHooks:function(b,k){var c=k+"queueHooks";return w._data(b,c)||w._data(b,c,{empty:w.Callbacks("once memory").add(function(){w._removeData(b,k+"queue");w._removeData(b,c)})})}});w.fn.extend({queue:function(b,k){var c=2;return"string"!=typeof b&&(k=b,b="fx",c--),arguments.length<c?w.queue(this[0],b):void 0===k?this:this.each(function(){var c=w.queue(this,b,k);w._queueHooks(this,
b);"fx"===b&&"inprogress"!==c[0]&&w.dequeue(this,b)})},dequeue:function(b){return this.each(function(){w.dequeue(this,b)})},clearQueue:function(b){return this.queue(b||"fx",[])},promise:function(b,k){var c,h=1,l=w.Deferred(),n=this,q=this.length,r=function(){--h||l.resolveWith(n,[n])};"string"!=typeof b&&(k=b,b=void 0);for(b=b||"fx";q--;)(c=w._data(n[q],b+"queueHooks"))&&c.empty&&(h++,c.empty.add(r));return r(),l.promise(k)}});var $a=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Aa=["Top","Right",
"Bottom","Left"],za=function(b,k){return b=k||b,"none"===w.css(b,"display")||!w.contains(b.ownerDocument,b)},ta=w.access=function(b,k,c,h,l,n,q){var r=0,m=b.length,v=null==c;if("object"===w.type(c))for(r in l=!0,c)w.access(b,k,r,c[r],!0,n,q);else if(void 0!==h&&(l=!0,w.isFunction(h)||(q=!0),v&&(q?(k.call(b,h),k=null):(v=k,k=function(b,k,c){return v.call(w(b),c)})),k))for(;m>r;r++)k(b[r],c,q?h:h.call(b[r],r,k(b[r],c)));return l?b:v?k.call(b):m?k(b[0],c):n},xa=/^(?:checkbox|radio)$/i;!function(){var b=
R.createElement("input"),k=R.createElement("div"),c=R.createDocumentFragment();if(k.innerHTML="  \x3clink/\x3e\x3ctable\x3e\x3c/table\x3e\x3ca href\x3d'/a'\x3ea\x3c/a\x3e\x3cinput type\x3d'checkbox'/\x3e",P.leadingWhitespace=3===k.firstChild.nodeType,P.tbody=!k.getElementsByTagName("tbody").length,P.htmlSerialize=!!k.getElementsByTagName("link").length,P.html5Clone="\x3c:nav\x3e\x3c/:nav\x3e"!==R.createElement("nav").cloneNode(!0).outerHTML,b.type="checkbox",b.checked=!0,c.appendChild(b),P.appendChecked=
b.checked,k.innerHTML="\x3ctextarea\x3ex\x3c/textarea\x3e",P.noCloneChecked=!!k.cloneNode(!0).lastChild.defaultValue,c.appendChild(k),k.innerHTML="\x3cinput type\x3d'radio' checked\x3d'checked' name\x3d't'/\x3e",P.checkClone=k.cloneNode(!0).cloneNode(!0).lastChild.checked,P.noCloneEvent=!0,k.attachEvent&&(k.attachEvent("onclick",function(){P.noCloneEvent=!1}),k.cloneNode(!0).click()),null==P.deleteExpando){P.deleteExpando=!0;try{delete k.test}catch(h){P.deleteExpando=!1}}}();(function(){var k,c,h=
R.createElement("div");for(k in{submit:!0,change:!0,focusin:!0})c="on"+k,(P[k+"Bubbles"]=c in b)||(h.setAttribute(c,"t"),P[k+"Bubbles"]=!1===h.attributes[c].expando)})();var rb=/^(?:input|select|textarea)$/i,Qb=/^key/,Rb=/^(?:mouse|pointer|contextmenu)|click/,Ab=/^(?:focusinfocus|focusoutblur)$/,ib=/^([^.]*)(?:\.(.+)|)$/;w.event={global:{},add:function(b,k,c,h,l){var n,q,r,m,v,p,y,z,u,x;if(r=w._data(b)){c.handler&&(m=c,c=m.handler,l=m.selector);c.guid||(c.guid=w.guid++);(q=r.events)||(q=r.events=
{});(p=r.handle)||(p=r.handle=function(b){return"undefined"===typeof w||b&&w.event.triggered===b.type?void 0:w.event.dispatch.apply(p.elem,arguments)},p.elem=b);k=(k||"").match(na)||[""];for(r=k.length;r--;)n=ib.exec(k[r])||[],u=x=n[1],n=(n[2]||"").split(".").sort(),u&&(v=w.event.special[u]||{},u=(l?v.delegateType:v.bindType)||u,v=w.event.special[u]||{},y=w.extend({type:u,origType:x,data:h,handler:c,guid:c.guid,selector:l,needsContext:l&&w.expr.match.needsContext.test(l),namespace:n.join(".")},m),
(z=q[u])||(z=q[u]=[],z.delegateCount=0,v.setup&&!1!==v.setup.call(b,h,n,p)||(b.addEventListener?b.addEventListener(u,p,!1):b.attachEvent&&b.attachEvent("on"+u,p))),v.add&&(v.add.call(b,y),y.handler.guid||(y.handler.guid=c.guid)),l?z.splice(z.delegateCount++,0,y):z.push(y),w.event.global[u]=!0);b=null}},remove:function(b,k,c,h,l){var n,q,r,m,v,p,y,z,u,x,A,B=w.hasData(b)&&w._data(b);if(B&&(p=B.events)){k=(k||"").match(na)||[""];for(v=k.length;v--;)if(r=ib.exec(k[v])||[],u=A=r[1],x=(r[2]||"").split(".").sort(),
u){y=w.event.special[u]||{};u=(h?y.delegateType:y.bindType)||u;z=p[u]||[];r=r[2]&&new RegExp("(^|\\.)"+x.join("\\.(?:.*\\.|)")+"(\\.|$)");for(m=n=z.length;n--;)q=z[n],!l&&A!==q.origType||c&&c.guid!==q.guid||r&&!r.test(q.namespace)||h&&h!==q.selector&&("**"!==h||!q.selector)||(z.splice(n,1),q.selector&&z.delegateCount--,y.remove&&y.remove.call(b,q));m&&!z.length&&(y.teardown&&!1!==y.teardown.call(b,x,B.handle)||w.removeEvent(b,u,B.handle),delete p[u])}else for(u in p)w.event.remove(b,u+k[v],c,h,!0);
w.isEmptyObject(p)&&(delete B.handle,w._removeData(b,"events"))}},trigger:function(k,c,h,l){var n,q,r,m,v,p,y=[h||R],z=ra.call(k,"type")?k.type:k;p=ra.call(k,"namespace")?k.namespace.split("."):[];if(r=n=h=h||R,3!==h.nodeType&&8!==h.nodeType&&!Ab.test(z+w.event.triggered)&&(0<=z.indexOf(".")&&(p=z.split("."),z=p.shift(),p.sort()),q=0>z.indexOf(":")&&"on"+z,k=k[w.expando]?k:new w.Event(z,"object"==typeof k&&k),k.isTrigger=l?2:3,k.namespace=p.join("."),k.namespace_re=k.namespace?new RegExp("(^|\\.)"+
p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,k.result=void 0,k.target||(k.target=h),c=null==c?[k]:w.makeArray(c,[k]),v=w.event.special[z]||{},l||!v.trigger||!1!==v.trigger.apply(h,c))){if(!l&&!v.noBubble&&!w.isWindow(h)){m=v.delegateType||z;for(Ab.test(m+z)||(r=r.parentNode);r;r=r.parentNode)y.push(r),n=r;n===(h.ownerDocument||R)&&y.push(n.defaultView||n.parentWindow||b)}for(p=0;(r=y[p++])&&!k.isPropagationStopped();)k.type=1<p?m:v.bindType||z,(n=(w._data(r,"events")||{})[k.type]&&w._data(r,"handle"))&&
n.apply(r,c),(n=q&&r[q])&&n.apply&&w.acceptData(r)&&(k.result=n.apply(r,c),!1===k.result&&k.preventDefault());if(k.type=z,!(l||k.isDefaultPrevented()||v._default&&!1!==v._default.apply(y.pop(),c))&&w.acceptData(h)&&q&&h[z]&&!w.isWindow(h)){(n=h[q])&&(h[q]=null);w.event.triggered=z;try{h[z]()}catch(u){}w.event.triggered=void 0;n&&(h[q]=n)}return k.result}},dispatch:function(b){b=w.event.fix(b);var k,c,h,l,n,q,r=ba.call(arguments);k=(w._data(this,"events")||{})[b.type]||[];var m=w.event.special[b.type]||
{};if(r[0]=b,b.delegateTarget=this,!m.preDispatch||!1!==m.preDispatch.call(this,b)){q=w.event.handlers.call(this,b,k);for(k=0;(l=q[k++])&&!b.isPropagationStopped();)for(b.currentTarget=l.elem,n=0;(h=l.handlers[n++])&&!b.isImmediatePropagationStopped();)b.namespace_re&&!b.namespace_re.test(h.namespace)||(b.handleObj=h,b.data=h.data,c=((w.event.special[h.origType]||{}).handle||h.handler).apply(l.elem,r),void 0===c||!1!==(b.result=c)||(b.preventDefault(),b.stopPropagation()));return m.postDispatch&&
m.postDispatch.call(this,b),b.result}},handlers:function(b,k){var c,h,l,n,q=[],r=k.delegateCount,m=b.target;if(r&&m.nodeType&&(!b.button||"click"!==b.type))for(;m!=this;m=m.parentNode||this)if(1===m.nodeType&&(!0!==m.disabled||"click"!==b.type)){l=[];for(n=0;r>n;n++)h=k[n],c=h.selector+" ",void 0===l[c]&&(l[c]=h.needsContext?0<=w(c,this).index(m):w.find(c,this,null,[m]).length),l[c]&&l.push(h);l.length&&q.push({elem:m,handlers:l})}return r<k.length&&q.push({elem:this,handlers:k.slice(r)}),q},fix:function(b){if(b[w.expando])return b;
var k,c,h;k=b.type;var l=b,n=this.fixHooks[k];n||(this.fixHooks[k]=n=Rb.test(k)?this.mouseHooks:Qb.test(k)?this.keyHooks:{});h=n.props?this.props.concat(n.props):this.props;b=new w.Event(l);for(k=h.length;k--;)c=h[k],b[c]=l[c];return b.target||(b.target=l.srcElement||R),3===b.target.nodeType&&(b.target=b.target.parentNode),b.metaKey=!!b.metaKey,n.filter?n.filter(b,l):b},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(b,k){return null==b.which&&(b.which=null!=k.charCode?k.charCode:k.keyCode),b}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(b,k){var c,h,l,n=k.button,q=k.fromElement;return null==b.pageX&&null!=k.clientX&&(h=b.target.ownerDocument||R,l=h.documentElement,c=h.body,b.pageX=k.clientX+(l&&l.scrollLeft||c&&c.scrollLeft||0)-(l&&
l.clientLeft||c&&c.clientLeft||0),b.pageY=k.clientY+(l&&l.scrollTop||c&&c.scrollTop||0)-(l&&l.clientTop||c&&c.clientTop||0)),!b.relatedTarget&&q&&(b.relatedTarget=q===b.target?k.toElement:q),b.which||void 0===n||(b.which=1&n?1:2&n?3:4&n?2:0),b}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==r()&&this.focus)try{return this.focus(),!1}catch(b){}},delegateType:"focusin"},blur:{trigger:function(){return this===r()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return w.nodeName(this,
"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(b){return w.nodeName(b.target,"a")}},beforeunload:{postDispatch:function(b){void 0!==b.result&&b.originalEvent&&(b.originalEvent.returnValue=b.result)}}},simulate:function(b,k,c,h){b=w.extend(new w.Event,c,{type:b,isSimulated:!0,originalEvent:{}});h?w.event.trigger(b,null,k):w.event.dispatch.call(k,b);b.isDefaultPrevented()&&c.preventDefault()}};w.removeEvent=R.removeEventListener?function(b,k,c){b.removeEventListener&&
b.removeEventListener(k,c,!1)}:function(b,k,c){k="on"+k;b.detachEvent&&("undefined"===typeof b[k]&&(b[k]=null),b.detachEvent(k,c))};w.Event=function(b,k){return this instanceof w.Event?(b&&b.type?(this.originalEvent=b,this.type=b.type,this.isDefaultPrevented=b.defaultPrevented||void 0===b.defaultPrevented&&!1===b.returnValue?z:A):this.type=b,k&&w.extend(this,k),this.timeStamp=b&&b.timeStamp||w.now(),void(this[w.expando]=!0)):new w.Event(b,k)};w.Event.prototype={isDefaultPrevented:A,isPropagationStopped:A,
isImmediatePropagationStopped:A,preventDefault:function(){var b=this.originalEvent;this.isDefaultPrevented=z;b&&(b.preventDefault?b.preventDefault():b.returnValue=!1)},stopPropagation:function(){var b=this.originalEvent;this.isPropagationStopped=z;b&&(b.stopPropagation&&b.stopPropagation(),b.cancelBubble=!0)},stopImmediatePropagation:function(){var b=this.originalEvent;this.isImmediatePropagationStopped=z;b&&b.stopImmediatePropagation&&b.stopImmediatePropagation();this.stopPropagation()}};w.each({mouseenter:"mouseover",
mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(b,k){w.event.special[b]={delegateType:k,bindType:k,handle:function(b){var c,h=b.relatedTarget,l=b.handleObj;return(!h||h!==this&&!w.contains(this,h))&&(b.type=l.origType,c=l.handler.apply(this,arguments),b.type=k),c}}});P.submitBubbles||(w.event.special.submit={setup:function(){return w.nodeName(this,"form")?!1:void w.event.add(this,"click._submit keypress._submit",function(b){b=b.target;(b=w.nodeName(b,"input")||
w.nodeName(b,"button")?b.form:void 0)&&!w._data(b,"submitBubbles")&&(w.event.add(b,"submit._submit",function(b){b._submit_bubble=!0}),w._data(b,"submitBubbles",!0))})},postDispatch:function(b){b._submit_bubble&&(delete b._submit_bubble,this.parentNode&&!b.isTrigger&&w.event.simulate("submit",this.parentNode,b,!0))},teardown:function(){return w.nodeName(this,"form")?!1:void w.event.remove(this,"._submit")}});P.changeBubbles||(w.event.special.change={setup:function(){return rb.test(this.nodeName)?(("checkbox"===
this.type||"radio"===this.type)&&(w.event.add(this,"propertychange._change",function(b){"checked"===b.originalEvent.propertyName&&(this._just_changed=!0)}),w.event.add(this,"click._change",function(b){this._just_changed&&!b.isTrigger&&(this._just_changed=!1);w.event.simulate("change",this,b,!0)})),!1):void w.event.add(this,"beforeactivate._change",function(b){b=b.target;rb.test(b.nodeName)&&!w._data(b,"changeBubbles")&&(w.event.add(b,"change._change",function(b){!this.parentNode||b.isSimulated||b.isTrigger||
w.event.simulate("change",this.parentNode,b,!0)}),w._data(b,"changeBubbles",!0))})},handle:function(b){var k=b.target;return this!==k||b.isSimulated||b.isTrigger||"radio"!==k.type&&"checkbox"!==k.type?b.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return w.event.remove(this,"._change"),!rb.test(this.nodeName)}});P.focusinBubbles||w.each({focus:"focusin",blur:"focusout"},function(b,k){var c=function(b){w.event.simulate(k,b.target,w.event.fix(b),!0)};w.event.special[k]={setup:function(){var h=
this.ownerDocument||this,l=w._data(h,k);l||h.addEventListener(b,c,!0);w._data(h,k,(l||0)+1)},teardown:function(){var h=this.ownerDocument||this,l=w._data(h,k)-1;l?w._data(h,k,l):(h.removeEventListener(b,c,!0),w._removeData(h,k))}}});w.fn.extend({on:function(b,k,c,h,l){var n,q;if("object"==typeof b){"string"!=typeof k&&(c=c||k,k=void 0);for(n in b)this.on(n,k,c,b[n],l);return this}if(null==c&&null==h?(h=k,c=k=void 0):null==h&&("string"==typeof k?(h=c,c=void 0):(h=c,c=k,k=void 0)),!1===h)h=A;else if(!h)return this;
return 1===l&&(q=h,h=function(b){return w().off(b),q.apply(this,arguments)},h.guid=q.guid||(q.guid=w.guid++)),this.each(function(){w.event.add(this,b,h,c,k)})},one:function(b,k,c,h){return this.on(b,k,c,h,1)},off:function(b,k,c){var h,l;if(b&&b.preventDefault&&b.handleObj)return h=b.handleObj,w(b.delegateTarget).off(h.namespace?h.origType+"."+h.namespace:h.origType,h.selector,h.handler),this;if("object"==typeof b){for(l in b)this.off(l,k,b[l]);return this}return(!1===k||"function"==typeof k)&&(c=
k,k=void 0),!1===c&&(c=A),this.each(function(){w.event.remove(this,b,c,k)})},trigger:function(b,k){return this.each(function(){w.event.trigger(b,k,this)})},triggerHandler:function(b,k){var c=this[0];return c?w.event.trigger(b,k,c,!0):void 0}});var yb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Sb=/ jQuery\d+="(?:null|\d+)"/g,Oa=new RegExp("\x3c(?:"+yb+")[\\s/\x3e]","i"),ya=/^\s+/,Ja=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
Ga=/<([\w:]+)/,fb=/<tbody/i,sa=/<|&#?\w+;/,ha=/<(?:script|style|link)/i,Ba=/checked\s*(?:[^=]|=\s*.checked.)/i,oa=/^$|\/(?:java|ecma)script/i,va=/^true\/(.*)/,gb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,pa={option:[1,"\x3cselect multiple\x3d'multiple'\x3e","\x3c/select\x3e"],legend:[1,"\x3cfieldset\x3e","\x3c/fieldset\x3e"],area:[1,"\x3cmap\x3e","\x3c/map\x3e"],param:[1,"\x3cobject\x3e","\x3c/object\x3e"],thead:[1,"\x3ctable\x3e","\x3c/table\x3e"],tr:[2,"\x3ctable\x3e\x3ctbody\x3e","\x3c/tbody\x3e\x3c/table\x3e"],
col:[2,"\x3ctable\x3e\x3ctbody\x3e\x3c/tbody\x3e\x3ccolgroup\x3e","\x3c/colgroup\x3e\x3c/table\x3e"],td:[3,"\x3ctable\x3e\x3ctbody\x3e\x3ctr\x3e","\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e"],_default:P.htmlSerialize?[0,"",""]:[1,"X\x3cdiv\x3e","\x3c/div\x3e"]},Ha=B(R).appendChild(R.createElement("div"));pa.optgroup=pa.option;pa.tbody=pa.tfoot=pa.colgroup=pa.caption=pa.thead;pa.th=pa.td;w.extend({clone:function(b,k,c){var h,l,n,q,r,m=w.contains(b.ownerDocument,b);if(P.html5Clone||w.isXMLDoc(b)||!Oa.test("\x3c"+
b.nodeName+"\x3e")?n=b.cloneNode(!0):(Ha.innerHTML=b.outerHTML,Ha.removeChild(n=Ha.firstChild)),!(P.noCloneEvent&&P.noCloneChecked||1!==b.nodeType&&11!==b.nodeType||w.isXMLDoc(b)))for(h=C(n),r=C(b),q=0;null!=(l=r[q]);++q)if(h[q]){var v=h[q],p,y=void 0,z;if(1===v.nodeType){if(p=v.nodeName.toLowerCase(),!P.noCloneEvent&&v[w.expando]){z=w._data(v);for(y in z.events)w.removeEvent(v,y,z.handle);v.removeAttribute(w.expando)}"script"===p&&v.text!==l.text?(F(v).text=l.text,E(v)):"object"===p?(v.parentNode&&
(v.outerHTML=l.outerHTML),P.html5Clone&&l.innerHTML&&!w.trim(v.innerHTML)&&(v.innerHTML=l.innerHTML)):"input"===p&&xa.test(l.type)?(v.defaultChecked=v.checked=l.checked,v.value!==l.value&&(v.value=l.value)):"option"===p?v.defaultSelected=v.selected=l.defaultSelected:("input"===p||"textarea"===p)&&(v.defaultValue=l.defaultValue)}}if(k)if(c)for(r=r||C(b),h=h||C(n),q=0;null!=(l=r[q]);q++)K(l,h[q]);else K(b,n);return h=C(n,"script"),0<h.length&&G(h,!m&&C(b,"script")),n},buildFragment:function(b,k,c,h){for(var l,
n,q,r,m,v,p,y=b.length,z=B(k),u=[],A=0;y>A;A++)if(n=b[A],n||0===n)if("object"===w.type(n))w.merge(u,n.nodeType?[n]:n);else if(sa.test(n)){r=r||z.appendChild(k.createElement("div"));m=(Ga.exec(n)||["",""])[1].toLowerCase();p=pa[m]||pa._default;r.innerHTML=p[1]+n.replace(Ja,"\x3c$1\x3e\x3c/$2\x3e")+p[2];for(l=p[0];l--;)r=r.lastChild;if(!P.leadingWhitespace&&ya.test(n)&&u.push(k.createTextNode(ya.exec(n)[0])),!P.tbody)for(l=(n="table"!==m||fb.test(n)?"\x3ctable\x3e"!==p[1]||fb.test(n)?0:r:r.firstChild)&&
n.childNodes.length;l--;)w.nodeName(v=n.childNodes[l],"tbody")&&!v.childNodes.length&&n.removeChild(v);w.merge(u,r.childNodes);for(r.textContent="";r.firstChild;)r.removeChild(r.firstChild);r=z.lastChild}else u.push(k.createTextNode(n));r&&z.removeChild(r);P.appendChecked||w.grep(C(u,"input"),x);for(A=0;n=u[A++];)if((!h||-1===w.inArray(n,h))&&(q=w.contains(n.ownerDocument,n),r=C(z.appendChild(n),"script"),q&&G(r),c))for(l=0;n=r[l++];)oa.test(n.type||"")&&c.push(n);return z},cleanData:function(b,k){for(var c,
h,l,n,q=0,r=w.expando,m=w.cache,v=P.deleteExpando,p=w.event.special;null!=(c=b[q]);q++)if((k||w.acceptData(c))&&(l=c[r],n=l&&m[l])){if(n.events)for(h in n.events)p[h]?w.event.remove(c,h):w.removeEvent(c,h,n.handle);m[l]&&(delete m[l],v?delete c[r]:"undefined"!==typeof c.removeAttribute?c.removeAttribute(r):c[r]=null,ga.push(l))}}});w.fn.extend({text:function(b){return ta(this,function(b){return void 0===b?w.text(this):this.empty().append((this[0]&&this[0].ownerDocument||R).createTextNode(b))},null,
b,arguments.length)},append:function(){return this.domManip(arguments,function(b){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||D(this,b).appendChild(b)})},prepend:function(){return this.domManip(arguments,function(b){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var k=D(this,b);k.insertBefore(b,k.firstChild)}})},before:function(){return this.domManip(arguments,function(b){this.parentNode&&this.parentNode.insertBefore(b,this)})},after:function(){return this.domManip(arguments,
function(b){this.parentNode&&this.parentNode.insertBefore(b,this.nextSibling)})},remove:function(b,k){for(var c=b?w.filter(b,this):this,h=0;null!=(b=c[h]);h++)k||1!==b.nodeType||w.cleanData(C(b)),b.parentNode&&(k&&w.contains(b.ownerDocument,b)&&G(C(b,"script")),b.parentNode.removeChild(b));return this},empty:function(){for(var b,k=0;null!=(b=this[k]);k++){for(1===b.nodeType&&w.cleanData(C(b,!1));b.firstChild;)b.removeChild(b.firstChild);b.options&&w.nodeName(b,"select")&&(b.options.length=0)}return this},
clone:function(b,k){return b=null==b?!1:b,k=null==k?b:k,this.map(function(){return w.clone(this,b,k)})},html:function(b){return ta(this,function(b){var k=this[0]||{},c=0,h=this.length;if(void 0===b)return 1===k.nodeType?k.innerHTML.replace(Sb,""):void 0;if(!("string"!=typeof b||ha.test(b)||!P.htmlSerialize&&Oa.test(b)||!P.leadingWhitespace&&ya.test(b)||pa[(Ga.exec(b)||["",""])[1].toLowerCase()])){b=b.replace(Ja,"\x3c$1\x3e\x3c/$2\x3e");try{for(;h>c;c++)k=this[c]||{},1===k.nodeType&&(w.cleanData(C(k,
!1)),k.innerHTML=b);k=0}catch(l){}}k&&this.empty().append(b)},null,b,arguments.length)},replaceWith:function(){var b=arguments[0];return this.domManip(arguments,function(k){b=this.parentNode;w.cleanData(C(this));b&&b.replaceChild(k,this)}),b&&(b.length||b.nodeType)?this:this.remove()},detach:function(b){return this.remove(b,!0)},domManip:function(b,k){b=qa.apply([],b);var c,h,l,n,q=0,r=this.length,m=this,v=r-1,p=b[0],y=w.isFunction(p);if(y||1<r&&"string"==typeof p&&!P.checkClone&&Ba.test(p))return this.each(function(c){var h=
m.eq(c);y&&(b[0]=p.call(this,c,h.html()));h.domManip(b,k)});if(r&&(n=w.buildFragment(b,this[0].ownerDocument,!1,this),c=n.firstChild,1===n.childNodes.length&&(n=c),c)){l=w.map(C(n,"script"),F);for(h=l.length;r>q;q++)c=n,q!==v&&(c=w.clone(c,!0,!0),h&&w.merge(l,C(c,"script"))),k.call(this[q],c,q);if(h)for(n=l[l.length-1].ownerDocument,w.map(l,E),q=0;h>q;q++)c=l[q],oa.test(c.type||"")&&!w._data(c,"globalEval")&&w.contains(n,c)&&(c.src?w._evalUrl&&w._evalUrl(c.src):w.globalEval((c.text||c.textContent||
c.innerHTML||"").replace(gb,"")));n=c=null}return this}});w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(b,k){w.fn[b]=function(b){for(var c=0,h=[],l=w(b),n=l.length-1;n>=c;c++)b=c===n?this:this.clone(!0),w(l[c])[k](b),ma.apply(h,b.get());return this.pushStack(h)}});var Ca,Ua={};!function(){var b;P.shrinkWrapBlocks=function(){if(null!=b)return b;b=!1;var k,c,h;return c=R.getElementsByTagName("body")[0],c&&c.style?(k=R.createElement("div"),
h=R.createElement("div"),h.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(h).appendChild(k),"undefined"!==typeof k.style.zoom&&(k.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",k.appendChild(R.createElement("div")).style.width="5px",b=3!==k.offsetWidth),c.removeChild(h),b):void 0}}();var jb=/^margin/,Ia=new RegExp("^("+$a+")(?!px)[a-z%]+$","i"),
Da,wa,sb=/^(top|right|bottom|left)$/;b.getComputedStyle?(Da=function(b){return b.ownerDocument.defaultView.getComputedStyle(b,null)},wa=function(b,k,c){var h,l,n,q,r=b.style;return c=c||Da(b),q=c?c.getPropertyValue(k)||c[k]:void 0,c&&(""!==q||w.contains(b.ownerDocument,b)||(q=w.style(b,k)),Ia.test(q)&&jb.test(k)&&(h=r.width,l=r.minWidth,n=r.maxWidth,r.minWidth=r.maxWidth=r.width=q,q=c.width,r.width=h,r.minWidth=l,r.maxWidth=n)),void 0===q?q:q+""}):R.documentElement.currentStyle&&(Da=function(b){return b.currentStyle},
wa=function(b,k,c){var h,l,n,q,r=b.style;return c=c||Da(b),q=c?c[k]:void 0,null==q&&r&&r[k]&&(q=r[k]),Ia.test(q)&&!sb.test(k)&&(h=r.left,l=b.runtimeStyle,n=l&&l.left,n&&(l.left=b.currentStyle.left),r.left="fontSize"===k?"1em":q,q=r.pixelLeft+"px",r.left=h,n&&(l.left=n)),void 0===q?q:q+""||"auto"});!function(){var k,c,h,l,n,q,r;if(k=R.createElement("div"),k.innerHTML="  \x3clink/\x3e\x3ctable\x3e\x3c/table\x3e\x3ca href\x3d'/a'\x3ea\x3c/a\x3e\x3cinput type\x3d'checkbox'/\x3e",h=k.getElementsByTagName("a")[0],
c=h&&h.style){var m=function(){var k,c,h,m;(c=R.getElementsByTagName("body")[0])&&c.style&&(k=R.createElement("div"),h=R.createElement("div"),h.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(h).appendChild(k),k.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",l=n=!1,r=!0,b.getComputedStyle&&(l="1%"!==(b.getComputedStyle(k,
null)||{}).top,n="4px"===(b.getComputedStyle(k,null)||{width:"4px"}).width,m=k.appendChild(R.createElement("div")),m.style.cssText=k.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",m.style.marginRight=m.style.width="0",k.style.width="1px",r=!parseFloat((b.getComputedStyle(m,null)||{}).marginRight)),k.innerHTML="\x3ctable\x3e\x3ctr\x3e\x3ctd\x3e\x3c/td\x3e\x3ctd\x3et\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e",m=k.getElementsByTagName("td"),
m[0].style.cssText="margin:0;border:0;padding:0;display:none",q=0===m[0].offsetHeight,q&&(m[0].style.display="",m[1].style.display="none",q=0===m[0].offsetHeight),c.removeChild(h))};c.cssText="float:left;opacity:.5";P.opacity="0.5"===c.opacity;P.cssFloat=!!c.cssFloat;k.style.backgroundClip="content-box";k.cloneNode(!0).style.backgroundClip="";P.clearCloneStyle="content-box"===k.style.backgroundClip;P.boxSizing=""===c.boxSizing||""===c.MozBoxSizing||""===c.WebkitBoxSizing;w.extend(P,{reliableHiddenOffsets:function(){return null==
q&&m(),q},boxSizingReliable:function(){return null==n&&m(),n},pixelPosition:function(){return null==l&&m(),l},reliableMarginRight:function(){return null==r&&m(),r}})}}();w.swap=function(b,k,c,h){var l,n={};for(l in k)n[l]=b.style[l],b.style[l]=k[l];c=c.apply(b,h||[]);for(l in k)b.style[l]=n[l];return c};var Ka=/alpha\([^)]*\)/i,Tb=/opacity\s*=\s*([^)]*)/,Ub=/^(none|table(?!-c[ea]).+)/,Nb=new RegExp("^("+$a+")(.*)$","i"),Vb=new RegExp("^([+-])\x3d("+$a+")","i"),Wb={position:"absolute",visibility:"hidden",
display:"block"},Bb={letterSpacing:"0",fontWeight:"400"},zb=["Webkit","O","Moz","ms"];w.extend({cssHooks:{opacity:{get:function(b,k){if(k)return b=wa(b,"opacity"),""===b?"1":b}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":P.cssFloat?"cssFloat":"styleFloat"},style:function(b,k,c,h){if(b&&3!==b.nodeType&&8!==b.nodeType&&b.style){var l,n,q,r=w.camelCase(k),m=b.style;if(k=
w.cssProps[r]||(w.cssProps[r]=M(m,r)),q=w.cssHooks[k]||w.cssHooks[r],void 0===c)return q&&"get"in q&&void 0!==(l=q.get(b,!1,h))?l:m[k];if(n=typeof c,"string"===n&&(l=Vb.exec(c))&&(c=(l[1]+1)*l[2]+parseFloat(w.css(b,k)),n="number"),null!=c&&c===c&&("number"!==n||w.cssNumber[r]||(c+="px"),P.clearCloneStyle||""!==c||0!==k.indexOf("background")||(m[k]="inherit"),!(q&&"set"in q&&void 0===(c=q.set(b,c,h)))))try{m[k]=c}catch(v){}}},css:function(b,k,c,h){var l,n,q,r=w.camelCase(k);return k=w.cssProps[r]||
(w.cssProps[r]=M(b.style,r)),q=w.cssHooks[k]||w.cssHooks[r],q&&"get"in q&&(n=q.get(b,!0,c)),void 0===n&&(n=wa(b,k,h)),"normal"===n&&k in Bb&&(n=Bb[k]),""===c||c?(l=parseFloat(n),!0===c||w.isNumeric(l)?l||0:n):n}});w.each(["height","width"],function(b,k){w.cssHooks[k]={get:function(b,c,h){return c?Ub.test(w.css(b,"display"))&&0===b.offsetWidth?w.swap(b,Wb,function(){return T(b,k,h)}):T(b,k,h):void 0},set:function(b,c,h){var l=h&&Da(b);return aa(b,c,h?ca(b,k,h,P.boxSizing&&"border-box"===w.css(b,"boxSizing",
!1,l),l):0)}}});P.opacity||(w.cssHooks.opacity={get:function(b,k){return Tb.test((k&&b.currentStyle?b.currentStyle.filter:b.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":k?"1":""},set:function(b,k){var c=b.style;b=b.currentStyle;var h=w.isNumeric(k)?"alpha(opacity\x3d"+100*k+")":"",l=b&&b.filter||c.filter||"";c.zoom=1;(1<=k||""===k)&&""===w.trim(l.replace(Ka,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===k||b&&!b.filter)||(c.filter=Ka.test(l)?l.replace(Ka,h):l+" "+h)}});w.cssHooks.marginRight=
L(P.reliableMarginRight,function(b,k){return k?w.swap(b,{display:"inline-block"},wa,[b,"marginRight"]):void 0});w.each({margin:"",padding:"",border:"Width"},function(b,k){w.cssHooks[b+k]={expand:function(c){var h=0,l={};for(c="string"==typeof c?c.split(" "):[c];4>h;h++)l[b+Aa[h]+k]=c[h]||c[h-2]||c[0];return l}};jb.test(b)||(w.cssHooks[b+k].set=aa)});w.fn.extend({css:function(b,k){return ta(this,function(b,k,c){var h,l={},n=0;if(w.isArray(k)){c=Da(b);for(h=k.length;h>n;n++)l[k[n]]=w.css(b,k[n],!1,
c);return l}return void 0!==c?w.style(b,k,c):w.css(b,k)},b,k,1<arguments.length)},show:function(){return H(this,!0)},hide:function(){return H(this)},toggle:function(b){return"boolean"==typeof b?b?this.show():this.hide():this.each(function(){za(this)?w(this).show():w(this).hide()})}});w.Tween=U;U.prototype={constructor:U,init:function(b,k,c,h,l,n){this.elem=b;this.prop=c;this.easing=l||"swing";this.options=k;this.start=this.now=this.cur();this.end=h;this.unit=n||(w.cssNumber[c]?"":"px")},cur:function(){var b=
U.propHooks[this.prop];return b&&b.get?b.get(this):U.propHooks._default.get(this)},run:function(b){var k,c=U.propHooks[this.prop];return this.pos=k=this.options.duration?w.easing[this.easing](b,this.options.duration*b,0,1,this.options.duration):b,this.now=(this.end-this.start)*k+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):U.propHooks._default.set(this),this}};U.prototype.init.prototype=U.prototype;U.propHooks={_default:{get:function(b){var k;
return null==b.elem[b.prop]||b.elem.style&&null!=b.elem.style[b.prop]?(k=w.css(b.elem,b.prop,""),k&&"auto"!==k?k:0):b.elem[b.prop]},set:function(b){w.fx.step[b.prop]?w.fx.step[b.prop](b):b.elem.style&&(null!=b.elem.style[w.cssProps[b.prop]]||w.cssHooks[b.prop])?w.style(b.elem,b.prop,b.now+b.unit):b.elem[b.prop]=b.now}}};U.propHooks.scrollTop=U.propHooks.scrollLeft={set:function(b){b.elem.nodeType&&b.elem.parentNode&&(b.elem[b.prop]=b.now)}};w.easing={linear:function(b){return b},swing:function(b){return.5-
Math.cos(b*Math.PI)/2}};w.fx=U.prototype.init;w.fx.step={};var Xa,kb,Xb=/^(?:toggle|show|hide)$/,Cb=new RegExp("^(?:([+-])\x3d|)("+$a+")([a-z%]*)$","i"),Yb=/queueHooks$/,hb=[function(b,k,c){var h,l,n,q,r,m,v,p=this,y={},z=b.style,u=b.nodeType&&za(b),x=w._data(b,"fxshow");c.queue||(q=w._queueHooks(b,"fx"),null==q.unqueued&&(q.unqueued=0,r=q.empty.fire,q.empty.fire=function(){q.unqueued||r()}),q.unqueued++,p.always(function(){p.always(function(){q.unqueued--;w.queue(b,"fx").length||q.empty.fire()})}));
1===b.nodeType&&("height"in k||"width"in k)&&(c.overflow=[z.overflow,z.overflowX,z.overflowY],m=w.css(b,"display"),v="none"===m?w._data(b,"olddisplay")||J(b.nodeName):m,"inline"===v&&"none"===w.css(b,"float")&&(P.inlineBlockNeedsLayout&&"inline"!==J(b.nodeName)?z.zoom=1:z.display="inline-block"));c.overflow&&(z.overflow="hidden",P.shrinkWrapBlocks()||p.always(function(){z.overflow=c.overflow[0];z.overflowX=c.overflow[1];z.overflowY=c.overflow[2]}));for(h in k)if(l=k[h],Xb.exec(l)){if(delete k[h],
n=n||"toggle"===l,l===(u?"hide":"show")){if("show"!==l||!x||void 0===x[h])continue;u=!0}y[h]=x&&x[h]||w.style(b,h)}else m=void 0;if(w.isEmptyObject(y))"inline"===("none"===m?J(b.nodeName):m)&&(z.display=m);else for(h in x?"hidden"in x&&(u=x.hidden):x=w._data(b,"fxshow",{}),n&&(x.hidden=!u),u?w(b).show():p.done(function(){w(b).hide()}),p.done(function(){var k;w._removeData(b,"fxshow");for(k in y)w.style(b,k,y[k])}),y)k=O(u?x[h]:0,h,p),h in x||(x[h]=k.start,u&&(k.end=k.start,k.start="width"===h||"height"===
h?1:0))}],bb={"*":[function(b,k){var c=this.createTween(b,k),h=c.cur(),l=(k=Cb.exec(k))&&k[3]||(w.cssNumber[b]?"":"px"),n=(w.cssNumber[b]||"px"!==l&&+h)&&Cb.exec(w.css(c.elem,b)),q=1,r=20;if(n&&n[3]!==l){l=l||n[3];k=k||[];n=+h||1;do q=q||".5",n/=q,w.style(c.elem,b,n+l);while(q!==(q=c.cur()/h)&&1!==q&&--r)}return k&&(n=c.start=+n||+h||0,c.unit=l,c.end=k[1]?n+(k[1]+1)*k[2]:+k[2]),c}]};w.Animation=w.extend(V,{tweener:function(b,k){w.isFunction(b)?(k=b,b=["*"]):b=b.split(" ");for(var c,h=0,l=b.length;l>
h;h++)c=b[h],bb[c]=bb[c]||[],bb[c].unshift(k)},prefilter:function(b,k){k?hb.unshift(b):hb.push(b)}});w.speed=function(b,k,c){var h=b&&"object"==typeof b?w.extend({},b):{complete:c||!c&&k||w.isFunction(b)&&b,duration:b,easing:c&&k||k&&!w.isFunction(k)&&k};return h.duration=w.fx.off?0:"number"==typeof h.duration?h.duration:h.duration in w.fx.speeds?w.fx.speeds[h.duration]:w.fx.speeds._default,(null==h.queue||!0===h.queue)&&(h.queue="fx"),h.old=h.complete,h.complete=function(){w.isFunction(h.old)&&h.old.call(this);
h.queue&&w.dequeue(this,h.queue)},h};w.fn.extend({fadeTo:function(b,k,c,h){return this.filter(za).css("opacity",0).show().end().animate({opacity:k},b,c,h)},animate:function(b,k,c,h){var l=w.isEmptyObject(b),n=w.speed(k,c,h);k=function(){var k=V(this,w.extend({},b),n);(l||w._data(this,"finish"))&&k.stop(!0)};return k.finish=k,l||!1===n.queue?this.each(k):this.queue(n.queue,k)},stop:function(b,k,c){var h=function(b){var k=b.stop;delete b.stop;k(c)};return"string"!=typeof b&&(c=k,k=b,b=void 0),k&&!1!==
b&&this.queue(b||"fx",[]),this.each(function(){var k=!0,l=null!=b&&b+"queueHooks",n=w.timers,q=w._data(this);if(l)q[l]&&q[l].stop&&h(q[l]);else for(l in q)q[l]&&q[l].stop&&Yb.test(l)&&h(q[l]);for(l=n.length;l--;)n[l].elem!==this||null!=b&&n[l].queue!==b||(n[l].anim.stop(c),k=!1,n.splice(l,1));!k&&c||w.dequeue(this,b)})},finish:function(b){return!1!==b&&(b=b||"fx"),this.each(function(){var k,c=w._data(this),h=c[b+"queue"];k=c[b+"queueHooks"];var l=w.timers,n=h?h.length:0;c.finish=!0;w.queue(this,b,
[]);k&&k.stop&&k.stop.call(this,!0);for(k=l.length;k--;)l[k].elem===this&&l[k].queue===b&&(l[k].anim.stop(!0),l.splice(k,1));for(k=0;n>k;k++)h[k]&&h[k].finish&&h[k].finish.call(this);delete c.finish})}});w.each(["toggle","show","hide"],function(b,k){var c=w.fn[k];w.fn[k]=function(b,h,l){return null==b||"boolean"==typeof b?c.apply(this,arguments):this.animate(X(k,!0),b,h,l)}});w.each({slideDown:X("show"),slideUp:X("hide"),slideToggle:X("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},
function(b,k){w.fn[b]=function(b,c,h){return this.animate(k,b,c,h)}});w.timers=[];w.fx.tick=function(){var b,k=w.timers,c=0;for(Xa=w.now();c<k.length;c++)b=k[c],b()||k[c]!==b||k.splice(c--,1);k.length||w.fx.stop();Xa=void 0};w.fx.timer=function(b){w.timers.push(b);b()?w.fx.start():w.timers.pop()};w.fx.interval=13;w.fx.start=function(){kb||(kb=setInterval(w.fx.tick,w.fx.interval))};w.fx.stop=function(){clearInterval(kb);kb=null};w.fx.speeds={slow:600,fast:200,_default:400};w.fn.delay=function(b,k){return b=
w.fx?w.fx.speeds[b]||b:b,k=k||"fx",this.queue(k,function(k,c){var h=setTimeout(k,b);c.stop=function(){clearTimeout(h)}})};(function(){var b,k,c,h,l;k=R.createElement("div");k.setAttribute("className","t");k.innerHTML="  \x3clink/\x3e\x3ctable\x3e\x3c/table\x3e\x3ca href\x3d'/a'\x3ea\x3c/a\x3e\x3cinput type\x3d'checkbox'/\x3e";h=k.getElementsByTagName("a")[0];c=R.createElement("select");l=c.appendChild(R.createElement("option"));b=k.getElementsByTagName("input")[0];h.style.cssText="top:1px";P.getSetAttribute=
"t"!==k.className;P.style=/top/.test(h.getAttribute("style"));P.hrefNormalized="/a"===h.getAttribute("href");P.checkOn=!!b.value;P.optSelected=l.selected;P.enctype=!!R.createElement("form").enctype;c.disabled=!0;P.optDisabled=!l.disabled;b=R.createElement("input");b.setAttribute("value","");P.input=""===b.getAttribute("value");b.value="t";b.setAttribute("type","radio");P.radioValue="t"===b.value})();var Zb=/\r/g;w.fn.extend({val:function(b){var k,c,h,l=this[0];if(arguments.length)return h=w.isFunction(b),
this.each(function(c){var l;1===this.nodeType&&(l=h?b.call(this,c,w(this).val()):b,null==l?l="":"number"==typeof l?l+="":w.isArray(l)&&(l=w.map(l,function(b){return null==b?"":b+""})),k=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()],k&&"set"in k&&void 0!==k.set(this,l,"value")||(this.value=l))});if(l)return k=w.valHooks[l.type]||w.valHooks[l.nodeName.toLowerCase()],k&&"get"in k&&void 0!==(c=k.get(l,"value"))?c:(c=l.value,"string"==typeof c?c.replace(Zb,""):null==c?"":c)}});w.extend({valHooks:{option:{get:function(b){var k=
w.find.attr(b,"value");return null!=k?k:w.trim(w.text(b))}},select:{get:function(b){for(var k,c=b.options,h=b.selectedIndex,l="select-one"===b.type||0>h,n=l?null:[],q=l?h+1:c.length,r=0>h?q:l?h:0;q>r;r++)if(k=c[r],!(!k.selected&&r!==h||(P.optDisabled?k.disabled:null!==k.getAttribute("disabled"))||k.parentNode.disabled&&w.nodeName(k.parentNode,"optgroup"))){if(b=w(k).val(),l)return b;n.push(b)}return n},set:function(b,k){var c,h,l=b.options;k=w.makeArray(k);for(var n=l.length;n--;)if(h=l[n],0<=w.inArray(w.valHooks.option.get(h),
k))try{h.selected=c=!0}catch(q){h.scrollHeight}else h.selected=!1;return c||(b.selectedIndex=-1),l}}}});w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(b,k){return w.isArray(k)?b.checked=0<=w.inArray(w(b).val(),k):void 0}};P.checkOn||(w.valHooks[this].get=function(b){return null===b.getAttribute("value")?"on":b.value})});var ab,Db,Pa=w.expr.attrHandle,tb=/^(?:checked|selected)$/i,Va=P.getSetAttribute,lb=P.input;w.fn.extend({attr:function(b,k){return ta(this,w.attr,b,k,1<arguments.length)},
removeAttr:function(b){return this.each(function(){w.removeAttr(this,b)})}});w.extend({attr:function(b,k,c){var h,l,n=b.nodeType;if(b&&3!==n&&8!==n&&2!==n)return"undefined"===typeof b.getAttribute?w.prop(b,k,c):(1===n&&w.isXMLDoc(b)||(k=k.toLowerCase(),h=w.attrHooks[k]||(w.expr.match.bool.test(k)?Db:ab)),void 0===c?h&&"get"in h&&null!==(l=h.get(b,k))?l:(l=w.find.attr(b,k),null==l?void 0:l):null!==c?h&&"set"in h&&void 0!==(l=h.set(b,c,k))?l:(b.setAttribute(k,c+""),c):void w.removeAttr(b,k))},removeAttr:function(b,
k){var c,h=0,l=k&&k.match(na);if(l&&1===b.nodeType)for(;k=l[h++];)c=w.propFix[k]||k,w.expr.match.bool.test(k)?lb&&Va||!tb.test(k)?b[c]=!1:b[w.camelCase("default-"+k)]=b[c]=!1:w.attr(b,k,""),b.removeAttribute(Va?k:c)},attrHooks:{type:{set:function(b,k){if(!P.radioValue&&"radio"===k&&w.nodeName(b,"input")){var c=b.value;return b.setAttribute("type",k),c&&(b.value=c),k}}}}});Db={set:function(b,k,c){return!1===k?w.removeAttr(b,c):lb&&Va||!tb.test(c)?b.setAttribute(!Va&&w.propFix[c]||c,c):b[w.camelCase("default-"+
c)]=b[c]=!0,c}};w.each(w.expr.match.bool.source.match(/\w+/g),function(b,k){var c=Pa[k]||w.find.attr;Pa[k]=lb&&Va||!tb.test(k)?function(b,k,h){var l,n;return h||(n=Pa[k],Pa[k]=l,l=null!=c(b,k,h)?k.toLowerCase():null,Pa[k]=n),l}:function(b,k,c){return c?void 0:b[w.camelCase("default-"+k)]?k.toLowerCase():null}});lb&&Va||(w.attrHooks.value={set:function(b,k,c){return w.nodeName(b,"input")?void(b.defaultValue=k):ab&&ab.set(b,k,c)}});Va||(ab={set:function(b,k,c){var h=b.getAttributeNode(c);return h||
b.setAttributeNode(h=b.ownerDocument.createAttribute(c)),h.value=k+="","value"===c||k===b.getAttribute(c)?k:void 0}},Pa.id=Pa.name=Pa.coords=function(b,k,c){var h;return c?void 0:(h=b.getAttributeNode(k))&&""!==h.value?h.value:null},w.valHooks.button={get:function(b,k){return(b=b.getAttributeNode(k))&&b.specified?b.value:void 0},set:ab.set},w.attrHooks.contenteditable={set:function(b,k,c){ab.set(b,""===k?!1:k,c)}},w.each(["width","height"],function(b,k){w.attrHooks[k]={set:function(b,c){return""===
c?(b.setAttribute(k,"auto"),c):void 0}}}));P.style||(w.attrHooks.style={get:function(b){return b.style.cssText||void 0},set:function(b,k){return b.style.cssText=k+""}});var $b=/^(?:input|select|textarea|button|object)$/i,ac=/^(?:a|area)$/i;w.fn.extend({prop:function(b,k){return ta(this,w.prop,b,k,1<arguments.length)},removeProp:function(b){return b=w.propFix[b]||b,this.each(function(){try{this[b]=void 0,delete this[b]}catch(k){}})}});w.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(b,
k,c){var h,l,n,q=b.nodeType;if(b&&3!==q&&8!==q&&2!==q)return n=1!==q||!w.isXMLDoc(b),n&&(k=w.propFix[k]||k,l=w.propHooks[k]),void 0!==c?l&&"set"in l&&void 0!==(h=l.set(b,c,k))?h:b[k]=c:l&&"get"in l&&null!==(h=l.get(b,k))?h:b[k]},propHooks:{tabIndex:{get:function(b){var k=w.find.attr(b,"tabindex");return k?parseInt(k,10):$b.test(b.nodeName)||ac.test(b.nodeName)&&b.href?0:-1}}}});P.hrefNormalized||w.each(["href","src"],function(b,k){w.propHooks[k]={get:function(b){return b.getAttribute(k,4)}}});P.optSelected||
(w.propHooks.selected={get:function(b){b=b.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}});w.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){w.propFix[this.toLowerCase()]=this});P.enctype||(w.propFix.enctype="encoding");var ub=/[\t\r\n\f]/g;w.fn.extend({addClass:function(b){var k,c,h,l,n,q=0,r=this.length;k="string"==typeof b&&b;if(w.isFunction(b))return this.each(function(k){w(this).addClass(b.call(this,
k,this.className))});if(k)for(k=(b||"").match(na)||[];r>q;q++)if(c=this[q],h=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ub," "):" ")){for(n=0;l=k[n++];)0>h.indexOf(" "+l+" ")&&(h+=l+" ");h=w.trim(h);c.className!==h&&(c.className=h)}return this},removeClass:function(b){var k,c,h,l,n,q=0,r=this.length;k=0===arguments.length||"string"==typeof b&&b;if(w.isFunction(b))return this.each(function(k){w(this).removeClass(b.call(this,k,this.className))});if(k)for(k=(b||"").match(na)||[];r>q;q++)if(c=
this[q],h=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ub," "):"")){for(n=0;l=k[n++];)for(;0<=h.indexOf(" "+l+" ");)h=h.replace(" "+l+" "," ");h=b?w.trim(h):"";c.className!==h&&(c.className=h)}return this},toggleClass:function(b,k){var c=typeof b;return"boolean"==typeof k&&"string"===c?k?this.addClass(b):this.removeClass(b):this.each(w.isFunction(b)?function(c){w(this).toggleClass(b.call(this,c,this.className,k),k)}:function(){if("string"===c)for(var k,h=0,l=w(this),n=b.match(na)||[];k=
n[h++];)l.hasClass(k)?l.removeClass(k):l.addClass(k);else("undefined"===c||"boolean"===c)&&(this.className&&w._data(this,"__className__",this.className),this.className=this.className||!1===b?"":w._data(this,"__className__")||"")})},hasClass:function(b){b=" "+b+" ";for(var k=0,c=this.length;c>k;k++)if(1===this[k].nodeType&&0<=(" "+this[k].className+" ").replace(ub," ").indexOf(b))return!0;return!1}});w.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
function(b,k){w.fn[k]=function(b,c){return 0<arguments.length?this.on(k,null,b,c):this.trigger(k)}});w.fn.extend({hover:function(b,k){return this.mouseenter(b).mouseleave(k||b)},bind:function(b,k,c){return this.on(b,null,k,c)},unbind:function(b,k){return this.off(b,null,k)},delegate:function(b,k,c,h){return this.on(k,b,c,h)},undelegate:function(b,k,c){return 1===arguments.length?this.off(b,"**"):this.off(k,b||"**",c)}});var vb=w.now(),wb=/\?/,bc=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;
w.parseJSON=function(k){if(b.JSON&&b.JSON.parse)return b.JSON.parse(k+"");var c,h=null,l=w.trim(k+"");return l&&!w.trim(l.replace(bc,function(b,k,l,n){return c&&k&&(h=0),0===h?b:(c=l||k,h+=!n-!l,"")}))?Function("return "+l)():w.error("Invalid JSON: "+k)};w.parseXML=function(k){var c,h;if(!k||"string"!=typeof k)return null;try{b.DOMParser?(h=new DOMParser,c=h.parseFromString(k,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(k))}catch(l){c=void 0}return c&&c.documentElement&&
!c.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+k),c};var Wa,Qa,cc=/#.*$/,Eb=/([?&])_=[^&]*/,dc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,ec=/^(?:GET|HEAD)$/,fc=/^\/\//,Fb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Gb={},pb={},Hb="*/".concat("*");try{Qa=location.href}catch(Ra){Qa=R.createElement("a"),Qa.href="",Qa=Qa.href}Wa=Fb.exec(Qa.toLowerCase())||[];w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Qa,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Wa[1]),
global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset\x3dUTF-8",accepts:{"*":Hb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":w.parseJSON,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(b,k){return k?
Z(Z(b,w.ajaxSettings),k):Z(w.ajaxSettings,b)},ajaxPrefilter:fa(Gb),ajaxTransport:fa(pb),ajax:function(b,k){function c(b,k,h,l){var p,C,D,I,F=k;if(2!==E){E=2;r&&clearTimeout(r);v=void 0;q=l||"";G.readyState=0<b?4:0;l=200<=b&&300>b||304===b;if(h){D=y;for(var K=G,J,L,ka,da,Q=D.contents,M=D.dataTypes;"*"===M[0];)M.shift(),void 0===L&&(L=D.mimeType||K.getResponseHeader("Content-Type"));if(L)for(da in Q)if(Q[da]&&Q[da].test(L)){M.unshift(da);break}if(M[0]in h)ka=M[0];else{for(da in h){if(!M[0]||D.converters[da+
" "+M[0]]){ka=da;break}J||(J=da)}ka=ka||J}D=ka?(ka!==M[0]&&M.unshift(ka),h[ka]):void 0}var ma;a:{h=y;J=D;L=G;ka=l;var H,U,la;D={};K=h.dataTypes.slice();if(K[1])for(H in h.converters)D[H.toLowerCase()]=h.converters[H];for(da=K.shift();da;)if(h.responseFields[da]&&(L[h.responseFields[da]]=J),!la&&ka&&h.dataFilter&&(J=h.dataFilter(J,h.dataType)),la=da,da=K.shift())if("*"===da)da=la;else if("*"!==la&&la!==da){if(H=D[la+" "+da]||D["* "+da],!H)for(ma in D)if(U=ma.split(" "),U[1]===da&&(H=D[la+" "+U[0]]||
D["* "+U[0]])){!0===H?H=D[ma]:!0!==D[ma]&&(da=U[0],K.unshift(U[1]));break}if(!0!==H)if(H&&h["throws"])J=H(J);else try{J=H(J)}catch(qa){ma={state:"parsererror",error:H?qa:"No conversion from "+la+" to "+da};break a}}ma={state:"success",data:J}}D=ma;l?(y.ifModified&&(I=G.getResponseHeader("Last-Modified"),I&&(w.lastModified[n]=I),I=G.getResponseHeader("etag"),I&&(w.etag[n]=I)),204===b||"HEAD"===y.type?F="nocontent":304===b?F="notmodified":(F=D.state,p=D.data,C=D.error,l=!C)):(C=F,(b||!F)&&(F="error",
0>b&&(b=0)));G.status=b;G.statusText=(k||F)+"";l?x.resolveWith(z,[p,F,G]):x.rejectWith(z,[G,F,C]);G.statusCode(B);B=void 0;m&&u.trigger(l?"ajaxSuccess":"ajaxError",[G,y,l?p:C]);A.fireWith(z,[G,F]);m&&(u.trigger("ajaxComplete",[G,y]),--w.active||w.event.trigger("ajaxStop"))}}"object"==typeof b&&(k=b,b=void 0);k=k||{};var h,l,n,q,r,m,v,p,y=w.ajaxSetup({},k),z=y.context||y,u=y.context&&(z.nodeType||z.jquery)?w(z):w.event,x=w.Deferred(),A=w.Callbacks("once memory"),B=y.statusCode||{},C={},D={},E=0,I=
"canceled",G={readyState:0,getResponseHeader:function(b){var k;if(2===E){if(!p)for(p={};k=dc.exec(q);)p[k[1].toLowerCase()]=k[2];k=p[b.toLowerCase()]}return null==k?null:k},getAllResponseHeaders:function(){return 2===E?q:null},setRequestHeader:function(b,k){var c=b.toLowerCase();return E||(b=D[c]=D[c]||b,C[b]=k),this},overrideMimeType:function(b){return E||(y.mimeType=b),this},statusCode:function(b){var k;if(b)if(2>E)for(k in b)B[k]=[B[k],b[k]];else G.always(b[G.status]);return this},abort:function(b){b=
b||I;return v&&v.abort(b),c(0,b),this}};if(x.promise(G).complete=A.add,G.success=G.done,G.error=G.fail,y.url=((b||y.url||Qa)+"").replace(cc,"").replace(fc,Wa[1]+"//"),y.type=k.method||k.type||y.method||y.type,y.dataTypes=w.trim(y.dataType||"*").toLowerCase().match(na)||[""],null==y.crossDomain&&(h=Fb.exec(y.url.toLowerCase()),y.crossDomain=!(!h||h[1]===Wa[1]&&h[2]===Wa[2]&&(h[3]||("http:"===h[1]?"80":"443"))===(Wa[3]||("http:"===Wa[1]?"80":"443")))),y.data&&y.processData&&"string"!=typeof y.data&&
(y.data=w.param(y.data,y.traditional)),W(Gb,y,k,G),2===E)return G;(m=y.global)&&0===w.active++&&w.event.trigger("ajaxStart");y.type=y.type.toUpperCase();y.hasContent=!ec.test(y.type);n=y.url;y.hasContent||(y.data&&(n=y.url+=(wb.test(n)?"\x26":"?")+y.data,delete y.data),!1===y.cache&&(y.url=Eb.test(n)?n.replace(Eb,"$1_\x3d"+vb++):n+(wb.test(n)?"\x26":"?")+"_\x3d"+vb++));y.ifModified&&(w.lastModified[n]&&G.setRequestHeader("If-Modified-Since",w.lastModified[n]),w.etag[n]&&G.setRequestHeader("If-None-Match",
w.etag[n]));(y.data&&y.hasContent&&!1!==y.contentType||k.contentType)&&G.setRequestHeader("Content-Type",y.contentType);G.setRequestHeader("Accept",y.dataTypes[0]&&y.accepts[y.dataTypes[0]]?y.accepts[y.dataTypes[0]]+("*"!==y.dataTypes[0]?", "+Hb+"; q\x3d0.01":""):y.accepts["*"]);for(l in y.headers)G.setRequestHeader(l,y.headers[l]);if(y.beforeSend&&(!1===y.beforeSend.call(z,G,y)||2===E))return G.abort();I="abort";for(l in{success:1,error:1,complete:1})G[l](y[l]);if(v=W(pb,y,k,G)){G.readyState=1;m&&
u.trigger("ajaxSend",[G,y]);y.async&&0<y.timeout&&(r=setTimeout(function(){G.abort("timeout")},y.timeout));try{E=1,v.send(C,c)}catch(F){if(!(2>E))throw F;c(-1,F)}}else c(-1,"No Transport");return G},getJSON:function(b,k,c){return w.get(b,k,c,"json")},getScript:function(b,k){return w.get(b,void 0,k,"script")}});w.each(["get","post"],function(b,k){w[k]=function(b,c,h,l){return w.isFunction(c)&&(l=l||h,h=c,c=void 0),w.ajax({url:b,type:k,dataType:l,data:c,success:h})}});w.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),
function(b,k){w.fn[k]=function(b){return this.on(k,b)}});w._evalUrl=function(b){return w.ajax({url:b,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})};w.fn.extend({wrapAll:function(b){if(w.isFunction(b))return this.each(function(k){w(this).wrapAll(b.call(this,k))});if(this[0]){var k=w(b,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&k.insertBefore(this[0]);k.map(function(){for(var b=this;b.firstChild&&1===b.firstChild.nodeType;)b=b.firstChild;return b}).append(this)}return this},
wrapInner:function(b){return this.each(w.isFunction(b)?function(k){w(this).wrapInner(b.call(this,k))}:function(){var k=w(this),c=k.contents();c.length?c.wrapAll(b):k.append(b)})},wrap:function(b){var k=w.isFunction(b);return this.each(function(c){w(this).wrapAll(k?b.call(this,c):b)})},unwrap:function(){return this.parent().each(function(){w.nodeName(this,"body")||w(this).replaceWith(this.childNodes)}).end()}});w.expr.filters.hidden=function(b){return 0>=b.offsetWidth&&0>=b.offsetHeight||!P.reliableHiddenOffsets()&&
"none"===(b.style&&b.style.display||w.css(b,"display"))};w.expr.filters.visible=function(b){return!w.expr.filters.hidden(b)};var gc=/%20/g,Ob=/\[\]$/,Ib=/\r?\n/g,hc=/^(?:submit|button|image|reset|file)$/i,ic=/^(?:input|select|textarea|keygen)/i;w.param=function(b,k){var c,h=[],l=function(b,k){k=w.isFunction(k)?k():null==k?"":k;h[h.length]=encodeURIComponent(b)+"\x3d"+encodeURIComponent(k)};if(void 0===k&&(k=w.ajaxSettings&&w.ajaxSettings.traditional),w.isArray(b)||b.jquery&&!w.isPlainObject(b))w.each(b,
function(){l(this.name,this.value)});else for(c in b)S(c,b[c],k,l);return h.join("\x26").replace(gc,"+")};w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var b=w.prop(this,"elements");return b?w.makeArray(b):this}).filter(function(){var b=this.type;return this.name&&!w(this).is(":disabled")&&ic.test(this.nodeName)&&!hc.test(b)&&(this.checked||!xa.test(b))}).map(function(b,k){b=w(this).val();return null==b?null:w.isArray(b)?
w.map(b,function(b){return{name:k.name,value:b.replace(Ib,"\r\n")}}):{name:k.name,value:b.replace(Ib,"\r\n")}}).get()}});w.ajaxSettings.xhr=void 0!==b.ActiveXObject?function(){var k;if(!(k=!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&ja()))a:{try{k=new b.ActiveXObject("Microsoft.XMLHTTP");break a}catch(c){}k=void 0}return k}:ja;var jc=0,mb={},nb=w.ajaxSettings.xhr();b.ActiveXObject&&w(b).on("unload",function(){for(var b in mb)mb[b](void 0,!0)});P.cors=!!nb&&"withCredentials"in
nb;(nb=P.ajax=!!nb)&&w.ajaxTransport(function(b){if(!b.crossDomain||P.cors){var k;return{send:function(c,h){var l,n=b.xhr(),q=++jc;if(n.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(l in b.xhrFields)n[l]=b.xhrFields[l];b.mimeType&&n.overrideMimeType&&n.overrideMimeType(b.mimeType);b.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(l in c)void 0!==c[l]&&n.setRequestHeader(l,c[l]+"");n.send(b.hasContent&&b.data||null);k=function(c,l){var r,m,v;if(k&&
(l||4===n.readyState))if(delete mb[q],k=void 0,n.onreadystatechange=w.noop,l)4!==n.readyState&&n.abort();else{v={};r=n.status;"string"==typeof n.responseText&&(v.text=n.responseText);try{m=n.statusText}catch(p){m=""}r||!b.isLocal||b.crossDomain?1223===r&&(r=204):r=v.text?200:404}v&&h(r,m,v,n.getAllResponseHeaders())};b.async?4===n.readyState?setTimeout(k):n.onreadystatechange=mb[q]=k:k()},abort:function(){k&&k(void 0,!0)}}}});w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/(?:java|ecma)script/},converters:{"text script":function(b){return w.globalEval(b),b}}});w.ajaxPrefilter("script",function(b){void 0===b.cache&&(b.cache=!1);b.crossDomain&&(b.type="GET",b.global=!1)});w.ajaxTransport("script",function(b){if(b.crossDomain){var k,c=R.head||w("head")[0]||R.documentElement;return{send:function(h,l){k=R.createElement("script");k.async=!0;b.scriptCharset&&(k.charset=b.scriptCharset);k.src=b.url;k.onload=k.onreadystatechange=function(b,c){(c||!k.readyState||
/loaded|complete/.test(k.readyState))&&(k.onload=k.onreadystatechange=null,k.parentNode&&k.parentNode.removeChild(k),k=null,c||l(200,"success"))};c.insertBefore(k,c.firstChild)},abort:function(){k&&k.onload(void 0,!0)}}}});var Jb=[],xb=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var b=Jb.pop()||w.expando+"_"+vb++;return this[b]=!0,b}});w.ajaxPrefilter("json jsonp",function(k,c,h){var l,n,q,r=!1!==k.jsonp&&(xb.test(k.url)?"url":"string"==typeof k.data&&!(k.contentType||
"").indexOf("application/x-www-form-urlencoded")&&xb.test(k.data)&&"data");return r||"jsonp"===k.dataTypes[0]?(l=k.jsonpCallback=w.isFunction(k.jsonpCallback)?k.jsonpCallback():k.jsonpCallback,r?k[r]=k[r].replace(xb,"$1"+l):!1!==k.jsonp&&(k.url+=(wb.test(k.url)?"\x26":"?")+k.jsonp+"\x3d"+l),k.converters["script json"]=function(){return q||w.error(l+" was not called"),q[0]},k.dataTypes[0]="json",n=b[l],b[l]=function(){q=arguments},h.always(function(){b[l]=n;k[l]&&(k.jsonpCallback=c.jsonpCallback,Jb.push(l));
q&&w.isFunction(n)&&n(q[0]);q=n=void 0}),"script"):void 0});w.parseHTML=function(b,k,c){if(!b||"string"!=typeof b)return null;"boolean"==typeof k&&(c=k,k=!1);k=k||R;var h=Za.exec(b);c=!c&&[];return h?[k.createElement(h[1])]:(h=w.buildFragment([b],k,c),c&&c.length&&w(c).remove(),w.merge([],h.childNodes))};var Kb=w.fn.load;w.fn.load=function(b,k,c){if("string"!=typeof b&&Kb)return Kb.apply(this,arguments);var h,l,n,q=this,r=b.indexOf(" ");return 0<=r&&(h=w.trim(b.slice(r,b.length)),b=b.slice(0,r)),
w.isFunction(k)?(c=k,k=void 0):k&&"object"==typeof k&&(n="POST"),0<q.length&&w.ajax({url:b,type:n,dataType:"html",data:k}).done(function(b){l=arguments;q.html(h?w("\x3cdiv\x3e").append(w.parseHTML(b)).find(h):b)}).complete(c&&function(b,k){q.each(c,l||[b.responseText,k,b])}),this};w.expr.filters.animated=function(b){return w.grep(w.timers,function(k){return b===k.elem}).length};var Lb=b.document.documentElement;w.offset={setOffset:function(b,k,c){var h,l,n,q,r,m,v=w.css(b,"position"),p=w(b),y={};
"static"===v&&(b.style.position="relative");r=p.offset();n=w.css(b,"top");m=w.css(b,"left");("absolute"===v||"fixed"===v)&&-1<w.inArray("auto",[n,m])?(h=p.position(),q=h.top,l=h.left):(q=parseFloat(n)||0,l=parseFloat(m)||0);w.isFunction(k)&&(k=k.call(b,c,r));null!=k.top&&(y.top=k.top-r.top+q);null!=k.left&&(y.left=k.left-r.left+l);"using"in k?k.using.call(b,y):p.css(y)}};w.fn.extend({offset:function(b){if(arguments.length)return void 0===b?this:this.each(function(k){w.offset.setOffset(this,b,k)});
var k,c,h={top:0,left:0},l=this[0],n=l&&l.ownerDocument;if(n)return k=n.documentElement,w.contains(k,l)?("undefined"!==typeof l.getBoundingClientRect&&(h=l.getBoundingClientRect()),c=ia(n),{top:h.top+(c.pageYOffset||k.scrollTop)-(k.clientTop||0),left:h.left+(c.pageXOffset||k.scrollLeft)-(k.clientLeft||0)}):h},position:function(){if(this[0]){var b,k,c={top:0,left:0},h=this[0];return"fixed"===w.css(h,"position")?k=h.getBoundingClientRect():(b=this.offsetParent(),k=this.offset(),w.nodeName(b[0],"html")||
(c=b.offset()),c.top+=w.css(b[0],"borderTopWidth",!0),c.left+=w.css(b[0],"borderLeftWidth",!0)),{top:k.top-c.top-w.css(h,"marginTop",!0),left:k.left-c.left-w.css(h,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var b=this.offsetParent||Lb;b&&!w.nodeName(b,"html")&&"static"===w.css(b,"position");)b=b.offsetParent;return b||Lb})}});w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,k){var c=/Y/.test(k);w.fn[b]=function(h){return ta(this,function(b,h,l){var n=
ia(b);return void 0===l?n?k in n?n[k]:n.document.documentElement[h]:b[h]:void(n?n.scrollTo(c?w(n).scrollLeft():l,c?l:w(n).scrollTop()):b[h]=l)},b,h,arguments.length,null)}});w.each(["top","left"],function(b,k){w.cssHooks[k]=L(P.pixelPosition,function(b,c){return c?(c=wa(b,k),Ia.test(c)?w(b).position()[k]+"px":c):void 0})});w.each({Height:"height",Width:"width"},function(b,k){w.each({padding:"inner"+b,content:k,"":"outer"+b},function(c,h){w.fn[h]=function(h,l){var n=arguments.length&&(c||"boolean"!=
typeof h),q=c||(!0===h||!0===l?"margin":"border");return ta(this,function(k,c,h){var l;return w.isWindow(k)?k.document.documentElement["client"+b]:9===k.nodeType?(l=k.documentElement,Math.max(k.body["scroll"+b],l["scroll"+b],k.body["offset"+b],l["offset"+b],l["client"+b])):void 0===h?w.css(k,c,q):w.style(k,c,h,q)},k,n?h:void 0,n,null)}})});w.fn.size=function(){return this.length};w.fn.andSelf=w.fn.addBack;"function"==typeof define&&define.amd&&define("jquery",[],function(){return w});var kc=b.jQuery,
lc=b.$;return w.noConflict=function(k){return b.$===w&&(b.$=lc),k&&b.jQuery===w&&(b.jQuery=kc),w},"undefined"===typeof h&&(b.jQuery=b.$=w),w});void 0===jQuery.migrateMute&&(jQuery.migrateMute=!0);
(function(b,h,c){function l(k){var c=h.console;p[k]||(p[k]=!0,b.migrateWarnings.push(k),c&&c.warn&&!b.migrateMute&&(c.warn("JQMIGRATE: "+k),b.migrateTrace&&c.trace&&c.trace()))}function m(k,h,n,q){if(Object.defineProperty)try{return Object.defineProperty(k,h,{configurable:!0,enumerable:!0,get:function(){return l(q),n},set:function(b){l(q);n=b}}),c}catch(r){}b._definePropertyBroken=!0;k[h]=n}var p={};b.migrateWarnings=[];!b.migrateMute&&h.console&&h.console.log&&h.console.log("JQMIGRATE: Logging is active");
b.migrateTrace===c&&(b.migrateTrace=!0);b.migrateReset=function(){p={};b.migrateWarnings.length=0};"BackCompat"===document.compatMode&&l("jQuery is not compatible with Quirks Mode");var n=b("\x3cinput/\x3e",{size:1}).attr("size")&&b.attrFn,u=b.attr,k=b.attrHooks.value&&b.attrHooks.value.get||function(){return null},q=b.attrHooks.value&&b.attrHooks.value.set||function(){return c},v=/^(?:input|button)$/i,y=/^[238]$/,z=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,
A=/^(?:checked|selected)$/i;m(b,"attrFn",n||{},"jQuery.attrFn is deprecated");b.attr=function(k,h,q,r){var m=h.toLowerCase(),p=k&&k.nodeType;return r&&(4>u.length&&l("jQuery.fn.attr( props, pass ) is deprecated"),k&&!y.test(p)&&(n?h in n:b.isFunction(b.fn[h])))?b(k)[h](q):("type"===h&&q!==c&&v.test(k.nodeName)&&k.parentNode&&l("Can't change the 'type' of an input or button in IE 6/7/8"),!b.attrHooks[m]&&z.test(m)&&(b.attrHooks[m]={get:function(k,h){var l,n=b.prop(k,h);return!0===n||"boolean"!=typeof n&&
(l=k.getAttributeNode(h))&&!1!==l.nodeValue?h.toLowerCase():c},set:function(k,c,h){var l;return!1===c?b.removeAttr(k,h):(l=b.propFix[h]||h,l in k&&(k[l]=!0),k.setAttribute(h,h.toLowerCase())),h}},A.test(m)&&l("jQuery.fn.attr('"+m+"') may use property instead of attribute")),u.call(b,k,h,q))};b.attrHooks.value={get:function(b,c){var h=(b.nodeName||"").toLowerCase();return"button"===h?k.apply(this,arguments):("input"!==h&&"option"!==h&&l("jQuery.fn.attr('value') no longer gets properties"),c in b?b.value:
null)},set:function(b,k){var h=(b.nodeName||"").toLowerCase();return"button"===h?q.apply(this,arguments):("input"!==h&&"option"!==h&&l("jQuery.fn.attr('value', val) no longer sets properties"),b.value=k,c)}};var r,B,C=b.fn.init,x=b.parseJSON,D=/^([^<]*)(<[\w\W]+>)([^>]*)$/;b.fn.init=function(k,c,h){var n;return k&&"string"==typeof k&&!b.isPlainObject(c)&&(n=D.exec(b.trim(k)))&&n[0]&&("\x3c"!==k.charAt(0)&&l("$(html) HTML strings must start with '\x3c' character"),n[3]&&l("$(html) HTML text after last tag is ignored"),
"#"===n[0].charAt(0)&&(l("HTML string cannot start with a '#' character"),b.error("JQMIGRATE: Invalid selector string (XSS)")),c&&c.context&&(c=c.context),b.parseHTML)?C.call(this,b.parseHTML(n[2],c,!0),c,h):C.apply(this,arguments)};b.fn.init.prototype=b.fn;b.parseJSON=function(b){return b||null===b?x.apply(this,arguments):(l("jQuery.parseJSON requires a valid JSON string"),null)};b.uaMatch=function(b){b=b.toLowerCase();b=/(chrome)[ \/]([\w.]+)/.exec(b)||/(webkit)[ \/]([\w.]+)/.exec(b)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(b)||
/(msie) ([\w.]+)/.exec(b)||0>b.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(b)||[];return{browser:b[1]||"",version:b[2]||"0"}};b.browser||(r=b.uaMatch(navigator.userAgent),B={},r.browser&&(B[r.browser]=!0,B.version=r.version),B.chrome?B.webkit=!0:B.webkit&&(B.safari=!0),b.browser=B);m(b,"browser",b.browser,"jQuery.browser is deprecated");b.sub=function(){function k(b,c){return new k.fn.init(b,c)}b.extend(!0,k,this);k.superclass=this;k.fn=k.prototype=this();k.fn.constructor=k;k.sub=
this.sub;k.fn.init=function(h,l){return l&&l instanceof b&&!(l instanceof k)&&(l=k(l)),b.fn.init.call(this,h,l,c)};k.fn.init.prototype=k.fn;var c=k(document);return l("jQuery.sub() is deprecated"),k};b.ajaxSetup({converters:{"text json":b.parseJSON}});var F=b.fn.data;b.fn.data=function(k){var h,n,q=this[0];return!q||"events"!==k||1!==arguments.length||(h=b.data(q,k),n=b._data(q,k),h!==c&&h!==n||n===c)?F.apply(this,arguments):(l("Use of jQuery.fn.data('events') is deprecated"),n)};var E=/\/(java|ecma)script/i,
G=b.fn.andSelf||b.fn.addBack;b.fn.andSelf=function(){return l("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),G.apply(this,arguments)};b.clean||(b.clean=function(k,h,n,q){h=h||document;h=!h.nodeType&&h[0]||h;h=h.ownerDocument||h;l("jQuery.clean() is deprecated");var r,m,v=[];if(b.merge(v,b.buildFragment(k,h).childNodes),n)for(r=function(b){return!b.type||E.test(b.type)?q?q.push(b.parentNode?b.parentNode.removeChild(b):b):n.appendChild(b):c},k=0;null!=(h=v[k]);k++)b.nodeName(h,"script")&&r(h)||
(n.appendChild(h),h.getElementsByTagName!==c&&(m=b.grep(b.merge([],h.getElementsByTagName("script")),r),v.splice.apply(v,[k+1,0].concat(m)),k+=m.length));return v});var K=b.event.add,I=b.event.remove,J=b.event.trigger,L=b.fn.toggle,M=b.fn.live,H=b.fn.die,aa=/\b(?:ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess)\b/,ca=/(?:^|\s)hover(\.\S+|)\b/,T=function(k){return"string"!=typeof k||b.event.special.hover?k:(ca.test(k)&&l("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),
k&&k.replace(ca,"mouseenter$1 mouseleave$1"))};b.event.props&&"attrChange"!==b.event.props[0]&&b.event.props.unshift("attrChange","attrName","relatedNode","srcElement");b.event.dispatch&&m(b.event,"handle",b.event.dispatch,"jQuery.event.handle is undocumented and deprecated");b.event.add=function(b,k,c,h,n){b!==document&&aa.test(k)&&l("AJAX events should be attached to document: "+k);K.call(this,b,T(k||""),c,h,n)};b.event.remove=function(b,k,c,h,l){I.call(this,b,T(k)||"",c,h,l)};b.fn.error=function(){var b=
Array.prototype.slice.call(arguments,0);return l("jQuery.fn.error() is deprecated"),b.splice(0,0,"error"),arguments.length?this.bind.apply(this,b):(this.triggerHandler.apply(this,b),this)};b.fn.toggle=function(k,c){if(!b.isFunction(k)||!b.isFunction(c))return L.apply(this,arguments);l("jQuery.fn.toggle(handler, handler...) is deprecated");var h=arguments,n=k.guid||b.guid++,q=0,r=function(c){var l=(b._data(this,"lastToggle"+k.guid)||0)%q;return b._data(this,"lastToggle"+k.guid,l+1),c.preventDefault(),
h[l].apply(this,arguments)||!1};for(r.guid=n;h.length>q;)h[q++].guid=n;return this.click(r)};b.fn.live=function(k,c,h){return l("jQuery.fn.live() is deprecated"),M?M.apply(this,arguments):(b(this.context).on(k,this.selector,c,h),this)};b.fn.die=function(k,c){return l("jQuery.fn.die() is deprecated"),H?H.apply(this,arguments):(b(this.context).off(k,this.selector||"**",c),this)};b.event.trigger=function(b,k,c,h){return c||aa.test(b)||l("Global events are undocumented and deprecated"),J.call(this,b,
k,c||document,h)};b.each("ajaxStart ajaxStop ajaxSend ajaxComplete ajaxError ajaxSuccess".split(" "),function(k,c){b.event.special[c]={setup:function(){var k=this;return k!==document&&(b.event.add(document,c+"."+b.guid,function(){b.event.trigger(c,null,k,!0)}),b._data(this,c,b.guid++)),!1},teardown:function(){return this!==document&&b.event.remove(document,c+"."+b._data(this,c)),!1}}})})(jQuery,window);
!function(b,h){"object"==typeof exports&&"object"==typeof module?module.exports=h():"function"==typeof define&&define.amd?define([],h):"object"==typeof exports?exports.Handlebars=h():b.Handlebars=h()}(this,function(){return function(b){function h(l){if(c[l])return c[l].exports;var m=c[l]={exports:{},id:l,loaded:!1};return b[l].call(m.exports,m,m.exports,h),m.loaded=!0,m.exports}var c={};return h.m=b,h.c=c,h.p="",h(0)}([function(b,h,c){function l(){var b=y();return b.compile=function(k,c){return q.compile(k,
c,b)},b.precompile=function(k,c){return q.precompile(k,c,b)},b.AST=u["default"],b.Compiler=q.Compiler,b.JavaScriptCompiler=v["default"],b.Parser=k.parser,b.parse=k.parse,b.parseWithoutProcessing=k.parseWithoutProcessing,b}var m=c(1)["default"];h.__esModule=!0;var p=c(2),p=m(p),n=c(84),u=m(n),k=c(85),q=c(90),n=c(91),v=m(n),n=c(88),n=m(n);c=c(83);var m=m(c),y=p["default"].create,p=l();p.create=l;m["default"](p);p.Visitor=n["default"];p["default"]=p;h["default"]=p;b.exports=h["default"]},function(b,
h){h["default"]=function(b){return b&&b.__esModule?b:{"default":b}};h.__esModule=!0},function(b,h,c){function l(){var b=new u.HandlebarsEnvironment;return v.extend(b,u),b.SafeString=k["default"],b.Exception=q["default"],b.Utils=v,b.escapeExpression=v.escapeExpression,b.VM=y,b.template=function(k){return y.template(k,b)},b}var m=c(3)["default"],p=c(1)["default"];h.__esModule=!0;var n=c(4),u=m(n),n=c(77),k=p(n),n=c(6),q=p(n),n=c(5),v=m(n),n=c(78),y=m(n);c=c(83);p=p(c);c=l();c.create=l;p["default"](c);
c["default"]=c;h["default"]=c;b.exports=h["default"]},function(b,h){h["default"]=function(b){if(b&&b.__esModule)return b;var h={};if(null!=b)for(var m in b)Object.prototype.hasOwnProperty.call(b,m)&&(h[m]=b[m]);return h["default"]=b,h};h.__esModule=!0},function(b,h,c){function l(b,c,h){this.helpers=b||{};this.partials=c||{};this.decorators=h||{};u.registerDefaultHelpers(this);k.registerDefaultDecorators(this)}b=c(1)["default"];h.__esModule=!0;h.HandlebarsEnvironment=l;var m=c(5),p=c(6),n=b(p),u=c(10),
k=c(70),p=c(72);b=b(p);var q=c(73);h.VERSION="4.7.8";h.COMPILER_REVISION=8;h.LAST_COMPATIBLE_COMPILER_REVISION=7;h.REVISION_CHANGES={1:"\x3c\x3d 1.0.rc.2",2:"\x3d\x3d 1.0.0-rc.3",3:"\x3d\x3d 1.0.0-rc.4",4:"\x3d\x3d 1.x.x",5:"\x3d\x3d 2.0.0-alpha.x",6:"\x3e\x3d 2.0.0-beta.1",7:"\x3e\x3d 4.0.0 \x3c4.3.0",8:"\x3e\x3d 4.3.0"};l.prototype={constructor:l,logger:b["default"],log:b["default"].log,registerHelper:function(b,k){if("[object Object]"===m.toString.call(b)){if(k)throw new n["default"]("Arg not supported with multiple helpers");
m.extend(this.helpers,b)}else this.helpers[b]=k},unregisterHelper:function(b){delete this.helpers[b]},registerPartial:function(b,k){if("[object Object]"===m.toString.call(b))m.extend(this.partials,b);else{if("undefined"==typeof k)throw new n["default"]('Attempting to register a partial called "'+b+'" as undefined');this.partials[b]=k}},unregisterPartial:function(b){delete this.partials[b]},registerDecorator:function(b,k){if("[object Object]"===m.toString.call(b)){if(k)throw new n["default"]("Arg not supported with multiple decorators");
m.extend(this.decorators,b)}else this.decorators[b]=k},unregisterDecorator:function(b){delete this.decorators[b]},resetLoggedPropertyAccesses:function(){q.resetLoggedProperties()}};h.log=b["default"].log;h.createFrame=m.createFrame;h.logger=b["default"]},function(b,h){function c(b){return m[b]}function l(b){for(var k=1;k<arguments.length;k++)for(var c in arguments[k])Object.prototype.hasOwnProperty.call(arguments[k],c)&&(b[c]=arguments[k][c]);return b}h.__esModule=!0;h.extend=l;h.indexOf=function(b,
k){for(var c=0,h=b.length;c<h;c++)if(b[c]===k)return c;return-1};h.escapeExpression=function(b){if("string"!=typeof b){if(b&&b.toHTML)return b.toHTML();if(null==b)return"";if(!b)return b+"";b=""+b}return n.test(b)?b.replace(p,c):b};h.isEmpty=function(b){return!b&&0!==b||!(!k(b)||0!==b.length)};h.createFrame=function(b){var k=l({},b);return k._parent=b,k};h.blockParams=function(b,k){return b.path=k,b};h.appendContextPath=function(b,k){return(b?b+".":"")+k};var m={"\x26":"\x26amp;","\x3c":"\x26lt;",
"\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;","`":"\x26#x60;","\x3d":"\x26#x3D;"},p=/[&<>"'`=]/g,n=/[&<>"'`=]/,u=Object.prototype.toString;h.toString=u;b=function(b){return"function"==typeof b};b(/x/)&&(h.isFunction=b=function(b){return"function"==typeof b&&"[object Function]"===u.call(b)});h.isFunction=b;var k=Array.isArray||function(b){return!(!b||"object"!=typeof b)&&"[object Array]"===u.call(b)};h.isArray=k},function(b,h,c){function l(b,c){c=c&&c.loc;var k=void 0,h=void 0,v=void 0,y=void 0;
c&&(k=c.start.line,h=c.end.line,v=c.start.column,y=c.end.column,b+=" - "+k+":"+v);b=Error.prototype.constructor.call(this,b);for(var z=0;z<p.length;z++)this[p[z]]=b[p[z]];Error.captureStackTrace&&Error.captureStackTrace(this,l);try{c&&(this.lineNumber=k,this.endLineNumber=h,m?(Object.defineProperty(this,"column",{value:v,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:y,enumerable:!0})):(this.column=v,this.endColumn=y))}catch(A){}}var m=c(7)["default"];h.__esModule=!0;var p="description fileName lineNumber endLineNumber message name number stack".split(" ");
l.prototype=Error();h["default"]=l;b.exports=h["default"]},function(b,h,c){b.exports={"default":c(8),__esModule:!0}},function(b,h,c){var l=c(9);b.exports=function(b,c,h){return l.setDesc(b,c,h)}},function(b,h){h=Object;b.exports={create:h.create,getProto:h.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:h.getOwnPropertyDescriptor,setDesc:h.defineProperty,setDescs:h.defineProperties,getKeys:h.keys,getNames:h.getOwnPropertyNames,getSymbols:h.getOwnPropertySymbols,each:[].forEach}},function(b,
h,c){b=c(1)["default"];h.__esModule=!0;h.registerDefaultHelpers=function(b){l["default"](b);m["default"](b);p["default"](b);n["default"](b);u["default"](b);k["default"](b);q["default"](b)};h.moveHelperToHooks=function(b,k,c){b.helpers[k]&&(b.hooks[k]=b.helpers[k],c||delete b.helpers[k])};h=c(11);var l=b(h);h=c(12);var m=b(h);h=c(65);var p=b(h);h=c(66);var n=b(h);h=c(67);var u=b(h);h=c(68);var k=b(h);c=c(69);var q=b(c)},function(b,h,c){h.__esModule=!0;var l=c(5);h["default"]=function(b){b.registerHelper("blockHelperMissing",
function(c,h){var u=h.inverse,k=h.fn;if(!0===c)return k(this);if(!1===c||null==c)return u(this);if(l.isArray(c))return 0<c.length?(h.ids&&(h.ids=[h.name]),b.helpers.each(c,h)):u(this);h.data&&h.ids&&(u=l.createFrame(h.data),u.contextPath=l.appendContextPath(h.data.contextPath,h.name),h={data:u});return k(c,h)})};b.exports=h["default"]},function(b,h,c){var l=c(13)["default"],m=c(43)["default"],p=c(55)["default"],n=c(60)["default"],u=c(1)["default"];h.__esModule=!0;var k=c(5);c=c(6);var q=u(c);h["default"]=
function(b){b.registerHelper("each",function(b,c){function h(c,l,n){D&&(D.key=c,D.index=l,D.first=0===l,D.last=!!n,F&&(D.contextPath=F+c));x+=r(b[c],{data:D,blockParams:k.blockParams([b[c],c],[F+c,null])})}if(!c)throw new q["default"]("Must pass iterator to #each");var r=c.fn,v=c.inverse,u=0,x="",D=void 0,F=void 0;if(c.data&&c.ids&&(F=k.appendContextPath(c.data.contextPath,c.ids[0])+"."),k.isFunction(b)&&(b=b.call(this)),c.data&&(D=k.createFrame(c.data)),b&&"object"==typeof b)if(k.isArray(b))for(c=
b.length;u<c;u++)u in b&&h(u,u,u===b.length-1);else if("function"==typeof l&&b[m]){c=[];for(var E=p(b),G=E.next();!G.done;G=E.next())c.push(G.value);b=c;for(c=b.length;u<c;u++)h(u,u,u===b.length-1)}else!function(){var k=void 0;n(b).forEach(function(b){void 0!==k&&h(k,u-1);k=b;u++});void 0!==k&&h(k,u-1,!0)}();return 0===u&&(x=v(this)),x})};b.exports=h["default"]},function(b,h,c){b.exports={"default":c(14),__esModule:!0}},function(b,h,c){c(15);c(42);b.exports=c(21).Symbol},function(b,h,c){b=c(9);h=
c(16);var l=c(17),m=c(18),p=c(20),n=c(24),u=c(19),k=c(27),q=c(28),v=c(30),y=c(29),z=c(31),A=c(36),r=c(37),B=c(38),C=c(39),x=c(32),D=c(26),F=b.getDesc,E=b.setDesc,G=b.create,K=A.get,I=h.Symbol,J=h.JSON,L=J&&J.stringify,M=!1,H=y("_hidden"),aa=b.isEnum,ca=k("symbol-registry"),T=k("symbols"),U="function"==typeof I,Q=Object.prototype,X=m&&u(function(){return 7!=G(E({},"a",{get:function(){return E(this,"a",{value:7}).a}})).a})?function(b,k,c){var h=F(Q,k);h&&delete Q[k];E(b,k,c);h&&b!==Q&&E(Q,k,h)}:E,O=
function(b){var k=T[b]=G(I.prototype);return k._k=b,m&&M&&X(Q,b,{configurable:!0,set:function(k){l(this,H)&&l(this[H],b)&&(this[H][b]=!1);X(this,b,D(1,k))}}),k},N=function(b){return"symbol"==typeof b},V=function(b,k,c){return c&&l(T,k)?(c.enumerable?(l(b,H)&&b[H][k]&&(b[H][k]=!1),c=G(c,{enumerable:D(0,!1)})):(l(b,H)||E(b,H,D(1,{})),b[H][k]=!0),X(b,k,c)):E(b,k,c)},fa=function(b,k){C(b);for(var c,h=r(k=x(k)),l=0,n=h.length;n>l;)V(b,c=h[l++],k[c]);return b},k=function(b,k){return void 0===k?G(b):fa(G(b),
k)},W=function(b){var k=aa.call(this,b);return!(k||!l(this,b)||!l(T,b)||l(this,H)&&this[H][b])||k},Z=function(b,k){var c=F(b=x(b),k);return!c||!l(T,k)||l(b,H)&&b[H][k]||(c.enumerable=!0),c},S=function(b){var k;b=K(x(b));for(var c=[],h=0;b.length>h;)l(T,k=b[h++])||k==H||c.push(k);return c},ja=function(b){var k;b=K(x(b));for(var c=[],h=0;b.length>h;)l(T,k=b[h++])&&c.push(T[k]);return c},ia=function(b){if(void 0!==b&&!N(b)){for(var k,c,h=[b],l=1,n=arguments;n.length>l;)h.push(n[l++]);return k=h[1],"function"==
typeof k&&(c=k),!c&&B(k)||(k=function(b,k){if(c&&(k=c.call(this,b,k)),!N(k))return k}),h[1]=k,L.apply(J,h)}},u=u(function(){var b=I();return"[null]"!=L([b])||"{}"!=L({a:b})||"{}"!=L(Object(b))});U||(I=function(){if(N(this))throw TypeError("Symbol is not a constructor");return O(v(0<arguments.length?arguments[0]:void 0))},n(I.prototype,"toString",function(){return this._k}),N=function(b){return b instanceof I},b.create=k,b.isEnum=W,b.getDesc=Z,b.setDesc=V,b.setDescs=fa,b.getNames=A.get=S,b.getSymbols=
ja,m&&!c(41)&&n(Q,"propertyIsEnumerable",W,!0));var ga={"for":function(b){return l(ca,b+="")?ca[b]:ca[b]=I(b)},keyFor:function(b){return z(ca,b)},useSetter:function(){M=!0},useSimple:function(){M=!1}};b.each.call("hasInstance isConcatSpreadable iterator match replace search species split toPrimitive toStringTag unscopables".split(" "),function(b){var k=y(b);ga[b]=U?k:O(k)});M=!0;p(p.G+p.W,{Symbol:I});p(p.S,"Symbol",ga);p(p.S+p.F*!U,"Object",{create:k,defineProperty:V,defineProperties:fa,getOwnPropertyDescriptor:Z,
getOwnPropertyNames:S,getOwnPropertySymbols:ja});J&&p(p.S+p.F*(!U||u),"JSON",{stringify:ia});q(I,"Symbol");q(Math,"Math",!0);q(h.JSON,"JSON",!0)},function(b,h){b=b.exports="undefined"!=typeof window&&Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=b)},function(b,h){var c={}.hasOwnProperty;b.exports=function(b,h){return c.call(b,h)}},function(b,h,c){b.exports=!c(19)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},
function(b,h){b.exports=function(b){try{return!!b()}catch(h){return!0}}},function(b,h,c){var l=c(16),m=c(21),p=c(22),n=function(b,k,c){var h,y,z=b&n.F,A=b&n.G,r=b&n.S,B=b&n.P,C=b&n.B;b&=n.W;var x=A?m:m[k]||(m[k]={}),r=A?l:r?l[k]:(l[k]||{}).prototype;A&&(c=k);for(h in c)(k=!z&&r&&h in r)&&h in x||(y=k?r[h]:c[h],x[h]=A&&"function"!=typeof r[h]?c[h]:C&&k?p(y,l):b&&r[h]==y?function(b){var k=function(k){return this instanceof b?new b(k):b(k)};return k.prototype=b.prototype,k}(y):B&&"function"==typeof y?
p(Function.call,y):y,B&&((x.prototype||(x.prototype={}))[h]=y))};n.F=1;n.G=2;n.S=4;n.P=8;n.B=16;n.W=32;b.exports=n},function(b,h){b=b.exports={version:"1.2.6"};"number"==typeof __e&&(__e=b)},function(b,h,c){var l=c(23);b.exports=function(b,c,h){if(l(b),void 0===c)return b;switch(h){case 1:return function(h){return b.call(c,h)};case 2:return function(h,k){return b.call(c,h,k)};case 3:return function(h,k,l){return b.call(c,h,k,l)}}return function(){return b.apply(c,arguments)}}},function(b,h){b.exports=
function(b){if("function"!=typeof b)throw TypeError(b+" is not a function!");return b}},function(b,h,c){b.exports=c(25)},function(b,h,c){var l=c(9),m=c(26);b.exports=c(18)?function(b,c,h){return l.setDesc(b,c,m(1,h))}:function(b,c,h){return b[c]=h,b}},function(b,h){b.exports=function(b,h){return{enumerable:!(1&b),configurable:!(2&b),writable:!(4&b),value:h}}},function(b,h,c){h=c(16);var l=h["__core-js_shared__"]||(h["__core-js_shared__"]={});b.exports=function(b){return l[b]||(l[b]={})}},function(b,
h,c){var l=c(9).setDesc,m=c(17),p=c(29)("toStringTag");b.exports=function(b,c,k){b&&!m(b=k?b:b.prototype,p)&&l(b,p,{configurable:!0,value:c})}},function(b,h,c){var l=c(27)("wks"),m=c(30),p=c(16).Symbol;b.exports=function(b){return l[b]||(l[b]=p&&p[b]||(p||m)("Symbol."+b))}},function(b,h){var c=0,l=Math.random();b.exports=function(b){return"Symbol(".concat(void 0===b?"":b,")_",(++c+l).toString(36))}},function(b,h,c){var l=c(9),m=c(32);b.exports=function(b,c){for(var h=m(b),k=l.getKeys(h),q=k.length,
v=0;q>v;)if(h[b=k[v++]]===c)return b}},function(b,h,c){var l=c(33),m=c(35);b.exports=function(b){return l(m(b))}},function(b,h,c){var l=c(34);b.exports=Object("z").propertyIsEnumerable(0)?Object:function(b){return"String"==l(b)?b.split(""):Object(b)}},function(b,h){var c={}.toString;b.exports=function(b){return c.call(b).slice(8,-1)}},function(b,h){b.exports=function(b){if(void 0==b)throw TypeError("Can't call method on  "+b);return b}},function(b,h,c){var l=c(32),m=c(9).getNames,p={}.toString,n=
"object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];b.exports.get=function(b){var k;if(n&&"[object Window]"==p.call(b))try{k=m(b)}catch(c){k=n.slice()}else k=m(l(b));return k}},function(b,h,c){var l=c(9);b.exports=function(b){var c=l.getKeys(b),h=l.getSymbols;if(h)for(var u,h=h(b),k=l.isEnum,q=0;h.length>q;)k.call(b,u=h[q++])&&c.push(u);return c}},function(b,h,c){var l=c(34);b.exports=Array.isArray||function(b){return"Array"==l(b)}},function(b,h,c){var l=c(40);
b.exports=function(b){if(!l(b))throw TypeError(b+" is not an object!");return b}},function(b,h){b.exports=function(b){return"object"==typeof b?null!==b:"function"==typeof b}},function(b,h){b.exports=!0},function(b,h){},function(b,h,c){b.exports={"default":c(44),__esModule:!0}},function(b,h,c){c(45);c(51);b.exports=c(29)("iterator")},function(b,h,c){var l=c(46)(!0);c(48)(String,"String",function(b){this._t=String(b);this._i=0},function(){var b,c=this._t,h=this._i;return h>=c.length?{value:void 0,done:!0}:
(b=l(c,h),this._i+=b.length,{value:b,done:!1})})},function(b,h,c){var l=c(47),m=c(35);b.exports=function(b){return function(c,h){var k,q;c=String(m(c));h=l(h);var v=c.length;return 0>h||h>=v?b?"":void 0:(k=c.charCodeAt(h),55296>k||56319<k||h+1===v||56320>(q=c.charCodeAt(h+1))||57343<q?b?c.charAt(h):k:b?c.slice(h,h+2):(k-55296<<10)+(q-56320)+65536)}}},function(b,h){var c=Math.ceil,l=Math.floor;b.exports=function(b){return isNaN(b=+b)?0:(0<b?l:c)(b)}},function(b,h,c){var l=c(41),m=c(20),p=c(24),n=c(25),
u=c(17),k=c(49),q=c(50),v=c(28),y=c(9).getProto,z=c(29)("iterator"),A=!([].keys&&"next"in[].keys()),r=function(){return this};b.exports=function(b,c,h,D,F,E,G){q(h,c,D);var K,I;D=function(b){return!A&&b in H?H[b]:function(){return new h(this,b)}};var J=c+" Iterator",L="values"==F,M=!1,H=b.prototype,aa=H[z]||H["@@iterator"]||F&&H[F],ca=aa||D(F);aa&&(b=y(ca.call(new b)),v(b,J,!0),!l&&u(H,"@@iterator")&&n(b,z,r),L&&"values"!==aa.name&&(M=!0,ca=function(){return aa.call(this)}));if(l&&!G||!A&&!M&&H[z]||
n(H,z,ca),k[c]=ca,k[J]=r,F)if(K={values:L?ca:D("values"),keys:E?ca:D("keys"),entries:L?D("entries"):ca},G)for(I in K)I in H||p(H,I,K[I]);else m(m.P+m.F*(A||M),c,K);return K}},function(b,h){b.exports={}},function(b,h,c){var l=c(9),m=c(26),p=c(28),n={};c(25)(n,c(29)("iterator"),function(){return this});b.exports=function(b,k,c){b.prototype=l.create(n,{next:m(1,c)});p(b,k+" Iterator")}},function(b,h,c){c(52);b=c(49);b.NodeList=b.HTMLCollection=b.Array},function(b,h,c){h=c(53);var l=c(54),m=c(49),p=c(32);
b.exports=c(48)(Array,"Array",function(b,c){this._t=p(b);this._i=0;this._k=c},function(){var b=this._t,c=this._k,k=this._i++;return!b||k>=b.length?(this._t=void 0,l(1)):"keys"==c?l(0,k):"values"==c?l(0,b[k]):l(0,[k,b[k]])},"values");m.Arguments=m.Array;h("keys");h("values");h("entries")},function(b,h){b.exports=function(){}},function(b,h){b.exports=function(b,h){return{value:h,done:!!b}}},function(b,h,c){b.exports={"default":c(56),__esModule:!0}},function(b,h,c){c(51);c(45);b.exports=c(57)},function(b,
h,c){var l=c(39),m=c(58);b.exports=c(21).getIterator=function(b){var c=m(b);if("function"!=typeof c)throw TypeError(b+" is not iterable!");return l(c.call(b))}},function(b,h,c){var l=c(59),m=c(29)("iterator"),p=c(49);b.exports=c(21).getIteratorMethod=function(b){if(void 0!=b)return b[m]||b["@@iterator"]||p[l(b)]}},function(b,h,c){var l=c(34),m=c(29)("toStringTag"),p="Arguments"==l(function(){return arguments}());b.exports=function(b){var c,k,h;return void 0===b?"Undefined":null===b?"Null":"string"==
typeof(k=(c=Object(b))[m])?k:p?l(c):"Object"==(h=l(c))&&"function"==typeof c.callee?"Arguments":h}},function(b,h,c){b.exports={"default":c(61),__esModule:!0}},function(b,h,c){c(62);b.exports=c(21).Object.keys},function(b,h,c){var l=c(63);c(64)("keys",function(b){return function(c){return b(l(c))}})},function(b,h,c){var l=c(35);b.exports=function(b){return Object(l(b))}},function(b,h,c){var l=c(20),m=c(21),p=c(19);b.exports=function(b,c){var k=(m.Object||{})[b]||Object[b],h={};h[b]=c(k);l(l.S+l.F*
p(function(){k(1)}),"Object",h)}},function(b,h,c){var l=c(1)["default"];h.__esModule=!0;c=c(6);var m=l(c);h["default"]=function(b){b.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new m["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"');})};b.exports=h["default"]},function(b,h,c){var l=c(1)["default"];h.__esModule=!0;var m=c(5);c=c(6);var p=l(c);h["default"]=function(b){b.registerHelper("if",function(b,k){if(2!=arguments.length)throw new p["default"]("#if requires exactly one argument");
return m.isFunction(b)&&(b=b.call(this)),!k.hash.includeZero&&!b||m.isEmpty(b)?k.inverse(this):k.fn(this)});b.registerHelper("unless",function(c,k){if(2!=arguments.length)throw new p["default"]("#unless requires exactly one argument");return b.helpers["if"].call(this,c,{fn:k.inverse,inverse:k.fn,hash:k.hash})})};b.exports=h["default"]},function(b,h){h.__esModule=!0;h["default"]=function(b){b.registerHelper("log",function(){for(var h=[void 0],m=arguments[arguments.length-1],p=0;p<arguments.length-
1;p++)h.push(arguments[p]);p=1;null!=m.hash.level?p=m.hash.level:m.data&&null!=m.data.level&&(p=m.data.level);h[0]=p;b.log.apply(b,h)})};b.exports=h["default"]},function(b,h){h.__esModule=!0;h["default"]=function(b){b.registerHelper("lookup",function(b,c,h){return b?h.lookupProperty(b,c):b})};b.exports=h["default"]},function(b,h,c){var l=c(1)["default"];h.__esModule=!0;var m=c(5);c=c(6);var p=l(c);h["default"]=function(b){b.registerHelper("with",function(b,k){if(2!=arguments.length)throw new p["default"]("#with requires exactly one argument");
m.isFunction(b)&&(b=b.call(this));var c=k.fn;if(m.isEmpty(b))return k.inverse(this);var h=k.data;return k.data&&k.ids&&(h=m.createFrame(k.data),h.contextPath=m.appendContextPath(k.data.contextPath,k.ids[0])),c(b,{data:h,blockParams:m.blockParams([b],[h&&h.contextPath])})})};b.exports=h["default"]},function(b,h,c){b=c(1)["default"];h.__esModule=!0;h.registerDefaultDecorators=function(b){l["default"](b)};h=c(71);var l=b(h)},function(b,h,c){h.__esModule=!0;var l=c(5);h["default"]=function(b){b.registerDecorator("inline",
function(b,c,h,k){var q=b;return c.partials||(c.partials={},q=function(k,q){var m=h.partials;h.partials=l.extend({},m,c.partials);k=b(k,q);return h.partials=m,k}),c.partials[k.args[0]]=k.fn,q})};b.exports=h["default"]},function(b,h,c){h.__esModule=!0;var l=c(5),m={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(b){if("string"==typeof b){var c=l.indexOf(m.methodMap,b.toLowerCase());b=0<=c?c:parseInt(b,10)}return b},log:function(b){if(b=m.lookupLevel(b),"undefined"!=typeof console&&
m.lookupLevel(m.level)<=b){var c=m.methodMap[b];console[c]||(c="log");for(var h=arguments.length,k=Array(1<h?h-1:0),l=1;l<h;l++)k[l-1]=arguments[l];console[c].apply(console,k)}}};h["default"]=m;b.exports=h["default"]},function(b,h,c){function l(b,c){void 0!==b.whitelist[c]?b=!0===b.whitelist[c]:void 0!==b.defaultValue?b=b.defaultValue:(!0!==k[c]&&(k[c]=!0,u["default"].log("error",'Handlebars: Access has been denied to resolve the property "'+c+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details')),
b=!1);return b}var m=c(74)["default"],p=c(60)["default"];b=c(1)["default"];h.__esModule=!0;h.createProtoAccessControl=function(b){var k=m(null);k.constructor=!1;k.__defineGetter__=!1;k.__defineSetter__=!1;k.__lookupGetter__=!1;var c=m(null);return c.__proto__=!1,{properties:{whitelist:n.createNewLookupObject(c,b.allowedProtoProperties),defaultValue:b.allowProtoPropertiesByDefault},methods:{whitelist:n.createNewLookupObject(k,b.allowedProtoMethods),defaultValue:b.allowProtoMethodsByDefault}}};h.resultIsAllowed=
function(b,k,c){return"function"==typeof b?l(k.methods,c):l(k.properties,c)};h.resetLoggedProperties=function(){p(k).forEach(function(b){delete k[b]})};var n=c(76);h=c(72);var u=b(h),k=m(null)},function(b,h,c){b.exports={"default":c(75),__esModule:!0}},function(b,h,c){var l=c(9);b.exports=function(b,c){return l.create(b,c)}},function(b,h,c){var l=c(74)["default"];h.__esModule=!0;h.createNewLookupObject=function(){for(var b=arguments.length,c=Array(b),h=0;h<b;h++)c[h]=arguments[h];return m.extend.apply(void 0,
[l(null)].concat(c))};var m=c(5)},function(b,h){function c(b){this.string=b}h.__esModule=!0;c.prototype.toString=c.prototype.toHTML=function(){return""+this.string};h["default"]=c;b.exports=h["default"]},function(b,h,c){function l(b,k,c,h,l,q,r){function m(k){var l=1>=arguments.length||void 0===arguments[1]?{}:arguments[1],n=r;return!r||k==r[0]||k===b.nullContext&&null===r[0]||(n=[k].concat(r)),c(b,k,b.helpers,b.partials,l.data||h,q&&[l.blockParams].concat(q),n)}return m=n(c,m,b,r,h,q),m.program=
k,m.depth=r?r.length:0,m.blockParams=l||0,m}function m(){return""}function p(b,k){return k&&"root"in k||(k=k?r.createFrame(k):{},k.root=b),k}function n(b,k,c,h,l,n){if(b.decorator){var q={};k=b.decorator(k,q,c,h&&h[0],l,n,h);z.extend(k,q)}return k}function u(b,c){v(b).forEach(function(h){b[h]=k(b[h],c)})}function k(b,k){var c=k.lookupProperty;return C.wrapHelper(b,function(b){return z.extend({lookupProperty:c},b)})}var q=c(79)["default"],v=c(60)["default"],y=c(3)["default"];b=c(1)["default"];h.__esModule=
!0;h.checkRevision=function(b){var k=b&&b[0]||1,c=r.COMPILER_REVISION;if(!(k>=r.LAST_COMPATIBLE_COMPILER_REVISION&&k<=r.COMPILER_REVISION)){if(k<r.LAST_COMPATIBLE_COMPILER_REVISION)throw new A["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r.REVISION_CHANGES[c]+") or downgrade your runtime to an older version ("+r.REVISION_CHANGES[k]+").");throw new A["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+
b[1]+").");}};h.template=function(b,k){function c(k){function h(k){return""+b.main(r,k,r.helpers,r.partials,q,v,m)}var l=1>=arguments.length||void 0===arguments[1]?{}:arguments[1],q=l.data;c._setup(l);!l.partial&&b.useData&&(q=p(k,q));var m=void 0,v=b.useBlockParams?[]:void 0;return b.useDepths&&(m=l.depths?k!=l.depths[0]?[k].concat(l.depths):l.depths:[k]),(h=n(b.main,h,r,l.depths||[],q,v))(k,l)}if(!k)throw new A["default"]("No environment passed to template");if(!b||!b.main)throw new A["default"]("Unknown template object: "+
typeof b);b.main.decorator=b.main_d;k.VM.checkRevision(b.compiler);var h=b.compiler&&7===b.compiler[0],r={strict:function(b,k,c){if(!(b&&k in b))throw new A["default"]('"'+k+'" not defined in '+b,{loc:c});return r.lookupProperty(b,k)},lookupProperty:function(b,k){var c=b[k];return null==c?c:Object.prototype.hasOwnProperty.call(b,k)?c:x.resultIsAllowed(c,r.protoAccessControl,k)?c:void 0},lookup:function(b,k){for(var c=b.length,h=0;h<c;h++)if(null!=(b[h]&&r.lookupProperty(b[h],k)))return b[h][k]},lambda:function(b,
k){return"function"==typeof b?b.call(k):b},escapeExpression:z.escapeExpression,invokePartial:function(c,h,l){l.hash&&(h=z.extend({},h,l.hash),l.ids&&(l.ids[0]=!0));c=k.VM.resolvePartial.call(this,c,h,l);var n=z.extend({},l,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),r=k.VM.invokePartial.call(this,c,h,n);if(null==r&&k.compile&&(l.partials[l.name]=k.compile(c,b.compilerOptions,k),r=l.partials[l.name](h,n)),null!=r){if(l.indent){c=r.split("\n");h=0;for(n=c.length;h<n&&(c[h]||h+1!==
n);h++)c[h]=l.indent+c[h];r=c.join("\n")}return r}throw new A["default"]("The partial "+l.name+" could not be compiled when running in runtime-only mode");},fn:function(k){var c=b[k];return c.decorator=b[k+"_d"],c},programs:[],program:function(b,k,c,h,n){var r=this.programs[b],q=this.fn(b);return k||n||h||c?r=l(this,b,q,k,c,h,n):r||(r=this.programs[b]=l(this,b,q)),r},data:function(b,k){for(;b&&k--;)b=b._parent;return b},mergeIfNeeded:function(b,k){var c=b||k;return b&&k&&b!==k&&(c=z.extend({},k,b)),
c},nullContext:q({}),noop:k.VM.noop,compilerInfo:b.compiler};return c.isTop=!0,c._setup=function(c){if(c.partial)r.protoAccessControl=c.protoAccessControl,r.helpers=c.helpers,r.partials=c.partials,r.decorators=c.decorators,r.hooks=c.hooks;else{var l=z.extend({},k.helpers,c.helpers);u(l,r);r.helpers=l;b.usePartial&&(r.partials=r.mergeIfNeeded(c.partials,k.partials));(b.usePartial||b.useDecorators)&&(r.decorators=z.extend({},k.decorators,c.decorators));r.hooks={};r.protoAccessControl=x.createProtoAccessControl(c);
c=c.allowCallsToHelperMissing||h;B.moveHelperToHooks(r,"helperMissing",c);B.moveHelperToHooks(r,"blockHelperMissing",c)}},c._child=function(k,c,h,n){if(b.useBlockParams&&!h)throw new A["default"]("must pass block params");if(b.useDepths&&!n)throw new A["default"]("must pass parent depths");return l(r,k,b[k],c,0,h,n)},c};h.wrapProgram=l;h.resolvePartial=function(b,k,c){return b?b.call||c.name||(c.name=b,b=c.partials[b]):b="@partial-block"===c.name?c.data["partial-block"]:c.partials[c.name],b};h.invokePartial=
function(b,k,c){var h=c.data&&c.data["partial-block"];c.partial=!0;c.ids&&(c.data.contextPath=c.ids[0]||c.data.contextPath);var l=void 0;if(c.fn&&c.fn!==m&&!function(){c.data=r.createFrame(c.data);var b=c.fn;l=c.data["partial-block"]=function(k){var c=1>=arguments.length||void 0===arguments[1]?{}:arguments[1];return c.data=r.createFrame(c.data),c.data["partial-block"]=h,b(k,c)};b.partials&&(c.partials=z.extend({},c.partials,b.partials))}(),void 0===b&&l&&(b=l),void 0===b)throw new A["default"]("The partial "+
c.name+" could not be found");if(b instanceof Function)return b(k,c)};h.noop=m;h=c(5);var z=y(h);h=c(6);var A=b(h),r=c(4),B=c(10),C=c(82),x=c(73)},function(b,h,c){b.exports={"default":c(80),__esModule:!0}},function(b,h,c){c(81);b.exports=c(21).Object.seal},function(b,h,c){var l=c(40);c(64)("seal",function(b){return function(c){return b&&l(c)?b(c):c}})},function(b,h){h.__esModule=!0;h.wrapHelper=function(b,h){return"function"!=typeof b?b:function(){return arguments[arguments.length-1]=h(arguments[arguments.length-
1]),b.apply(this,arguments)}}},function(b,h){h.__esModule=!0;h["default"]=function(b){!function(){"object"!=typeof globalThis&&(Object.prototype.__defineGetter__("__magic__",function(){return this}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__)}();var h=globalThis.Handlebars;b.noConflict=function(){return globalThis.Handlebars===b&&(globalThis.Handlebars=h),b}};b.exports=h["default"]},function(b,h){h.__esModule=!0;var c={helpers:{helperExpression:function(b){return"SubExpression"===
b.type||("MustacheStatement"===b.type||"BlockStatement"===b.type)&&!!(b.params&&b.params.length||b.hash)},scopedId:function(b){return/^\.|this\b/.test(b.original)},simpleId:function(b){return 1===b.parts.length&&!c.helpers.scopedId(b)&&!b.depth}}};h["default"]=c;b.exports=h["default"]},function(b,h,c){function l(b,c){if("Program"===b.type)return b;n["default"].yy=k;k.locInfo=function(b){return new k.SourceLocation(c&&c.srcName,b)};return n["default"].parse(b)}var m=c(1)["default"];b=c(3)["default"];
h.__esModule=!0;h.parseWithoutProcessing=l;h.parse=function(b,k){b=l(b,k);return(new u["default"](k)).accept(b)};var p=c(86),n=m(p),p=c(87),u=m(p),m=c(89);b=b(m);c=c(5);h.parser=n["default"];var k={};c.extend(k,b)},function(b,h){h.__esModule=!0;var c=function(){function b(){this.yy={}}var c={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,
END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,
inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,
hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",
55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,
1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(b,c,k,h,l,m,p){b=m.length-1;switch(l){case 1:return m[b-
1];case 2:this.$=h.prepareProgram(m[b]);break;case 3:this.$=m[b];break;case 4:this.$=m[b];break;case 5:this.$=m[b];break;case 6:this.$=m[b];break;case 7:this.$=m[b];break;case 8:this.$=m[b];break;case 9:this.$={type:"CommentStatement",value:h.stripComment(m[b]),strip:h.stripFlags(m[b],m[b]),loc:h.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:m[b],value:m[b],loc:h.locInfo(this._$)};break;case 11:this.$=h.prepareRawBlock(m[b-2],m[b-1],m[b],this._$);break;case 12:this.$={path:m[b-
3],params:m[b-2],hash:m[b-1]};break;case 13:this.$=h.prepareBlock(m[b-3],m[b-2],m[b-1],m[b],!1,this._$);break;case 14:this.$=h.prepareBlock(m[b-3],m[b-2],m[b-1],m[b],!0,this._$);break;case 15:this.$={open:m[b-5],path:m[b-4],params:m[b-3],hash:m[b-2],blockParams:m[b-1],strip:h.stripFlags(m[b-5],m[b])};break;case 16:this.$={path:m[b-4],params:m[b-3],hash:m[b-2],blockParams:m[b-1],strip:h.stripFlags(m[b-5],m[b])};break;case 17:this.$={path:m[b-4],params:m[b-3],hash:m[b-2],blockParams:m[b-1],strip:h.stripFlags(m[b-
5],m[b])};break;case 18:this.$={strip:h.stripFlags(m[b-1],m[b-1]),program:m[b]};break;case 19:l=h.prepareBlock(m[b-2],m[b-1],m[b],m[b],!1,this._$);h=h.prepareProgram([l],m[b-1].loc);h.chained=!0;this.$={strip:m[b-2].strip,program:h,chain:!0};break;case 20:this.$=m[b];break;case 21:this.$={path:m[b-1],strip:h.stripFlags(m[b-2],m[b])};break;case 22:this.$=h.prepareMustache(m[b-3],m[b-2],m[b-1],m[b-4],h.stripFlags(m[b-4],m[b]),this._$);break;case 23:this.$=h.prepareMustache(m[b-3],m[b-2],m[b-1],m[b-
4],h.stripFlags(m[b-4],m[b]),this._$);break;case 24:this.$={type:"PartialStatement",name:m[b-3],params:m[b-2],hash:m[b-1],indent:"",strip:h.stripFlags(m[b-4],m[b]),loc:h.locInfo(this._$)};break;case 25:this.$=h.preparePartialBlock(m[b-2],m[b-1],m[b],this._$);break;case 26:this.$={path:m[b-3],params:m[b-2],hash:m[b-1],strip:h.stripFlags(m[b-4],m[b])};break;case 27:this.$=m[b];break;case 28:this.$=m[b];break;case 29:this.$={type:"SubExpression",path:m[b-3],params:m[b-2],hash:m[b-1],loc:h.locInfo(this._$)};
break;case 30:this.$={type:"Hash",pairs:m[b],loc:h.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:h.id(m[b-2]),value:m[b],loc:h.locInfo(this._$)};break;case 32:this.$=h.id(m[b-1]);break;case 33:this.$=m[b];break;case 34:this.$=m[b];break;case 35:this.$={type:"StringLiteral",value:m[b],original:m[b],loc:h.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(m[b]),original:Number(m[b]),loc:h.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===
m[b],original:"true"===m[b],loc:h.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:h.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:h.locInfo(this._$)};break;case 40:this.$=m[b];break;case 41:this.$=m[b];break;case 42:this.$=h.preparePath(!0,m[b],this._$);break;case 43:this.$=h.preparePath(!1,m[b],this._$);break;case 44:m[b-2].push({part:h.id(m[b]),original:m[b],separator:m[b-1]});this.$=m[b-2];break;case 45:this.$=
[{part:h.id(m[b]),original:m[b]}];break;case 46:this.$=[];break;case 47:m[b-1].push(m[b]);break;case 48:this.$=[];break;case 49:m[b-1].push(m[b]);break;case 50:this.$=[];break;case 51:m[b-1].push(m[b]);break;case 58:this.$=[];break;case 59:m[b-1].push(m[b]);break;case 64:this.$=[];break;case 65:m[b-1].push(m[b]);break;case 70:this.$=[];break;case 71:m[b-1].push(m[b]);break;case 78:this.$=[];break;case 79:m[b-1].push(m[b]);break;case 82:this.$=[];break;case 83:m[b-1].push(m[b]);break;case 86:this.$=
[];break;case 87:m[b-1].push(m[b]);break;case 90:this.$=[];break;case 91:m[b-1].push(m[b]);break;case 94:this.$=[];break;case 95:m[b-1].push(m[b]);break;case 98:this.$=[m[b]];break;case 99:m[b-1].push(m[b]);break;case 100:this.$=[m[b]];break;case 101:m[b-1].push(m[b])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,
21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],
29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,
9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],
17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,
79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,
33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],
82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,
45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,
40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],
84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,
79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],
15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],
60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,
78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,
28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],
83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,
14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,
59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],
44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,
79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,
133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,
15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],
60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function(b,c){throw Error(b);},parse:function(b){var c=[0],k=[null],h=[],l=this.table,m="",p=0,A=0,r=0;this.lexer.setInput(b);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;this.yy.parser=this;"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});b=this.lexer.yylloc;h.push(b);var B=this.lexer.options&&this.lexer.options.ranges;"function"==
typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var C,x,D,F,E,G,K,I,J={};;){D=c[c.length-1];if(this.defaultActions[D])F=this.defaultActions[D];else{if(null===C||"undefined"==typeof C)F=void 0,C=(F=this.lexer.lex()||1,"number"!=typeof F&&(F=this.symbols_[F]||F),F);F=l[D]&&l[D][C]}if("undefined"==typeof F||!F.length||!F[0]){var L;if(!r){I=[];for(G in l[D])this.terminals_[G]&&2<G&&I.push("'"+this.terminals_[G]+"'");L=this.lexer.showPosition?"Parse error on line "+(p+1)+":\n"+this.lexer.showPosition()+
"\nExpecting "+I.join(", ")+", got '"+(this.terminals_[C]||C)+"'":"Parse error on line "+(p+1)+": Unexpected "+(1==C?"end of input":"'"+(this.terminals_[C]||C)+"'");this.parseError(L,{text:this.lexer.match,token:this.terminals_[C]||C,line:this.lexer.yylineno,loc:b,expected:I})}}if(F[0]instanceof Array&&1<F.length)throw Error("Parse Error: multiple actions possible at state: "+D+", token: "+C);switch(F[0]){case 1:c.push(C);k.push(this.lexer.yytext);h.push(this.lexer.yylloc);c.push(F[1]);C=null;x?(C=
x,x=null):(A=this.lexer.yyleng,m=this.lexer.yytext,p=this.lexer.yylineno,b=this.lexer.yylloc,0<r&&r--);break;case 2:if(K=this.productions_[F[1]][1],J.$=k[k.length-K],J._$={first_line:h[h.length-(K||1)].first_line,last_line:h[h.length-1].last_line,first_column:h[h.length-(K||1)].first_column,last_column:h[h.length-1].last_column},B&&(J._$.range=[h[h.length-(K||1)].range[0],h[h.length-1].range[1]]),E=this.performAction.call(J,m,A,p,this.yy,F[1],k,h),"undefined"!=typeof E)return E;K&&(c=c.slice(0,-2*
K),k=k.slice(0,-1*K),h=h.slice(0,-1*K));c.push(this.productions_[F[1]][0]);k.push(J.$);h.push(J._$);D=l[c[c.length-2]][c[c.length-1]];c.push(D);break;case 3:return!0}}}},h=function(){var b={EOF:1,parseError:function(b,k){if(!this.yy.parser)throw Error(b);this.yy.parser.parseError(b,k)},setInput:function(b){return this._input=b,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,
last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var b=this._input[0];this.yytext+=b;this.yyleng++;this.offset++;this.match+=b;this.matched+=b;return b.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),b},unput:function(b){var k=b.length,c=b.split(/(?:\r\n?|\n)/g);this._input=b+this._input;this.yytext=this.yytext.substr(0,
this.yytext.length-k-1);this.offset-=k;b=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);c.length-1&&(this.yylineno-=c.length-1);var h=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===b.length?this.yylloc.first_column:0)+b[b.length-c.length].length-c[0].length:this.yylloc.first_column-k},this.options.ranges&&
(this.yylloc.range=[h[0],h[0]+this.yyleng-k]),this},more:function(){return this._more=!0,this},less:function(b){this.unput(this.match.slice(b))},pastInput:function(){var b=this.matched.substr(0,this.matched.length-this.match.length);return(20<b.length?"...":"")+b.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var b=this.match;return 20>b.length&&(b+=this._input.substr(0,20-b.length)),(b.substr(0,20)+(20<b.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var b=this.pastInput(),
k=Array(b.length+1).join("-");return b+this.upcomingInput()+"\n"+k+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var b,k,c,h,l;this._more||(this.yytext="",this.match="");for(var n=this._currentRules(),m=0;m<n.length&&(c=this._input.match(this.rules[n[m]]),!c||k&&!(c[0].length>k[0].length)||(k=c,h=m,this.options.flex));m++);return k?(l=k[0].match(/(?:\r\n?|\n).*/g),l&&(this.yylineno+=l.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,
last_column:l?l[l.length-1].length-l[l.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+k[0].length},this.yytext+=k[0],this.match+=k[0],this.matches=k,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(k[0].length),this.matched+=k[0],b=this.performAction.call(this,this.yy,this,n[h],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),b?b:void 0):""===
this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var b=this.next();return"undefined"!=typeof b?b:this.lex()},begin:function(b){this.conditionStack.push(b)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-
2]},pushState:function(b){this.begin(b)}};return b.options={},b.performAction=function(b,k,c,h){function l(b,c){return k.yytext=k.yytext.substring(b,k.yyleng-c+b)}switch(c){case 0:if("\\\\"===k.yytext.slice(-2)?(l(0,1),this.begin("mu")):"\\"===k.yytext.slice(-1)?(l(0,1),this.begin("emu")):this.begin("mu"),k.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-
1]?15:(l(5,9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(k.yytext);this.popState();this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;
case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return k.yytext=l(1,2).replace(/\\"/g,'"'),80;case 32:return k.yytext=l(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return k.yytext=k.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},
b.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,
/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],
b.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},b}();return c.lexer=h,b.prototype=c,c.Parser=b,new b}();h["default"]=c;b.exports=h["default"]},function(b,h,c){function l(){this.options=0>=arguments.length||void 0===arguments[0]?{}:arguments[0]}function m(b,k,c){void 0===
k&&(k=b.length);var h=b[k-1];b=b[k-2];return h?"ContentStatement"===h.type?(b||!c?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(h.original):void 0:c}function p(b,k,c){void 0===k&&(k=-1);var h=b[k+1];b=b[k+2];return h?"ContentStatement"===h.type?(b||!c?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(h.original):void 0:c}function n(b,k,c){!(b=b[null==k?0:k+1])||"ContentStatement"!==b.type||!c&&b.rightStripped||(k=b.value,b.value=b.value.replace(c?/^\s+/:/^[ \t]*\r?\n?/,""),b.rightStripped=b.value!==k)}function u(b,k,c){if((b=
b[null==k?b.length-1:k-1])&&"ContentStatement"===b.type&&(c||!b.leftStripped))return k=b.value,b.value=b.value.replace(c?/\s+$/:/[ \t]+$/,""),b.leftStripped=b.value!==k,b.leftStripped}var k=c(1)["default"];h.__esModule=!0;c=c(88);k=k(c);l.prototype=new k["default"];l.prototype.Program=function(b){var k=!this.options.ignoreStandalone,c=!this.isRootSeen;this.isRootSeen=!0;for(var h=b.body,l=0,r=h.length;l<r;l++){var B=h[l],C=this.accept(B);if(C){var x=m(h,l,c),D=p(h,l,c),F=C.openStandalone&&x,E=C.closeStandalone&&
D,x=C.inlineStandalone&&x&&D;C.close&&n(h,l,!0);C.open&&u(h,l,!0);k&&x&&(n(h,l),u(h,l)&&"PartialStatement"===B.type&&(B.indent=/([ \t]+$)/.exec(h[l-1].original)[1]));k&&F&&(n((B.program||B.inverse).body),u(h,l));k&&E&&(n(h,l),u((B.inverse||B.program).body))}}return b};l.prototype.BlockStatement=l.prototype.DecoratorBlock=l.prototype.PartialBlockStatement=function(b){this.accept(b.program);this.accept(b.inverse);var k=b.program||b.inverse,c=b.program&&b.inverse,h=c,l=c;if(c&&c.chained)for(h=c.body[0].program;l.chained;)l=
l.body[l.body.length-1].program;var r={open:b.openStrip.open,close:b.closeStrip.close,openStandalone:p(k.body),closeStandalone:m((h||k).body)};(b.openStrip.close&&n(k.body,null,!0),c)?(c=b.inverseStrip,c.open&&u(k.body,null,!0),c.close&&n(h.body,null,!0),b.closeStrip.open&&u(l.body,null,!0),!this.options.ignoreStandalone&&m(k.body)&&p(h.body)&&(u(k.body),n(h.body))):b.closeStrip.open&&u(k.body,null,!0);return r};l.prototype.Decorator=l.prototype.MustacheStatement=function(b){return b.strip};l.prototype.PartialStatement=
l.prototype.CommentStatement=function(b){b=b.strip||{};return{inlineStandalone:!0,open:b.open,close:b.close}};h["default"]=l;b.exports=h["default"]},function(b,h,c){function l(){this.parents=[]}function m(b){this.acceptRequired(b,"path");this.acceptArray(b.params);this.acceptKey(b,"hash")}function p(b){m.call(this,b);this.acceptKey(b,"program");this.acceptKey(b,"inverse")}function n(b){this.acceptRequired(b,"name");this.acceptArray(b.params);this.acceptKey(b,"hash")}var u=c(1)["default"];h.__esModule=
!0;c=c(6);var k=u(c);l.prototype={constructor:l,mutating:!1,acceptKey:function(b,c){var h=this.accept(b[c]);if(this.mutating){if(h&&!l.prototype[h.type])throw new k["default"]('Unexpected node type "'+h.type+'" found when accepting '+c+" on "+b.type);b[c]=h}},acceptRequired:function(b,c){if(this.acceptKey(b,c),!b[c])throw new k["default"](b.type+" requires "+c);},acceptArray:function(b){for(var k=0,c=b.length;k<c;k++)this.acceptKey(b,k),b[k]||(b.splice(k,1),k--,c--)},accept:function(b){if(b){if(!this[b.type])throw new k["default"]("Unknown type: "+
b.type,b);this.current&&this.parents.unshift(this.current);this.current=b;var c=this[b.type](b);return this.current=this.parents.shift(),!this.mutating||c?c:!1!==c?b:void 0}},Program:function(b){this.acceptArray(b.body)},MustacheStatement:m,Decorator:m,BlockStatement:p,DecoratorBlock:p,PartialStatement:n,PartialBlockStatement:function(b){n.call(this,b);this.acceptKey(b,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:m,PathExpression:function(){},StringLiteral:function(){},
NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(b){this.acceptArray(b.pairs)},HashPair:function(b){this.acceptRequired(b,"value")}};h["default"]=l;b.exports=h["default"]},function(b,h,c){function l(b,c){if(c=c.path?c.path.original:c,b.path.original!==c)throw new m["default"](b.path.original+" doesn't match "+c,{loc:b.path.loc});}b=c(1)["default"];h.__esModule=!0;h.SourceLocation=function(b,c){this.source=b;this.start={line:c.first_line,
column:c.first_column};this.end={line:c.last_line,column:c.last_column}};h.id=function(b){return/^\[.*\]$/.test(b)?b.substring(1,b.length-1):b};h.stripFlags=function(b,c){return{open:"~"===b.charAt(2),close:"~"===c.charAt(c.length-3)}};h.stripComment=function(b){return b.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")};h.preparePath=function(b,c,h){h=this.locInfo(h);for(var k=b?"@":"",l=[],v=0,y=0,z=c.length;y<z;y++){var A=c[y].part,r=c[y].original!==A;if(k+=(c[y].separator||"")+A,r||".."!==
A&&"."!==A&&"this"!==A)l.push(A);else{if(0<l.length)throw new m["default"]("Invalid path: "+k,{loc:h});".."===A&&v++}}return{type:"PathExpression",data:b,depth:v,parts:l,original:k,loc:h}};h.prepareMustache=function(b,c,h,k,l,m){var y=k.charAt(3)||k.charAt(2),y="{"!==y&&"\x26"!==y;return{type:/\*/.test(k)?"Decorator":"MustacheStatement",path:b,params:c,hash:h,escaped:y,strip:l,loc:this.locInfo(m)}};h.prepareRawBlock=function(b,c,h,k){l(b,h);k=this.locInfo(k);return{type:"BlockStatement",path:b.path,
params:b.params,hash:b.hash,program:{type:"Program",body:c,strip:{},loc:k},openStrip:{},inverseStrip:{},closeStrip:{},loc:k}};h.prepareBlock=function(b,c,h,k,q,v){k&&k.path&&l(b,k);var y=/\*/.test(b.open);c.blockParams=b.blockParams;var z=void 0,A=void 0;if(h){if(y)throw new m["default"]("Unexpected inverse block on decorator",h);h.chain&&(h.program.body[0].closeStrip=k.strip);A=h.strip;z=h.program}return q&&(q=z,z=c,c=q),{type:y?"DecoratorBlock":"BlockStatement",path:b.path,params:b.params,hash:b.hash,
program:c,inverse:z,openStrip:b.strip,inverseStrip:A,closeStrip:k&&k.strip,loc:this.locInfo(v)}};h.prepareProgram=function(b,c){if(!c&&b.length){var h=b[0].loc,k=b[b.length-1].loc;h&&k&&(c={source:h.source,start:{line:h.start.line,column:h.start.column},end:{line:k.end.line,column:k.end.column}})}return{type:"Program",body:b,strip:{},loc:c}};h.preparePartialBlock=function(b,c,h,k){return l(b,h),{type:"PartialBlockStatement",name:b.path,params:b.params,hash:b.hash,program:c,openStrip:b.strip,closeStrip:h&&
h.strip,loc:this.locInfo(k)}};h=c(6);var m=b(h)},function(b,h,c){function l(){}function m(b,c){if(b===c)return!0;if(k.isArray(b)&&k.isArray(c)&&b.length===c.length){for(var h=0;h<b.length;h++)if(!m(b[h],c[h]))return!1;return!0}}function p(b){if(!b.path.parts){var k=b.path;b.path={type:"PathExpression",data:!1,depth:0,parts:[k.original+""],original:k.original+"",loc:k.loc}}}var n=c(74)["default"];b=c(1)["default"];h.__esModule=!0;h.Compiler=l;h.precompile=function(b,k,c){if(null==b||"string"!=typeof b&&
"Program"!==b.type)throw new u["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+b);k=k||{};"data"in k||(k.data=!0);k.compat&&(k.useDepths=!0);b=c.parse(b,k);b=(new c.Compiler).compile(b,k);return(new c.JavaScriptCompiler).compile(b,k)};h.compile=function(b,c,h){function l(){var k=h.parse(b,c),k=(new h.Compiler).compile(k,c),k=(new h.JavaScriptCompiler).compile(k,c,void 0,!0);return h.template(k)}function n(b,k){return m||(m=l()),m.call(this,b,k)}if(void 0===
c&&(c={}),null==b||"string"!=typeof b&&"Program"!==b.type)throw new u["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+b);c=k.extend({},c);"data"in c||(c.data=!0);c.compat&&(c.useDepths=!0);var m=void 0;return n._setup=function(b){return m||(m=l()),m._setup(b)},n._child=function(b,k,c,h){return m||(m=l()),m._child(b,k,c,h)},n};h=c(6);var u=b(h),k=c(5);c=c(84);var q=b(c),v=[].slice;l.prototype={compiler:l,equals:function(b){var k=this.opcodes.length;if(b.opcodes.length!==
k)return!1;for(var c=0;c<k;c++){var h=this.opcodes[c],l=b.opcodes[c];if(h.opcode!==l.opcode||!m(h.args,l.args))return!1}k=this.children.length;for(c=0;c<k;c++)if(!this.children[c].equals(b.children[c]))return!1;return!0},guid:0,compile:function(b,c){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=c,this.stringParams=c.stringParams,this.trackIds=c.trackIds,c.blockParams=c.blockParams||[],c.knownHelpers=k.extend(n(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,
unless:!0,"with":!0,log:!0,lookup:!0},c.knownHelpers),this.accept(b)},compileProgram:function(b){b=(new this.compiler).compile(b,this.options);var k=this.guid++;return this.usePartial=this.usePartial||b.usePartial,this.children[k]=b,this.useDepths=this.useDepths||b.useDepths,k},accept:function(b){if(!this[b.type])throw new u["default"]("Unknown type: "+b.type,b);this.sourceNode.unshift(b);b=this[b.type](b);return this.sourceNode.shift(),b},Program:function(b){this.options.blockParams.unshift(b.blockParams);
for(var k=b.body,c=k.length,h=0;h<c;h++)this.accept(k[h]);return this.options.blockParams.shift(),this.isSimple=1===c,this.blockParams=b.blockParams?b.blockParams.length:0,this},BlockStatement:function(b){p(b);var k=b.program,c=b.inverse,k=k&&this.compileProgram(k),c=c&&this.compileProgram(c),h=this.classifySexpr(b);"helper"===h?this.helperSexpr(b,k,c):"simple"===h?(this.simpleSexpr(b),this.opcode("pushProgram",k),this.opcode("pushProgram",c),this.opcode("emptyHash"),this.opcode("blockValue",b.path.original)):
(this.ambiguousSexpr(b,k,c),this.opcode("pushProgram",k),this.opcode("pushProgram",c),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue"));this.opcode("append")},DecoratorBlock:function(b){var k=b.program&&this.compileProgram(b.program),k=this.setupFullMustacheParams(b,k,void 0);b=b.path;this.useDecorators=!0;this.opcode("registerDecorator",k.length,b.original)},PartialStatement:function(b){this.usePartial=!0;var k=b.program;k&&(k=this.compileProgram(b.program));var c=b.params;if(1<c.length)throw new u["default"]("Unsupported number of partial arguments: "+
c.length,b);c.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):c.push({type:"PathExpression",parts:[],depth:0}));var c=b.name.original,h="SubExpression"===b.name.type;h&&this.accept(b.name);this.setupFullMustacheParams(b,k,void 0,!0);b=b.indent||"";this.options.preventIndent&&b&&(this.opcode("appendContent",b),b="");this.opcode("invokePartial",h,c,b);this.opcode("append")},PartialBlockStatement:function(b){this.PartialStatement(b)},MustacheStatement:function(b){this.SubExpression(b);
b.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(b){this.DecoratorBlock(b)},ContentStatement:function(b){b.value&&this.opcode("appendContent",b.value)},CommentStatement:function(){},SubExpression:function(b){p(b);var k=this.classifySexpr(b);"simple"===k?this.simpleSexpr(b):"helper"===k?this.helperSexpr(b):this.ambiguousSexpr(b)},ambiguousSexpr:function(b,k,c){b=b.path;var h=b.parts[0],l=null!=k||null!=c;this.opcode("getContext",b.depth);this.opcode("pushProgram",
k);this.opcode("pushProgram",c);b.strict=!0;this.accept(b);this.opcode("invokeAmbiguous",h,l)},simpleSexpr:function(b){b=b.path;b.strict=!0;this.accept(b);this.opcode("resolvePossibleLambda")},helperSexpr:function(b,k,c){k=this.setupFullMustacheParams(b,k,c);c=b.path;var h=c.parts[0];if(this.options.knownHelpers[h])this.opcode("invokeKnownHelper",k.length,h);else{if(this.options.knownHelpersOnly)throw new u["default"]("You specified knownHelpersOnly, but used the unknown helper "+h,b);c.strict=!0;
c.falsy=!0;this.accept(c);this.opcode("invokeHelper",k.length,c.original,q["default"].helpers.simpleId(c))}},PathExpression:function(b){this.addDepth(b.depth);this.opcode("getContext",b.depth);var k=b.parts[0],c=q["default"].helpers.scopedId(b),h=!b.depth&&!c&&this.blockParamIndex(k);h?this.opcode("lookupBlockParam",h,b.parts):k?b.data?(this.options.data=!0,this.opcode("lookupData",b.depth,b.parts,b.strict)):this.opcode("lookupOnContext",b.parts,b.falsy,b.strict,c):this.opcode("pushContext")},StringLiteral:function(b){this.opcode("pushString",
b.value)},NumberLiteral:function(b){this.opcode("pushLiteral",b.value)},BooleanLiteral:function(b){this.opcode("pushLiteral",b.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(b){b=b.pairs;var k=0,c=b.length;for(this.opcode("pushHash");k<c;k++)this.pushParam(b[k].value);for(;k--;)this.opcode("assignToHash",b[k].key);this.opcode("popHash")},opcode:function(b){this.opcodes.push({opcode:b,args:v.call(arguments,
1),loc:this.sourceNode[0].loc})},addDepth:function(b){b&&(this.useDepths=!0)},classifySexpr:function(b){var k=q["default"].helpers.simpleId(b.path),c=k&&!!this.blockParamIndex(b.path.parts[0]),h=!c&&q["default"].helpers.helperExpression(b);(k=!c&&(h||k))&&!h&&(c=this.options,c.knownHelpers[b.path.parts[0]]?h=!0:c.knownHelpersOnly&&(k=!1));return h?"helper":k?"ambiguous":"simple"},pushParams:function(b){for(var k=0,c=b.length;k<c;k++)this.pushParam(b[k])},pushParam:function(b){var k=null!=b.value?
b.value:b.original||"";if(this.stringParams)k.replace&&(k=k.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),b.depth&&this.addDepth(b.depth),this.opcode("getContext",b.depth||0),this.opcode("pushStringParam",k,b.type),"SubExpression"===b.type&&this.accept(b);else{if(this.trackIds){var c=void 0;(!b.parts||q["default"].helpers.scopedId(b)||b.depth||(c=this.blockParamIndex(b.parts[0])),c)?(k=b.parts.slice(1).join("."),this.opcode("pushId","BlockParam",c,k)):(k=b.original||k,k.replace&&(k=k.replace(/^this(?:\.|$)/,
"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",b.type,k))}this.accept(b)}},setupFullMustacheParams:function(b,k,c,h){var l=b.params;return this.pushParams(l),this.opcode("pushProgram",k),this.opcode("pushProgram",c),b.hash?this.accept(b.hash):this.opcode("emptyHash",h),l},blockParamIndex:function(b){for(var c=0,h=this.options.blockParams.length;c<h;c++){var l=this.options.blockParams[c],n=l&&k.indexOf(l,b);if(l&&0<=n)return[c,n]}}}},function(b,h,c){function l(b){this.value=b}function m(){}
function p(b,k,c,h,l){var n=k.popStack(),m=c.length;for(b&&m--;h<m;h++)n=k.nameLookup(n,c[h],l);return b?[k.aliasable("container.strict"),"(",n,", ",k.quotedString(c[h]),", ",JSON.stringify(k.source.currentLocation)," )"]:n}var n=c(60)["default"],u=c(1)["default"];h.__esModule=!0;var k=c(4),q=c(6),v=u(q),y=c(5);c=c(92);var z=u(c);m.prototype={nameLookup:function(b,k){return this.internalNameLookup(b,k)},depthedLookup:function(b){return[this.aliasable("container.lookup"),"(depths, ",JSON.stringify(b),
")"]},compilerInfo:function(){var b=k.COMPILER_REVISION;return[b,k.REVISION_CHANGES[b]]},appendToBuffer:function(b,k,c){return y.isArray(b)||(b=[b]),b=this.source.wrap(b,k),this.environment.isSimple?["return ",b,";"]:c?["buffer +\x3d ",b,";"]:(b.appendToBuffer=!0,b)},initializeBuffer:function(){return this.quotedString("")},internalNameLookup:function(b,k){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",b,",",JSON.stringify(k),")"]},lookupPropertyFunctionIsUsed:!1,compile:function(b,
k,c,h){this.environment=b;this.options=k;this.stringParams=this.options.stringParams;this.trackIds=this.options.trackIds;this.precompile=!h;this.name=this.environment.name;this.isChild=!!c;this.context=c||{decorators:[],programs:[],environments:[]};this.preamble();this.stackSlot=0;this.stackVars=[];this.aliases={};this.registers={list:[]};this.hashes=[];this.compileStack=[];this.inlineStack=[];this.blockParams=[];this.compileChildren(b,k);this.useDepths=this.useDepths||b.useDepths||b.useDecorators||
this.options.compat;this.useBlockParams=this.useBlockParams||b.useBlockParams;var l=b.opcodes,n,m=void 0;b=0;for(c=l.length;b<c;b++)n=l[b],this.source.currentLocation=n.loc,m=m||n.loc,this[n.opcode].apply(this,n.args);if(this.source.currentLocation=m,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new v["default"]("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators \x3d container.decorators, ",
this.lookupPropertyFunctionVarDeclaration(),";\n"]),this.decorators.push("return fn;"),h?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));b=this.createFunctionContext(h);if(this.isChild)return b;l={compiler:this.compilerInfo(),main:b};this.decorators&&(l.main_d=
this.decorators,l.useDecorators=!0);b=this.context;n=b.programs;m=b.decorators;b=0;for(c=n.length;b<c;b++)n[b]&&(l[b]=n[b],m[b]&&(l[b+"_d"]=m[b],l.useDecorators=!0));return this.environment.usePartial&&(l.usePartial=!0),this.options.data&&(l.useData=!0),this.useDepths&&(l.useDepths=!0),this.useBlockParams&&(l.useBlockParams=!0),this.options.compat&&(l.compat=!0),h?l.compilerOptions=this.options:(l.compiler=JSON.stringify(l.compiler),this.source.currentLocation={start:{line:1,column:0}},l=this.objectLiteral(l),
k.srcName?(l=l.toStringWithSourceMap({file:k.destName}),l.map=l.map&&l.map.toString()):l=l.toString()),l},preamble:function(){this.lastContext=0;this.source=new z["default"](this.options.srcName);this.decorators=new z["default"](this.options.srcName)},createFunctionContext:function(b){var k=this,c="",h=this.stackVars.concat(this.registers.list);0<h.length&&(c+=", "+h.join(", "));var l=0;n(this.aliases).forEach(function(b){var h=k.aliases[b];h.children&&1<h.referenceCount&&(c+=", alias"+ ++l+"\x3d"+
b,h.children[0]="alias"+l)});this.lookupPropertyFunctionIsUsed&&(c+=", "+this.lookupPropertyFunctionVarDeclaration());h=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&h.push("blockParams");this.useDepths&&h.push("depths");var m=this.mergeSource(c);return b?(h.push(m),Function.apply(this,h)):this.source.wrap(["function(",h.join(","),") {\n  ",m,"}"])},mergeSource:function(b){var k=this.environment.isSimple,c=!this.forceBuffer,h=void 0,l=void 0,n=void 0,m=
void 0;return this.source.each(function(b){b.appendToBuffer?(n?b.prepend("  + "):n=b,m=b):(n&&(l?n.prepend("buffer +\x3d "):h=!0,m.add(";"),n=m=void 0),l=!0,k||(c=!1))}),c?n?(n.prepend("return "),m.add(";")):l||this.source.push('return "";'):(b+=", buffer \x3d "+(h?"":this.initializeBuffer()),n?(n.prepend("return buffer + "),m.add(";")):this.source.push("return buffer;")),b&&this.source.prepend("var "+b.substring(2)+(h?"":";\n")),this.source.merge()},lookupPropertyFunctionVarDeclaration:function(){return"\n      lookupProperty \x3d container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    }\n    ".trim()},
blockValue:function(b){var k=this.aliasable("container.hooks.blockHelperMissing"),c=[this.contextName(0)];this.setupHelperArgs(b,0,c);b=this.popStack();c.splice(1,0,b);this.push(this.source.functionCall(k,"call",c))},ambiguousBlockValue:function(){var b=this.aliasable("container.hooks.blockHelperMissing"),k=[this.contextName(0)];this.setupHelperArgs("",0,k,!0);this.flushInline();var c=this.topStack();k.splice(1,0,c);this.pushSource(["if (!",this.lastHelper,") { ",c," \x3d ",this.source.functionCall(b,
"call",k),"}"])},appendContent:function(b){this.pendingContent?b=this.pendingContent+b:this.pendingLocation=this.source.currentLocation;this.pendingContent=b},append:function(){if(this.isInline())this.replaceStack(function(b){return[" !\x3d null ? ",b,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var b=this.popStack();this.pushSource(["if (",b," !\x3d null) { ",this.appendToBuffer(b,void 0,!0)," }"]);this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",
void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(b){this.lastContext=b},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(b,k,c,h){var l=0;h||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(b[l++]));this.resolvePath("context",b,l,k,c)},lookupBlockParam:function(b,k){this.useBlockParams=
!0;this.push(["blockParams[",b[0],"][",b[1],"]"]);this.resolvePath("context",k,1)},lookupData:function(b,k,c){b?this.pushStackLiteral("container.data(data, "+b+")"):this.pushStackLiteral("data");this.resolvePath("data",k,0,!0,c)},resolvePath:function(b,k,c,h,l){var n=this;if(this.options.strict||this.options.assumeObjects)return void this.push(p(this.options.strict&&l,this,k,c,b));for(l=k.length;c<l;c++)this.replaceStack(function(l){var m=n.nameLookup(l,k[c],b);return h?[" \x26\x26 ",m]:[" !\x3d null ? ",
m," : ",l]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(b,k){this.pushContext();this.pushString(k);"SubExpression"!==k&&("string"==typeof b?this.pushString(b):this.pushStackLiteral(b))},emptyHash:function(b){this.trackIds&&this.push("{}");this.stringParams&&(this.push("{}"),this.push("{}"));this.pushStackLiteral(b?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash);
this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function(){var b=this.hash;this.hash=this.hashes.pop();this.trackIds&&this.push(this.objectLiteral(b.ids));this.stringParams&&(this.push(this.objectLiteral(b.contexts)),this.push(this.objectLiteral(b.types)));this.push(this.objectLiteral(b.values))},pushString:function(b){this.pushStackLiteral(this.quotedString(b))},pushLiteral:function(b){this.pushStackLiteral(b)},pushProgram:function(b){null!=b?this.pushStackLiteral(this.programExpression(b)):
this.pushStackLiteral(null)},registerDecorator:function(b,k){var c=this.nameLookup("decorators",k,"decorator");b=this.setupHelperArgs(k,b);this.decorators.push(["fn \x3d ",this.decorators.functionCall(c,"",["fn","props","container",b])," || fn;"])},invokeHelper:function(b,k,c){var h=this.popStack();b=this.setupHelper(b,k);k=[];c&&k.push(b.name);k.push(h);this.options.strict||k.push(this.aliasable("container.hooks.helperMissing"));c=["(",this.itemsSeparatedBy(k,"||"),")"];c=this.source.functionCall(c,
"call",b.callParams);this.push(c)},itemsSeparatedBy:function(b,k){var c=[];c.push(b[0]);for(var h=1;h<b.length;h++)c.push(k,b[h]);return c},invokeKnownHelper:function(b,k){b=this.setupHelper(b,k);this.push(this.source.functionCall(b.name,"call",b.callParams))},invokeAmbiguous:function(b,k){this.useRegister("helper");var c=this.popStack();this.emptyHash();k=this.setupHelper(0,b,k);b=["(","(helper \x3d ",this.lastHelper=this.nameLookup("helpers",b,"helper")," || ",c,")"];this.options.strict||(b[0]=
"(helper \x3d ",b.push(" !\x3d null ? helper : ",this.aliasable("container.hooks.helperMissing")));this.push(["(",b,k.paramsInit?["),(",k.paramsInit]:[],"),","(typeof helper \x3d\x3d\x3d ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",k.callParams)," : helper))"])},invokePartial:function(b,k,c){var h=[],l=this.setupParams(k,1,h);b&&(k=this.popStack(),delete l.name);c&&(l.indent=JSON.stringify(c));l.helpers="helpers";l.partials="partials";l.decorators="container.decorators";
b?h.unshift(k):h.unshift(this.nameLookup("partials",k,"partial"));this.options.compat&&(l.depths="depths");l=this.objectLiteral(l);h.push(l);this.push(this.source.functionCall("container.invokePartial","",h))},assignToHash:function(b){var k=this.popStack(),c=void 0,h=void 0,l=void 0;this.trackIds&&(l=this.popStack());this.stringParams&&(h=this.popStack(),c=this.popStack());var n=this.hash;c&&(n.contexts[b]=c);h&&(n.types[b]=h);l&&(n.ids[b]=l);n.values[b]=k},pushId:function(b,k,c){"BlockParam"===b?
this.pushStackLiteral("blockParams["+k[0]+"].path["+k[1]+"]"+(c?" + "+JSON.stringify("."+c):"")):"PathExpression"===b?this.pushString(k):"SubExpression"===b?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:m,compileChildren:function(b,k){b=b.children;for(var c,h,l=0,n=b.length;l<n;l++){c=b[l];h=new this.compiler;var m=this.matchExistingProgram(c);null==m?(this.context.programs.push(""),m=this.context.programs.length,c.index=m,c.name="program"+m,this.context.programs[m]=h.compile(c,
k,this.context,!this.precompile),this.context.decorators[m]=h.decorators,this.context.environments[m]=c,this.useDepths=this.useDepths||h.useDepths,this.useBlockParams=this.useBlockParams||h.useBlockParams,c.useDepths=this.useDepths,c.useBlockParams=this.useBlockParams):(c.index=m.index,c.name="program"+m.index,this.useDepths=this.useDepths||m.useDepths,this.useBlockParams=this.useBlockParams||m.useBlockParams)}},matchExistingProgram:function(b){for(var k=0,c=this.context.environments.length;k<c;k++){var h=
this.context.environments[k];if(h&&h.equals(b))return h}},programExpression:function(b){b=this.environment.children[b];b=[b.index,"data",b.blockParams];return(this.useBlockParams||this.useDepths)&&b.push("blockParams"),this.useDepths&&b.push("depths"),"container.program("+b.join(", ")+")"},useRegister:function(b){this.registers[b]||(this.registers[b]=!0,this.registers.list.push(b))},push:function(b){return b instanceof l||(b=this.source.wrap(b)),this.inlineStack.push(b),b},pushStackLiteral:function(b){this.push(new l(b))},
pushSource:function(b){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0);b&&this.source.push(b)},replaceStack:function(b){var k,c,h=void 0,n=void 0;if(!this.isInline())throw new v["default"]("replaceStack on non-inline");k=this.popStack(!0);k instanceof l?(c=[k.value],k=["(",c],n=!0):(h=!0,c=this.incrStack(),k=["((",this.push(c)," \x3d ",k,")"],c=this.topStack());b=b.call(this,c);n||this.popStack();
h&&this.stackSlot--;this.push(k.concat(b,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var b=this.inlineStack;this.inlineStack=[];for(var k=0,c=b.length;k<c;k++){var h=b[k];if(h instanceof l)this.compileStack.push(h);else{var n=this.incrStack();this.pushSource([n," \x3d ",h,";"]);this.compileStack.push(n)}}},isInline:function(){return this.inlineStack.length},
popStack:function(b){var k=this.isInline(),c=(k?this.inlineStack:this.compileStack).pop();if(!b&&c instanceof l)return c.value;if(!k){if(!this.stackSlot)throw new v["default"]("Invalid stack pop");this.stackSlot--}return c},topStack:function(){var b=this.isInline()?this.inlineStack:this.compileStack,b=b[b.length-1];return b instanceof l?b.value:b},contextName:function(b){return this.useDepths&&b?"depths["+b+"]":"depth"+b},quotedString:function(b){return this.source.quotedString(b)},objectLiteral:function(b){return this.source.objectLiteral(b)},
aliasable:function(b){var k=this.aliases[b];return k?(k.referenceCount++,k):(k=this.aliases[b]=this.source.wrap(b),k.aliasable=!0,k.referenceCount=1,k)},setupHelper:function(b,k,c){var h=[];b=this.setupHelperArgs(k,b,h,c);k=this.nameLookup("helpers",k,"helper");c=this.aliasable(this.contextName(0)+" !\x3d null ? "+this.contextName(0)+" : (container.nullContext || {})");return{params:h,paramsInit:b,name:k,callParams:[c].concat(h)}},setupParams:function(b,k,c){var h={},l=[],n=[],m=[],q=!c;q&&(c=[]);
h.name=this.quotedString(b);h.hash=this.popStack();this.trackIds&&(h.hashIds=this.popStack());this.stringParams&&(h.hashTypes=this.popStack(),h.hashContexts=this.popStack());b=this.popStack();var v=this.popStack();(v||b)&&(h.fn=v||"container.noop",h.inverse=b||"container.noop");for(b=k;b--;)k=this.popStack(),c[b]=k,this.trackIds&&(m[b]=this.popStack()),this.stringParams&&(n[b]=this.popStack(),l[b]=this.popStack());return q&&(h.args=this.source.generateArray(c)),this.trackIds&&(h.ids=this.source.generateArray(m)),
this.stringParams&&(h.types=this.source.generateArray(n),h.contexts=this.source.generateArray(l)),this.options.data&&(h.data="data"),this.useBlockParams&&(h.blockParams="blockParams"),h},setupHelperArgs:function(b,k,c,h){b=this.setupParams(b,k,c);return b.loc=JSON.stringify(this.source.currentLocation),b=this.objectLiteral(b),h?(this.useRegister("options"),c.push("options"),["options\x3d",b]):c?(c.push(b),""):b}};(function(){for(var b="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),
k=m.RESERVED_WORDS={},c=0,h=b.length;c<h;c++)k[b[c]]=!0})();m.isValidJavaScriptVariableName=function(b){return!m.RESERVED_WORDS[b]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(b)};h["default"]=m;b.exports=h["default"]},function(b,h,c){function l(b,c,h){if(n.isArray(b)){for(var l=[],m=0,p=b.length;m<p;m++)l.push(c.wrap(b[m],h));return l}return"boolean"==typeof b||"number"==typeof b?b+"":b}function m(b){this.srcFile=b;this.source=[]}var p=c(60)["default"];h.__esModule=!0;var n=c(5),u=void 0,u=function(b,c,h,
l){this.src="";l&&this.add(l)};u.prototype={add:function(b){n.isArray(b)&&(b=b.join(""));this.src+=b},prepend:function(b){n.isArray(b)&&(b=b.join(""));this.src=b+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}};m.prototype={isEmpty:function(){return!this.source.length},prepend:function(b,c){this.source.unshift(this.wrap(b,c))},push:function(b,c){this.source.push(this.wrap(b,c))},merge:function(){var b=this.empty();return this.each(function(c){b.add(["  ",
c,"\n"])}),b},each:function(b){for(var c=0,h=this.source.length;c<h;c++)b(this.source[c])},empty:function(){var b=this.currentLocation||{start:{}};return new u(b.start.line,b.start.column,this.srcFile)},wrap:function(b){var c=1>=arguments.length||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return b instanceof u?b:(b=l(b,this,c),new u(c.start.line,c.start.column,this.srcFile,b))},functionCall:function(b,c,h){return h=this.generateList(h),this.wrap([b,c?"."+c+"(":"(",h,")"])},
quotedString:function(b){return'"'+(b+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(b){var c=this,h=[];p(b).forEach(function(n){var m=l(b[n],c);"undefined"!==m&&h.push([c.quotedString(n),":",m])});var n=this.generateList(h);return n.prepend("{"),n.add("}"),n},generateList:function(b){for(var c=this.empty(),h=0,n=b.length;h<n;h++)h&&c.add(","),c.add(l(b[h],this));return c},
generateArray:function(b){b=this.generateList(b);return b.prepend("["),b.add("]"),b}};h["default"]=m;b.exports=h["default"]}])});
(function(b){b.fn.extend({isInViewport:function(h){var c=b(this),l=c.offset();h||(h=0);var m=b(window),p=m.scrollTop();if(l.top-h<p){if(!(l.top+h>=p))return!1}else if(!(l.top+c.height()-h<=p+m.height()))return!1;p=m.scrollLeft();if(l.left-h<p){if(!(l.left+c.width()+h>=p))return!1}else if(!(l.left-h<=p+m.width()))return!1;return!0},disable:function(h){var c=b(this);c.prop("disabled",!0);c.addClass("disabled-element");h&&c.find("*").prop("disabled",!0);return c},enable:function(h){var c=b(this);c.prop("disabled",
!1);c.removeClass("disabled-element");h&&c.find("*").prop("disabled",!1);return c},isDisabled:function(){var h=b(this);return h.hasClass("disabled-element")||h.prop("disabled")||h.hasClass("submit-disabled")},checked:function(h){var c=b(this);if("boolean"==b.type(h))c.prop("checked",h);else return c.prop("checked")},value:function(h){var c=b(this);return void 0!==h&&null!==h?c.val(h):c.val()},style:b.fn.css,data:function(h,c,l){var m,p;void 0===c?(m=this.data_super.apply(this,arguments),p=this.attr("data-"+
h),void 0!==p&&p!=""+m&&(p="true"===p?!0:"false"===p?!1:"null"===p?null:+p+""===p?+p:p,this.data_super.call(this,h,p),m=p)):(p=this.data_super.call(this,h),m=this.data_super.apply(this,arguments),void 0!==this.attr("data-"+h)&&"function"!=b.type(c)&&"object"!=b.type(c)&&"array"!=b.type(c)&&this.attr("data-"+h,c),l||this.trigger("changeData",{property:h,oldValue:p,newValue:c}));return m},data_super:b.fn.data,centerInWindow:function(){this.css("position","absolute");this.css("top",Math.max(0,(b(window).height()-
b(this).outerHeight())/2+b(window).scrollTop())+"px");this.css("left",Math.max(0,(b(window).width()-b(this).outerWidth())/2+b(window).scrollLeft())+"px");return this},centerInParent:function(){var h=this[0].parentNode;this.css("position","absolute");this.css("top",Math.max(0,(b(h).height()-b(this).outerHeight())/2+b(h).scrollTop())+"px");this.css("left",Math.max(0,(b(h).width()-b(this).outerWidth())/2+b(h).scrollLeft())+"px");return this},isDisplayed:function(){return"none"!=b(this).css("display")},
getObjectFitSize:function(){var b=this[0],c="contain"==this.css("object-fit")||"scale-down"==this.css("object-fit"),l=b.naturalWidth/b.naturalHeight,m=b.width/b.height;(c?l>m:l<m)?(c=b.width,m=c/l):(m=b.height,c=m*l);return{width:c,height:m,x:(b.width-c)/2,y:(b.height-m)/2}}})})(jQuery);
(function(b){var h={base:Handlebars.compile('\x3csvg version\x3d"1.1" xmlns\x3d"http://www.w3.org/2000/svg" class\x3d"svgMask" width\x3d"{{width}}" height\x3d"{{height}}" viewBox\x3d"0 0 {{width}} {{height}}" style\x3d"top: {{top}}px; left: {{left}}px;"\x3e\x3cdefs\x3e\x3cclipPath id\x3d"{{maskID}}"\x3e{{{shape}}}\x3c/clipPath\x3e\x3c/defs\x3e\x3cdesc\x3e{{altText}}\x3c/desc\x3e\x3cimage {{#if options.preserveAspectRatio}}preserveAspectRatio\x3d"{{options.preserveAspectRatio}}"{{/if}} clip-path\x3d"url(#{{maskID}})" width\x3d"{{width}}" height\x3d"{{height}}" xmlns:xlink\x3d"http://www.w3.org/1999/xlink" xlink:href\x3d"{{src}}"\x3e\x3c/image\x3e\x3c/svg\x3e'),shapes:{circle:Handlebars.compile('\x3ccircle cx\x3d"{{x}}" cy\x3d"{{y}}" r\x3d"{{radius}}"\x3e\x3c/circle\x3e'),
star:function(b){return c(b)}}};b.fn.maskImage=function(c){var m=DKI.applyIf(c,{preserveAspectRatio:!1});b.each(this,function(){var c=b(this),l=c.data("mask");if(l&&""!=l.type){var u=c.position(),k={src:c.data("src"),width:c.width(),height:c.height(),top:u.top,left:u.left,altText:c.attr("alt")?c.attr("alt"):c.attr("title")?c.attr("title"):"",maskID:c.attr("id")+"_mask",options:m};if("star"==l.type||"sun"==l.type){var q=(k.width<k.height?k.width/2:k.height/2)*l.scale,v=q;"middle"==l.alignment.horizontal?
v=k.width/2:"right"==l.alignment.horizontal&&(v=k.width-q);var y=q;"middle"==l.alignment.vertical?y=k.height/2:"bottom"==l.alignment.vertical&&(y=k.height-q);l=h.shapes.star({x:v,y:y,outerRadius:q,innerRadius:"star"==l.type?.45*q:.9*q,points:"star"==l.type?5:15,centrepoint:v>y?v+q/2:y+q/2})}else v=q=(k.width<k.height?k.width/2:k.height/2)*l.scale,"middle"==l.alignment.horizontal?v=k.width/2:"right"==l.alignment.horizontal&&(v=k.width-q),y=q,"middle"==l.alignment.vertical?y=k.height/2:"bottom"==l.alignment.vertical&&
(y=k.height-q),l=h.shapes[l.type](DKI.applyIf({x:v,y:y,radius:q},k,!0));k.shape=l;l=b(h.base(k));c.parent().find(".svgMask").remove();c.addClass("masked").after(l);l.attr("style",c.attr("style"));delete c;u;k;l}});return this};b.fn.removeMask=function(){this.parent().find(".svgMask").remove();this.parent().find(".masked").removeClass("masked");return this};var c=function(b){var c=function(b,k,c,h){b=(b+"").replace(/[^0-9+\-Ee.]/g,"");b=isFinite(+b)?+b:0;k=isFinite(+k)?Math.abs(k):0;h="undefined"===
typeof h?",":h;c="undefined"===typeof c?".":c;var l="",l=function(b,k){k=Math.pow(10,k);return""+Math.round(b*k)/k},l=(k?l(b,k):""+Math.round(b)).split(".");3<l[0].length&&(l[0]=l[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,h));(l[1]||"").length<k&&(l[1]=l[1]||"",l[1]+=Array(k-l[1].length+1).join("0"));return l.join(c)},h=b.centrepoint,n=b.outerRadius,u=b.innerRadius,k=b.points,q=b.x;b=b.y;var v='\x3cpath d\x3d"',y=Math.PI/k,z=0,A=0,r=0,B="",C=0;for(i=0;i<=2*Math.PI;i+=y)0===A?(r=u,A=1):(r=n,A=0),C=i,B=
0==z?"M":"L",xsvg=c(r*Math.sin(i)+h,3,".",""),ysvg=c(r*Math.cos(C)+h,3,".",""),xresult=c(r*Math.sin(i)+parseFloat(q),3,".",""),yresult=c(r*Math.cos(C)+parseFloat(b),3,".",""),v+=B+" "+xresult+" "+yresult,z++;0===k%2&&(v+="z");return v+'"/\x3e'}})(jQuery);(function(b){b.fn.fontFlex=function(h,c,l){var m=this;b(window).resize(function(){var b=window.innerWidth/l;b<parseInt(h,10)&&(b=parseInt(h,10));b>parseInt(c,10)&&(b=parseInt(c,10));m.css("font-size",b+"px")}).trigger("resize")}})(jQuery);
!function(b){function h(c,h,p,n){var u=c.text();h=u.split(h);var k="";h.length&&(b(h).each(function(b,c){k+='\x3cspan class\x3d"'+p+(b+1)+'" aria-hidden\x3d"true"\x3e'+c+"\x3c/span\x3e"+n}),c.attr("aria-label",u).empty().append(k))}var c={init:function(){return this.each(function(){h(b(this),"","char","")})},words:function(){return this.each(function(){h(b(this)," ","word"," ")})},lines:function(){return this.each(function(){h(b(this).find("br").replaceWith("eefec303079ad17405c889e092e105b0").end(),
"eefec303079ad17405c889e092e105b0","line","\x3cbr /\x3e")})}};b.fn.lettering=function(h){return h&&c[h]?c[h].apply(this,[].slice.call(arguments,1)):"letters"!==h&&h?(b.error("Method "+h+" does not exist on jQuery.lettering"),this):c.init.apply(this,[].slice.call(arguments,0))}}(jQuery);
(function(b){function h(k,c){return/In/.test(k)||0<=b.inArray(k,c.inEffects)}function c(k,c){return/Out/.test(k)||0<=b.inArray(k,c.outEffects)}function l(b){return"true"!==b&&"false"!==b?b:"true"===b}function m(k){k=k.attributes||[];var c={};if(!k.length)return c;b.each(k,function(b,k){b=k.nodeName.replace(/delayscale/,"delayScale");/^data-in-*/.test(b)?(c.in=c.in||{},c.in[b.replace(/data-in-/,"")]=l(k.nodeValue)):/^data-out-*/.test(b)?(c.out=c.out||{},c.out[b.replace(/data-out-/,"")]=l(k.nodeValue)):
/^data-*/.test(b)&&(c[b.replace(/data-/,"")]=l(k.nodeValue))});return c}function p(b){for(var k,c,h=b.length;h;k=parseInt(Math.random()*h),c=b[--h],b[h]=b[k],b[k]=c);return b}function n(b,k,c){b.addClass("animated "+k).css("visibility","visible").show();b.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){b.removeClass("animated "+k);c&&c()})}function u(k,l,m){var z=k.length;z?(l.shuffle&&(k=p(k)),l.reverse&&(k=k.toArray().reverse()),b.each(k,function(k,
r){function q(){h(l.effect,l)?p.css("visibility","visible"):c(l.effect,l)&&p.css("visibility","hidden");--z;!z&&m&&m()}var p=b(r);k=l.sync?l.delay:l.delay*k*l.delayScale;p.text()?setTimeout(function(){n(p,l.effect,q)},k):q()})):m&&m()}var k=function(k,l){var n=this,p=b(k);n.init=function(){n.$texts=p.find(l.selector);n.$texts.length||(n.$texts=b('\x3cul class\x3d"texts"\x3e\x3cli\x3e'+p.html()+"\x3c/li\x3e\x3c/ul\x3e"),p.html(n.$texts));n.$texts.hide();n.$current=b("\x3cspan\x3e").html(n.$texts.find(":first-child").html()).prependTo(p);
h(l.in.effect,l)?n.$current.css("visibility","hidden"):c(l.out.effect,l)&&n.$current.css("visibility","visible");n.setOptions(l);n.timeoutRun=null;setTimeout(function(){n.options.autoStart&&n.start()},n.options.initialDelay)};n.setOptions=function(b){n.options=b};n.triggerEvent=function(k){k=b.Event(k+".tlt");p.trigger(k,n);return k};n.in=function(k,l){k=k||0;var q=n.$texts.find(":nth-child("+((k||0)+1)+")"),v=b.extend(!0,{},n.options,q.length?m(q[0]):{});q.addClass("current");n.triggerEvent("inAnimationBegin");
n.$current.html(q.html()).lettering("lines");n.$current.find("span").each(function(){b(this).lettering("words")});"char"==n.options.type&&n.$current.find('[class^\x3d"word"]').css({display:"inline-block","-webkit-transform":"translate3d(0,0,0)","-moz-transform":"translate3d(0,0,0)","-o-transform":"translate3d(0,0,0)",transform:"translate3d(0,0,0)"}).each(function(){b(this).lettering()});q=n.$current.find('[class^\x3d"'+n.options.type+'"]').css("display","inline-block");h(v.in.effect,v)?q.css("visibility",
"hidden"):c(v.in.effect,v)&&q.css("visibility","visible");n.currentIndex=k;u(q,v.in,function(){n.triggerEvent("inAnimationEnd");v.in.callback&&v.in.callback();l&&l(n)})};n.out=function(k){var c=n.$texts.find(":nth-child("+((n.currentIndex||0)+1)+")"),h=n.$current.find('[class^\x3d"'+n.options.type+'"]'),l=b.extend(!0,{},n.options,c.length?m(c[0]):{});n.triggerEvent("outAnimationBegin");u(h,l.out,function(){c.removeClass("current");n.triggerEvent("outAnimationEnd");l.out.callback&&l.out.callback();
k&&k(n)})};n.start=function(b){setTimeout(function(){n.triggerEvent("start");(function B(b){n.in(b,function(){var k=n.$texts.children().length;b+=1;!n.options.loop&&b>=k?(n.options.callback&&n.options.callback(),n.triggerEvent("end")):(b%=k,n.timeoutRun=setTimeout(function(){n.out(function(){B(b)})},n.options.minDisplayTime))})})(b||0)},n.options.initialDelay)};n.stop=function(){n.timeoutRun&&(clearInterval(n.timeoutRun),n.timeoutRun=null)};n.init()};b.fn.textillate=function(c,h){return this.each(function(){var l=
b(this),n=l.data("textillate"),p=b.extend(!0,{},b.fn.textillate.defaults,m(this),"object"==typeof c&&c);n?"string"==typeof c?n[c].apply(n,[].concat(h)):n.setOptions.call(n,p):l.data("textillate",new k(this,p))})};b.fn.textillate.defaults={selector:".texts",loop:!1,minDisplayTime:2E3,initialDelay:0,in:{effect:"fadeInLeftBig",delayScale:1.5,delay:50,sync:!1,reverse:!1,shuffle:!1,callback:function(){}},out:{effect:"hinge",delayScale:1.5,delay:50,sync:!1,reverse:!1,shuffle:!1,callback:function(){}},autoStart:!0,
inEffects:[],outEffects:["hinge"],callback:function(){},type:"char"}})(jQuery);
!function(b){function h(b){var k=b.length,h=c.type(b);return"function"!==h&&!c.isWindow(b)&&(!(1!==b.nodeType||!k)||"array"===h||0===k||"number"==typeof k&&0<k&&k-1 in b)}if(!b.jQuery){var c=function(b,k){return new c.fn.init(b,k)};c.isWindow=function(b){return b&&b===b.window};c.type=function(b){return b?"object"==typeof b||"function"==typeof b?m[n.call(b)]||"object":typeof b:b+""};c.isArray=Array.isArray||function(b){return"array"===c.type(b)};c.isPlainObject=function(b){var k;if(!b||"object"!==
c.type(b)||b.nodeType||c.isWindow(b))return!1;try{if(b.constructor&&!p.call(b,"constructor")&&!p.call(b.constructor.prototype,"isPrototypeOf"))return!1}catch(h){return!1}for(k in b);return void 0===k||p.call(b,k)};c.each=function(b,k,c){var l,n=0,m=b.length,p=h(b);if(c)if(p)for(;n<m&&(l=k.apply(b[n],c),!1!==l);n++);else for(n in b){if(l=k.apply(b[n],c),!1===l)break}else if(p)for(;n<m&&(l=k.call(b[n],n,b[n]),!1!==l);n++);else for(n in b)if(l=k.call(b[n],n,b[n]),!1===l)break;return b};c.data=function(b,
k,h){if(void 0===h){h=(h=b[c.expando])&&l[h];if(void 0===k)return h;if(h&&k in h)return h[k]}else if(void 0!==k)return b=b[c.expando]||(b[c.expando]=++c.uuid),l[b]=l[b]||{},l[b][k]=h,h};c.removeData=function(b,k){var h=(b=b[c.expando])&&l[b];h&&(k?c.each(k,function(b,k){delete h[k]}):delete l[b])};c.extend=function(){var b,k,h,l,n,m,p=arguments[0]||{},u=1,x=arguments.length,D=!1;"boolean"==typeof p&&(D=p,p=arguments[u]||{},u++);"object"!=typeof p&&"function"!==c.type(p)&&(p={});for(u===x&&(p=this,
u--);u<x;u++)if(n=arguments[u])for(l in n)b=p[l],h=n[l],p!==h&&(D&&h&&(c.isPlainObject(h)||(k=c.isArray(h)))?(k?(k=!1,m=b&&c.isArray(b)?b:[]):m=b&&c.isPlainObject(b)?b:{},p[l]=c.extend(D,m,h)):void 0!==h&&(p[l]=h));return p};c.queue=function(b,k,l){function n(b,k){k=k||[];if(b)if(h(Object(b))){b="string"==typeof b?[b]:b;for(var c=+b.length,l=0,m=k.length;l<c;)k[m++]=b[l++];if(c!==c)for(;void 0!==b[l];)k[m++]=b[l++];b=(k.length=m,k);!b}else[].push.call(k,b);return k}if(b){k=(k||"fx")+"queue";var m=
c.data(b,k);return l?(!m||c.isArray(l)?m=c.data(b,k,n(l)):m.push(l),m):m||[]}};c.dequeue=function(b,k){c.each(b.nodeType?[b]:b,function(b,h){k=k||"fx";b=c.queue(h,k);var l=b.shift();"inprogress"===l&&(l=b.shift());l&&("fx"===k&&b.unshift("inprogress"),l.call(h,function(){c.dequeue(h,k)}))})};c.fn=c.prototype={init:function(b){if(b.nodeType)return this[0]=b,this;throw Error("Not a DOM node.");},offset:function(){var k=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:k.top+
(b.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:k.left+(b.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){var b=this[0],k;for(k=b.offsetParent||document;k&&"html"!==k.nodeType.toLowerCase&&"static"===k.style.position;)k=k.offsetParent;k=k||document;var h=this.offset(),l=/^(?:body|html)$/i.test(k.nodeName)?{top:0,left:0}:c(k).offset();return h.top-=parseFloat(b.style.marginTop)||0,h.left-=parseFloat(b.style.marginLeft)||0,k.style&&(l.top+=parseFloat(k.style.borderTopWidth)||
0,l.left+=parseFloat(k.style.borderLeftWidth)||0),{top:h.top-l.top,left:h.left-l.left}}};var l={};c.expando="velocity"+(new Date).getTime();c.uuid=0;for(var m={},p=m.hasOwnProperty,n=m.toString,u="Boolean Number String Function Array Date RegExp Object Error".split(" "),k=0;k<u.length;k++)m["[object "+u[k]+"]"]=u[k].toLowerCase();c.fn.init.prototype=c.fn;b.Velocity={Utilities:c}}}(window);
(function(b){"object"==typeof module&&"object"==typeof module.exports?module.exports=b():"function"==typeof define&&define.amd?define(b):b()})(function(){return function(b,h,c,l){function m(b){for(var k=-1,c=b?b.length:0,h=[];++k<c;){var l=b[k];l&&h.push(l)}return h}function p(b){return B.isWrapped(b)?b=[].slice.call(b):B.isNode(b)&&(b=[b]),b}function n(b){b=z.data(b,"velocity");return null===b?l:b}function u(b){return function(k){return 1/b*Math.round(k*b)}}function k(b,k,c,l){function n(b,k,c){return(((1-
3*c+3*k)*b+(3*c-6*k))*b+3*k)*b}var m="Float32Array"in h;if(4!==arguments.length)return!1;for(var r=0;4>r;++r)if("number"!=typeof arguments[r]||isNaN(arguments[r])||!isFinite(arguments[r]))return!1;b=Math.min(b,1);c=Math.min(c,1);b=Math.max(b,0);c=Math.max(c,0);var q=m?new Float32Array(11):Array(11),p=!1,m=function(h){if(!p&&(p=!0,b!==k||c!==l))for(var m=0;11>m;++m)q[m]=n(.1*m,b,c);if(b!==k||c!==l)if(0===h)h=0;else if(1===h)h=1;else{for(var r=0,m=1;10!==m&&q[m]<=h;++m)r+=.1;--m;var m=r+(h-q[m])/(q[m+
1]-q[m])*.1,v=3*(1-3*c+3*b)*m*m+2*(3*c-6*b)*m+3*b;if(.001<=v){for(r=0;4>r;++r){v=3*(1-3*c+3*b)*m*m+2*(3*c-6*b)*m+3*b;if(0===v)break;var z=n(m,b,c)-h,m=m-z/v}h=m}else if(0===v)h=m;else{var m=r,r=r+.1,u=0;do z=m+(r-m)/2,v=n(z,b,c)-h,0<v?r=z:m=z;while(1E-7<Math.abs(v)&&10>++u);h=z}h=n(h,k,l)}return h};m.getControlPoints=function(){return[{x:b,y:k},{x:c,y:l}]};var v="generateBezier("+[b,k,c,l]+")";return m.toString=function(){return v},m}function q(b,c){var h=b;return B.isString(b)?D.Easings[b]||(h=!1):
h=B.isArray(b)&&1===b.length?u.apply(null,b):B.isArray(b)&&2===b.length?F.apply(null,b.concat([c])):!(!B.isArray(b)||4!==b.length)&&k.apply(null,b),!1===h&&(h=D.Easings[D.defaults.easing]?D.defaults.easing:x),h}function v(b){if(b){b=(new Date).getTime();var k=D.State.calls.length;1E4<k&&(D.State.calls=m(D.State.calls),k=D.State.calls.length);for(var c=0;c<k;c++)if(D.State.calls[c]){var h=D.State.calls[c],r=h[0],q=h[2],p=h[3],u=!!p,x=null;p||(p=D.State.calls[c][3]=b-16);for(var A=Math.min((b-p)/q.duration,
1),C=0,G=r.length;C<G;C++){var F=r[C],V=F.element;if(n(V)){var fa=!1;q.display!==l&&null!==q.display&&"none"!==q.display&&("flex"===q.display&&z.each(["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"],function(b,k){E.setPropertyValue(V,"display",k)}),E.setPropertyValue(V,"display",q.display));q.visibility!==l&&"hidden"!==q.visibility&&E.setPropertyValue(V,"visibility",q.visibility);for(var W in F)if("element"!==W){var Z,S=F[W],ja=B.isString(S.easing)?D.Easings[S.easing]:S.easing;if(1===A)Z=S.endValue;
else{var ia=S.endValue-S.startValue;if(Z=S.startValue+ia*ja(A,q,ia),!u&&Z===S.currentValue)continue}if(S.currentValue=Z,"tween"===W)x=Z;else{var ga;E.Hooks.registered[W]&&(ga=E.Hooks.getRoot(W),(ja=n(V).rootPropertyValueCache[ga])&&(S.rootPropertyValue=ja));S=E.setPropertyValue(V,W,S.currentValue+(0===parseFloat(Z)?"":S.unitType),S.rootPropertyValue,S.scrollData);E.Hooks.registered[W]&&(E.Normalizations.registered[ga]?n(V).rootPropertyValueCache[ga]=E.Normalizations.registered[ga]("extract",null,
S[1]):n(V).rootPropertyValueCache[ga]=S[1]);"transform"===S[0]&&(fa=!0)}}q.mobileHA&&n(V).transformCache.translate3d===l&&(n(V).transformCache.translate3d="(0px, 0px, 0px)",fa=!0);fa&&E.flushTransformCache(V)}}q.display!==l&&"none"!==q.display&&(D.State.calls[c][2].display=!1);q.visibility!==l&&"hidden"!==q.visibility&&(D.State.calls[c][2].visibility=!1);q.progress&&q.progress.call(h[1],h[1],A,Math.max(0,p+q.duration-b),p,x);1===A&&y(c)}}D.State.isTicking&&K(v)}function y(b,k){if(!D.State.calls[b])return!1;
for(var c=D.State.calls[b][0],h=D.State.calls[b][1],m=D.State.calls[b][2],r=D.State.calls[b][4],q=!1,p=0,v=c.length;p<v;p++){var u=c[p].element;k||m.loop||("none"===m.display&&E.setPropertyValue(u,"display",m.display),"hidden"===m.visibility&&E.setPropertyValue(u,"visibility",m.visibility));var x=n(u);if(!0!==m.loop&&(z.queue(u)[1]===l||!/\.velocityQueueEntryFlag/i.test(z.queue(u)[1]))&&x){x.isAnimating=!1;x.rootPropertyValueCache={};var y=!1;z.each(E.Lists.transforms3D,function(b,k){b=/^scale/.test(k)?
1:0;var c=x.transformCache[k];x.transformCache[k]!==l&&(new RegExp("^\\("+b+"[^.]")).test(c)&&(y=!0,delete x.transformCache[k])});m.mobileHA&&(y=!0,delete x.transformCache.translate3d);y&&E.flushTransformCache(u);E.Values.removeClass(u,"velocity-animating")}if(!k&&m.complete&&!m.loop&&p===v-1)try{m.complete.call(h,h)}catch(B){setTimeout(function(){throw B;},1)}r&&!0!==m.loop&&r(h);x&&!0===m.loop&&!k&&(z.each(x.tweensContainer,function(b,k){if(/^rotate/.test(b)&&0===(parseFloat(k.startValue)-parseFloat(k.endValue))%
360){var c=k.startValue;k.startValue=k.endValue;k.endValue=c}/^backgroundPosition/.test(b)&&100===parseFloat(k.endValue)&&"%"===k.unitType&&(k.endValue=0,k.startValue=100)}),D(u,"reverse",{loop:!0,delay:m.delay}));!1!==m.queue&&z.dequeue(u,m.queue)}D.State.calls[b]=!1;b=0;for(k=D.State.calls.length;b<k;b++)if(!1!==D.State.calls[b]){q=!0;break}!1===q&&(D.State.isTicking=!1,delete D.State.calls,D.State.calls=[])}var z,A=function(){if(c.documentMode)return c.documentMode;for(var b=7;4<b;b--){var k=c.createElement("div");
if(k.innerHTML="\x3c!--[if IE "+b+"]\x3e\x3cspan\x3e\x3c/span\x3e\x3c![endif]--\x3e",k.getElementsByTagName("span").length)return b}return l}(),r=function(){var b=0;return h.webkitRequestAnimationFrame||h.mozRequestAnimationFrame||function(k){var c,h=(new Date).getTime();return c=Math.max(0,16-(h-b)),b=h+c,setTimeout(function(){k(h+c)},c)}}(),B={isString:function(b){return"string"==typeof b},isArray:Array.isArray||function(b){return"[object Array]"===Object.prototype.toString.call(b)},isFunction:function(b){return"[object Function]"===
Object.prototype.toString.call(b)},isNode:function(b){return b&&b.nodeType},isNodeList:function(b){return"object"==typeof b&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(b))&&b.length!==l&&(0===b.length||"object"==typeof b[0]&&0<b[0].nodeType)},isWrapped:function(b){return b&&(b.jquery||h.Zepto&&h.Zepto.zepto.isZ(b))},isSVG:function(b){return h.SVGElement&&b instanceof h.SVGElement},isEmptyObject:function(b){for(var k in b)return!1;return!0}},C=!1;if(b.fn&&b.fn.jquery?
(z=b,C=!0):z=h.Velocity.Utilities,8>=A&&!C)throw Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(7>=A)return void(jQuery.fn.velocity=jQuery.fn.animate);var x="swing",D={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:h.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:c.createElement("div"),
prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:z,Redirects:{},Easings:{},Promise:h.Promise,defaults:{queue:"",duration:400,easing:x,begin:l,complete:l,progress:l,display:l,visibility:l,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(b){z.data(b,"velocity",{isSVG:B.isSVG(b),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:3,
patch:0},debug:!1};h.pageYOffset!==l?(D.State.scrollAnchor=h,D.State.scrollPropertyLeft="pageXOffset",D.State.scrollPropertyTop="pageYOffset"):(D.State.scrollAnchor=c.documentElement||c.body.parentNode||c.body,D.State.scrollPropertyLeft="scrollLeft",D.State.scrollPropertyTop="scrollTop");var F=function(){function b(k,c,h){var l=k.v+h.dv*c;return{dx:l,dv:-k.tension*(k.x+h.dx*c)-k.friction*l}}function k(c,h){var l={dx:c.v,dv:-c.tension*c.x-c.friction*c.v},n=b(c,.5*h,l),m=b(c,.5*h,n),r=b(c,h,m),q=1/
6*(l.dv+2*(n.dv+m.dv)+r.dv);return c.x+=1/6*(l.dx+2*(n.dx+m.dx)+r.dx)*h,c.v+=q*h,c}return function M(b,c,h){var l,n,m,r={x:-1,v:0,tension:null,friction:null},q=[0],p=0;b=parseFloat(b)||500;c=parseFloat(c)||20;h=h||null;r.tension=b;r.friction=c;for((l=null!==h)?(p=M(b,c),n=p/h*.016):n=.016;m=k(m||r,n),q.push(1+m.x),p+=16,1E-4<Math.abs(m.x)&&1E-4<Math.abs(m.v););return l?function(b){return q[b*(q.length-1)|0]}:p}}();D.Easings={linear:function(b){return b},swing:function(b){return.5-Math.cos(b*Math.PI)/
2},spring:function(b){return 1-Math.cos(4.5*b*Math.PI)*Math.exp(6*-b)}};z.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],
["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(b,c){D.Easings[c[0]]=k.apply(null,c[1])});var E=D.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,
valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:"fill stroke stopColor color backgroundColor borderColor borderTopColor borderRightColor borderBottomColor borderLeftColor outlineColor".split(" "),transformsBase:"translateX translateY scale scaleX scaleY skewX skewY rotateZ".split(" "),transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur",
"black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var b=0;b<E.Lists.colors.length;b++)E.Hooks.templates[E.Lists.colors[b]]=["Red Green Blue Alpha","color"===E.Lists.colors[b]?"0 0 0 1":"255 255 255 1"];var k,c;if(A)for(k in E.Hooks.templates)c=E.Hooks.templates[k],b=c[0].split(" "),
c=c[1].match(E.RegEx.valueSplit),"Color"===b[0]&&(b.push(b.shift()),c.push(c.shift()),E.Hooks.templates[k]=[b.join(" "),c.join(" ")]);for(k in E.Hooks.templates){c=E.Hooks.templates[k];var b=c[0].split(" "),h;for(h in b)E.Hooks.registered[k+b[h]]=[k,h]}},getRoot:function(b){var k=E.Hooks.registered[b];return k?k[0]:b},cleanRootPropertyValue:function(b,k){return E.RegEx.valueUnwrap.test(k)&&(k=k.match(E.RegEx.valueUnwrap)[1]),E.Values.isCSSNullValue(k)&&(k=E.Hooks.templates[b][1]),k},extractValue:function(b,
k){if(b=E.Hooks.registered[b]){var c=b[1];return k=E.Hooks.cleanRootPropertyValue(b[0],k),k.toString().match(E.RegEx.valueSplit)[c]}return k},injectValue:function(b,k,c){if(b=E.Hooks.registered[b]){var h,l=b[1];return c=E.Hooks.cleanRootPropertyValue(b[0],c),h=c.toString().match(E.RegEx.valueSplit),h[l]=k,h.join(" ")}return c}},Normalizations:{registered:{clip:function(b,k,c){switch(b){case "name":return"clip";case "extract":var h;return E.RegEx.wrappedValueAlreadyExtracted.test(c)?h=c:(h=c.toString().match(E.RegEx.valueUnwrap),
h=h?h[1].replace(/,(\s+)?/g," "):c),h;case "inject":return"rect("+c+")"}},blur:function(b,k,c){switch(b){case "name":return D.State.isFirefox?"filter":"-webkit-filter";case "extract":return b=parseFloat(c),b||0===b||(b=(c=c.toString().match(/blur\(([0-9]+[A-z]+)\)/i))?c[1]:0),b;case "inject":return parseFloat(c)?"blur("+c+")":"none"}},opacity:function(b,k,c){if(8>=A)switch(b){case "name":return"filter";case "extract":return(b=c.toString().match(/alpha\(opacity=(.*)\)/i))?b[1]/100:1;case "inject":return k.style.zoom=
1,1<=parseFloat(c)?"":"alpha(opacity\x3d"+parseInt(100*parseFloat(c),10)+")"}else switch(b){case "name":return"opacity";case "extract":return c;case "inject":return c}}},register:function(){A&&!(9<A)||D.State.isGingerbread||(E.Lists.transformsBase=E.Lists.transformsBase.concat(E.Lists.transforms3D));for(var b=0;b<E.Lists.transformsBase.length;b++)!function(){var k=E.Lists.transformsBase[b];E.Normalizations.registered[k]=function(b,c,h){switch(b){case "name":return"transform";case "extract":return n(c)===
l||n(c).transformCache[k]===l?/^scale/i.test(k)?1:0:n(c).transformCache[k].replace(/[()]/g,"");case "inject":b=!1;switch(k.substr(0,k.length-1)){case "translate":b=!/(%|px|em|rem|vw|vh|\d)$/i.test(h);break;case "scal":case "scale":D.State.isAndroid&&n(c).transformCache[k]===l&&1>h&&(h=1);b=!/(\d)$/i.test(h);break;case "skew":b=!/(deg|\d)$/i.test(h);break;case "rotate":b=!/(deg|\d)$/i.test(h)}return b||(n(c).transformCache[k]="("+h+")"),n(c).transformCache[k]}}}();for(var k=0;k<E.Lists.colors.length;k++)!function(){var b=
E.Lists.colors[k];E.Normalizations.registered[b]=function(k,c,h){switch(k){case "name":return b;case "extract":if(!E.RegEx.wrappedValueAlreadyExtracted.test(h)){var n;k={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(h)?n=k[h]!==l?k[h]:k.black:E.RegEx.isHex.test(h)?n="rgb("+E.Values.hexToRgb(h).join(" ")+")":/^rgba?\(/i.test(h)||(n=k.black);h=(n||h).toString().match(E.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g,
" ")}return(!A||8<A)&&3===h.split(" ").length&&(h+=" 1"),h;case "inject":return 8>=A?4===h.split(" ").length&&(h=h.split(/\s+/).slice(0,3).join(" ")):3===h.split(" ").length&&(h+=" 1"),(8>=A?"rgb":"rgba")+"("+h.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(b){return b.replace(/-(\w)/g,function(b,k){return k.toUpperCase()})},SVGAttribute:function(b){var k="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(A||D.State.isAndroid&&!D.State.isChrome)&&(k+="|transform"),
(new RegExp("^("+k+")$","i")).test(b)},prefixCheck:function(b){if(D.State.prefixMatches[b])return[D.State.prefixMatches[b],!0];for(var k=["","Webkit","Moz","ms","O"],c=0,h=k.length;c<h;c++){var l;if(l=0===c?b:k[c]+b.replace(/^\w/,function(b){return b.toUpperCase()}),B.isString(D.State.prefixElement.style[l]))return D.State.prefixMatches[b]=l,[l,!0]}return[b,!1]}},Values:{hexToRgb:function(b){var k;return b=b.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(b,k,c,h){return k+k+c+c+h+h}),k=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(b),
k?[parseInt(k[1],16),parseInt(k[2],16),parseInt(k[3],16)]:[0,0,0]},isCSSNullValue:function(b){return!b||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(b)},getUnitType:function(b){return/^(rotate|skew)/i.test(b)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(b)?"":"px"},getDisplayType:function(b){b=b&&b.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(b)?
"inline":/^(li)$/i.test(b)?"list-item":/^(tr)$/i.test(b)?"table-row":/^(table)$/i.test(b)?"table":/^(tbody)$/i.test(b)?"table-row-group":"block"},addClass:function(b,k){b.classList?b.classList.add(k):b.className+=(b.className.length?" ":"")+k},removeClass:function(b,k){b.classList?b.classList.remove(k):b.className=b.className.toString().replace(new RegExp("(^|\\s)"+k.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(b,k,c,m){function r(b,k){var c=0;if(8>=A)c=z.css(b,k);else{var q=
!1;/^(width|height)$/.test(k)&&0===E.getPropertyValue(b,"display")&&(q=!0,E.setPropertyValue(b,"display",E.Values.getDisplayType(b)));var p=function(){q&&E.setPropertyValue(b,"display","none")};if(!m){if("height"===k&&"border-box"!==E.getPropertyValue(b,"boxSizing").toString().toLowerCase())return k=b.offsetHeight-(parseFloat(E.getPropertyValue(b,"borderTopWidth"))||0)-(parseFloat(E.getPropertyValue(b,"borderBottomWidth"))||0)-(parseFloat(E.getPropertyValue(b,"paddingTop"))||0)-(parseFloat(E.getPropertyValue(b,
"paddingBottom"))||0),p(),k;if("width"===k&&"border-box"!==E.getPropertyValue(b,"boxSizing").toString().toLowerCase())return k=b.offsetWidth-(parseFloat(E.getPropertyValue(b,"borderLeftWidth"))||0)-(parseFloat(E.getPropertyValue(b,"borderRightWidth"))||0)-(parseFloat(E.getPropertyValue(b,"paddingLeft"))||0)-(parseFloat(E.getPropertyValue(b,"paddingRight"))||0),p(),k}c=n(b)===l?h.getComputedStyle(b,null):n(b).computedStyle?n(b).computedStyle:n(b).computedStyle=h.getComputedStyle(b,null);"borderColor"===
k&&(k="borderTopColor");c=9===A&&"filter"===k?c.getPropertyValue(k):c[k];""!==c&&null!==c||(c=b.style[k]);p()}"auto"===c&&/^(top|right|bottom|left)$/i.test(k)&&(p=r(b,"position"),("fixed"===p||"absolute"===p&&/top|left/i.test(k))&&(c=z(b).position()[k]+"px"));return c}var q;if(E.Hooks.registered[k])q=E.Hooks.getRoot(k),c===l&&(c=E.getPropertyValue(b,E.Names.prefixCheck(q)[0])),E.Normalizations.registered[q]&&(c=E.Normalizations.registered[q]("extract",b,c)),q=E.Hooks.extractValue(k,c);else if(E.Normalizations.registered[k]){var p;
c=E.Normalizations.registered[k]("name",b);"transform"!==c&&(p=r(b,E.Names.prefixCheck(c)[0]),E.Values.isCSSNullValue(p)&&E.Hooks.templates[k]&&(p=E.Hooks.templates[k][1]));q=E.Normalizations.registered[k]("extract",b,p)}if(!/^[\d-]/.test(q))if((c=n(b))&&c.isSVG&&E.Names.SVGAttribute(k))if(/^(height|width)$/i.test(k))try{q=b.getBBox()[k]}catch(v){q=0}else q=b.getAttribute(k);else q=r(b,E.Names.prefixCheck(k)[0]);return E.Values.isCSSNullValue(q)&&(q=0),q},setPropertyValue:function(b,k,c,l,m){var r=
k;if("scroll"===k)m.container?m.container["scroll"+m.direction]=c:"Left"===m.direction?h.scrollTo(c,m.alternateValue):h.scrollTo(m.alternateValue,c);else if(E.Normalizations.registered[k]&&"transform"===E.Normalizations.registered[k]("name",b))E.Normalizations.registered[k]("inject",b,c),r="transform",c=n(b).transformCache[k];else if(E.Hooks.registered[k]&&(r=k,k=E.Hooks.getRoot(k),l=l||E.getPropertyValue(b,k),c=E.Hooks.injectValue(r,c,l)),E.Normalizations.registered[k]&&(c=E.Normalizations.registered[k]("inject",
b,c),k=E.Normalizations.registered[k]("name",b)),r=E.Names.prefixCheck(k)[0],8>=A)try{b.style[r]=c}catch(q){}else(l=n(b))&&l.isSVG&&E.Names.SVGAttribute(k)?b.setAttribute(k,c):b.style[r]=c;return[r,c]},flushTransformCache:function(b){var k="",c=n(b);if((A||D.State.isAndroid&&!D.State.isChrome)&&c&&c.isSVG){var c=function(k){return parseFloat(E.getPropertyValue(b,k))},h={translate:[c("translateX"),c("translateY")],skewX:[c("skewX")],skewY:[c("skewY")],scale:1!==c("scale")?[c("scale"),c("scale")]:[c("scaleX"),
c("scaleY")],rotate:[c("rotateZ"),0,0]};z.each(n(b).transformCache,function(b){/^translate/i.test(b)?b="translate":/^scale/i.test(b)?b="scale":/^rotate/i.test(b)&&(b="rotate");h[b]&&(k+=b+"("+h[b].join(" ")+") ",delete h[b])})}else{var l,m;z.each(n(b).transformCache,function(c){return l=n(b).transformCache[c],"transformPerspective"===c?(m=l,!0):(9===A&&"rotateZ"===c&&(c="rotate"),void(k+=c+l+" "))});m&&(k="perspective"+m+" "+k)}E.setPropertyValue(b,"transform",k)}};E.Hooks.register();E.Normalizations.register();
D.hook=function(b,k,c){var h;return b=p(b),z.each(b,function(b,m){(n(m)===l&&D.init(m),c===l)?h===l&&(h=D.CSS.getPropertyValue(m,k)):(b=D.CSS.setPropertyValue(m,k,c),"transform"===b[0]&&D.CSS.flushTransformCache(m),h=b)}),h};var G=function(){function b(){return r?N.promise||null:u}function k(b,m){function r(k){var y,G;if(x.begin&&0===O)try{x.begin.call(A,A)}catch(K){setTimeout(function(){throw K;},1)}if("scroll"===V){var w,I,J;G=/^x$/i.test(x.axis)?"Left":"Top";var L=parseFloat(x.offset)||0;x.container?
B.isWrapped(x.container)||B.isNode(x.container)?(x.container=x.container[0]||x.container,w=x.container["scroll"+G],J=w+z(b).position()[G.toLowerCase()]+L):x.container=null:(w=D.State.scrollAnchor[D.State["scrollProperty"+G]],I=D.State.scrollAnchor[D.State["scrollProperty"+("Left"===G?"Top":"Left")]],J=z(b).offset()[G.toLowerCase()]+L);u={scroll:{rootPropertyValue:!1,startValue:w,currentValue:w,endValue:J,unitType:"",easing:x.easing,scrollData:{container:x.container,direction:G,alternateValue:I}},
element:b}}else if("reverse"===V){if(y=n(b),!y)return;if(!y.tweensContainer)return void z.dequeue(b,x.queue);"none"===y.opts.display&&(y.opts.display="auto");"hidden"===y.opts.visibility&&(y.opts.visibility="visible");y.opts.loop=!1;y.opts.begin=null;y.opts.complete=null;F.easing||delete x.easing;F.duration||delete x.duration;x=z.extend({},y.opts,x);G=z.extend(!0,{},y?y.tweensContainer:null);for(var ka in G)"element"!==ka&&(L=G[ka].startValue,G[ka].startValue=G[ka].currentValue=G[ka].endValue,G[ka].endValue=
L,B.isEmptyObject(F)||(G[ka].easing=x.easing));u=G}else if("start"===V){(y=n(b))&&y.tweensContainer&&!0===y.isAnimating&&(G=y.tweensContainer);var da=function(k,c){var h,n,r;return B.isArray(k)?(h=k[0],!B.isArray(k[1])&&/^[\d-]/.test(k[1])||B.isFunction(k[1])||E.RegEx.isHex.test(k[1])?r=k[1]:(B.isString(k[1])&&!E.RegEx.isHex.test(k[1])||B.isArray(k[1]))&&(n=c?k[1]:q(k[1],x.duration),k[2]!==l&&(r=k[2]))):h=k,c||(n=n||x.easing),B.isFunction(h)&&(h=h.call(b,m,X)),B.isFunction(r)&&(r=r.call(b,m,X)),[h||
0,n,r]};z.each(C,function(b,k){if(RegExp("^"+E.Lists.colors.join("$|^")+"$").test(E.Names.camelCase(b))){var c=da(k,!0),h=c[0];k=c[1];var n=c[2];if(E.RegEx.isHex.test(h)){for(var c=["Red","Green","Blue"],h=E.Values.hexToRgb(h),n=n?E.Values.hexToRgb(n):l,m=0;m<c.length;m++){var r=[h[m]];k&&r.push(k);n!==l&&r.push(n[m]);C[E.Names.camelCase(b)+c[m]]=r}delete C[b]}}});for(L in C)if(J=da(C[L]),w=J[0],I=J[1],J=J[2],L=E.Names.camelCase(L),k=E.Hooks.getRoot(L),ka=!1,y&&y.isSVG||"tween"===k||!1!==E.Names.prefixCheck(k)[1]||
E.Normalizations.registered[k]!==l){(x.display!==l&&null!==x.display&&"none"!==x.display||x.visibility!==l&&"hidden"!==x.visibility)&&/opacity|filter/.test(L)&&!J&&0!==w&&(J=0);x._cacheValues&&G&&G[L]?(J===l&&(J=G[L].endValue+G[L].unitType),ka=y.rootPropertyValueCache[k]):E.Hooks.registered[L]?J===l?(ka=E.getPropertyValue(b,k),J=E.getPropertyValue(b,L,ka)):ka=E.Hooks.templates[k][1]:J===l&&(J=E.getPropertyValue(b,L));var Q,M=!1,H=function(b,k){var c,h;return h=(k||"0").toString().toLowerCase().replace(/[%A-z]+$/,
function(b){return c=b,""}),c||(c=E.Values.getUnitType(b)),[h,c]};Q=H(L,J);J=Q[0];k=Q[1];Q=H(L,w);w=Q[0].replace(/^([+-\/*])=/,function(b,k){return M=k,""});Q=Q[1];J=parseFloat(J)||0;w=parseFloat(w)||0;"%"===Q&&(/^(fontSize|lineHeight)$/.test(L)?(w/=100,Q="em"):/^scale/.test(L)?(w/=100,Q=""):/(Red|Green|Blue)$/i.test(L)&&(w=w/100*255,Q=""));H=function(){var k=b.parentNode||c.body,l=E.getPropertyValue(b,"position"),n=E.getPropertyValue(b,"fontSize"),m=l===S.lastPosition&&k===S.lastParent,r=n===S.lastFontSize;
S.lastParent=k;S.lastPosition=l;S.lastFontSize=n;var q={};if(r&&m)q.emToPx=S.lastEmToPx,q.percentToPxWidth=S.lastPercentToPxWidth,q.percentToPxHeight=S.lastPercentToPxHeight;else{var p=y&&y.isSVG?c.createElementNS("http://www.w3.org/2000/svg","rect"):c.createElement("div");D.init(p);k.appendChild(p);z.each(["overflow","overflowX","overflowY"],function(b,k){D.CSS.setPropertyValue(p,k,"hidden")});D.CSS.setPropertyValue(p,"position",l);D.CSS.setPropertyValue(p,"fontSize",n);D.CSS.setPropertyValue(p,
"boxSizing","content-box");z.each("minWidth maxWidth width minHeight maxHeight height".split(" "),function(b,k){D.CSS.setPropertyValue(p,k,"100%")});D.CSS.setPropertyValue(p,"paddingLeft","100em");q.percentToPxWidth=S.lastPercentToPxWidth=(parseFloat(E.getPropertyValue(p,"width",null,!0))||1)/100;q.percentToPxHeight=S.lastPercentToPxHeight=(parseFloat(E.getPropertyValue(p,"height",null,!0))||1)/100;q.emToPx=S.lastEmToPx=(parseFloat(E.getPropertyValue(p,"paddingLeft"))||1)/100;k.removeChild(p)}return null===
S.remToPx&&(S.remToPx=parseFloat(E.getPropertyValue(c.body,"fontSize"))||16),null===S.vwToPx&&(S.vwToPx=parseFloat(h.innerWidth)/100,S.vhToPx=parseFloat(h.innerHeight)/100),q.remToPx=S.remToPx,q.vwToPx=S.vwToPx,q.vhToPx=S.vhToPx,q};if(/[\/*]/.test(M))Q=k;else if(k!==Q&&0!==J)if(0===w)Q=k;else{p=p||H();H=/margin|padding|left|right|width|text|word|letter/i.test(L)||/X$/.test(L)||"x"===L?"x":"y";switch(k){case "%":J*="x"===H?p.percentToPxWidth:p.percentToPxHeight;break;case "px":break;default:J*=p[k+
"ToPx"]}switch(Q){case "%":J*=1/("x"===H?p.percentToPxWidth:p.percentToPxHeight);break;case "px":break;default:J*=1/p[Q+"ToPx"]}}switch(M){case "+":w=J+w;break;case "-":w=J-w;break;case "*":w*=J;break;case "/":w=J/w}u[L]={rootPropertyValue:ka,startValue:J,currentValue:J,endValue:w,unitType:Q,easing:I}}u.element=b}u.element&&(E.Values.addClass(b,"velocity-animating"),ja.push(u),y=n(b),y&&(""===x.queue&&(y.tweensContainer=u,y.opts=x),y.isAnimating=!0),O===X-1?(D.State.calls.push([ja,A,x,null,N.resolver]),
!1===D.State.isTicking&&(D.State.isTicking=!0,v())):O++)}var p,x=z.extend({},D.defaults,F),u={};switch(n(b)===l&&D.init(b),parseFloat(x.delay)&&!1!==x.queue&&z.queue(b,x.queue,function(k){D.velocityQueueEntryFlag=!0;n(b).delayTimer={setTimeout:setTimeout(k,parseFloat(x.delay)),next:k}}),x.duration.toString().toLowerCase()){case "fast":x.duration=200;break;case "normal":x.duration=400;break;case "slow":x.duration=600;break;default:x.duration=parseFloat(x.duration)||1}!1!==D.mock&&(!0===D.mock?x.duration=
x.delay=1:(x.duration*=parseFloat(D.mock)||1,x.delay*=parseFloat(D.mock)||1));x.easing=q(x.easing,x.duration);x.begin&&!B.isFunction(x.begin)&&(x.begin=null);x.progress&&!B.isFunction(x.progress)&&(x.progress=null);x.complete&&!B.isFunction(x.complete)&&(x.complete=null);x.display!==l&&null!==x.display&&(x.display=x.display.toString().toLowerCase(),"auto"===x.display&&(x.display=D.CSS.Values.getDisplayType(b)));x.visibility!==l&&null!==x.visibility&&(x.visibility=x.visibility.toString().toLowerCase());
x.mobileHA=x.mobileHA&&D.State.isMobile&&!D.State.isGingerbread;!1===x.queue?x.delay?setTimeout(r,x.delay):r():z.queue(b,x.queue,function(b,k){return!0===k?(N.promise&&N.resolver(A),!0):(D.velocityQueueEntryFlag=!0,void r(b))});""!==x.queue&&"fx"!==x.queue||"inprogress"===z.queue(b)[0]||z.dequeue(b)}var m,r,u,x,A,C,F,K=arguments[0]&&(arguments[0].p||z.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||B.isString(arguments[0].properties));if(B.isWrapped(this)?(r=!1,x=0,A=this,
u=this):(r=!0,x=1,A=K?arguments[0].elements||arguments[0].e:arguments[0]),A=p(A)){K?(C=arguments[0].properties||arguments[0].p,F=arguments[0].options||arguments[0].o):(C=arguments[x],F=arguments[x+1]);var X=A.length,O=0;if(!/^(stop|finish|finishAll)$/i.test(C)&&!z.isPlainObject(F))for(F={},x+=1;x<arguments.length;x++)B.isArray(arguments[x])||!/^(fast|normal|slow)$/i.test(arguments[x])&&!/^\d/.test(arguments[x])?B.isString(arguments[x])||B.isArray(arguments[x])?F.easing=arguments[x]:B.isFunction(arguments[x])&&
(F.complete=arguments[x]):F.duration=arguments[x];var N={promise:null,resolver:null,rejecter:null};r&&D.Promise&&(N.promise=new D.Promise(function(b,k){N.resolver=b;N.rejecter=k}));var V;switch(C){case "scroll":V="scroll";break;case "reverse":V="reverse";break;case "finish":case "finishAll":case "stop":z.each(A,function(b,k){n(k)&&n(k).delayTimer&&(clearTimeout(n(k).delayTimer.setTimeout),n(k).delayTimer.next&&n(k).delayTimer.next(),delete n(k).delayTimer);"finishAll"!==C||!0!==F&&!B.isString(F)||
(z.each(z.queue(k,B.isString(F)?F:""),function(b,k){B.isFunction(k)&&k()}),z.queue(k,B.isString(F)?F:"",[]))});var fa=[];return z.each(D.State.calls,function(b,k){k&&z.each(k[1],function(c,h){var m=F===l?"":F;return!0!==m&&k[2].queue!==m&&(F!==l||!1!==k[2].queue)||void z.each(A,function(c,l){l===h&&(((!0===F||B.isString(F))&&(z.each(z.queue(l,B.isString(F)?F:""),function(b,k){B.isFunction(k)&&k(null,!0)}),z.queue(l,B.isString(F)?F:"",[])),"stop"===C)?((c=n(l))&&c.tweensContainer&&!1!==m&&z.each(c.tweensContainer,
function(b,k){k.endValue=k.currentValue}),fa.push(b)):"finish"!==C&&"finishAll"!==C||(k[2].duration=1))})})}),"stop"===C&&(z.each(fa,function(b,k){y(k,!0)}),N.promise&&N.resolver(A)),b();default:if(!z.isPlainObject(C)||B.isEmptyObject(C)){if(B.isString(C)&&D.Redirects[C]){m=z.extend({},F);var W=m.duration,Z=m.delay||0;return!0===m.backwards&&(A=z.extend(!0,[],A).reverse()),z.each(A,function(b,k){parseFloat(m.stagger)?m.delay=Z+parseFloat(m.stagger)*b:B.isFunction(m.stagger)&&(m.delay=Z+m.stagger.call(k,
b,X));m.drag&&(m.duration=parseFloat(W)||(/^(callout|transition)/.test(C)?1E3:400),m.duration=Math.max(m.duration*(m.backwards?1-b/X:(b+1)/X),.75*m.duration,200));D.Redirects[C].call(k,k,m||{},b,X,A,N.promise?N:l)}),b()}return N.promise&&N.rejecter(Error("Velocity: First argument ("+C+") was not a property map, a known action, or a registered redirect. Aborting.")),b()}V="start"}var S={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,
remToPx:null,vwToPx:null,vhToPx:null},ja=[];z.each(A,function(b,c){B.isNode(c)&&k(c,b)});m=z.extend({},D.defaults,F);m.loop=parseInt(m.loop,10);x=2*m.loop-1;if(m.loop)for(K=0;K<x;K++){var ia={delay:m.delay,progress:m.progress};K===x-1&&(ia.display=m.display,ia.visibility=m.visibility,ia.complete=m.complete);G(A,"reverse",ia)}return b()}},D=z.extend(G,D);D.animate=G;var K=h.requestAnimationFrame||r;return D.State.isMobile||c.hidden===l||c.addEventListener("visibilitychange",function(){c.hidden?(K=
function(b){return setTimeout(function(){b(!0)},16)},v()):K=h.requestAnimationFrame||r}),b.Velocity=D,b!==h&&(b.fn.velocity=G,b.fn.velocity.defaults=D.defaults),z.each(["Down","Up"],function(b,k){D.Redirects["slide"+k]=function(b,c,h,n,m,r){c=z.extend({},c);var q=c.begin,p=c.complete,v={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},x={};c.display===l&&(c.display="Down"===k?"inline"===D.CSS.Values.getDisplayType(b)?"inline-block":"block":"none");c.begin=function(){q&&q.call(m,
m);for(var c in v){x[c]=b.style[c];var h=D.CSS.getPropertyValue(b,c);v[c]="Down"===k?[h,0]:[0,h]}x.overflow=b.style.overflow;b.style.overflow="hidden"};c.complete=function(){for(var k in x)b.style[k]=x[k];p&&p.call(m,m);r&&r.resolver(m)};D(b,v,c)}}),z.each(["In","Out"],function(b,k){D.Redirects["fade"+k]=function(b,c,h,n,m,r){b=z.extend({},c);var q=b.complete;c={opacity:"In"===k?1:0};h!==n-1?b.complete=b.begin=null:b.complete=function(){q&&q.call(m,m);r&&r.resolver(m)};b.display===l&&(b.display="In"===
k?"auto":"none");D(this,c,b)}}),D}(window.jQuery||window.Zepto||window,window,document)});
!function(b){"function"==typeof require&&"object"==typeof exports?module.exports=b():"function"==typeof define&&define.amd?define(["velocity"],b):b()}(function(){return function(b,h,c,l){var m=b.Velocity;if(m&&m.Utilities){var p=m.Utilities;if(function(b,k){var c=[];return!(!b||!k)&&(p.each([b,k],function(b,k){var h=[];p.each(k,function(b,k){for(;5>k.toString().length;)k="0"+k;h.push(k)});c.push(h.join(""))}),parseFloat(c[0])>parseFloat(c[1]))}({major:1,minor:1,patch:0},m.version))throw alert("Velocity UI Pack: You need to update Velocity (jquery.velocity.js) to a newer version. Visit http://github.com/julianshapiro/velocity."),
Error("Velocity UI Pack: You need to update Velocity (jquery.velocity.js) to a newer version. Visit http://github.com/julianshapiro/velocity.");m.RegisterEffect=m.RegisterUI=function(b,k){function c(b,k,h,l){var n,q=0;p.each(b.nodeType?[b]:b,function(b,k){l&&(h+=b*l);n=k.parentNode;propertiesToSum=["height","paddingTop","paddingBottom","marginTop","marginBottom"];"border-box"===m.CSS.getPropertyValue(k,"boxSizing").toString().toLowerCase()&&(propertiesToSum=["height"]);p.each(propertiesToSum,function(b,
c){q+=parseFloat(m.CSS.getPropertyValue(k,c))})});m.animate(n,{height:("In"===k?"+":"-")+"\x3d"+q},{queue:!1,easing:"ease-in-out",duration:h*("In"===k?.6:1)})}return m.Redirects[b]=function(h,n,z,A,r,B){var C=z===A-1;"function"==typeof k.defaultDuration?k.defaultDuration=k.defaultDuration.call(r,r):k.defaultDuration=parseFloat(k.defaultDuration);for(A=0;A<k.calls.length;A++){var x=k.calls[A],D=x[0],F=1E3,E=x[1],x=x[2]||{},G={};if(n.duration!==l?F=n.duration:k.defaultDuration!==l&&(F=k.defaultDuration),
G.duration=F*(E||1),G.queue=n.queue||"",G.easing=x.easing||"ease",G.delay=parseFloat(x.delay)||0,G._cacheValues=x._cacheValues||!0,0===A){if(G.delay+=parseFloat(n.delay)||0,0===z&&(G.begin=function(){n.begin&&n.begin.call(r,r);var k=b.match(/(In|Out)$/);k&&"In"===k[0]&&D.opacity!==l&&p.each(r.nodeType?[r]:r,function(b,k){m.CSS.setPropertyValue(k,"opacity",0)});n.animateParentHeight&&k&&c(r,k[0],F+G.delay,n.stagger)}),null!==n.display)n.display!==l&&"none"!==n.display?G.display=n.display:/In$/.test(b)&&
(E=m.CSS.Values.getDisplayType(h),G.display="inline"===E?"inline-block":E);n.visibility&&"hidden"!==n.visibility&&(G.visibility=n.visibility)}if(A===k.calls.length-1){var K=function(){n.display!==l&&"none"!==n.display||!/Out$/.test(b)||p.each(r.nodeType?[r]:r,function(b,k){m.CSS.setPropertyValue(k,"display","none")});n.complete&&n.complete.call(r,r);B&&B.resolver(r||h)};G.complete=function(){if(k.reset){for(var b in k.reset){var c=k.reset[b];m.CSS.Hooks.registered[b]!==l||"string"!=typeof c&&"number"!=
typeof c||(k.reset[b]=[k.reset[b],k.reset[b]])}b={duration:0,queue:!1};C&&(b.complete=K);m.animate(h,k.reset,b)}else C&&K()};"hidden"===n.visibility&&(G.visibility=n.visibility)}m.animate(h,D,G)}},m};m.RegisterEffect.packagedEffects={"callout.bounce":{defaultDuration:550,calls:[[{translateY:-30},.25],[{translateY:0},.125],[{translateY:-15},.125],[{translateY:0},.25]]},"callout.shake":{defaultDuration:800,calls:[[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:11},
.125],[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:0},.125]]},"callout.flash":{defaultDuration:1100,calls:[[{opacity:[0,"easeInOutQuad",1]},.25],[{opacity:[1,"easeInOutQuad"]},.25],[{opacity:[0,"easeInOutQuad"]},.25],[{opacity:[1,"easeInOutQuad"]},.25]]},"callout.pulse":{defaultDuration:825,calls:[[{scaleX:1.1,scaleY:1.1},.5,{easing:"easeInExpo"}],[{scaleX:1,scaleY:1},.5]]},"callout.swing":{defaultDuration:950,calls:[[{rotateZ:15},.2],[{rotateZ:-10},.2],[{rotateZ:5},
.2],[{rotateZ:-5},.2],[{rotateZ:0},.2]]},"callout.tada":{defaultDuration:1E3,calls:[[{scaleX:.9,scaleY:.9,rotateZ:-3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:-3},.1],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],[{scaleX:1,scaleY:1,rotateZ:0},.2]]},"transition.fadeIn":{defaultDuration:500,calls:[[{opacity:[1,0]}]]},"transition.fadeOut":{defaultDuration:500,calls:[[{opacity:[0,1]}]]},"transition.flipXIn":{defaultDuration:700,
calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateY:[0,-55]}]],reset:{transformPerspective:0}},"transition.flipXOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateY:55}]],reset:{transformPerspective:0,rotateY:0}},"transition.flipYIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateX:[0,-45]}]],reset:{transformPerspective:0}},"transition.flipYOut":{defaultDuration:800,calls:[[{opacity:[0,1],transformPerspective:[800,800],
rotateX:25}]],reset:{transformPerspective:0,rotateX:0}},"transition.flipBounceXIn":{defaultDuration:900,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateY:[-10,90]},.5],[{opacity:.8,rotateY:10},.25],[{opacity:1,rotateY:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceXOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateY:-10},.5],[{opacity:0,rotateY:90},.5]],reset:{transformPerspective:0,rotateY:0}},"transition.flipBounceYIn":{defaultDuration:850,
calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateX:[-10,90]},.5],[{opacity:.8,rotateX:10},.25],[{opacity:1,rotateX:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceYOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateX:-15},.5],[{opacity:0,rotateX:90},.5]],reset:{transformPerspective:0,rotateX:0}},"transition.swoopIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["100%","50%"],transformOriginY:["100%","100%"],scaleX:[1,
0],scaleY:[1,0],translateX:[0,-700],translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%"}},"transition.swoopOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformOriginX:["50%","100%"],transformOriginY:["100%","100%"],scaleX:0,scaleY:0,translateX:-700,translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%",scaleX:1,scaleY:1,translateX:0}},"transition.whirlIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],
scaleX:[1,0],scaleY:[1,0],rotateY:[0,160]},1,{easing:"easeInOutSine"}]]},"transition.whirlOut":{defaultDuration:750,calls:[[{opacity:[0,"easeInOutQuint",1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:0,scaleY:0,rotateY:160},1,{easing:"swing"}]],reset:{scaleX:1,scaleY:1,rotateY:0}},"transition.shrinkIn":{defaultDuration:750,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,1.5],scaleY:[1,1.5],translateZ:0}]]},"transition.shrinkOut":{defaultDuration:600,
calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:1.3,scaleY:1.3,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.expandIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,.625],scaleY:[1,.625],translateZ:0}]]},"transition.expandOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:.5,scaleY:.5,translateZ:0}]],reset:{scaleX:1,
scaleY:1}},"transition.bounceIn":{defaultDuration:800,calls:[[{opacity:[1,0],scaleX:[1.05,.3],scaleY:[1.05,.3]},.4],[{scaleX:.9,scaleY:.9,translateZ:0},.2],[{scaleX:1,scaleY:1},.5]]},"transition.bounceOut":{defaultDuration:800,calls:[[{scaleX:.95,scaleY:.95},.35],[{scaleX:1.1,scaleY:1.1,translateZ:0},.35],[{opacity:[0,1],scaleX:.3,scaleY:.3},.3]],reset:{scaleX:1,scaleY:1}},"transition.bounceUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[-30,1E3]},.6,{easing:"easeOutCirc"}],[{translateY:10},
.2],[{translateY:0},.2]]},"transition.bounceUpOut":{defaultDuration:1E3,calls:[[{translateY:20},.2],[{opacity:[0,"easeInCirc",1],translateY:-1E3},.8]],reset:{translateY:0}},"transition.bounceDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[30,-1E3]},.6,{easing:"easeOutCirc"}],[{translateY:-10},.2],[{translateY:0},.2]]},"transition.bounceDownOut":{defaultDuration:1E3,calls:[[{translateY:-20},.2],[{opacity:[0,"easeInCirc",1],translateY:1E3},.8]],reset:{translateY:0}},"transition.bounceLeftIn":{defaultDuration:750,
calls:[[{opacity:[1,0],translateX:[30,-1250]},.6,{easing:"easeOutCirc"}],[{translateX:-10},.2],[{translateX:0},.2]]},"transition.bounceLeftOut":{defaultDuration:750,calls:[[{translateX:30},.2],[{opacity:[0,"easeInCirc",1],translateX:-1250},.8]],reset:{translateX:0}},"transition.bounceRightIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[-30,1250]},.6,{easing:"easeOutCirc"}],[{translateX:10},.2],[{translateX:0},.2]]},"transition.bounceRightOut":{defaultDuration:750,calls:[[{translateX:-30},
.2],[{opacity:[0,"easeInCirc",1],translateX:1250},.8]],reset:{translateX:0}},"transition.slideUpIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,20],translateZ:0}]]},"transition.slideUpOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:-20,translateZ:0}]],reset:{translateY:0}},"transition.slideDownIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,-20],translateZ:0}]]},"transition.slideDownOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:20,translateZ:0}]],
reset:{translateY:0}},"transition.slideLeftIn":{defaultDuration:1E3,calls:[[{opacity:[1,0],translateX:[0,-20],translateZ:0}]]},"transition.slideLeftOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:-20,translateZ:0}]],reset:{translateX:0}},"transition.slideRightIn":{defaultDuration:1E3,calls:[[{opacity:[1,0],translateX:[0,20],translateZ:0}]]},"transition.slideRightOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:20,translateZ:0}]],reset:{translateX:0}},"transition.slideUpBigIn":{defaultDuration:850,
calls:[[{opacity:[1,0],translateY:[0,75],translateZ:0}]]},"transition.slideUpBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:-75,translateZ:0}]],reset:{translateY:0}},"transition.slideDownBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,-75],translateZ:0}]]},"transition.slideDownBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:75,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,
-75],translateZ:0}]]},"transition.slideLeftBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:-75,translateZ:0}]],reset:{translateX:0}},"transition.slideRightBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,75],translateZ:0}]]},"transition.slideRightBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:75,translateZ:0}]],reset:{translateX:0}},"transition.perspectiveUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,
0],transformOriginY:["100%","100%"],rotateX:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveUpOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],
transformOriginX:[0,0],transformOriginY:[0,0],rotateX:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveDownOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveLeftIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2E3,2E3],
transformOriginX:[0,0],transformOriginY:[0,0],rotateY:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveLeftOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2E3,2E3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}},"transition.perspectiveRightIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2E3,
2E3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveRightOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2E3,2E3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}}};for(var n in m.RegisterEffect.packagedEffects)m.RegisterEffect(n,m.RegisterEffect.packagedEffects[n]);
m.RunSequence=function(b){var k=p.extend(!0,[],b);1<k.length&&(p.each(k.reverse(),function(b,c){var h=k[b+1];if(h){var l=c.o||c.options;b=h.o||h.options;var l=l&&!1===l.sequenceQueue?"begin":"complete",n=b&&b[l],r={};r[l]=function(){var b=h.e||h.elements,b=b.nodeType?[b]:b;n&&n.call(b,b);m(c)};h.o?h.o=p.extend({},b,r):h.options=p.extend({},b,r)}}),k.reverse());m(k[0])}}}(window.jQuery||window.Zepto||window,window,document)});
!function(b,h){"function"==typeof define&&define.amd?define(["jquery"],h):h("object"==typeof exports?require("jquery"):b.jQuery?b.jQuery:b.Zepto)}(this,function(b,h){b.fn.jPlayer=function(c){var l="string"==typeof c,k=Array.prototype.slice.call(arguments,1),m=this;return c=!l&&k.length?b.extend.apply(null,[!0,c].concat(k)):c,l&&"_"===c.charAt(0)?m:(this.each(l?function(){var l=b(this).data("jPlayer"),p=l&&b.isFunction(l[c])?l[c].apply(l,k):l;return p!==l&&p!==h?(m=p,!1):void 0}:function(){var k=b(this).data("jPlayer");
k?k.option(c||{}):b(this).data("jPlayer",new b.jPlayer(c,this))}),m)};b.jPlayer=function(c,h){if(arguments.length){this.element=b(h);this.options=b.extend(!0,{},this.options,c);var k=this;this.element.bind("remove.jPlayer",function(){k.destroy()});this._init()}};"function"!=typeof b.fn.stop&&(b.fn.stop=function(){});b.jPlayer.emulateMethods="load play pause";b.jPlayer.emulateStatus="src readyState networkState currentTime duration paused ended playbackRate";b.jPlayer.emulateOptions="muted volume";
b.jPlayer.reservedEvent="ready flashreset resize repeat error warning";b.jPlayer.event={};b.each("ready setmedia flashreset resize repeat click error warning loadstart progress suspend abort emptied stalled play pause loadedmetadata loadeddata waiting playing canplay canplaythrough seeking seeked timeupdate ended ratechange durationchange volumechange".split(" "),function(){b.jPlayer.event[this]="jPlayer_"+this});b.jPlayer.htmlEvent="loadstart abort emptied stalled loadedmetadata canplay canplaythrough".split(" ");
b.jPlayer.pause=function(){b.jPlayer.prototype.destroyRemoved();b.each(b.jPlayer.prototype.instances,function(b,c){c.data("jPlayer").status.srcSet&&c.jPlayer("pause")})};b.jPlayer.timeFormat={showHour:!1,showMin:!0,showSec:!0,padHour:!1,padMin:!0,padSec:!0,sepHour:":",sepMin:":",sepSec:""};var c=function(){this.init()};c.prototype={init:function(){this.options={timeFormat:b.jPlayer.timeFormat}},time:function(b){var c=new Date(1E3*(b&&"number"==typeof b?b:0));b=c.getUTCHours();var k=this.options.timeFormat.showHour?
c.getUTCMinutes():c.getUTCMinutes()+60*b,c=this.options.timeFormat.showMin?c.getUTCSeconds():c.getUTCSeconds()+60*k;b=this.options.timeFormat.padHour&&10>b?"0"+b:b;var k=this.options.timeFormat.padMin&&10>k?"0"+k:k,c=this.options.timeFormat.padSec&&10>c?"0"+c:c,h="";return h+=this.options.timeFormat.showHour?b+this.options.timeFormat.sepHour:"",h+=this.options.timeFormat.showMin?k+this.options.timeFormat.sepMin:"",h+(this.options.timeFormat.showSec?c+this.options.timeFormat.sepSec:"")}};var l=new c;
b.jPlayer.convertTime=function(b){return l.time(b)};b.jPlayer.uaBrowser=function(b){b=b.toLowerCase();var c=/(opera)(?:.*version)?[ \/]([\w.]+)/,k=/(msie) ([\w.]+)/,h=/(mozilla)(?:.*? rv:([\w.]+))?/;b=/(webkit)[ \/]([\w.]+)/.exec(b)||c.exec(b)||k.exec(b)||0>b.indexOf("compatible")&&h.exec(b)||[];return{browser:b[1]||"",version:b[2]||"0"}};b.jPlayer.uaPlatform=function(b){var c=b.toLowerCase(),k=/(android)/,h=/(mobile)/;b=/(ipad|iphone|ipod|android|blackberry|playbook|windows ce|webos)/.exec(c)||[];
c=/(ipad|playbook)/.exec(c)||!h.exec(c)&&k.exec(c)||[];return b[1]&&(b[1]=b[1].replace(/\s/g,"_")),{platform:b[1]||"",tablet:c[1]||""}};b.jPlayer.browser={};b.jPlayer.platform={};var m=b.jPlayer.uaBrowser(navigator.userAgent);m.browser&&(b.jPlayer.browser[m.browser]=!0,b.jPlayer.browser.version=m.version);m=b.jPlayer.uaPlatform(navigator.userAgent);m.platform&&(b.jPlayer.platform[m.platform]=!0,b.jPlayer.platform.mobile=!m.tablet,b.jPlayer.platform.tablet=!!m.tablet);b.jPlayer.getDocMode=function(){var c;
return b.jPlayer.browser.msie&&(document.documentMode?c=document.documentMode:(c=5,document.compatMode&&"CSS1Compat"===document.compatMode&&(c=7))),c};b.jPlayer.browser.documentMode=b.jPlayer.getDocMode();b.jPlayer.nativeFeatures={init:function(){var b,c,k,h=document;b=h.createElement("video");var l={w3c:"fullscreenEnabled fullscreenElement requestFullscreen exitFullscreen fullscreenchange fullscreenerror".split(" "),moz:"mozFullScreenEnabled mozFullScreenElement mozRequestFullScreen mozCancelFullScreen mozfullscreenchange mozfullscreenerror".split(" "),
webkit:" webkitCurrentFullScreenElement webkitRequestFullScreen webkitCancelFullScreen webkitfullscreenchange ".split(" "),webkitVideo:"webkitSupportsFullscreen webkitDisplayingFullscreen webkitEnterFullscreen webkitExitFullscreen  ".split(" "),ms:" msFullscreenElement msRequestFullscreen msExitFullscreen MSFullscreenChange MSFullscreenError".split(" ")},m=["w3c","moz","webkit","webkitVideo","ms"];this.fullscreen=b={support:{w3c:!!h[l.w3c[0]],moz:!!h[l.moz[0]],webkit:"function"==typeof h[l.webkit[3]],
webkitVideo:"function"==typeof b[l.webkitVideo[2]],ms:"function"==typeof b[l.ms[2]]},used:{}};c=0;for(k=m.length;k>c;c++){var p=m[c];if(b.support[p]){b.spec=p;b.used[p]=!0;break}}if(b.spec){var A=l[b.spec];b.api={fullscreenEnabled:!0,fullscreenElement:function(b){return b=b?b:h,b[A[1]]},requestFullscreen:function(b){return b[A[2]]()},exitFullscreen:function(b){return b=b?b:h,b[A[3]]()}};b.event={fullscreenchange:A[4],fullscreenerror:A[5]}}else b.api={fullscreenEnabled:!1,fullscreenElement:function(){return null},
requestFullscreen:function(){},exitFullscreen:function(){}},b.event={}}};b.jPlayer.nativeFeatures.init();b.jPlayer.focus=null;b.jPlayer.keyIgnoreElementNames="A INPUT TEXTAREA SELECT BUTTON";var p=function(c){var h,k=b.jPlayer.focus;k&&(b.each(b.jPlayer.keyIgnoreElementNames.split(/\s+/g),function(b,k){return c.target.nodeName.toUpperCase()===k.toUpperCase()?(h=!0,!1):void 0}),h||b.each(k.options.keyBindings,function(h,l){return l&&b.isFunction(l.fn)&&("number"==typeof l.key&&c.which===l.key||"string"==
typeof l.key&&c.key===l.key)?(c.preventDefault(),l.fn(k),!1):void 0}))};b.jPlayer.keys=function(c){b(document.documentElement).unbind("keydown.jPlayer");c&&b(document.documentElement).bind("keydown.jPlayer",p)};b.jPlayer.keys(!0);b.jPlayer.prototype={count:0,version:{script:"2.9.2",needFlash:"2.9.0",flash:"unknown"},options:{swfPath:"js",solution:"html, flash",supplied:"mp3",auroraFormats:"wav",preload:"metadata",volume:.8,muted:!1,remainingDuration:!1,toggleDuration:!1,captureDuration:!0,playbackRate:1,
defaultPlaybackRate:1,minPlaybackRate:.5,maxPlaybackRate:4,wmode:"opaque",backgroundColor:"#000000",cssSelectorAncestor:"#jp_container_1",cssSelector:{videoPlay:".jp-video-play",play:".jp-play",pause:".jp-pause",stop:".jp-stop",seekBar:".jp-seek-bar",playBar:".jp-play-bar",mute:".jp-mute",unmute:".jp-unmute",volumeBar:".jp-volume-bar",volumeBarValue:".jp-volume-bar-value",volumeMax:".jp-volume-max",playbackRateBar:".jp-playback-rate-bar",playbackRateBarValue:".jp-playback-rate-bar-value",currentTime:".jp-current-time",
duration:".jp-duration",title:".jp-title",fullScreen:".jp-full-screen",restoreScreen:".jp-restore-screen",repeat:".jp-repeat",repeatOff:".jp-repeat-off",gui:".jp-gui",noSolution:".jp-no-solution"},stateClass:{playing:"jp-state-playing",seeking:"jp-state-seeking",muted:"jp-state-muted",looped:"jp-state-looped",fullScreen:"jp-state-full-screen",noVolume:"jp-state-no-volume"},useStateClassSkin:!1,autoBlur:!0,smoothPlayBar:!1,fullScreen:!1,fullWindow:!1,autohide:{restored:!1,full:!0,fadeIn:200,fadeOut:600,
hold:1E3},loop:!1,repeat:function(c){c.jPlayer.options.loop?b(this).unbind(".jPlayerRepeat").bind(b.jPlayer.event.ended+".jPlayer.jPlayerRepeat",function(){b(this).jPlayer("play")}):b(this).unbind(".jPlayerRepeat")},nativeVideoControls:{},noFullWindow:{msie:/msie [0-6]\./,ipad:/ipad.*?os [0-4]\./,iphone:/iphone/,ipod:/ipod/,android_pad:/android [0-3]\.(?!.*?mobile)/,android_phone:/(?=.*android)(?!.*chrome)(?=.*mobile)/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/},
noVolume:{ipad:/ipad/,iphone:/iphone/,ipod:/ipod/,android_pad:/android(?!.*?mobile)/,android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/,playbook:/playbook/},timeFormat:{},keyEnabled:!1,audioFullScreen:!1,keyBindings:{play:{key:80,fn:function(b){b.status.paused?b.play():b.pause()}},fullScreen:{key:70,fn:function(b){(b.status.video||b.options.audioFullScreen)&&b._setOption("fullScreen",!b.options.fullScreen)}},muted:{key:77,fn:function(b){b._muted(!b.options.muted)}},
volumeUp:{key:190,fn:function(b){b.volume(b.options.volume+.1)}},volumeDown:{key:188,fn:function(b){b.volume(b.options.volume-.1)}},loop:{key:76,fn:function(b){b._loop(!b.options.loop)}}},verticalVolume:!1,verticalPlaybackRate:!1,globalVolume:!1,idPrefix:"jp",noConflict:"jQuery",emulateHtml:!1,consoleAlerts:!0,errorAlerts:!1,warningAlerts:!1},optionsAudio:{size:{width:"0px",height:"0px",cssClass:""},sizeFull:{width:"0px",height:"0px",cssClass:""}},optionsVideo:{size:{width:"480px",height:"270px",
cssClass:"jp-video-270p"},sizeFull:{width:"100%",height:"100%",cssClass:"jp-video-full"}},instances:{},status:{src:"",media:{},paused:!0,format:{},formatType:"",waitForPlay:!0,waitForLoad:!0,srcSet:!1,video:!1,seekPercent:0,currentPercentRelative:0,currentPercentAbsolute:0,currentTime:0,duration:0,remaining:0,videoWidth:0,videoHeight:0,readyState:0,networkState:0,playbackRate:1,ended:0},internal:{ready:!1},solution:{html:!0,aurora:!0,flash:!0},format:{mp3:{codec:"audio/mpeg",flashCanPlay:!0,media:"audio"},
m4a:{codec:'audio/mp4; codecs\x3d"mp4a.40.2"',flashCanPlay:!0,media:"audio"},m3u8a:{codec:'application/vnd.apple.mpegurl; codecs\x3d"mp4a.40.2"',flashCanPlay:!1,media:"audio"},m3ua:{codec:"audio/mpegurl",flashCanPlay:!1,media:"audio"},oga:{codec:'audio/ogg; codecs\x3d"vorbis, opus"',flashCanPlay:!1,media:"audio"},flac:{codec:"audio/x-flac",flashCanPlay:!1,media:"audio"},wav:{codec:'audio/wav; codecs\x3d"1"',flashCanPlay:!1,media:"audio"},webma:{codec:'audio/webm; codecs\x3d"vorbis"',flashCanPlay:!1,
media:"audio"},fla:{codec:"audio/x-flv",flashCanPlay:!0,media:"audio"},rtmpa:{codec:'audio/rtmp; codecs\x3d"rtmp"',flashCanPlay:!0,media:"audio"},m4v:{codec:'video/mp4; codecs\x3d"avc1.42E01E, mp4a.40.2"',flashCanPlay:!0,media:"video"},m3u8v:{codec:'application/vnd.apple.mpegurl; codecs\x3d"avc1.42E01E, mp4a.40.2"',flashCanPlay:!1,media:"video"},m3uv:{codec:"audio/mpegurl",flashCanPlay:!1,media:"video"},ogv:{codec:'video/ogg; codecs\x3d"theora, vorbis"',flashCanPlay:!1,media:"video"},webmv:{codec:'video/webm; codecs\x3d"vorbis, vp8"',
flashCanPlay:!1,media:"video"},flv:{codec:"video/x-flv",flashCanPlay:!0,media:"video"},rtmpv:{codec:'video/rtmp; codecs\x3d"rtmp"',flashCanPlay:!0,media:"video"}},_init:function(){var c=this;if(this.element.empty(),this.status=b.extend({},this.status),this.internal=b.extend({},this.internal),this.options.timeFormat=b.extend({},b.jPlayer.timeFormat,this.options.timeFormat),this.internal.cmdsIgnored=b.jPlayer.platform.ipad||b.jPlayer.platform.iphone||b.jPlayer.platform.ipod,this.internal.domNode=this.element.get(0),
this.options.keyEnabled&&!b.jPlayer.focus&&(b.jPlayer.focus=this),this.androidFix={setMedia:!1,play:!1,pause:!1,time:0/0},b.jPlayer.platform.android&&(this.options.preload="auto"!==this.options.preload?"metadata":"auto"),this.formats=[],this.solutions=[],this.require={},this.htmlElement={},this.html={},this.html.audio={},this.html.video={},this.aurora={},this.aurora.formats=[],this.aurora.properties=[],this.flash={},this.css={},this.css.cs={},this.css.jq={},this.ancestorJq=[],this.options.volume=
this._limitValue(this.options.volume,0,1),b.each(this.options.supplied.toLowerCase().split(","),function(k,h){var l=h.replace(/^\s+|\s+$/g,"");if(c.format[l]){var m=!1;b.each(c.formats,function(b,k){return l===k?(m=!0,!1):void 0});m||c.formats.push(l)}}),b.each(this.options.solution.toLowerCase().split(","),function(k,h){var l=h.replace(/^\s+|\s+$/g,"");if(c.solution[l]){var m=!1;b.each(c.solutions,function(b,k){return l===k?(m=!0,!1):void 0});m||c.solutions.push(l)}}),b.each(this.options.auroraFormats.toLowerCase().split(","),
function(k,h){var l=h.replace(/^\s+|\s+$/g,"");if(c.format[l]){var m=!1;b.each(c.aurora.formats,function(b,k){return l===k?(m=!0,!1):void 0});m||c.aurora.formats.push(l)}}),this.internal.instance="jp_"+this.count,this.instances[this.internal.instance]=this.element,this.element.attr("id")||this.element.attr("id",this.options.idPrefix+"_jplayer_"+this.count),this.internal.self=b.extend({},{id:this.element.attr("id"),jq:this.element}),this.internal.audio=b.extend({},{id:this.options.idPrefix+"_audio_"+
this.count,jq:h}),this.internal.video=b.extend({},{id:this.options.idPrefix+"_video_"+this.count,jq:h}),this.internal.flash=b.extend({},{id:this.options.idPrefix+"_flash_"+this.count,jq:h,swf:this.options.swfPath+(".swf"!==this.options.swfPath.toLowerCase().slice(-4)?(this.options.swfPath&&"/"!==this.options.swfPath.slice(-1)?"/":"")+"jquery.jplayer.swf":"")}),this.internal.poster=b.extend({},{id:this.options.idPrefix+"_poster_"+this.count,jq:h}),b.each(b.jPlayer.event,function(b,k){c.options[b]!==
h&&(c.element.bind(k+".jPlayer",c.options[b]),c.options[b]=h)}),this.require.audio=!1,this.require.video=!1,b.each(this.formats,function(b,k){c.require[c.format[k].media]=!0}),this.options=this.require.video?b.extend(!0,{},this.optionsVideo,this.options):b.extend(!0,{},this.optionsAudio,this.options),this._setSize(),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow),this.status.noVolume=this._uaBlocklist(this.options.noVolume),
b.jPlayer.nativeFeatures.fullscreen.api.fullscreenEnabled&&this._fullscreenAddEventListeners(),this._restrictNativeVideoControls(),this.htmlElement.poster=document.createElement("img"),this.htmlElement.poster.id=this.internal.poster.id,this.htmlElement.poster.onload=function(){c.status.video&&!c.status.waitForPlay||c.internal.poster.jq.show()},this.element.append(this.htmlElement.poster),this.internal.poster.jq=b("#"+this.internal.poster.id),this.internal.poster.jq.css({width:this.status.width,height:this.status.height}),
this.internal.poster.jq.hide(),this.internal.poster.jq.bind("click.jPlayer",function(){c._trigger(b.jPlayer.event.click)}),this.html.audio.available=!1,this.require.audio&&(this.htmlElement.audio=document.createElement("audio"),this.htmlElement.audio.id=this.internal.audio.id,this.html.audio.available=!!this.htmlElement.audio.canPlayType&&this._testCanPlayType(this.htmlElement.audio)),this.html.video.available=!1,this.require.video&&(this.htmlElement.video=document.createElement("video"),this.htmlElement.video.id=
this.internal.video.id,this.html.video.available=!!this.htmlElement.video.canPlayType&&this._testCanPlayType(this.htmlElement.video)),this.flash.available=this._checkForFlash(10.1),this.html.canPlay={},this.aurora.canPlay={},this.flash.canPlay={},b.each(this.formats,function(k,h){c.html.canPlay[h]=c.html[c.format[h].media].available&&""!==c.htmlElement[c.format[h].media].canPlayType(c.format[h].codec);c.aurora.canPlay[h]=-1<b.inArray(h,c.aurora.formats);c.flash.canPlay[h]=c.format[h].flashCanPlay&&
c.flash.available}),this.html.desired=!1,this.aurora.desired=!1,this.flash.desired=!1,b.each(this.solutions,function(k,h){if(0===k)c[h].desired=!0;else{var l=!1,m=!1;b.each(c.formats,function(b,k){c[c.solutions[0]].canPlay[k]&&("video"===c.format[k].media?m=!0:l=!0)});c[h].desired=c.require.audio&&!l||c.require.video&&!m}}),this.html.support={},this.aurora.support={},this.flash.support={},b.each(this.formats,function(b,k){c.html.support[k]=c.html.canPlay[k]&&c.html.desired;c.aurora.support[k]=c.aurora.canPlay[k]&&
c.aurora.desired;c.flash.support[k]=c.flash.canPlay[k]&&c.flash.desired}),this.html.used=!1,this.aurora.used=!1,this.flash.used=!1,b.each(this.solutions,function(k,h){b.each(c.formats,function(b,k){return c[h].support[k]?(c[h].used=!0,!1):void 0})}),this._resetActive(),this._resetGate(),this._cssSelectorAncestor(this.options.cssSelectorAncestor),this.html.used||this.aurora.used||this.flash.used?this.css.jq.noSolution.length&&this.css.jq.noSolution.hide():(this._error({type:b.jPlayer.error.NO_SOLUTION,
context:"{solution:'"+this.options.solution+"', supplied:'"+this.options.supplied+"'}",message:b.jPlayer.errorMsg.NO_SOLUTION,hint:b.jPlayer.errorHint.NO_SOLUTION}),this.css.jq.noSolution.length&&this.css.jq.noSolution.show()),this.flash.used){var l,k="jQuery\x3d"+encodeURI(this.options.noConflict)+"\x26id\x3d"+encodeURI(this.internal.self.id)+"\x26vol\x3d"+this.options.volume+"\x26muted\x3d"+this.options.muted;if(b.jPlayer.browser.msie&&(9>Number(b.jPlayer.browser.version)||9>b.jPlayer.browser.documentMode)){k=
['\x3cparam name\x3d"movie" value\x3d"'+this.internal.flash.swf+'" /\x3e','\x3cparam name\x3d"FlashVars" value\x3d"'+k+'" /\x3e','\x3cparam name\x3d"allowScriptAccess" value\x3d"always" /\x3e','\x3cparam name\x3d"bgcolor" value\x3d"'+this.options.backgroundColor+'" /\x3e','\x3cparam name\x3d"wmode" value\x3d"'+this.options.wmode+'" /\x3e'];l=document.createElement('\x3cobject id\x3d"'+this.internal.flash.id+'" classid\x3d"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width\x3d"0" height\x3d"0" tabindex\x3d"-1"\x3e\x3c/object\x3e');
for(var m=0;m<k.length;m++)l.appendChild(document.createElement(k[m]))}else m=function(b,k,c){var h=document.createElement("param");h.setAttribute("name",k);h.setAttribute("value",c);b.appendChild(h)},l=document.createElement("object"),l.setAttribute("id",this.internal.flash.id),l.setAttribute("name",this.internal.flash.id),l.setAttribute("data",this.internal.flash.swf),l.setAttribute("type","application/x-shockwave-flash"),l.setAttribute("width","1"),l.setAttribute("height","1"),l.setAttribute("tabindex",
"-1"),m(l,"flashvars",k),m(l,"allowscriptaccess","always"),m(l,"bgcolor",this.options.backgroundColor),m(l,"wmode",this.options.wmode);this.element.append(l);this.internal.flash.jq=b(l)}this.status.playbackRateEnabled=this.html.used&&!this.flash.used?this._testPlaybackRate("audio"):!1;this._updatePlaybackRate();this.html.used&&(this.html.audio.available&&(this._addHtmlEventListeners(this.htmlElement.audio,this.html.audio),this.element.append(this.htmlElement.audio),this.internal.audio.jq=b("#"+this.internal.audio.id)),
this.html.video.available&&(this._addHtmlEventListeners(this.htmlElement.video,this.html.video),this.element.append(this.htmlElement.video),this.internal.video.jq=b("#"+this.internal.video.id),this.internal.video.jq.css(this.status.nativeVideoControls?{width:this.status.width,height:this.status.height}:{width:"0px",height:"0px"}),this.internal.video.jq.bind("click.jPlayer",function(){c._trigger(b.jPlayer.event.click)})));this.aurora.used;this.options.emulateHtml&&this._emulateHtmlBridge();!this.html.used&&
!this.aurora.used||this.flash.used||setTimeout(function(){c.internal.ready=!0;c.version.flash="n/a";c._trigger(b.jPlayer.event.repeat);c._trigger(b.jPlayer.event.ready)},100);this._updateNativeVideoControls();this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide();b.jPlayer.prototype.count++},destroy:function(){this.clearMedia();this._removeUiClass();this.css.jq.currentTime.length&&this.css.jq.currentTime.text("");this.css.jq.duration.length&&this.css.jq.duration.text("");b.each(this.css.jq,function(b,
c){c.length&&c.unbind(".jPlayer")});this.internal.poster.jq.unbind(".jPlayer");this.internal.video.jq&&this.internal.video.jq.unbind(".jPlayer");this._fullscreenRemoveEventListeners();this===b.jPlayer.focus&&(b.jPlayer.focus=null);this.options.emulateHtml&&this._destroyHtmlBridge();this.element.removeData("jPlayer");this.element.unbind(".jPlayer");this.element.empty();delete this.instances[this.internal.instance]},destroyRemoved:function(){var c=this;b.each(this.instances,function(b,k){c.element!==
k&&(k.data("jPlayer")||(k.jPlayer("destroy"),delete c.instances[b]))})},enable:function(){},disable:function(){},_testCanPlayType:function(b){try{return b.canPlayType(this.format.mp3.codec),!0}catch(c){return!1}},_testPlaybackRate:function(b){b=document.createElement("string"==typeof b?b:"audio");try{return"playbackRate"in b?(b.playbackRate=.5,.5===b.playbackRate):!1}catch(c){return!1}},_uaBlocklist:function(c){var h=navigator.userAgent.toLowerCase(),k=!1;return b.each(c,function(b,c){return c&&c.test(h)?
(k=!0,!1):void 0}),k},_restrictNativeVideoControls:function(){this.require.audio&&this.status.nativeVideoControls&&(this.status.nativeVideoControls=!1,this.status.noFullWindow=!0)},_updateNativeVideoControls:function(){this.html.video.available&&this.html.used&&(this.htmlElement.video.controls=this.status.nativeVideoControls,this._updateAutohide(),this.status.nativeVideoControls&&this.require.video?(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})):
this.status.waitForPlay&&this.status.video&&(this.internal.poster.jq.show(),this.internal.video.jq.css({width:"0px",height:"0px"})))},_addHtmlEventListeners:function(c,h){var k=this;c.preload=this.options.preload;c.muted=this.options.muted;c.volume=this.options.volume;this.status.playbackRateEnabled&&(c.defaultPlaybackRate=this.options.defaultPlaybackRate,c.playbackRate=this.options.playbackRate);c.addEventListener("progress",function(){h.gate&&(k.internal.cmdsIgnored&&0<this.readyState&&(k.internal.cmdsIgnored=
!1),k._getHtmlStatus(c),k._updateInterface(),k._trigger(b.jPlayer.event.progress))},!1);c.addEventListener("loadeddata",function(){h.gate&&(k.androidFix.setMedia=!1,k.androidFix.play&&(k.androidFix.play=!1,k.play(k.androidFix.time)),k.androidFix.pause&&(k.androidFix.pause=!1,k.pause(k.androidFix.time)),k._trigger(b.jPlayer.event.loadeddata))},!1);c.addEventListener("timeupdate",function(){h.gate&&(k._getHtmlStatus(c),k._updateInterface(),k._trigger(b.jPlayer.event.timeupdate))},!1);c.addEventListener("durationchange",
function(){h.gate&&(k._getHtmlStatus(c),k._updateInterface(),k._trigger(b.jPlayer.event.durationchange))},!1);c.addEventListener("play",function(){h.gate&&(k._updateButtons(!0),k._html_checkWaitForPlay(),k._trigger(b.jPlayer.event.play))},!1);c.addEventListener("playing",function(){h.gate&&(k._updateButtons(!0),k._seeked(),k._trigger(b.jPlayer.event.playing))},!1);c.addEventListener("pause",function(){h.gate&&(k._updateButtons(!1),k._trigger(b.jPlayer.event.pause))},!1);c.addEventListener("waiting",
function(){h.gate&&(k._seeking(),k._trigger(b.jPlayer.event.waiting))},!1);c.addEventListener("seeking",function(){h.gate&&(k._seeking(),k._trigger(b.jPlayer.event.seeking))},!1);c.addEventListener("seeked",function(){h.gate&&(k._seeked(),k._trigger(b.jPlayer.event.seeked))},!1);c.addEventListener("volumechange",function(){h.gate&&(k.options.volume=c.volume,k.options.muted=c.muted,k._updateMute(),k._updateVolume(),k._trigger(b.jPlayer.event.volumechange))},!1);c.addEventListener("ratechange",function(){h.gate&&
(k.options.defaultPlaybackRate=c.defaultPlaybackRate,k.options.playbackRate=c.playbackRate,k._updatePlaybackRate(),k._trigger(b.jPlayer.event.ratechange))},!1);c.addEventListener("suspend",function(){h.gate&&(k._seeked(),k._trigger(b.jPlayer.event.suspend))},!1);c.addEventListener("ended",function(){h.gate&&(b.jPlayer.browser.webkit||(k.htmlElement.media.currentTime=0),k.htmlElement.media.pause(),k._updateButtons(!1),k._getHtmlStatus(c,!0),k._updateInterface(),k._trigger(b.jPlayer.event.ended))},
!1);c.addEventListener("error",function(){h.gate&&(k._updateButtons(!1),k._seeked(),k.status.srcSet&&(clearTimeout(k.internal.htmlDlyCmdId),k.status.waitForLoad=!0,k.status.waitForPlay=!0,k.status.video&&!k.status.nativeVideoControls&&k.internal.video.jq.css({width:"0px",height:"0px"}),k._validString(k.status.media.poster)&&!k.status.nativeVideoControls&&k.internal.poster.jq.show(),k.css.jq.videoPlay.length&&k.css.jq.videoPlay.show(),k._error({type:b.jPlayer.error.URL,context:k.status.src,message:b.jPlayer.errorMsg.URL,
hint:b.jPlayer.errorHint.URL})))},!1);b.each(b.jPlayer.htmlEvent,function(l,m){c.addEventListener(this,function(){h.gate&&k._trigger(b.jPlayer.event[m])},!1)})},_addAuroraEventListeners:function(c,h){var k=this;c.volume=100*this.options.volume;c.on("progress",function(){h.gate&&(k.internal.cmdsIgnored&&0<this.readyState&&(k.internal.cmdsIgnored=!1),k._getAuroraStatus(c),k._updateInterface(),k._trigger(b.jPlayer.event.progress),0<c.duration&&k._trigger(b.jPlayer.event.timeupdate))},!1);c.on("ready",
function(){h.gate&&k._trigger(b.jPlayer.event.loadeddata)},!1);c.on("duration",function(){h.gate&&(k._getAuroraStatus(c),k._updateInterface(),k._trigger(b.jPlayer.event.durationchange))},!1);c.on("end",function(){h.gate&&(k._updateButtons(!1),k._getAuroraStatus(c,!0),k._updateInterface(),k._trigger(b.jPlayer.event.ended))},!1);c.on("error",function(){h.gate&&(k._updateButtons(!1),k._seeked(),k.status.srcSet&&(k.status.waitForLoad=!0,k.status.waitForPlay=!0,k.status.video&&!k.status.nativeVideoControls&&
k.internal.video.jq.css({width:"0px",height:"0px"}),k._validString(k.status.media.poster)&&!k.status.nativeVideoControls&&k.internal.poster.jq.show(),k.css.jq.videoPlay.length&&k.css.jq.videoPlay.show(),k._error({type:b.jPlayer.error.URL,context:k.status.src,message:b.jPlayer.errorMsg.URL,hint:b.jPlayer.errorHint.URL})))},!1)},_getHtmlStatus:function(b,c){var k,h,l=0,m=0;isFinite(b.duration)&&(this.status.duration=b.duration);k=b.currentTime;h=0<this.status.duration?100*k/this.status.duration:0;"object"==
typeof b.seekable&&0<b.seekable.length?(l=0<this.status.duration?100*b.seekable.end(b.seekable.length-1)/this.status.duration:100,m=0<this.status.duration?100*b.currentTime/b.seekable.end(b.seekable.length-1):0):(l=100,m=h);c&&(k=0,m=0,h=0);this.status.seekPercent=l;this.status.currentPercentRelative=m;this.status.currentPercentAbsolute=h;this.status.currentTime=k;this.status.remaining=this.status.duration-this.status.currentTime;this.status.videoWidth=b.videoWidth;this.status.videoHeight=b.videoHeight;
this.status.readyState=b.readyState;this.status.networkState=b.networkState;this.status.playbackRate=b.playbackRate;this.status.ended=b.ended},_getAuroraStatus:function(b,c){var k,h,l=0,m=0;this.status.duration=b.duration/1E3;k=b.currentTime/1E3;h=0<this.status.duration?100*k/this.status.duration:0;0<b.buffered?(l=0<this.status.duration?b.buffered*this.status.duration/this.status.duration:100,m=0<this.status.duration?k/(b.buffered*this.status.duration):0):(l=100,m=h);c&&(k=0,m=0,h=0);this.status.seekPercent=
l;this.status.currentPercentRelative=m;this.status.currentPercentAbsolute=h;this.status.currentTime=k;this.status.remaining=this.status.duration-this.status.currentTime;this.status.readyState=4;this.status.networkState=0;this.status.playbackRate=1;this.status.ended=!1},_resetStatus:function(){this.status=b.extend({},this.status,b.jPlayer.prototype.status)},_trigger:function(c,h,k){c=b.Event(c);c.jPlayer={};c.jPlayer.version=b.extend({},this.version);c.jPlayer.options=b.extend(!0,{},this.options);
c.jPlayer.status=b.extend(!0,{},this.status);c.jPlayer.html=b.extend(!0,{},this.html);c.jPlayer.aurora=b.extend(!0,{},this.aurora);c.jPlayer.flash=b.extend(!0,{},this.flash);h&&(c.jPlayer.error=b.extend({},h));k&&(c.jPlayer.warning=b.extend({},k));this.element.trigger(c)},jPlayerFlashEvent:function(c,h){if(c===b.jPlayer.event.ready)if(this.internal.ready){if(this.flash.gate){if(this.status.srcSet){var k=this.status.currentTime,l=this.status.paused;this.setMedia(this.status.media);this.volumeWorker(this.options.volume);
0<k&&(l?this.pause(k):this.play(k))}this._trigger(b.jPlayer.event.flashreset)}}else this.internal.ready=!0,this.internal.flash.jq.css({width:"0px",height:"0px"}),this.version.flash=h.version,this.version.needFlash!==this.version.flash&&this._error({type:b.jPlayer.error.VERSION,context:this.version.flash,message:b.jPlayer.errorMsg.VERSION+this.version.flash,hint:b.jPlayer.errorHint.VERSION}),this._trigger(b.jPlayer.event.repeat),this._trigger(c);if(this.flash.gate)switch(c){case b.jPlayer.event.progress:this._getFlashStatus(h);
this._updateInterface();this._trigger(c);break;case b.jPlayer.event.timeupdate:this._getFlashStatus(h);this._updateInterface();this._trigger(c);break;case b.jPlayer.event.play:this._seeked();this._updateButtons(!0);this._trigger(c);break;case b.jPlayer.event.pause:this._updateButtons(!1);this._trigger(c);break;case b.jPlayer.event.ended:this._updateButtons(!1);this._trigger(c);break;case b.jPlayer.event.click:this._trigger(c);break;case b.jPlayer.event.error:this.status.waitForLoad=!0;this.status.waitForPlay=
!0;this.status.video&&this.internal.flash.jq.css({width:"0px",height:"0px"});this._validString(this.status.media.poster)&&this.internal.poster.jq.show();this.css.jq.videoPlay.length&&this.status.video&&this.css.jq.videoPlay.show();this.status.video?this._flash_setVideo(this.status.media):this._flash_setAudio(this.status.media);this._updateButtons(!1);this._error({type:b.jPlayer.error.URL,context:h.src,message:b.jPlayer.errorMsg.URL,hint:b.jPlayer.errorHint.URL});break;case b.jPlayer.event.seeking:this._seeking();
this._trigger(c);break;case b.jPlayer.event.seeked:this._seeked();this._trigger(c);break;case b.jPlayer.event.ready:break;default:this._trigger(c)}return!1},_getFlashStatus:function(b){this.status.seekPercent=b.seekPercent;this.status.currentPercentRelative=b.currentPercentRelative;this.status.currentPercentAbsolute=b.currentPercentAbsolute;this.status.currentTime=b.currentTime;this.status.duration=b.duration;this.status.remaining=b.duration-b.currentTime;this.status.videoWidth=b.videoWidth;this.status.videoHeight=
b.videoHeight;this.status.readyState=4;this.status.networkState=0;this.status.playbackRate=1;this.status.ended=!1},_updateButtons:function(b){b===h?b=!this.status.paused:this.status.paused=!b;b?this.addStateClass("playing"):this.removeStateClass("playing");!this.status.noFullWindow&&this.options.fullWindow?this.addStateClass("fullScreen"):this.removeStateClass("fullScreen");this.options.loop?this.addStateClass("looped"):this.removeStateClass("looped");this.css.jq.play.length&&this.css.jq.pause.length&&
(b?(this.css.jq.play.hide(),this.css.jq.pause.show()):(this.css.jq.play.show(),this.css.jq.pause.hide()));this.css.jq.restoreScreen.length&&this.css.jq.fullScreen.length&&(this.status.noFullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.hide()):this.options.fullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.show()):(this.css.jq.fullScreen.show(),this.css.jq.restoreScreen.hide()));this.css.jq.repeat.length&&this.css.jq.repeatOff.length&&(this.options.loop?(this.css.jq.repeat.hide(),
this.css.jq.repeatOff.show()):(this.css.jq.repeat.show(),this.css.jq.repeatOff.hide()))},_updateInterface:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.width(this.status.seekPercent+"%");this.css.jq.playBar.length&&(this.options.smoothPlayBar?this.css.jq.playBar.stop().animate({width:this.status.currentPercentAbsolute+"%"},250,"linear"):this.css.jq.playBar.width(this.status.currentPercentRelative+"%"));var b="";this.css.jq.currentTime.length&&(b=this._convertTime(this.status.currentTime),
b!==this.css.jq.currentTime.text()&&this.css.jq.currentTime.text(this._convertTime(this.status.currentTime)));var b="",c=this.status.duration,k=this.status.remaining;this.css.jq.duration.length&&("string"==typeof this.status.media.duration?b=this.status.media.duration:("number"==typeof this.status.media.duration&&(c=this.status.media.duration,k=c-this.status.currentTime),b=this.options.remainingDuration?(0<k?"-":"")+this._convertTime(k):this._convertTime(c)),b!==this.css.jq.duration.text()&&this.css.jq.duration.text(b))},
_convertTime:c.prototype.time,_seeking:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.addClass("jp-seeking-bg");this.addStateClass("seeking")},_seeked:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.removeClass("jp-seeking-bg");this.removeStateClass("seeking")},_resetGate:function(){this.html.audio.gate=!1;this.html.video.gate=!1;this.aurora.gate=!1;this.flash.gate=!1},_resetActive:function(){this.html.active=!1;this.aurora.active=!1;this.flash.active=!1},_escapeHtml:function(b){return b.split("\x26").join("\x26amp;").split("\x3c").join("\x26lt;").split("\x3e").join("\x26gt;").split('"').join("\x26quot;")},
_qualifyURL:function(b){var c=document.createElement("div");return c.innerHTML='\x3ca href\x3d"'+this._escapeHtml(b)+'"\x3ex\x3c/a\x3e',c.firstChild.href},_absoluteMediaUrls:function(c){var h=this;return b.each(c,function(b,l){l&&h.format[b]&&"data:"!==l.substr(0,5)&&(c[b]=h._qualifyURL(l))}),c},addStateClass:function(b){this.ancestorJq.length&&this.ancestorJq.addClass(this.options.stateClass[b])},removeStateClass:function(b){this.ancestorJq.length&&this.ancestorJq.removeClass(this.options.stateClass[b])},
setMedia:function(c){var h=this,k=!1,l=this.status.media.poster!==c.poster;this._resetMedia();this._resetGate();this._resetActive();this.androidFix.setMedia=!1;this.androidFix.play=!1;this.androidFix.pause=!1;c=this._absoluteMediaUrls(c);b.each(this.formats,function(l,m){var q="video"===h.format[m].media;return b.each(h.solutions,function(l,r){if(h[r].support[m]&&h._validString(c[m]))return l="html"===r,r="aurora"===r,q?(l?(h.html.video.gate=!0,h._html_setVideo(c),h.html.active=!0):(h.flash.gate=
!0,h._flash_setVideo(c),h.flash.active=!0),h.css.jq.videoPlay.length&&h.css.jq.videoPlay.show(),h.status.video=!0):(l?(h.html.audio.gate=!0,h._html_setAudio(c),h.html.active=!0,b.jPlayer.platform.android&&(h.androidFix.setMedia=!0)):r?(h.aurora.gate=!0,h._aurora_setAudio(c),h.aurora.active=!0):(h.flash.gate=!0,h._flash_setAudio(c),h.flash.active=!0),h.css.jq.videoPlay.length&&h.css.jq.videoPlay.hide(),h.status.video=!1),k=!0,!1}),k?!1:void 0});k?(this.status.nativeVideoControls&&this.html.video.gate||
this._validString(c.poster)&&(l?this.htmlElement.poster.src=c.poster:this.internal.poster.jq.show()),"string"==typeof c.title&&(this.css.jq.title.length&&this.css.jq.title.html(c.title),this.htmlElement.audio&&this.htmlElement.audio.setAttribute("title",c.title),this.htmlElement.video&&this.htmlElement.video.setAttribute("title",c.title)),this.status.srcSet=!0,this.status.media=b.extend({},c),this._updateButtons(!1),this._updateInterface(),this._trigger(b.jPlayer.event.setmedia)):this._error({type:b.jPlayer.error.NO_SUPPORT,
context:"{supplied:'"+this.options.supplied+"'}",message:b.jPlayer.errorMsg.NO_SUPPORT,hint:b.jPlayer.errorHint.NO_SUPPORT})},_resetMedia:function(){this._resetStatus();this._updateButtons(!1);this._updateInterface();this._seeked();this.internal.poster.jq.hide();clearTimeout(this.internal.htmlDlyCmdId);this.html.active?this._html_resetMedia():this.aurora.active?this._aurora_resetMedia():this.flash.active&&this._flash_resetMedia()},clearMedia:function(){this._resetMedia();this.html.active?this._html_clearMedia():
this.aurora.active?this._aurora_clearMedia():this.flash.active&&this._flash_clearMedia();this._resetGate();this._resetActive()},load:function(){this.status.srcSet?this.html.active?this._html_load():this.aurora.active?this._aurora_load():this.flash.active&&this._flash_load():this._urlNotSetError("load")},focus:function(){this.options.keyEnabled&&(b.jPlayer.focus=this)},play:function(b){"object"==typeof b&&this.options.useStateClassSkin&&!this.status.paused?this.pause(b):(b="number"==typeof b?b:0/0,
this.status.srcSet?(this.focus(),this.html.active?this._html_play(b):this.aurora.active?this._aurora_play(b):this.flash.active&&this._flash_play(b)):this._urlNotSetError("play"))},videoPlay:function(){this.play()},pause:function(b){b="number"==typeof b?b:0/0;this.status.srcSet?this.html.active?this._html_pause(b):this.aurora.active?this._aurora_pause(b):this.flash.active&&this._flash_pause(b):this._urlNotSetError("pause")},tellOthers:function(c,h){var k=this,l="function"==typeof h,m=Array.prototype.slice.call(arguments);
"string"==typeof c&&(l&&m.splice(1,1),b.jPlayer.prototype.destroyRemoved(),b.each(this.instances,function(){k.element===this||l&&!h.call(this.data("jPlayer"),k)||this.jPlayer.apply(this,m)}))},pauseOthers:function(b){this.tellOthers("pause",function(){return this.status.srcSet},b)},stop:function(){this.status.srcSet?this.html.active?this._html_pause(0):this.aurora.active?this._aurora_pause(0):this.flash.active&&this._flash_pause(0):this._urlNotSetError("stop")},playHead:function(b){b=this._limitValue(b,
0,100);this.status.srcSet?this.html.active?this._html_playHead(b):this.aurora.active?this._aurora_playHead(b):this.flash.active&&this._flash_playHead(b):this._urlNotSetError("playHead")},_muted:function(b){this.mutedWorker(b);this.options.globalVolume&&this.tellOthers("mutedWorker",function(){return this.options.globalVolume},b)},mutedWorker:function(c){this.options.muted=c;this.html.used&&this._html_setProperty("muted",c);this.aurora.used&&this._aurora_mute(c);this.flash.used&&this._flash_mute(c);
this.html.video.gate||this.html.audio.gate||(this._updateMute(c),this._updateVolume(this.options.volume),this._trigger(b.jPlayer.event.volumechange))},mute:function(b){"object"==typeof b&&this.options.useStateClassSkin&&this.options.muted?this._muted(!1):(b=b===h?!0:!!b,this._muted(b))},unmute:function(b){b=b===h?!0:!!b;this._muted(!b)},_updateMute:function(b){b===h&&(b=this.options.muted);b?this.addStateClass("muted"):this.removeStateClass("muted");this.css.jq.mute.length&&this.css.jq.unmute.length&&
(this.status.noVolume?(this.css.jq.mute.hide(),this.css.jq.unmute.hide()):b?(this.css.jq.mute.hide(),this.css.jq.unmute.show()):(this.css.jq.mute.show(),this.css.jq.unmute.hide()))},volume:function(b){this.volumeWorker(b);this.options.globalVolume&&this.tellOthers("volumeWorker",function(){return this.options.globalVolume},b)},volumeWorker:function(c){c=this._limitValue(c,0,1);this.options.volume=c;this.html.used&&this._html_setProperty("volume",c);this.aurora.used&&this._aurora_volume(c);this.flash.used&&
this._flash_volume(c);this.html.video.gate||this.html.audio.gate||(this._updateVolume(c),this._trigger(b.jPlayer.event.volumechange))},volumeBar:function(c){if(this.css.jq.volumeBar.length){var h=b(c.currentTarget),k=h.offset(),l=c.pageX-k.left,m=h.width();c=h.height()-c.pageY+k.top;h=h.height();this.volume(this.options.verticalVolume?c/h:l/m)}this.options.muted&&this._muted(!1)},_updateVolume:function(b){b===h&&(b=this.options.volume);b=this.options.muted?0:b;this.status.noVolume?(this.addStateClass("noVolume"),
this.css.jq.volumeBar.length&&this.css.jq.volumeBar.hide(),this.css.jq.volumeBarValue.length&&this.css.jq.volumeBarValue.hide(),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.hide()):(this.removeStateClass("noVolume"),this.css.jq.volumeBar.length&&this.css.jq.volumeBar.show(),this.css.jq.volumeBarValue.length&&(this.css.jq.volumeBarValue.show(),this.css.jq.volumeBarValue[this.options.verticalVolume?"height":"width"](100*b+"%")),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.show())},volumeMax:function(){this.volume(1);
this.options.muted&&this._muted(!1)},_cssSelectorAncestor:function(c){var h=this;this.options.cssSelectorAncestor=c;this._removeUiClass();this.ancestorJq=c?b(c):[];c&&1!==this.ancestorJq.length&&this._warning({type:b.jPlayer.warning.CSS_SELECTOR_COUNT,context:c,message:b.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.ancestorJq.length+" found for cssSelectorAncestor.",hint:b.jPlayer.warningHint.CSS_SELECTOR_COUNT});this._addUiClass();b.each(this.options.cssSelector,function(b,c){h._cssSelector(b,c)});
this._updateInterface();this._updateButtons();this._updateAutohide();this._updateVolume();this._updateMute()},_cssSelector:function(c,h){var k=this;"string"==typeof h?b.jPlayer.prototype.options.cssSelector[c]?((this.css.jq[c]&&this.css.jq[c].length&&this.css.jq[c].unbind(".jPlayer"),this.options.cssSelector[c]=h,this.css.cs[c]=this.options.cssSelectorAncestor+" "+h,this.css.jq[c]=h?b(this.css.cs[c]):[],this.css.jq[c].length&&this[c])&&this.css.jq[c].bind("click.jPlayer",function(h){h.preventDefault();
k[c](h);k.options.autoBlur?b(this).blur():b(this).focus()}),h&&1!==this.css.jq[c].length&&this._warning({type:b.jPlayer.warning.CSS_SELECTOR_COUNT,context:this.css.cs[c],message:b.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.css.jq[c].length+" found for "+c+" method.",hint:b.jPlayer.warningHint.CSS_SELECTOR_COUNT})):this._warning({type:b.jPlayer.warning.CSS_SELECTOR_METHOD,context:c,message:b.jPlayer.warningMsg.CSS_SELECTOR_METHOD,hint:b.jPlayer.warningHint.CSS_SELECTOR_METHOD}):this._warning({type:b.jPlayer.warning.CSS_SELECTOR_STRING,
context:h,message:b.jPlayer.warningMsg.CSS_SELECTOR_STRING,hint:b.jPlayer.warningHint.CSS_SELECTOR_STRING})},duration:function(b){this.options.toggleDuration&&(this.options.captureDuration&&b.stopPropagation(),this._setOption("remainingDuration",!this.options.remainingDuration))},scale:function(){var b=$("body").css("transform");return-1!==b.indexOf("matrix")?1/b.split("(")[1].split(")")[0].split(",")[0]:1},seekBar:function(c){if(this.css.jq.seekBar.length){var h=this.scale(),k=b(c.currentTarget),
l=k.offset();c=c.pageX-l.left;k=k.width();this.playHead(100*c*h/k)}},playbackRate:function(b){this._setOption("playbackRate",b)},playbackRateBar:function(c){if(this.css.jq.playbackRateBar.length){var h=b(c.currentTarget),k=h.offset(),l=c.pageX-k.left,m=h.width();c=h.height()-c.pageY+k.top;h=h.height();this.playbackRate((this.options.verticalPlaybackRate?c/h:l/m)*(this.options.maxPlaybackRate-this.options.minPlaybackRate)+this.options.minPlaybackRate)}},_updatePlaybackRate:function(){var b=(this.options.playbackRate-
this.options.minPlaybackRate)/(this.options.maxPlaybackRate-this.options.minPlaybackRate);this.status.playbackRateEnabled?(this.css.jq.playbackRateBar.length&&this.css.jq.playbackRateBar.show(),this.css.jq.playbackRateBarValue.length&&(this.css.jq.playbackRateBarValue.show(),this.css.jq.playbackRateBarValue[this.options.verticalPlaybackRate?"height":"width"](100*b+"%"))):(this.css.jq.playbackRateBar.length&&this.css.jq.playbackRateBar.hide(),this.css.jq.playbackRateBarValue.length&&this.css.jq.playbackRateBarValue.hide())},
repeat:function(b){this._loop("object"==typeof b&&this.options.useStateClassSkin&&this.options.loop?!1:!0)},repeatOff:function(){this._loop(!1)},_loop:function(c){this.options.loop!==c&&(this.options.loop=c,this._updateButtons(),this._trigger(b.jPlayer.event.repeat))},option:function(c,l){var k=c;if(0===arguments.length)return b.extend(!0,{},this.options);if("string"==typeof c){var m=c.split(".");if(l===h){for(var k=b.extend(!0,{},this.options),p=0;p<m.length;p++){if(k[m[p]]===h)return this._warning({type:b.jPlayer.warning.OPTION_KEY,
context:c,message:b.jPlayer.warningMsg.OPTION_KEY,hint:b.jPlayer.warningHint.OPTION_KEY}),h;k=k[m[p]]}return k}for(var p=k={},y=0;y<m.length;y++)y<m.length-1?(p[m[y]]={},p=p[m[y]]):p[m[y]]=l}return this._setOptions(k),this},_setOptions:function(c){var h=this;return b.each(c,function(b,c){h._setOption(b,c)}),this},_setOption:function(c,h){var k=this;switch(c){case "volume":this.volume(h);break;case "muted":this._muted(h);break;case "globalVolume":this.options[c]=h;break;case "cssSelectorAncestor":this._cssSelectorAncestor(h);
break;case "cssSelector":b.each(h,function(b,c){k._cssSelector(b,c)});break;case "playbackRate":this.options[c]=h=this._limitValue(h,this.options.minPlaybackRate,this.options.maxPlaybackRate);this.html.used&&this._html_setProperty("playbackRate",h);this._updatePlaybackRate();break;case "defaultPlaybackRate":this.options[c]=h=this._limitValue(h,this.options.minPlaybackRate,this.options.maxPlaybackRate);this.html.used&&this._html_setProperty("defaultPlaybackRate",h);this._updatePlaybackRate();break;
case "minPlaybackRate":this.options[c]=h=this._limitValue(h,.1,this.options.maxPlaybackRate-.1);this._updatePlaybackRate();break;case "maxPlaybackRate":this.options[c]=h=this._limitValue(h,this.options.minPlaybackRate+.1,16);this._updatePlaybackRate();break;case "fullScreen":if(this.options[c]!==h){var l=b.jPlayer.nativeFeatures.fullscreen.used.webkitVideo;(!l||l&&!this.status.waitForPlay)&&(l||(this.options[c]=h),h?this._requestFullscreen():this._exitFullscreen(),l||this._setOption("fullWindow",
h))}break;case "fullWindow":this.options[c]!==h&&(this._removeUiClass(),this.options[c]=h,this._refreshSize());break;case "size":this.options.fullWindow||this.options[c].cssClass===h.cssClass||this._removeUiClass();this.options[c]=b.extend({},this.options[c],h);this._refreshSize();break;case "sizeFull":this.options.fullWindow&&this.options[c].cssClass!==h.cssClass&&this._removeUiClass();this.options[c]=b.extend({},this.options[c],h);this._refreshSize();break;case "autohide":this.options[c]=b.extend({},
this.options[c],h);this._updateAutohide();break;case "loop":this._loop(h);break;case "remainingDuration":this.options[c]=h;this._updateInterface();break;case "toggleDuration":this.options[c]=h;break;case "nativeVideoControls":this.options[c]=b.extend({},this.options[c],h);this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls);this._restrictNativeVideoControls();this._updateNativeVideoControls();break;case "noFullWindow":this.options[c]=b.extend({},this.options[c],h);this.status.nativeVideoControls=
this._uaBlocklist(this.options.nativeVideoControls);this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow);this._restrictNativeVideoControls();this._updateButtons();break;case "noVolume":this.options[c]=b.extend({},this.options[c],h);this.status.noVolume=this._uaBlocklist(this.options.noVolume);this._updateVolume();this._updateMute();break;case "emulateHtml":this.options[c]!==h&&(this.options[c]=h,h?this._emulateHtmlBridge():this._destroyHtmlBridge());break;case "timeFormat":this.options[c]=
b.extend({},this.options[c],h);break;case "keyEnabled":(this.options[c]=h)||this!==b.jPlayer.focus||(b.jPlayer.focus=null);break;case "keyBindings":this.options[c]=b.extend(!0,{},this.options[c],h);break;case "audioFullScreen":this.options[c]=h;break;case "autoBlur":this.options[c]=h}return this},_refreshSize:function(){this._setSize();this._addUiClass();this._updateSize();this._updateButtons();this._updateAutohide();this._trigger(b.jPlayer.event.resize)},_setSize:function(){this.options.fullWindow?
(this.status.width=this.options.sizeFull.width,this.status.height=this.options.sizeFull.height,this.status.cssClass=this.options.sizeFull.cssClass):(this.status.width=this.options.size.width,this.status.height=this.options.size.height,this.status.cssClass=this.options.size.cssClass);this.element.css({width:this.status.width,height:this.status.height})},_addUiClass:function(){this.ancestorJq.length&&this.ancestorJq.addClass(this.status.cssClass)},_removeUiClass:function(){this.ancestorJq.length&&this.ancestorJq.removeClass(this.status.cssClass)},
_updateSize:function(){this.internal.poster.jq.css({width:this.status.width,height:this.status.height});!this.status.waitForPlay&&this.html.active&&this.status.video||this.html.video.available&&this.html.used&&this.status.nativeVideoControls?this.internal.video.jq.css({width:this.status.width,height:this.status.height}):!this.status.waitForPlay&&this.flash.active&&this.status.video&&this.internal.flash.jq.css({width:this.status.width,height:this.status.height})},_updateAutohide:function(){var b=this,
c=function(k){var c,h,l=!1;"undefined"!=typeof b.internal.mouse?(c=b.internal.mouse.x-k.pageX,h=b.internal.mouse.y-k.pageY,l=0<Math.floor(c)||0<Math.floor(h)):l=!0;b.internal.mouse={x:k.pageX,y:k.pageY};l&&b.css.jq.gui.fadeIn(b.options.autohide.fadeIn,function(){clearTimeout(b.internal.autohideId);b.internal.autohideId=setTimeout(function(){b.css.jq.gui.fadeOut(b.options.autohide.fadeOut)},b.options.autohide.hold)})};this.css.jq.gui.length&&(this.css.jq.gui.stop(!0,!0),clearTimeout(this.internal.autohideId),
delete this.internal.mouse,this.element.unbind(".jPlayerAutohide"),this.css.jq.gui.unbind(".jPlayerAutohide"),this.status.nativeVideoControls?this.css.jq.gui.hide():this.options.fullWindow&&this.options.autohide.full||!this.options.fullWindow&&this.options.autohide.restored?(this.element.bind("mousemove.jPlayer.jPlayerAutohide",c),this.css.jq.gui.bind("mousemove.jPlayer.jPlayerAutohide",c),this.css.jq.gui.hide()):this.css.jq.gui.show())},fullScreen:function(b){"object"==typeof b&&this.options.useStateClassSkin&&
this.options.fullScreen?this._setOption("fullScreen",!1):this._setOption("fullScreen",!0)},restoreScreen:function(){this._setOption("fullScreen",!1)},_fullscreenAddEventListeners:function(){var c=this,h=b.jPlayer.nativeFeatures.fullscreen;h.api.fullscreenEnabled&&h.event.fullscreenchange&&("function"!=typeof this.internal.fullscreenchangeHandler&&(this.internal.fullscreenchangeHandler=function(){c._fullscreenchange()}),document.addEventListener(h.event.fullscreenchange,this.internal.fullscreenchangeHandler,
!1))},_fullscreenRemoveEventListeners:function(){var c=b.jPlayer.nativeFeatures.fullscreen;this.internal.fullscreenchangeHandler&&document.removeEventListener(c.event.fullscreenchange,this.internal.fullscreenchangeHandler,!1)},_fullscreenchange:function(){this.options.fullScreen&&!b.jPlayer.nativeFeatures.fullscreen.api.fullscreenElement()&&this._setOption("fullScreen",!1)},_requestFullscreen:function(){var c=this.ancestorJq.length?this.ancestorJq[0]:this.element[0],h=b.jPlayer.nativeFeatures.fullscreen;
h.used.webkitVideo&&(c=this.htmlElement.video);h.api.fullscreenEnabled&&h.api.requestFullscreen(c)},_exitFullscreen:function(){var c,h=b.jPlayer.nativeFeatures.fullscreen;h.used.webkitVideo&&(c=this.htmlElement.video);h.api.fullscreenEnabled&&h.api.exitFullscreen(c)},_html_initMedia:function(c){var h=b(this.htmlElement.media).empty();b.each(c.track||[],function(b,c){b=document.createElement("track");b.setAttribute("kind",c.kind?c.kind:"");b.setAttribute("src",c.src?c.src:"");b.setAttribute("srclang",
c.srclang?c.srclang:"");b.setAttribute("label",c.label?c.label:"");c.def&&b.setAttribute("default",c.def);h.append(b)});this.htmlElement.media.src=this.status.src;"none"!==this.options.preload&&this._html_load();this._trigger(b.jPlayer.event.timeupdate)},_html_setFormat:function(c){var h=this;b.each(this.formats,function(b,l){return h.html.support[l]&&c[l]?(h.status.src=c[l],h.status.format[l]=!0,h.status.formatType=l,!1):void 0})},_html_setAudio:function(b){this._html_setFormat(b);this.htmlElement.media=
this.htmlElement.audio;this._html_initMedia(b)},_html_setVideo:function(b){this._html_setFormat(b);this.status.nativeVideoControls&&(this.htmlElement.video.poster=this._validString(b.poster)?b.poster:"");this.htmlElement.media=this.htmlElement.video;this._html_initMedia(b)},_html_resetMedia:function(){this.htmlElement.media&&(this.htmlElement.media.id!==this.internal.video.id||this.status.nativeVideoControls||this.internal.video.jq.css({width:"0px",height:"0px"}),this.htmlElement.media.pause())},
_html_clearMedia:function(){this.htmlElement.media&&(this.htmlElement.media.src="about:blank",this.htmlElement.media.load())},_html_load:function(){this.status.waitForLoad&&(this.status.waitForLoad=!1,this.htmlElement.media.load());clearTimeout(this.internal.htmlDlyCmdId)},_html_play:function(b){var c=this,k=this.htmlElement.media;if(this.androidFix.pause=!1,this._html_load(),this.androidFix.setMedia)this.androidFix.play=!0,this.androidFix.time=b;else if(isNaN(b))k.play();else{this.internal.cmdsIgnored&&
k.play();try{if(k.seekable&&!("object"==typeof k.seekable&&0<k.seekable.length))throw 1;k.currentTime=b;k.play()}catch(h){return void(this.internal.htmlDlyCmdId=setTimeout(function(){c.play(b)},250))}}this._html_checkWaitForPlay()},_html_pause:function(b){var c=this,k=this.htmlElement.media;if(this.androidFix.play=!1,0<b?this._html_load():clearTimeout(this.internal.htmlDlyCmdId),k.pause(),this.androidFix.setMedia)this.androidFix.pause=!0,this.androidFix.time=b;else if(!isNaN(b))try{if(k.seekable&&
!("object"==typeof k.seekable&&0<k.seekable.length))throw 1;k.currentTime=b}catch(h){return void(this.internal.htmlDlyCmdId=setTimeout(function(){c.pause(b)},250))}0<b&&this._html_checkWaitForPlay()},_html_playHead:function(b){var c=this,k=this.htmlElement.media;this._html_load();try{if("object"==typeof k.seekable&&0<k.seekable.length)k.currentTime=b*k.seekable.end(k.seekable.length-1)/100;else{if(!(0<k.duration)||isNaN(k.duration))throw"e";k.currentTime=b*k.duration/100}}catch(h){return void(this.internal.htmlDlyCmdId=
setTimeout(function(){c.playHead(b)},250))}this.status.waitForLoad||this._html_checkWaitForPlay()},_html_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})))},_html_setProperty:function(b,c){this.html.audio.available&&(this.htmlElement.audio[b]=c);this.html.video.available&&(this.htmlElement.video[b]=
c)},_aurora_setAudio:function(c){var h=this;b.each(this.formats,function(b,l){return h.aurora.support[l]&&c[l]?(h.status.src=c[l],h.status.format[l]=!0,h.status.formatType=l,!1):void 0});this.aurora.player=new AV.Player.fromURL(this.status.src);this._addAuroraEventListeners(this.aurora.player,this.aurora);"auto"===this.options.preload&&(this._aurora_load(),this.status.waitForLoad=!1)},_aurora_resetMedia:function(){this.aurora.player&&this.aurora.player.stop()},_aurora_clearMedia:function(){},_aurora_load:function(){this.status.waitForLoad&&
(this.status.waitForLoad=!1,this.aurora.player.preload())},_aurora_play:function(c){this.status.waitForLoad||isNaN(c)||this.aurora.player.seek(c);this.aurora.player.playing||this.aurora.player.play();this.status.waitForLoad=!1;this._aurora_checkWaitForPlay();this._updateButtons(!0);this._trigger(b.jPlayer.event.play)},_aurora_pause:function(c){isNaN(c)||this.aurora.player.seek(1E3*c);this.aurora.player.pause();0<c&&this._aurora_checkWaitForPlay();this._updateButtons(!1);this._trigger(b.jPlayer.event.pause)},
_aurora_playHead:function(b){0<this.aurora.player.duration&&this.aurora.player.seek(b*this.aurora.player.duration/100);this.status.waitForLoad||this._aurora_checkWaitForPlay()},_aurora_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1)},_aurora_volume:function(b){this.aurora.player.volume=100*b},_aurora_mute:function(b){b?(this.aurora.properties.lastvolume=this.aurora.player.volume,this.aurora.player.volume=0):this.aurora.player.volume=this.aurora.properties.lastvolume;
this.aurora.properties.muted=b},_flash_setAudio:function(c){var h=this;try{b.each(this.formats,function(b,l){if(h.flash.support[l]&&c[l]){switch(l){case "m4a":case "fla":h._getMovie().fl_setAudio_m4a(c[l]);break;case "mp3":h._getMovie().fl_setAudio_mp3(c[l]);break;case "rtmpa":h._getMovie().fl_setAudio_rtmp(c[l])}return h.status.src=c[l],h.status.format[l]=!0,h.status.formatType=l,!1}}),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(k){this._flashError(k)}},_flash_setVideo:function(c){var h=
this;try{b.each(this.formats,function(b,l){if(h.flash.support[l]&&c[l]){switch(l){case "m4v":case "flv":h._getMovie().fl_setVideo_m4v(c[l]);break;case "rtmpv":h._getMovie().fl_setVideo_rtmp(c[l])}return h.status.src=c[l],h.status.format[l]=!0,h.status.formatType=l,!1}}),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(k){this._flashError(k)}},_flash_resetMedia:function(){this.internal.flash.jq.css({width:"0px",height:"0px"});this._flash_pause(0/0)},_flash_clearMedia:function(){try{this._getMovie().fl_clearMedia()}catch(b){this._flashError(b)}},
_flash_load:function(){try{this._getMovie().fl_load()}catch(b){this._flashError(b)}this.status.waitForLoad=!1},_flash_play:function(b){try{this._getMovie().fl_play(b)}catch(c){this._flashError(c)}this.status.waitForLoad=!1;this._flash_checkWaitForPlay()},_flash_pause:function(b){try{this._getMovie().fl_pause(b)}catch(c){this._flashError(c)}0<b&&(this.status.waitForLoad=!1,this._flash_checkWaitForPlay())},_flash_playHead:function(b){try{this._getMovie().fl_play_head(b)}catch(c){this._flashError(c)}this.status.waitForLoad||
this._flash_checkWaitForPlay()},_flash_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.flash.jq.css({width:this.status.width,height:this.status.height})))},_flash_volume:function(b){try{this._getMovie().fl_volume(b)}catch(c){this._flashError(c)}},_flash_mute:function(b){try{this._getMovie().fl_mute(b)}catch(c){this._flashError(c)}},_getMovie:function(){return document[this.internal.flash.id]},
_getFlashPluginVersion:function(){var b,c=0;if(window.ActiveXObject)try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");var k=b.GetVariable("$version");k&&(k=k.split(" ")[1].split(","),c=parseInt(k[0],10)+"."+parseInt(k[1],10))}catch(h){}else navigator.plugins&&0<navigator.mimeTypes.length&&(b=navigator.plugins["Shockwave Flash"],b&&(c=navigator.plugins["Shockwave Flash"].description.replace(/.*\s(\d+\.\d+).*/,"$1")));return 1*c},_checkForFlash:function(b){var c=!1;return this._getFlashPluginVersion()>=
b&&(c=!0),c},_validString:function(b){return b&&"string"==typeof b},_limitValue:function(b,c,k){return c>b?c:b>k?k:b},_urlNotSetError:function(c){this._error({type:b.jPlayer.error.URL_NOT_SET,context:c,message:b.jPlayer.errorMsg.URL_NOT_SET,hint:b.jPlayer.errorHint.URL_NOT_SET})},_flashError:function(c){var h;h=this.internal.ready?"FLASH_DISABLED":"FLASH";this._error({type:b.jPlayer.error[h],context:this.internal.flash.swf,message:b.jPlayer.errorMsg[h]+c.message,hint:b.jPlayer.errorHint[h]});this.internal.flash.jq.css({width:"1px",
height:"1px"})},_error:function(c){this._trigger(b.jPlayer.event.error,c);this.options.errorAlerts&&this._alert("Error!"+(c.message?"\n"+c.message:"")+(c.hint?"\n"+c.hint:"")+"\nContext: "+c.context)},_warning:function(c){this._trigger(b.jPlayer.event.warning,h,c);this.options.warningAlerts&&this._alert("Warning!"+(c.message?"\n"+c.message:"")+(c.hint?"\n"+c.hint:"")+"\nContext: "+c.context)},_alert:function(b){b="jPlayer "+this.version.script+" : id\x3d'"+this.internal.self.id+"' : "+b;this.options.consoleAlerts||
alert(b)},_emulateHtmlBridge:function(){var c=this;b.each(b.jPlayer.emulateMethods.split(/\s+/g),function(b,k){c.internal.domNode[k]=function(b){c[k](b)}});b.each(b.jPlayer.event,function(h,k){var l=!0;b.each(b.jPlayer.reservedEvent.split(/\s+/g),function(b,k){return k===h?(l=!1,!1):void 0});l&&c.element.bind(k+".jPlayer.jPlayerHtml",function(){c._emulateHtmlUpdate();var b=document.createEvent("Event");b.initEvent(h,!1,!0);c.internal.domNode.dispatchEvent(b)})})},_emulateHtmlUpdate:function(){var c=
this;b.each(b.jPlayer.emulateStatus.split(/\s+/g),function(b,k){c.internal.domNode[k]=c.status[k]});b.each(b.jPlayer.emulateOptions.split(/\s+/g),function(b,k){c.internal.domNode[k]=c.options[k]})},_destroyHtmlBridge:function(){var c=this;this.element.unbind(".jPlayerHtml");b.each((b.jPlayer.emulateMethods+" "+b.jPlayer.emulateStatus+" "+b.jPlayer.emulateOptions).split(/\s+/g),function(b,k){delete c.internal.domNode[k]})}};b.jPlayer.error={FLASH:"e_flash",FLASH_DISABLED:"e_flash_disabled",NO_SOLUTION:"e_no_solution",
NO_SUPPORT:"e_no_support",URL:"e_url",URL_NOT_SET:"e_url_not_set",VERSION:"e_version"};b.jPlayer.errorMsg={FLASH:"jPlayer's Flash fallback is not configured correctly, or a command was issued before the jPlayer Ready event. Details: ",FLASH_DISABLED:"jPlayer's Flash fallback has been disabled by the browser due to the CSS rules you have used. Details: ",NO_SOLUTION:"No solution can be found by jPlayer in this browser. Neither HTML nor Flash can be used.",NO_SUPPORT:"It is not possible to play any media format provided in setMedia() on this browser using your current options.",
URL:"Media URL could not be loaded.",URL_NOT_SET:"Attempt to issue media playback commands, while no media url is set.",VERSION:"jPlayer "+b.jPlayer.prototype.version.script+" needs Jplayer.swf version "+b.jPlayer.prototype.version.needFlash+" but found "};b.jPlayer.errorHint={FLASH:"Check your swfPath option and that Jplayer.swf is there.",FLASH_DISABLED:"Check that you have not display:none; the jPlayer entity or any ancestor.",NO_SOLUTION:"Review the jPlayer options: support and supplied.",NO_SUPPORT:"Video or audio formats defined in the supplied option are missing.",
URL:"Check media URL is valid.",URL_NOT_SET:"Use setMedia() to set the media URL.",VERSION:"Update jPlayer files."};b.jPlayer.warning={CSS_SELECTOR_COUNT:"e_css_selector_count",CSS_SELECTOR_METHOD:"e_css_selector_method",CSS_SELECTOR_STRING:"e_css_selector_string",OPTION_KEY:"e_option_key"};b.jPlayer.warningMsg={CSS_SELECTOR_COUNT:"The number of css selectors found did not equal one: ",CSS_SELECTOR_METHOD:"The methodName given in jPlayer('cssSelector') is not a valid jPlayer method.",CSS_SELECTOR_STRING:"The methodCssSelector given in jPlayer('cssSelector') is not a String or is empty.",
OPTION_KEY:"The option requested in jPlayer('option') is undefined."};b.jPlayer.warningHint={CSS_SELECTOR_COUNT:"Check your css selector and the ancestor.",CSS_SELECTOR_METHOD:"Check your method name.",CSS_SELECTOR_STRING:"Check your css selector is a string.",OPTION_KEY:"Check your option name."}});
(function(b,h){function c(b){C.put.call(this,b)}function l(b){this.parent=b;this.byStart=[{start:-1,end:-1}];this.byEnd=[{start:-1,end:-1}];this.animating=[];this.endIndex=this.startIndex=0;this.previousUpdateTime=-1;this.count=1}function m(b,k){return function(){if(x.plugin.debug)return b.apply(this,arguments);try{return b.apply(this,arguments)}catch(c){x.plugin.errors.push({plugin:k,thrown:c,source:b.toString()}),this.emit("pluginerror",x.plugin.errors)}}}if(h.addEventListener){var p=Array.prototype,
n=Object.prototype,u=p.forEach,k=p.slice,q=n.hasOwnProperty,v=n.toString,y=b.Popcorn,z=[],A=!1,r={hash:{},apis:{}},B=function(){return b.requestAnimationFrame||b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame||b.oRequestAnimationFrame||b.msRequestAnimationFrame||function(k,c){b.setTimeout(k,16)}}(),C={put:function(b){for(var k in b)b.hasOwnProperty(k)&&(this[k]=b[k])}},x=function(b,k){return new x.p.init(b,k||null)};x.version="@VERSION";x.isSupported=!0;x.instances=[];x.p=x.prototype={init:function(b,
k){var c,m=this;if("function"===typeof b)if("complete"===h.readyState)b(h,x);else{if(z.push(b),!A){A=!0;var r=function(){h.removeEventListener("DOMContentLoaded",r,!1);for(var b=0,k=z.length;b<k;b++)z[b].call(h,x);z=null};h.addEventListener("DOMContentLoaded",r,!1)}}else{if("string"===typeof b)try{c=h.querySelector(b)}catch(n){throw Error("Popcorn.js Error: Invalid media element selector: "+b);}this.media=c||b;c=this.media.nodeName&&this.media.nodeName.toLowerCase()||"video";this[c]=this.media;this.options=
x.extend({},k)||{};this.id=this.options.id||x.guid(c);if(x.byId(this.id))throw Error("Popcorn.js Error: Cannot use duplicate ID ("+this.id+")");this.isDestroyed=!1;this.data={running:{cue:[]},timeUpdate:x.nop,disabled:{},events:{},hooks:{},history:[],state:{volume:this.media.volume},trackRefs:{},trackEvents:new l(this)};x.instances.push(this);var q=function(){0>m.media.currentTime&&(m.media.currentTime=0);m.media.removeEventListener("loadedmetadata",q,!1);var b,k,c,h,l;b=m.media.duration;b=b!=b?Number.MAX_VALUE:
b+1;x.addTrackEvent(m,{start:b,end:b});m.isDestroyed||(m.data.durationChange=function(){var b=m.media.duration,k=b+1,c=m.data.trackEvents.byStart,h=m.data.trackEvents.byEnd;c.pop();h.pop();for(var l=h.length-1;0<l;l--)h[l].end>b&&m.removeTrackEvent(h[l]._id);for(h=0;h<c.length;h++)c[h].end>b&&m.removeTrackEvent(c[h]._id);m.data.trackEvents.byEnd.push({start:k,end:k});m.data.trackEvents.byStart.push({start:k,end:k})},m.media.addEventListener("durationchange",m.data.durationChange,!1));m.options.frameAnimation?
(m.data.timeUpdate=function(){x.timeUpdate(m,{});x.forEach(x.manifest,function(b,r){if(k=m.data.running[r])for(h=k.length,b=0;b<h;b++)c=k[b],(l=c._natives)&&l.frame&&l.frame.call(m,{},c,m.currentTime())});m.emit("timeupdate");!m.isDestroyed&&B(m.data.timeUpdate)},!m.isDestroyed&&B(m.data.timeUpdate)):(m.data.timeUpdate=function(b){x.timeUpdate(m,b)},m.isDestroyed||m.media.addEventListener("timeupdate",m.data.timeUpdate,!1))};m.media.addEventListener("error",function(){m.error=m.media.error},!1);1<=
m.media.readyState?q():m.media.addEventListener("loadedmetadata",q,!1);return this}}};x.p.init.prototype=x.p;x.byId=function(b){for(var k=x.instances,c=k.length,h=0;h<c;h++)if(k[h].id===b)return k[h];return null};x.forEach=function(b,k,c){if(!b||!k)return{};c=c||this;var h,l;if(u&&b.forEach===u)return b.forEach(k,c);if("[object NodeList]"===v.call(b)){h=0;for(l=b.length;h<l;h++)k.call(c,b[h],h,b);return b}for(h in b)q.call(b,h)&&k.call(c,b[h],h,b);return b};x.extend=function(b){var c=b,h=k.call(arguments,
1);x.forEach(h,function(b){for(var k in b)c[k]=b[k]});return c};x.extend(x,{noConflict:function(k){k&&(b.Popcorn=y);return x},error:function(b){throw Error(b);},guid:function(b){x.guid.counter++;return(b?b:"")+(+new Date+x.guid.counter)},sizeOf:function(b){var k=0,c;for(c in b)k++;return k},isArray:Array.isArray||function(b){return"[object Array]"===v.call(b)},nop:function(){},position:function(k){if(!k.parentNode)return null;k=k.getBoundingClientRect();var c={},l=h.documentElement,m=h.body,r,n,q;
r=l.clientTop||m.clientTop||0;n=l.clientLeft||m.clientLeft||0;q=b.pageYOffset&&l.scrollTop||m.scrollTop;l=b.pageXOffset&&l.scrollLeft||m.scrollLeft;r=Math.ceil(k.top+q-r);n=Math.ceil(k.left+l-n);for(var p in k)c[p]=Math.round(k[p]);return x.extend({},c,{top:r,left:n})},disable:function(b,k){if(!b.data.disabled[k]){b.data.disabled[k]=!0;if(k in x.registryByName&&b.data.running[k])for(var c=b.data.running[k].length-1,h;0<=c;c--)h=b.data.running[k][c],h._natives.end.call(b,null,h),b.emit("trackend",
x.extend({},h,{plugin:h.type,type:"trackend"}));return b}},enable:function(b,k){if(b.data.disabled[k]){b.data.disabled[k]=!1;if(k in x.registryByName&&b.data.running[k])for(var c=b.data.running[k].length-1,h;0<=c;c--)h=b.data.running[k][c],h._natives.start.call(b,null,h),b.emit("trackstart",x.extend({},h,{plugin:h.type,type:"trackstart",track:h}));return b}},destroy:function(b){var k=b.data.events,c=b.data.trackEvents,h,l,m,r;for(l in k){h=k[l];for(m in h)delete h[m];k[l]=null}for(r in x.registryByName)x.removePlugin(b,
r);c.byStart.length=0;c.byEnd.length=0;b.isDestroyed||(b.data.timeUpdate&&b.media.removeEventListener("timeupdate",b.data.timeUpdate,!1),b.isDestroyed=!0);x.instances.splice(x.instances.indexOf(b),1)}});x.guid.counter=1;x.extend(x.p,function(){var b={};x.forEach("load play pause currentTime playbackRate volume duration preload playbackRate autoplay loop controls muted buffered readyState seeking paused played seekable ended".split(/\s+/g),function(k){b[k]=function(b){var c;return"function"===typeof this.media[k]?
(null!=b&&/play|pause/.test(k)&&(this.media.currentTime=x.util.toSeconds(b)),this.media[k](),this):null!=b?(c=this.media[k],this.media[k]=b,c!==b&&this.emit("attrchange",{attribute:k,previousValue:c,currentValue:b}),this):this.media[k]}});return b}());x.forEach(["enable","disable"],function(b){x.p[b]=function(k){return x[b](this,k)}});x.extend(x.p,{roundTime:function(){return Math.round(this.media.currentTime)},exec:function(b,k,h){var l=arguments.length,m="trackadded",r,n;try{n=x.util.toSeconds(b)}catch(q){}"number"===
typeof n&&(b=n);if("number"===typeof b&&2===l)h=k,k=b,b=x.guid("cue");else if(1===l)k=-1;else if(r=this.getTrackEvent(b))this.data.trackEvents.remove(b),c.end(this,r),x.removeTrackEvent.ref(this,b),m="cuechange","string"===typeof b&&2===l&&("number"===typeof k&&(h=r._natives.start),"function"===typeof k&&(h=k,k=r.start));else if(2<=l){if("string"===typeof k){try{n=x.util.toSeconds(k)}catch(q){}k=n}"number"===typeof k&&(h=h||x.nop());"function"===typeof k&&(h=k,k=-1)}l={id:b,start:k,end:k+1,_running:!1,
_natives:{start:h||x.nop,end:x.nop,type:"cue"}};r&&(l=x.extend(r,l));"cuechange"===m?(l._id=l.id||l._id||x.guid(l._natives.type),this.data.trackEvents.add(l),c.start(this,l),this.timeUpdate(this,null,!0),x.addTrackEvent.ref(this,l),this.emit(m,x.extend({},l,{id:b,type:m,previousValue:{time:r.start,fn:r._natives.start},currentValue:{time:k,fn:h||x.nop},track:r}))):x.addTrackEvent(this,l);return this},mute:function(b){b=null==b||!0===b?"muted":"unmuted";"unmuted"===b&&(this.media.muted=!1,this.media.volume=
this.data.state.volume);"muted"===b&&(this.data.state.volume=this.media.volume,this.media.muted=!0);this.emit(b);return this},unmute:function(b){return this.mute(null==b?!1:!b)},position:function(){return x.position(this.media)},toggle:function(b){return x[this.data.disabled[b]?"enable":"disable"](this,b)},defaults:function(b,k){if(x.isArray(b))return x.forEach(b,function(b){for(var k in b)this.defaults(k,b[k])},this),this;this.options.defaults||(this.options.defaults={});this.options.defaults[b]||
(this.options.defaults[b]={});x.extend(this.options.defaults[b],k);return this}});x.Events={UIEvents:"blur focus focusin focusout load resize scroll unload",MouseEvents:"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave click dblclick",Events:"loadstart progress suspend emptied stalled play pause error loadedmetadata loadeddata waiting playing canplay canplaythrough seeking seeked timeupdate ended ratechange durationchange volumechange"};x.Events.Natives=x.Events.UIEvents+" "+x.Events.MouseEvents+
" "+x.Events.Events;r.apiTypes=["UIEvents","MouseEvents","Events"];(function(b,k){for(var c=r.apiTypes,h=b.Natives.split(/\s+/g),l=0,m=h.length;l<m;l++)k.hash[h[l]]=!0;c.forEach(function(c,h){k.apis[c]={};h=b[c].split(/\s+/g);for(var l=h.length,m=0;m<l;m++)k.apis[c][h[m]]=!0})})(x.Events,r);x.events={isNative:function(b){return!!r.hash[b]},getInterface:function(b){if(!x.events.isNative(b))return!1;for(var k=r.apiTypes,c=r.apis,h=0,l=k.length,m,n;h<l;h++)if(n=k[h],c[n][b]){m=n;break}return m},all:x.Events.Natives.split(/\s+/g),
fn:{trigger:function(k,c){var l,m=this.data.events[k];if(m){if(l=x.events.getInterface(k))return l=h.createEvent(l),l.initEvent(k,!0,!0,b,1),this.media.dispatchEvent(l),this;for(l=m.slice();l.length;)l.shift().call(this,c)}return this},listen:function(b,k){var c=this,h=!0,l=x.events.hooks[b],m,r;if("function"!==typeof k)throw Error("Popcorn.js Error: Listener is not a function");this.data.events[b]||(this.data.events[b]=[],h=!1);l&&(l.add&&l.add.call(this,{},k),l.bind&&(b=l.bind),l.handler&&(r=k,
k=function(b){l.handler.call(c,b,r)}),h=!0,this.data.events[b]||(this.data.events[b]=[],h=!1));this.data.events[b].push(k);!h&&-1<x.events.all.indexOf(b)&&this.media.addEventListener(b,function(k){if(c.data.events[b])for(m=c.data.events[b].slice();m.length;)m.shift().call(c,k)},!1);return this},unlisten:function(b,k){var c,h=this.data.events[b];if(h){if("string"===typeof k){for(c=0;c<h.length;c++)h[c].name===k&&h.splice(c--,1);return this}if("function"===typeof k){for(;-1!==c;)c=h.indexOf(k),-1!==
c&&h.splice(c,1);return this}this.data.events[b]=null;return this}}},hooks:{canplayall:{bind:"canplaythrough",add:function(b,k){var c=!1;this.media.readyState&&(setTimeout(function(){k.call(this,b)}.bind(this),0),c=!0);this.data.hooks.canplayall={fired:c}},handler:function(b,k){this.data.hooks.canplayall.fired||(k.call(this,b),this.data.hooks.canplayall.fired=!0)}}}};x.forEach([["trigger","emit"],["listen","on"],["unlisten","off"]],function(b){x.p[b[0]]=x.p[b[1]]=x.events.fn[b[0]]});c.start=function(b,
k){k.end>b.media.currentTime&&k.start<=b.media.currentTime&&!k._running&&(k._running=!0,b.data.running[k._natives.type].push(k),b.data.disabled[k._natives.type]||(k._natives.start.call(b,null,k),b.emit("trackstart",x.extend({},k,{plugin:k._natives.type,type:"trackstart",track:k}))))};c.end=function(b,k){var c;(k.end<=b.media.currentTime||k.start>b.media.currentTime)&&k._running&&(c=b.data.running[k._natives.type],k._running=!1,c.splice(c.indexOf(k),1),b.data.disabled[k._natives.type]||(k._natives.end.call(b,
null,k),b.emit("trackend",x.extend({},k,{plugin:k._natives.type,type:"trackend",track:k}))))};l.prototype.where=function(b){return(this.parent.getTrackEvents()||[]).filter(function(k){var c,h;if(!b)return!0;for(c in b){h=b[c];var l;(l=k[c]&&k[c]===h)||(l=k._natives,l=l[c]&&l[c]===h);if(l)return!0}return!1})};l.prototype.add=function(b){var k=this.byStart,c=this.byEnd,h;b&&b._id&&this.parent.data.history.push(b._id);b.start=x.util.toSeconds(b.start,this.parent.options.framerate);b.end=x.util.toSeconds(b.end,
this.parent.options.framerate);for(h=k.length-1;0<=h;h--)if(b.start>=k[h].start){k.splice(h+1,0,b);break}for(k=c.length-1;0<=k;k--)if(b.end>c[k].end){c.splice(k+1,0,b);break}h<=this.parent.data.trackEvents.startIndex&&b.start<=this.parent.data.trackEvents.previousUpdateTime&&this.parent.data.trackEvents.startIndex++;k<=this.parent.data.trackEvents.endIndex&&b.end<this.parent.data.trackEvents.previousUpdateTime&&this.parent.data.trackEvents.endIndex++;this.count++};l.prototype.remove=function(b,k){b instanceof
c&&(b=b.id);if("object"===typeof b)return this.where(b).forEach(function(b){this.removeTrackEvent(b._id)},this.parent),this;var h,l;l=this.byStart.length;for(var m=0,r=0,n=[],q=[],p=[],v=[];-1<--l;)k=this.byStart[m],h=this.byEnd[m],k._id||(n.push(k),q.push(h)),k._id&&(k._id!==b&&n.push(k),h._id!==b&&q.push(h),k._id===b&&(r=m)),m++;l=this.animating.length;m=0;if(l)for(;-1<--l;)k=this.animating[m],k._id||p.push(k),k._id&&k._id!==b&&p.push(k),m++;r<=this.startIndex&&this.startIndex--;r<=this.endIndex&&
this.endIndex--;this.byStart=n;this.byEnd=q;this.animating=p;this.count--;l=this.parent.data.history.length;for(m=0;m<l;m++)this.parent.data.history[m]!==b&&v.push(this.parent.data.history[m]);this.parent.data.history=v};x.addTrackEvent=function(b,k){var h;k instanceof c||((k=new c(k),k._natives)&&k._natives.type&&b.options.defaults&&b.options.defaults[k._natives.type]&&(h=x.extend({},k),x.extend(k,b.options.defaults[k._natives.type],h)),k._natives&&(k._id=k.id||k._id||x.guid(k._natives.type),k._natives._setup&&
(k._natives._setup.call(b,k),b.emit("tracksetup",x.extend({},k,{plugin:k._natives.type,type:"tracksetup",track:k})))),b.data.trackEvents.add(k),c.start(b,k),this.timeUpdate(b,null,!0),k._id&&x.addTrackEvent.ref(b,k),b.emit("trackadded",x.extend({},k,k._natives?{plugin:k._natives.type}:{},{type:"trackadded",track:k})))};x.addTrackEvent.ref=function(b,k){b.data.trackRefs[k._id]=k;return b};x.removeTrackEvent=function(b,k){var c=b.getTrackEvent(k);c&&(c._natives._teardown&&c._natives._teardown.call(b,
c),b.data.trackEvents.remove(k),x.removeTrackEvent.ref(b,k),c._natives&&b.emit("trackremoved",x.extend({},c,{plugin:c._natives.type,type:"trackremoved",track:c})))};x.removeTrackEvent.ref=function(b,k){delete b.data.trackRefs[k];return b};x.getTrackEvents=function(b){var k=[];b=b.data.trackEvents.byStart;for(var c=b.length,h=0,l;h<c;h++)l=b[h],l._id&&k.push(l);return k};x.getTrackEvents.ref=function(b){return b.data.trackRefs};x.getTrackEvent=function(b,k){return b.data.trackRefs[k]};x.getTrackEvent.ref=
function(b,k){return b.data.trackRefs[k]};x.getLastTrackEventId=function(b){return b.data.history[b.data.history.length-1]};x.timeUpdate=function(b,k){var c=b.media.currentTime,h=b.data.trackEvents.previousUpdateTime,l=b.data.trackEvents,m=l.endIndex,r=l.startIndex,n=l.byStart.length,q=l.byEnd.length,p=x.registryByName,v,z,y;if(h<=c){for(;l.byEnd[m]&&l.byEnd[m].end<=c;)if(v=l.byEnd[m],z=(h=v._natives)&&h.type,!h||p[z]||b[z])!0===v._running&&(v._running=!1,y=b.data.running[z],y.splice(y.indexOf(v),
1),b.data.disabled[z]||(h.end.call(b,k,v),b.emit("trackend",x.extend({},v,{plugin:z,type:"trackend",track:v})))),m++;else{x.removeTrackEvent(b,v._id);return}for(;l.byStart[r]&&l.byStart[r].start<=c;)if(v=l.byStart[r],z=(h=v._natives)&&h.type,!h||p[z]||b[z])v.end>c&&!1===v._running&&(v._running=!0,b.data.running[z].push(v),b.data.disabled[z]||(h.start.call(b,k,v),b.emit("trackstart",x.extend({},v,{plugin:z,type:"trackstart",track:v})))),r++;else{x.removeTrackEvent(b,v._id);return}}else if(h>c){for(;l.byStart[r]&&
l.byStart[r].start>c;)if(v=l.byStart[r],z=(h=v._natives)&&h.type,!h||p[z]||b[z])!0===v._running&&(v._running=!1,y=b.data.running[z],y.splice(y.indexOf(v),1),b.data.disabled[z]||(h.end.call(b,k,v),b.emit("trackend",x.extend({},v,{plugin:z,type:"trackend",track:v})))),r--;else{x.removeTrackEvent(b,v._id);return}for(;l.byEnd[m]&&l.byEnd[m].end>c;)if(v=l.byEnd[m],z=(h=v._natives)&&h.type,!h||p[z]||b[z])v.start<=c&&!1===v._running&&(v._running=!0,b.data.running[z].push(v),b.data.disabled[z]||(h.start.call(b,
k,v),b.emit("trackstart",x.extend({},v,{plugin:z,type:"trackstart",track:v})))),m--;else{x.removeTrackEvent(b,v._id);return}}l.endIndex=m;l.startIndex=r;l.previousUpdateTime=c;l.byStart.length<n&&l.startIndex--;l.byEnd.length<q&&l.endIndex--};x.extend(x.p,{getTrackEvents:function(){return x.getTrackEvents.call(null,this)},getTrackEvent:function(b){return x.getTrackEvent.call(null,this,b)},getLastTrackEventId:function(){return x.getLastTrackEventId.call(null,this)},removeTrackEvent:function(b){x.removeTrackEvent.call(null,
this,b);return this},removePlugin:function(b){x.removePlugin.call(null,this,b);return this},timeUpdate:function(b){x.timeUpdate.call(null,this,b);return this},destroy:function(){x.destroy.call(null,this);return this}});x.manifest={};x.registry=[];x.registryByName={};x.plugin=function(b,h,l){if(0<=x.protect.natives.indexOf(b.toLowerCase()))x.error("'"+b+"' is a protected function name");else{var r="function"===typeof h,n=["start","end","type","manifest"],p=["_setup","_teardown","start","end","frame"],
v={},z=function(b,k){b=b||x.nop;k=k||x.nop;return function(){b.apply(this,arguments);k.apply(this,arguments)}};x.manifest[b]=l=l||h.manifest||{};p.forEach(function(k){h[k]=m(h[k]||x.nop,b)});var y=function(h,m){if(!m)return this;if(m.ranges&&x.isArray(m.ranges))return x.forEach(m.ranges,function(k){k=x.extend({},m,k);delete k.ranges;this[b](k)},this),this;var r=m._natives={},v="",y;x.extend(r,h);m._natives.type=m._natives.plugin=b;m._running=!1;r.start=r.start||r["in"];r.end=r.end||r.out;m.once&&
(r.end=z(r.end,function(){this.removeTrackEvent(m._id)}));r._teardown=z(function(){var b=k.call(arguments),c=this.data.running[r.type];b.unshift(null);b[1]._running&&c.splice(c.indexOf(m),1)&&r.end.apply(this,b);b[1]._running=!1;this.emit("trackend",x.extend({},m,{plugin:r.type,type:"trackend",track:x.getTrackEvent(this,m.id||m._id)}))},r._teardown);r._teardown=z(r._teardown,function(){this.emit("trackteardown",x.extend({},m,{plugin:b,type:"trackteardown",track:x.getTrackEvent(this,m.id||m._id)}))});
m.compose=m.compose||[];"string"===typeof m.compose&&(m.compose=m.compose.split(" "));m.effect=m.effect||[];"string"===typeof m.effect&&(m.effect=m.effect.split(" "));m.compose=m.compose.concat(m.effect);m.compose.forEach(function(b){v=x.compositions[b]||{};p.forEach(function(b){r[b]=z(r[b],v[b])})});m._natives.manifest=l;"start"in m||(m.start=m["in"]||0);m.end||0===m.end||(m.end=m.out||Number.MAX_VALUE);q.call(m,"toString")||(m.toString=function(){var k=["start: "+m.start,"end: "+m.end,"id: "+(m.id||
m._id)];null!=m.target&&k.push("target: "+m.target);return b+" ( "+k.join(", ")+" )"});m.target||(y="options"in l&&l.options,m.target=y&&"target"in y&&y.target);!m._id&&m._natives&&(m._id=x.guid(m._natives.type));m instanceof c?(m._natives&&(m._id=m.id||m._id||x.guid(m._natives.type),m._natives._setup&&(m._natives._setup.call(this,m),this.emit("tracksetup",x.extend({},m,{plugin:m._natives.type,type:"tracksetup",track:m})))),this.data.trackEvents.add(m),c.start(this,m),this.timeUpdate(this,null,!0),
m._id&&x.addTrackEvent.ref(this,m)):x.addTrackEvent(this,m);x.forEach(h,function(b,k){if(-1===n.indexOf(k))this.on(k,b)},this);return this};x.p[b]=v[b]=function(k,l){var m,n;if(k&&!l)l=k;else{if(m=this.getTrackEvent(k)){n=l;var p={},v;for(v in m)q.call(n,v)&&q.call(m,v)&&(p[v]=m[v]);if(m._natives._update)this.data.trackEvents.remove(m),q.call(l,"start")&&(m.start=l.start),q.call(l,"end")&&(m.end=l.end),c.end(this,m),r&&h.call(this,m),m._natives._update.call(this,m,l),this.data.trackEvents.add(m),
c.start(this,m);else return x.extend(m,l),this.data.trackEvents.remove(k),m._natives._teardown&&m._natives._teardown.call(this,m),x.removeTrackEvent.ref(this,k),r?y.call(this,h.call(this,m),m):(m._id=m.id||m._id||x.guid(m._natives.type),m._natives&&m._natives._setup&&(m._natives._setup.call(this,m),this.emit("tracksetup",x.extend({},m,{plugin:m._natives.type,type:"tracksetup",track:m}))),this.data.trackEvents.add(m),c.start(this,m),this.timeUpdate(this,null,!0),x.addTrackEvent.ref(this,m)),this.emit("trackchange",
{id:m.id,type:"trackchange",previousValue:p,currentValue:m,track:m}),this;"cue"!==m._natives.type&&this.emit("trackchange",{id:m.id,type:"trackchange",previousValue:p,currentValue:n,track:m});return this}l.id=k}this.data.running[b]=this.data.running[b]||[];m=x.extend({},this.options.defaults&&this.options.defaults[b]||{},l);y.call(this,r?h.call(this,m):h,m);return this};l&&x.extend(h,{manifest:l});var u={fn:v[b],definition:h,base:h,parents:[],name:b};x.registry.push(x.extend(v,u,{type:b}));x.registryByName[b]=
u;return v}};x.plugin.errors=[];x.plugin.debug="@VERSION"===x.version;x.removePlugin=function(b,k){if(!k){k=b;b=x.p;if(0<=x.protect.natives.indexOf(k.toLowerCase())){x.error("'"+k+"' is a protected function name");return}var c=x.registry.length,h;for(h=0;h<c;h++)if(x.registry[h].name===k){x.registry.splice(h,1);delete x.registryByName[k];delete x.manifest[k];delete b[k];return}}c=b.data.trackEvents.byStart;h=b.data.trackEvents.byEnd;var l=b.data.trackEvents.animating,m,r;m=0;for(r=c.length;m<r;m++)c[m]&&
c[m]._natives&&c[m]._natives.type===k&&(c[m]._natives._teardown&&c[m]._natives._teardown.call(b,c[m]),c.splice(m,1),m--,r--,b.data.trackEvents.startIndex<=m&&(b.data.trackEvents.startIndex--,b.data.trackEvents.endIndex--)),h[m]&&h[m]._natives&&h[m]._natives.type===k&&h.splice(m,1);m=0;for(r=l.length;m<r;m++)l[m]&&l[m]._natives&&l[m]._natives.type===k&&(l.splice(m,1),m--,r--)};x.compositions={};x.compose=function(b,k,c){x.manifest[b]=c||k.manifest||{};x.compositions[b]=k};x.plugin.effect=x.effect=
x.compose;var D=/^(?:\.|#|\[)/;x.dom={debug:!1,find:function(b,k){var c=null;k=k||h;if(b){if(!D.test(b)&&(c=h.getElementById(b),null!==c))return c;try{c=k.querySelector(b)}catch(l){if(x.dom.debug)throw Error(l);}}return c}};var F=/\?/,E={ajax:null,url:"",data:"",dataType:"",success:x.nop,type:"GET",async:!0,contentType:"application/x-www-form-urlencoded; charset\x3dUTF-8"};x.xhr=function(b){b.dataType=b.dataType&&b.dataType.toLowerCase()||null;if(!b.dataType||"jsonp"!==b.dataType&&"script"!==b.dataType){if(b=
x.extend({},E,b),b.ajax=new XMLHttpRequest,b.ajax)return"GET"===b.type&&b.data&&(b.url+=(F.test(b.url)?"\x26":"?")+b.data,b.data=null),b.ajax.open(b.type,b.url,b.async),"POST"===b.type&&b.ajax.setRequestHeader("Content-Type",b.contentType),b.ajax.send(b.data||null),x.xhr.httpData(b)}else x.xhr.getJSONP(b.url,b.success,"script"===b.dataType)};x.xhr.httpData=function(b){var k,c=null,h,l=null;b.ajax.onreadystatechange=function(){if(4===b.ajax.readyState){try{c=JSON.parse(b.ajax.responseText)}catch(m){}k=
{xml:b.ajax.responseXML,text:b.ajax.responseText,json:c};if(!k.xml||!k.xml.documentElement){k.xml=null;try{h=new DOMParser,l=h.parseFromString(b.ajax.responseText,"text/xml"),l.getElementsByTagName("parsererror").length||(k.xml=l)}catch(m){}}b.dataType&&(k=k[b.dataType]);b.success.call(b.ajax,k)}};return k};x.xhr.getJSONP=function(b,k,c){var l=h.head||h.getElementsByTagName("head")[0]||h.documentElement,m=h.createElement("script"),r=!1,n=[],n=/(=)\?(?=&|$)|\?\?/,q,p;c||(p=b.match(/(callback=[^&]*)/),
null!==p&&p.length?(n=p[1].split("\x3d")[1],"?"===n&&(n="jsonp"),q=x.guid(n),b=b.replace(/(callback=[^&]*)/,"callback\x3d"+q)):(q=x.guid("jsonp"),n.test(b)&&(b=b.replace(n,"$1"+q)),n=b.split(/\?(.+)?/),b=n[0]+"?",n[1]&&(b+=n[1]+"\x26"),b+="callback\x3d"+q),window[q]=function(b){k&&k(b);r=!0});m.addEventListener("load",function(){c&&k&&k();r&&delete window[q];l.removeChild(m)},!1);m.addEventListener("error",function(b){k&&k({error:b});c||delete window[q];l.removeChild(m)},!1);m.src=b;l.insertBefore(m,
l.firstChild)};x.getJSONP=x.xhr.getJSONP;x.getScript=x.xhr.getScript=function(b,k){return x.xhr.getJSONP(b,k,!0)};x.util={toSeconds:function(b,k){var c=/^([0-9]+:){0,2}[0-9]+([.;][0-9]+)?$/,h,l;if("number"===typeof b)return b;"string"!==typeof b||c.test(b)||x.error("Invalid time format");c=b.split(":");b=c.length-1;h=c[b];-1<h.indexOf(";")&&(h=h.split(";"),l=0,k&&"number"===typeof k&&(l=parseFloat(h[1],10)/k),c[b]=parseInt(h[0],10)+l);b=c[0];return{1:parseFloat(b,10),2:60*parseInt(b,10)+parseFloat(c[1],
10),3:3600*parseInt(b,10)+60*parseInt(c[1],10)+parseFloat(c[2],10)}[c.length||1]}};x.p.cue=x.p.exec;x.protect={natives:function(b){if(Object.keys)b=Object.keys(b);else{var k,c=[];for(k in b)q.call(b,k)&&c.push(k);b=c}return b}(x.p).map(function(b){return b.toLowerCase()})};x.forEach({listen:"on",unlisten:"off",trigger:"emit",exec:"cue"},function(b,k){var c=x.p[k];x.p[k]=function(){"undefined"!==typeof console&&console.warn&&(x.p[k]=c);return x.p[b].apply(this,[].slice.call(arguments))}});b.Popcorn=
x}else for(b.Popcorn={isSupported:!1},p="byId forEach extend effects error guid sizeOf isArray nop position disable enable destroyaddTrackEvent removeTrackEvent getTrackEvents getTrackEvent getLastTrackEventId timeUpdate plugin removePlugin compose effect xhr getJSONP getScript".split(/\s+/);p.length;)b.Popcorn[p.shift()]=function(){}})(window,window.document);
(function(b){var h=function(c,h){c=c||b.nop;h=h||b.nop;return function(){c.apply(this,arguments);h.apply(this,arguments)}};b.player=function(c,l){if(!b[c]){l=l||{};var m=function(c,m,u){u=u||{};var k=new Date/1E3,q=k,v=0,y=0,z=1,A=!1,r={},B="string"===typeof c?b.dom.find(c):c,C={};Object.prototype.__defineGetter__||(C=B||document.createElement("div"));for(var x in B)x in C||("object"===typeof B[x]?C[x]=B[x]:"function"===typeof B[x]?C[x]=function(b){return"length"in B[b]&&!B[b].call?B[b]:function(){return B[b].apply(B,
arguments)}}(x):b.player.defineProperty(C,x,{get:function(b){return function(){return B[b]}}(x),set:b.nop,configurable:!0}));var D=function(){k=new Date/1E3;C.paused||(C.currentTime+=k-q,C.dispatchEvent("timeupdate"),setTimeout(D,10));q=k};C.play=function(){this.paused=!1;4<=C.readyState&&(q=new Date/1E3,C.dispatchEvent("play"),D())};C.pause=function(){this.paused=!0;C.dispatchEvent("pause")};b.player.defineProperty(C,"currentTime",{get:function(){return v},set:function(b){v=+b;C.dispatchEvent("timeupdate");
return v},configurable:!0});b.player.defineProperty(C,"volume",{get:function(){return z},set:function(b){z=+b;C.dispatchEvent("volumechange");return z},configurable:!0});b.player.defineProperty(C,"muted",{get:function(){return A},set:function(b){A=+b;C.dispatchEvent("volumechange");return A},configurable:!0});b.player.defineProperty(C,"readyState",{get:function(){return y},set:function(b){return y=b},configurable:!0});C.addEventListener=function(b,k){r[b]||(r[b]=[]);r[b].push(k);return k};C.removeEventListener=
function(b,k){var c=r[b];if(c){for(b=r[b].length-1;0<=b;b--)k===c[b]&&c.splice(b,1);return k}};C.dispatchEvent=function(k){var c,h=k.type;!h&&(h=k,k=b.events.getInterface(h))&&(c=document.createEvent(k),c.initEvent(h,!0,!0,window,1));if(r[h])for(k=r[h].length-1;0<=k;k--)r[h][k].call(this,c,this)};C.src=m||"";C.duration=0;C.paused=!0;C.ended=0;u&&u.events&&b.forEach(u.events,function(b,k){C.addEventListener(k,b,!1)});!1!==l._canPlayType(B.nodeName,m)?l._setup?l._setup.call(C,u):(C.readyState=4,C.dispatchEvent("loadedmetadata"),
C.dispatchEvent("loadeddata"),C.dispatchEvent("canplaythrough")):setTimeout(function(){C.dispatchEvent("error")},0);c=new b.p.init(C,u);l._teardown&&(c.destroy=h(c.destroy,function(){l._teardown.call(C,u)}));return c};m.canPlayType=l._canPlayType=l._canPlayType||b.nop;b[c]=b.player.registry[c]=m}};b.player.registry={};b.player.defineProperty=Object.defineProperty||function(c,h,m){c.__defineGetter__(h,m.get||b.nop);c.__defineSetter__(h,m.set||b.nop)};b.player.playerQueue=function(){var b=[],h=!1;return{next:function(){h=
!1;b.shift();b[0]&&b[0]()},add:function(m){b.push(function(){h=!0;m&&m()});!h&&b[0]()}}};b.smart=function(c,h,m){var p="string"===typeof c?b.dom.find(c):c,n,u,k,q,v,y=["HTMLYouTubeVideoElement","HTMLVimeoVideoElement","HTMLSoundCloudAudioElement","HTMLNullVideoElement"];if(p){h="string"===typeof h?[h]:h;c=0;for(v=h.length;c<v;c++){n=h[c];for(u=0;u<y.length;u++)if((q=b[y[u]])&&"probably"===q._canPlaySrc(n))return k=q(p),m=b(k,m),setTimeout(function(){k.src=n},0),m;for(var z in b.player.registry)if(b.player.registry.hasOwnProperty(z)&&
b.player.registry[z].canPlayType(p.nodeName,n))return b[z](p,n,m)}var A;z=b.guid("popcorn-video-");u=document.createElement("div");u.style.width="100%";u.style.height="100%";if(1===h.length)return A=document.createElement("video"),A.id=z,p.appendChild(A),setTimeout(function(){var b=document.createElement("div");b.innerHTML=h[0];A.src=b.firstChild.nodeValue},0),b("#"+z,m);p.appendChild(u);y='\x3cvideo id\x3d"'+z+'" preload\x3dauto autobuffer\x3e';c=0;for(v=h.length;c<v;c++)y+='\x3csource src\x3d"'+
h[c]+'"\x3e';u.innerHTML=y+"\x3c/video\x3e";m&&m.events&&m.events.error&&p.addEventListener("error",m.events.error,!1);return b("#"+z,m)}b.error("Specified target `"+c+"` was not found.")}})(Popcorn);
(function(b){var h=Object.prototype.hasOwnProperty;b.parsers={};b.parser=function(c,l,m){if(0<=b.protect.natives.indexOf(c.toLowerCase()))b.error("'"+c+"' is a protected function name");else if("function"!==typeof l||m||(m=l,l=""),"function"===typeof m&&"string"===typeof l){var p={};p[c]=function(c,p,k){if(!c)return this;"function"===typeof p||k||(k=p,p=null);var q=this;b.xhr({url:c,dataType:l,success:function(b){var c,l,n=0;b=m(b,k).data||[];if(c=b.length){for(;n<c;n++){l=b[n];for(var r in l)if(h.call(l,
r)&&q[r])q[r](l[r])}p&&p()}}});return this};b.extend(b.p,p);return p}}})(Popcorn);
(function(b){function h(b,c){var h={};h[b]=c;return h}function c(b){b=b.split(":");try{var c=b[2].split(",");1===c.length&&(c=b[2].split("."));return 3600*parseFloat(b[0],10)+60*parseFloat(b[1],10)+parseFloat(c[0],10)+parseFloat(c[1],10)/1E3}catch(h){return 0}}b.parser("parseSRT",function(b,m){var p={title:"",remote:"",data:[]},n=[],u,k,q,v,y,z;k=b.text.split(/(?:\r\n|\r|\n)/gm);for(v=k.length-1;0<=v&&!k[v];)v--;y=v+1;for(b=0;b<y;b++){z={};for(v=[];!k[b];)b++;z.id=parseInt(k[b++],10);q=k[b++].split(/[\t ]*--\x3e[\t ]*/);
z.start=c(q[0]);u=q[1].indexOf(" ");-1!==u&&(q[1]=q[1].substr(0,u));for(z.end=c(q[1]);b<y&&k[b];)v.push(k[b++]);z.text=v.join("\\N").replace(/\{(\\[\w]+\(?([\w\d]+,?)+\)?)+\}/gi,"");z.text=z.text.replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;");z.text=z.text.replace(/&lt;(\/?(font|b|u|i|s))((\s+(\w|\w[\w\-]*\w)(\s*=\s*(?:\".*?\"|'.*?'|[^'\">\s]+))?)+\s*|\s*)(\/?)&gt;/gi,"\x3c$1$3$7\x3e");z.text=z.text.replace(/\\N/gi,"\x3cbr /\x3e");m&&m.target&&(z.target=m.target);n.push(h("subtitle",z))}p.data=n;
return p})})(Popcorn);
(function(b){b.parser("parseSBV",function(b){var c={title:"",remote:"",data:[]},l=[],m=0,p=0,n=function(b){b=b.split(":");var k=b.length-1,c;try{c=60*parseInt(b[k-1],10)+parseFloat(b[k],10),2===k&&(c+=3600*parseInt(b[0],10))}catch(h){throw"Bad cue";}return c},u=function(b,k){var c={};c[b]=k;return c};b=b.text.split(/(?:\r\n|\r|\n)/gm);for(p=b.length;m<p;){var k={},q=[],v=b[m++].split(",");try{k.start=n(v[0]);for(k.end=n(v[1]);m<p&&b[m];)q.push(b[m++]);k.text=q.join("\x3cbr /\x3e");l.push(u("subtitle",
k))}catch(y){for(;m<p&&b[m];)m++}for(;m<p&&!b[m];)m++}c.data=l;return c})})(Popcorn);
(function(b){function h(b){var c=b.split(":");b=b.length;var h;if(12!==b&&9!==b)throw"Bad cue";b=c.length-1;try{h=60*parseInt(c[b-1],10)+parseFloat(c[b],10),2===b&&(h+=3600*parseInt(c[0],10))}catch(n){throw"Bad cue";}return h}function c(b,c){var h={};h[b]=c;return h}b.parser("parseVTT",function(b){var m={title:"",remote:"",data:[]},p=[],n=0,u,k,q;u=b.text.split(/(?:\r\n|\r|\n)/gm);b=u.length;if(0===b||"WEBVTT"!==u[0])return m;for(n++;n<b;){k=[];try{for(var v=n;v<b&&!u[v];)v++;var n=v,v=void 0,y=u[n++],
z={};if(!y)throw"Bad cue";if(-1===y.indexOf("--\x3e")){y=u[n];if(-1===y.indexOf("--\x3e"))throw"Bad cue";n++}v=y.replace(/--\x3e/," --\x3e ").split(/[\t ]+/);if(2>v.length)throw"Bad cue";z.id=y;z.start=h(v[0]);z.end=h(v[2]);for(q=z;n<b&&u[n];)k.push(u[n++]);q.text=k.join("\x3cbr /\x3e");p.push(c("subtitle",q))}catch(A){for(;n<b&&u[n];)n++}}m.data=p;return m})})(Popcorn);
(function(b){var h=0,c=function(c,h){if(0<$(c.media).closest(".dki-audio-element").length)return c.container=$(c.media).closest(".dkiContentFrame").find(".dki-audio-closed-caption-container")[0],c.container;var p=c.container=document.createElement("div"),n=p.style;p.id=h||b.guid();p.className="subClass";n.position="absolute";n.color="white";n.textShadow="black 2px 2px 6px";n.fontWeight="400";n.textAlign="center";c.media.parentNode.appendChild(p);return p};b.plugin("subtitle",{manifest:{about:{name:"Popcorn Subtitle Plugin",
version:"0.1",author:"Scott Downe",website:"http://scottdowne.wordpress.com/"},options:{start:{elem:"input",type:"text",label:"Start"},end:{elem:"input",type:"text",label:"End"},target:"subtitle-container",text:{elem:"input",type:"text",label:"Text"}}},_setup:function(b){var m=document.createElement("div");m.id="subtitle-"+h++;m.className="popcorn-subtitle";m.style.display="none";this.container||b.target&&"subtitle-container"!==b.target||c(this);b.container=b.target&&"subtitle-container"!==b.target?
document.getElementById(b.target)||c(this,b.target):this.container;document.getElementById(b.container.id)&&document.getElementById(b.container.id).appendChild(m);b.innerContainer=m;b.formatText=function(){b.text=b.text.replace("[br]","\x3cbr/\x3e")};b.showSubtitle=function(){b.formatText();var c=b.text?"\x26nbsp"+b.text.replace(/<br\s*[\/]?>/gi,"\x26nbsp\x3cbr\x3e\x26nbsp")+"\x26nbsp":"";b.innerContainer.innerHTML=c.replace("[br]","\x3cbr/\x3e")}},start:function(b,c){c.innerContainer.style.display=
"inline-block";c.showSubtitle(c,c.text)},end:function(b,c){c.innerContainer.style.display="none";c.innerContainer.innerHTML=""},_teardown:function(b){b.container.removeChild(b.innerContainer)}})})(Popcorn);
(function(b){var h=!1,c=!1,l={mp3:{codec:'audio/mpeg; codecs\x3d"mp3"',flashCanPlay:!0,media:"audio"},m4a:{codec:'audio/mp4; codecs\x3d"mp4a.40.2"',flashCanPlay:!0,media:"audio"},oga:{codec:'audio/ogg; codecs\x3d"vorbis"',flashCanPlay:!1,media:"audio"},wav:{codec:'audio/wav; codecs\x3d"1"',flashCanPlay:!1,media:"audio"},webma:{codec:'audio/webm; codecs\x3d"vorbis"',flashCanPlay:!1,media:"audio"},fla:{codec:"audio/x-flv",flashCanPlay:!0,media:"audio"},rtmpa:{codec:'audio/rtmp; codecs\x3d"rtmp"',flashCanPlay:!0,
media:"audio"},m4v:{codec:'video/mp4; codecs\x3d"avc1.42E01E, mp4a.40.2"',flashCanPlay:!0,media:"video"},ogv:{codec:'video/ogg; codecs\x3d"theora, vorbis"',flashCanPlay:!1,media:"video"},webmv:{codec:'video/webm; codecs\x3d"vorbis, vp8"',flashCanPlay:!1,media:"video"},flv:{codec:"video/x-flv",flashCanPlay:!0,media:"video"},rtmpv:{codec:'video/rtmp; codecs\x3d"rtmp"',flashCanPlay:!0,media:"video"}},m=function(b){return b&&"object"===typeof b&&b.hasOwnProperty?!0:!1},p=function(b){var k=!1;/\.mp3$/i.test(b)?
k="mp3":/\.mp4$/i.test(b)||/\.m4v$/i.test(b)?k="m4v":/\.m4a$/i.test(b)?k="m4a":/\.ogg$/i.test(b)||/\.oga$/i.test(b)?k="oga":/\.ogv$/i.test(b)?k="ogv":/\.webm$/i.test(b)&&(k="webmv");return k},n=function(b){var k="",c="";if(m(b))for(var h in b)b.hasOwnProperty(h)&&(k+=c+h,c=",");return k};b.player("jplayer",{_canPlayType:function(b,k){var c=b.toLowerCase(),h={media:{},options:{}};b=!1;if("video"!==c&&"audio"!==c&&("string"===typeof k?/^http.*/i.test(k)&&(c=p(k))&&(h.media[c]=k,h.options.solution="html,flash",
h.options.supplied=c):h=k,m(h)&&m(h.media))){m(h.options)||(h.options={});h.options.solution||(h.options.solution="html,flash");h.options.supplied||(h.options.supplied=n(h.media));k=h.options.solution.toLowerCase().split(",");for(var h=h.options.supplied.toLowerCase().split(","),y=0;y<k.length;y++)for(var c=k[y].replace(/^\s+|\s+$/g,""),z="html"===c,A="flash"===c,r,B=0;B<h.length;B++)if(c=h[B].replace(/^\s+|\s+$/g,""),l[c]){!r&&z&&(r=document.createElement(l[c].media));var C=!!(r&&r.canPlayType&&
r.canPlayType(l[c].codec))&&z,x=l[c].flashCanPlay&&A;if(C||x)b={html:C,type:c},y=k.length,B=h.length}}return b},_setup:function(){var l=this,k,q,v="unknown",y={},z={},A=!1,r=0,B=null,C=!1,x=null,D=function(){A?l.dispatchEvent("durationchange"):(clearTimeout(B),B=setTimeout(D,250))},F=function(){var b=function(b){b.jPlayer.status.duration!==r&&(r=b.jPlayer.status.duration,D())},c=function(b){C||100!==b.jPlayer.status.seekPercent||(C=!0,setTimeout(function(){q._trigger($.jPlayer.event.canplaythrough)},
0))};k.bind($.jPlayer.event.loadstart,function(){setTimeout(function(){q._trigger($.jPlayer.event.loadeddata)},0)}).bind($.jPlayer.event.progress,function(k){b(k);c(k)}).bind($.jPlayer.event.timeupdate,function(k){b(k);c(k)}).bind($.jPlayer.event.play,function(){setTimeout(function(){q._trigger($.jPlayer.event.playing)},0)})},E=function(){(function(c){k=c("#"+l.id);"string"===typeof l.src?(v=p(l.src),y[v]=l.src,z.supplied=v,z.solution="html,flash"):m(l.src)&&(y=m(l.src.media)?l.src.media:{},z=m(l.src.options)?
l.src.options:{},z.solution=z.solution||"html,flash",z.supplied=z.supplied||n(l.src.media));z.swfPath=z.swfPath||"http://www.jplayer.org/2.4.0/js/Jplayer.swf";k.bind(c.jPlayer.event.ready,function(b){b.jPlayer.flash.used&&F();c(this).jPlayer("setMedia",y).jPlayer("load")});var h=(c.jPlayer.reservedEvent+" loadeddata durationchange").split(/\s+/g),B=function(b){k.bind(c.jPlayer.event[b],function(k){l.dispatchEvent(b)})},C;for(C in c.jPlayer.event)if(c.jPlayer.event.hasOwnProperty(C)){var E=!0,G;for(G in h)if(h.hasOwnProperty(G)&&
h[G]===C){E=!1;break}E&&B(C)}k.bind(c.jPlayer.event.loadeddata,function(b){l.dispatchEvent("loadeddata");A=!0});k.bind(c.jPlayer.event.durationchange,function(b){r=b.jPlayer.status.duration;D()});k.bind(c.jPlayer.event.error,function(b){x=b.jPlayer.error;x.code=x.type===c.jPlayer.error.URL?4:0;l.dispatchEvent("error")});b.player.defineProperty(l,"error",{set:function(){return x},get:function(){return x}});b.player.defineProperty(l,"currentTime",{set:function(b){q.status.paused?k.jPlayer("pause",b):
k.jPlayer("play",b);return b},get:function(){return q.status.currentTime}});b.player.defineProperty(l,"duration",{set:function(){return A?r:NaN},get:function(){return A?r:NaN}});b.player.defineProperty(l,"muted",{set:function(b){k.jPlayer("mute",b);return q.options.muted},get:function(){return q.options.muted}});b.player.defineProperty(l,"volume",{set:function(b){k.jPlayer("volume",b);return q.options.volume},get:function(){return q.options.volume}});b.player.defineProperty(l,"paused",{set:function(){return q.status.paused},
get:function(){return q.status.paused}});l.play=function(){k.jPlayer("play")};l.pause=function(){k.jPlayer("pause")};k.jPlayer(z);q=k.data("jPlayer")})(jQuery)},G=function(){jQuery.jPlayer?E():c?setTimeout(G,250):(c=!0,b.getScript("http://www.jplayer.org/2.4.0/js/jquery.jplayer.min.js",function(){c=!1;E()}))},K=function(){window.jQuery?G():h?setTimeout(K,250):(h=!0,b.getScript("http://ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js",function(){h=!1;G()}))};K()},_teardown:function(){jQuery("#"+
this.id).jPlayer("destroy")}})})(Popcorn);
!function(){function b(l){if(!l)throw Error("No options passed to Waypoint constructor");if(!l.element)throw Error("No element option passed to Waypoint constructor");if(!l.handler)throw Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+h;this.options=b.Adapter.extend({},b.defaults,l);this.element=this.options.element;this.adapter=new b.Adapter(this.element);this.callback=l.handler;this.axis=this.options.horizontal?"horizontal":"vertical";this.enabled=this.options.enabled;
this.triggerPoint=null;this.group=b.Group.findOrCreate({name:this.options.group,axis:this.axis});this.context=b.Context.findOrCreateByElement(this.options.context);b.offsetAliases[this.options.offset]&&(this.options.offset=b.offsetAliases[this.options.offset]);this.group.add(this);this.context.add(this);c[this.key]=this;h+=1}var h=0,c={};b.prototype.queueTrigger=function(b){this.group.queueTrigger(this,b)};b.prototype.trigger=function(b){this.enabled&&this.callback&&this.callback.apply(this,b)};b.prototype.destroy=
function(){this.context.remove(this);this.group.remove(this);delete c[this.key]};b.prototype.disable=function(){return this.enabled=!1,this};b.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this};b.prototype.next=function(){return this.group.next(this)};b.prototype.previous=function(){return this.group.previous(this)};b.invokeAll=function(b){var h=[],p;for(p in c)h.push(c[p]);p=0;for(var n=h.length;n>p;p++)h[p][b]()};b.destroyAll=function(){b.invokeAll("destroy")};b.disableAll=
function(){b.invokeAll("disable")};b.enableAll=function(){b.invokeAll("enable")};b.refreshAll=function(){b.Context.refreshAll()};b.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight};b.viewportWidth=function(){return document.documentElement.clientWidth};b.adapters=[];b.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0};b.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},
"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}};window.Waypoint=b}();
(function(){function b(b){window.setTimeout(b,1E3/60)}function h(b){this.element=b;this.Adapter=m.Adapter;this.adapter=new this.Adapter(b);this.key="waypoint-context-"+c;this.didResize=this.didScroll=!1;this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()};this.waypoints={vertical:{},horizontal:{}};b.waypointContextKey=this.key;l[b.waypointContextKey]=this;c+=1;this.createThrottledScrollHandler();this.createThrottledResizeHandler()}var c=0,l={},m=window.Waypoint,p=window.onload;
h.prototype.add=function(b){this.waypoints[b.options.horizontal?"horizontal":"vertical"][b.key]=b;this.refresh()};h.prototype.checkEmpty=function(){var b=this.Adapter.isEmptyObject(this.waypoints.horizontal),c=this.Adapter.isEmptyObject(this.waypoints.vertical);b&&c&&(this.adapter.off(".waypoints"),delete l[this.key])};h.prototype.createThrottledResizeHandler=function(){function b(){c.handleResize();c.didResize=!1}var c=this;this.adapter.on("resize.waypoints",function(){c.didResize||(c.didResize=
!0,m.requestAnimationFrame(b))})};h.prototype.createThrottledScrollHandler=function(){function b(){c.handleScroll();c.didScroll=!1}var c=this;this.adapter.on("scroll.waypoints",function(){c.didScroll&&!m.isTouch||(c.didScroll=!0,m.requestAnimationFrame(b))})};h.prototype.handleResize=function(){m.Context.refreshAll()};h.prototype.handleScroll=function(){var b={},c={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),
oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},k;for(k in c){var h=c[k],l=h.newScroll>h.oldScroll?h.forward:h.backward,m;for(m in this.waypoints[k]){var p=this.waypoints[k][m],A=h.oldScroll<p.triggerPoint,r=h.newScroll>=p.triggerPoint,B=!A&&!r;(A&&r||B)&&(p.queueTrigger(l),b[p.group.id]=p.group)}}for(var C in b)b[C].flushTriggers();this.oldScroll={x:c.horizontal.newScroll,y:c.vertical.newScroll}};h.prototype.innerHeight=function(){return this.element==this.element.window?m.viewportHeight():
this.adapter.innerHeight()};h.prototype.remove=function(b){delete this.waypoints[b.axis][b.key];this.checkEmpty()};h.prototype.innerWidth=function(){return this.element==this.element.window?m.viewportWidth():this.adapter.innerWidth()};h.prototype.destroy=function(){var b=[],c;for(c in this.waypoints)for(var k in this.waypoints[c])b.push(this.waypoints[c][k]);c=0;for(k=b.length;k>c;c++)b[c].destroy()};h.prototype.refresh=function(){var b;b=this.element==this.element.window;var c=this.adapter.offset(),
k={};this.handleScroll();b={horizontal:{contextOffset:b?0:c.left,contextScroll:b?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:b?0:c.top,contextScroll:b?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var h in b){var c=b[h],l;for(l in this.waypoints[h]){var m,p,A,r=this.waypoints[h][l];A=r.options.offset;
m=r.triggerPoint;p=0;var B=null==m;r.element!==r.element.window&&(p=r.adapter.offset()[c.offsetProp]);"function"==typeof A?A=A.apply(r):"string"==typeof A&&(A=parseFloat(A),-1<r.options.offset.indexOf("%")&&(A=Math.ceil(c.contextDimension*A/100)));r.triggerPoint=p+(c.contextScroll-c.contextOffset)-A;m=m<c.oldScroll;p=r.triggerPoint>=c.oldScroll;A=m&&p;m=!m&&!p;!B&&A?(r.queueTrigger(c.backward),k[r.group.id]=r.group):!B&&m?(r.queueTrigger(c.forward),k[r.group.id]=r.group):B&&c.oldScroll>=r.triggerPoint&&
(r.queueTrigger(c.forward),k[r.group.id]=r.group)}}for(var C in k)k[C].flushTriggers();return this};h.findOrCreateByElement=function(b){return h.findByElement(b)||new h(b)};h.refreshAll=function(){for(var b in l)l[b].refresh()};h.findByElement=function(b){return l[b.waypointContextKey]};window.onload=function(){p&&p();h.refreshAll()};m.requestAnimationFrame=function(c){(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||b).call(window,c)};m.Context=
h})();
(function(){function b(b,c){return b.triggerPoint-c.triggerPoint}function h(b,c){return c.triggerPoint-b.triggerPoint}function c(b){this.name=b.name;this.axis=b.axis;this.id=this.name+"-"+this.axis;this.waypoints=[];this.clearTriggerQueues();l[this.axis][this.name]=this}var l={vertical:{},horizontal:{}},m=window.Waypoint;c.prototype.add=function(b){this.waypoints.push(b)};c.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}};c.prototype.flushTriggers=function(){for(var c in this.triggerQueues){var l=
this.triggerQueues[c];l.sort("up"===c||"left"===c?h:b);for(var m=0,k=l.length;k>m;m+=1){var q=l[m];(q.options.continuous||m===l.length-1)&&q.trigger([c])}}this.clearTriggerQueues()};c.prototype.next=function(c){this.waypoints.sort(b);c=m.Adapter.inArray(c,this.waypoints);return c===this.waypoints.length-1?null:this.waypoints[c+1]};c.prototype.previous=function(c){this.waypoints.sort(b);return(c=m.Adapter.inArray(c,this.waypoints))?this.waypoints[c-1]:null};c.prototype.queueTrigger=function(b,c){this.triggerQueues[c].push(b)};
c.prototype.remove=function(b){b=m.Adapter.inArray(b,this.waypoints);-1<b&&this.waypoints.splice(b,1)};c.prototype.first=function(){return this.waypoints[0]};c.prototype.last=function(){return this.waypoints[this.waypoints.length-1]};c.findOrCreate=function(b){return l[b.axis][b.name]||new c(b)};m.Group=c})();
(function(){function b(b){this.$element=h(b)}var h=window.jQuery,c=window.Waypoint;h.each("innerHeight innerWidth off offset on outerHeight outerWidth scrollLeft scrollTop".split(" "),function(c,h){b.prototype[h]=function(){var b=Array.prototype.slice.call(arguments);return this.$element[h].apply(this.$element,b)}});h.each(["extend","inArray","isEmptyObject"],function(c,m){b[m]=h[m]});c.adapters.push({name:"jquery",Adapter:b});c.Adapter=b})();
(function(){function b(b){return function(l,m){var p=[],n=l;return b.isFunction(l)&&(n=b.extend({},m),n.handler=l),this.each(function(){var l=b.extend({},n,{element:this});"string"==typeof l.context&&(l.context=b(this).closest(l.context)[0]);p.push(new h(l))}),p}}var h=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=b(window.jQuery));window.Zepto&&(window.Zepto.fn.waypoint=b(window.Zepto))})();
!function(){function b(){}function h(b){this.options=c.Adapter.extend({},h.defaults,b);this.axis=this.options.horizontal?"horizontal":"vertical";this.waypoints=[];this.createWaypoints()}var c=window.Waypoint;h.prototype.createWaypoints=function(){for(var b={vertical:[{down:"enter",up:"exited",offset:"100%"},{down:"entered",up:"exit",offset:"bottom-in-view"},{down:"exit",up:"entered",offset:0},{down:"exited",up:"enter",offset:function(){return-this.adapter.outerHeight()}}],horizontal:[{right:"enter",
left:"exited",offset:"100%"},{right:"entered",left:"exit",offset:"right-in-view"},{right:"exit",left:"entered",offset:0},{right:"exited",left:"enter",offset:function(){return-this.adapter.outerWidth()}}]},c=0,h=b[this.axis].length;h>c;c++)this.createWaypoint(b[this.axis][c])};h.prototype.createWaypoint=function(b){var h=this;this.waypoints.push(new c({element:this.options.element,handler:function(b){return function(c){h.options[b[c]].call(this,c)}}(b),offset:b.offset,horizontal:this.options.horizontal}))};
h.prototype.destroy=function(){for(var b=0,c=this.waypoints.length;c>b;b++)this.waypoints[b].destroy();this.waypoints=[]};h.defaults={enter:b,entered:b,exit:b,exited:b};c.Inview=h}();
(function(b){b.fn.extend({reflect:function(h){h=b.extend({height:1/3,opacity:.5},h);return this.unreflect().each(function(){var c=this;if(/^img$/i.test(c.tagName)){var l=function(){var l=c.width,p=c.height,n,u,k,q;u=Math.floor(1<h.height?Math.min(p,h.height):p*h.height);n=b("\x3ccanvas /\x3e")[0];if(n.getContext){k=n.getContext("2d");try{b(n).attr({width:l,height:u}),k.save(),k.translate(0,p-1),k.scale(1,-1),k.drawImage(c,0,0,l,p),k.restore(),k.globalCompositeOperation="destination-out",q=k.createLinearGradient(0,
0,0,u),q.addColorStop(0,"rgba(255, 255, 255, "+(1-h.opacity)+")"),q.addColorStop(1,"rgba(255, 255, 255, 1.0)"),k.fillStyle=q,k.rect(0,0,l,u),k.fill()}catch(v){return}}else{if(!b.browser.msie)return;n=b("\x3cimg /\x3e").attr("src",c.src).css({width:l,height:p,marginBottom:u-p,filter:"FlipV progid:DXImageTransform.Microsoft.Alpha(Opacity\x3d"+100*h.opacity+", FinishOpacity\x3d0, Style\x3d1, StartX\x3d0, StartY\x3d0, FinishX\x3d0, FinishY\x3d"+u/p*100+")"})[0]}b(n).css({display:"block",border:0});n=
b(/^a$/i.test(c.parentNode.tagName)?"\x3cspan /\x3e":"\x3cdiv /\x3e").insertAfter(c).append([c,n])[0];n.className=c.className;b.data(c,"reflected",n.style.cssText=c.style.cssText);b(n).css({width:l,height:p+u,overflow:"hidden"});c.style.cssText="display: block; border: 0px";c.className="reflected";void 0!=h.attr&&void 0!=h.attr.style&&(n.style.cssText=h.attr.style);void 0!=h.attr&&void 0!=h.attr.cls&&(n.className=h.attr.cls)};c.complete?l():b(c).load(l)}})},unreflect:function(){return this.unbind("load").each(function(){var h=
b.data(this,"reflected"),c;void 0!==h&&(c=this.parentNode,this.className=c.className,this.style.cssText=h,b.removeData(this,"reflected"),c.parentNode.replaceChild(this,c))})}})})(jQuery);jQuery(function(b){b("img.reflect").reflect({})});
(function(b,h){function c(c,h){var k,m,p,y=c.nodeName.toLowerCase();return"area"===y?(k=c.parentNode,m=k.name,c.href&&m&&"map"===k.nodeName.toLowerCase()?(p=b("img[usemap\x3d#"+m+"]")[0],!!p&&l(p)):!1):(/input|select|textarea|button|object/.test(y)?!c.disabled:"a"===y?c.href||h:h)&&l(c)}function l(c){return b.expr.filters.visible(c)&&!b(c).parents().andSelf().filter(function(){return"hidden"===b.css(this,"visibility")}).length}var m=0,p=/^ui-id-\d+$/;b.ui=b.ui||{};b.ui.version||(b.extend(b.ui,{version:"1.9.1",
keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),b.fn.extend({_focus:b.fn.focus,focus:function(c,h){return"number"==typeof c?this.each(function(){var k=this;setTimeout(function(){b(k).focus();h&&h.call(k)},c)}):this._focus.apply(this,arguments)},scrollParent:function(){var c;return b.ui.ie&&
/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?c=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(b.css(this,"position"))&&/(auto|scroll)/.test(b.css(this,"overflow")+b.css(this,"overflow-y")+b.css(this,"overflow-x"))}).eq(0):c=this.parents().filter(function(){return/(auto|scroll)/.test(b.css(this,"overflow")+b.css(this,"overflow-y")+b.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!c.length?b(document):c},zIndex:function(c){if(c!==
h)return this.css("zIndex",c);if(this.length){c=b(this[0]);for(var l;c.length&&c[0]!==document;){l=c.css("position");if("absolute"===l||"relative"===l||"fixed"===l)if(l=parseInt(c.css("zIndex"),10),!isNaN(l)&&0!==l)return l;c=c.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++m)})},removeUniqueId:function(){return this.each(function(){p.test(this.id)&&b(this).removeAttr("id")})}}),b("\x3ca\x3e").outerWidth(1).jquery||b.each(["Width","Height"],function(c,
l){function k(k,c,h,l){return b.each(m,function(){c-=parseFloat(b.css(k,"padding"+this))||0;h&&(c-=parseFloat(b.css(k,"border"+this+"Width"))||0);l&&(c-=parseFloat(b.css(k,"margin"+this))||0)}),c}var m="Width"===l?["Left","Right"]:["Top","Bottom"],p=l.toLowerCase(),y={innerWidth:b.fn.innerWidth,innerHeight:b.fn.innerHeight,outerWidth:b.fn.outerWidth,outerHeight:b.fn.outerHeight};b.fn["inner"+l]=function(c){return c===h?y["inner"+l].call(this):this.each(function(){b(this).css(p,k(this,c)+"px")})};
b.fn["outer"+l]=function(c,h){return"number"!=typeof c?y["outer"+l].call(this,c):this.each(function(){b(this).css(p,k(this,c,!0,h)+"px")})}}),b.extend(b.expr[":"],{data:b.expr.createPseudo?b.expr.createPseudo(function(c){return function(h){return!!b.data(h,c)}}):function(c,h,k){return!!b.data(c,k[3])},focusable:function(h){return c(h,!isNaN(b.attr(h,"tabindex")))},tabbable:function(h){var l=b.attr(h,"tabindex"),k=isNaN(l);return(k||0<=l)&&c(h,!k)}}),b(function(){var c=document.body,h=c.appendChild(h=
document.createElement("div"));h.offsetHeight;b.extend(h.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});b.support.minHeight=100===h.offsetHeight;b.support.selectstart="onselectstart"in h;c.removeChild(h).style.display="none"}),function(){var c=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];b.ui.ie=c.length?!0:!1;b.ui.ie6=6===parseFloat(c[1],10)}(),b.fn.extend({disableSelection:function(){return this.bind((b.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",
function(b){b.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),b.extend(b.ui,{plugin:{add:function(c,h,k){var l;c=b.ui[c].prototype;for(l in k)c.plugins[l]=c.plugins[l]||[],c.plugins[l].push([h,k[l]])},call:function(b,c,k){var h=b.plugins[c];if(h&&b.element[0].parentNode&&11!==b.element[0].parentNode.nodeType)for(c=0;c<h.length;c++)b.options[h[c][0]]&&h[c][1].apply(b.element,k)}},contains:b.contains,hasScroll:function(c,h){if("hidden"===b(c).css("overflow"))return!1;
h=h&&"left"===h?"scrollLeft":"scrollTop";var k=!1;return 0<c[h]?!0:(c[h]=1,k=0<c[h],c[h]=0,k)},isOverAxis:function(b,c,k){return b>c&&b<c+k},isOver:function(c,h,k,l,m,p){return b.ui.isOverAxis(c,k,m)&&b.ui.isOverAxis(h,l,p)}}))})(jQuery);
(function(b,h){var c=0,l=Array.prototype.slice,m=b.cleanData;b.cleanData=function(c){for(var h=0,l;null!=(l=c[h]);h++)try{b(l).triggerHandler("remove")}catch(k){}m(c)};b.widget=function(c,h,l){var k,m,v,y,z=c.split(".")[0];c=c.split(".")[1];k=z+"-"+c;l||(l=h,h=b.Widget);b.expr[":"][k.toLowerCase()]=function(c){return!!b.data(c,k)};b[z]=b[z]||{};m=b[z][c];v=b[z][c]=function(b,c){if(!this._createWidget)return new v(b,c);arguments.length&&this._createWidget(b,c)};b.extend(v,m,{version:l.version,_proto:b.extend({},
l),_childConstructors:[]});y=new h;y.options=b.widget.extend({},y.options);b.each(l,function(c,k){b.isFunction(k)&&(l[c]=function(){var b=function(){return h.prototype[c].apply(this,arguments)},l=function(b){return h.prototype[c].apply(this,b)};return function(){var c=this._super,h=this._superApply,m;return this._super=b,this._superApply=l,m=k.apply(this,arguments),this._super=c,this._superApply=h,m}}())});v.prototype=b.widget.extend(y,{widgetEventPrefix:y.widgetEventPrefix||c},l,{constructor:v,namespace:z,
widgetName:c,widgetBaseClass:k,widgetFullName:k});m?(b.each(m._childConstructors,function(c,k){c=k.prototype;b.widget(c.namespace+"."+c.widgetName,v,k._proto)}),delete m._childConstructors):h._childConstructors.push(v);b.widget.bridge(c,v)};b.widget.extend=function(c){for(var m=l.call(arguments,1),u=0,k=m.length,q,v;u<k;u++)for(q in m[u])v=m[u][q],m[u].hasOwnProperty(q)&&v!==h&&(b.isPlainObject(v)?c[q]=b.isPlainObject(c[q])?b.widget.extend({},c[q],v):b.widget.extend({},v):c[q]=v);return c};b.widget.bridge=
function(c,m){var u=m.prototype.widgetFullName;b.fn[c]=function(k){var q="string"==typeof k,v=l.call(arguments,1),y=this;return k=!q&&v.length?b.widget.extend.apply(null,[k].concat(v)):k,q?this.each(function(){var l,m=b.data(this,u);if(!m)return b.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+k+"'");if(!b.isFunction(m[k])||"_"===k.charAt(0))return b.error("no such method '"+k+"' for "+c+" widget instance");l=m[k].apply(m,v);if(l!==m&&l!==h)return y=l&&l.jquery?
y.pushStack(l.get()):l,!1}):this.each(function(){var c=b.data(this,u);c?c.option(k||{})._init():new m(k,this)}),y}};b.Widget=function(){};b.Widget._childConstructors=[];b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"\x3cdiv\x3e",options:{disabled:!1,create:null},_createWidget:function(h,l){l=b(l||this.defaultElement||this)[0];this.element=b(l);this.uuid=c++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=b.widget.extend({},this.options,this._getCreateOptions(),
h);this.bindings=b();this.hoverable=b();this.focusable=b();l!==this&&(b.data(l,this.widgetName,this),b.data(l,this.widgetFullName,this),this._on(this.element,{remove:function(b){b.target===l&&this.destroy()}}),this.document=b(l.style?l.ownerDocument:l.document||l),this.window=b(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:b.noop,_getCreateEventData:b.noop,_create:b.noop,_init:b.noop,
destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(b.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:b.noop,widget:function(){return this.element},
option:function(c,l){var m=c,k,q,v;if(0===arguments.length)return b.widget.extend({},this.options);if("string"==typeof c)if(m={},k=c.split("."),c=k.shift(),k.length){q=m[c]=b.widget.extend({},this.options[c]);for(v=0;v<k.length-1;v++)q[k[v]]=q[k[v]]||{},q=q[k[v]];c=k.pop();if(l===h)return q[c]===h?null:q[c];q[c]=l}else{if(l===h)return this.options[c]===h?null:this.options[c];m[c]=l}return this._setOptions(m),this},_setOptions:function(b){for(var c in b)this._setOption(c,b[c]);return this},_setOption:function(b,
c){return this.options[b]=c,"disabled"===b&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!c).attr("aria-disabled",c),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(c,h){var l,k=this;h?(c=l=b(c),this.bindings=this.bindings.add(c)):(h=c,c=this.element,l=this.widget());b.each(h,function(h,m){function n(){if(!0!==
k.options.disabled&&!b(this).hasClass("ui-state-disabled"))return("string"==typeof m?k[m]:m).apply(k,arguments)}"string"!=typeof m&&(n.guid=m.guid=m.guid||n.guid||b.guid++);var z=h.match(/^(\w+)\s*(.*)$/);h=z[1]+k.eventNamespace;(z=z[2])?l.delegate(z,h,n):c.bind(h,n)})},_off:function(b,c){c=(c||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;b.unbind(c).undelegate(c)},_delay:function(b,c){var h=this;return setTimeout(function(){return("string"==typeof b?h[b]:b).apply(h,arguments)},
c||0)},_hoverable:function(c){this.hoverable=this.hoverable.add(c);this._on(c,{mouseenter:function(c){b(c.currentTarget).addClass("ui-state-hover")},mouseleave:function(c){b(c.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(c){this.focusable=this.focusable.add(c);this._on(c,{focusin:function(c){b(c.currentTarget).addClass("ui-state-focus")},focusout:function(c){b(c.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(c,h,l){var k,m=this.options[c];l=l||{};h=b.Event(h);
h.type=(c===this.widgetEventPrefix?c:this.widgetEventPrefix+c).toLowerCase();h.target=this.element[0];if(c=h.originalEvent)for(k in c)k in h||(h[k]=c[k]);return this.element.trigger(h,l),!(b.isFunction(m)&&!1===m.apply(this.element[0],[h].concat(l))||h.isDefaultPrevented())}};b.each({show:"fadeIn",hide:"fadeOut"},function(c,h){b.Widget.prototype["_"+c]=function(l,k,m){"string"==typeof k&&(k={effect:k});var v,y=k?!0===k||"number"==typeof k?h:k.effect||h:c;k=k||{};"number"==typeof k&&(k={duration:k});
v=!b.isEmptyObject(k);k.complete=m;k.delay&&l.delay(k.delay);v&&b.effects&&(b.effects.effect[y]||!1!==b.uiBackCompat&&b.effects[y])?l[c](k):y!==c&&l[y]?l[y](k.duration,k.easing,m):l.queue(function(k){b(this)[c]();m&&m.call(l[0]);k()})}});!1!==b.uiBackCompat&&(b.Widget.prototype._getCreateOptions=function(){return b.metadata&&b.metadata.get(this.element[0])[this.widgetName]})})(jQuery);
(function(b,h){var c=!1;b(document).mouseup(function(b){c=!1});b.widget("ui.mouse",{version:"1.9.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var c=this;this.element.bind("mousedown."+this.widgetName,function(b){return c._mouseDown(b)}).bind("click."+this.widgetName,function(h){if(!0===b.data(h.target,c.widgetName+".preventClickEvent"))return b.removeData(h.target,c.widgetName+".preventClickEvent"),h.stopImmediatePropagation(),!1});this.started=
!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(h){if(!c){this._mouseStarted&&this._mouseUp(h);this._mouseDownEvent=h;var m=this,p=1===h.which,n="string"==typeof this.options.cancel&&h.target.nodeName?b(h.target).closest(this.options.cancel).length:!1;if(!p||n||!this._mouseCapture(h))return!0;(this.mouseDelayMet=
!this.options.delay)||(this._mouseDelayTimer=setTimeout(function(){m.mouseDelayMet=!0},this.options.delay));return this._mouseDistanceMet(h)&&this._mouseDelayMet(h)&&(this._mouseStarted=!1!==this._mouseStart(h),!this._mouseStarted)?(h.preventDefault(),!0):(!0===b.data(h.target,this.widgetName+".preventClickEvent")&&b.removeData(h.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(b){return m._mouseMove(b)},this._mouseUpDelegate=function(b){return m._mouseUp(b)},b(document).bind("mousemove."+
this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),h.preventDefault(),c=!0,!0)}},_mouseMove:function(c){return!b.ui.ie||9<=document.documentMode||c.button?this._mouseStarted?(this._mouseDrag(c),c.preventDefault()):(this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,c),this._mouseStarted?this._mouseDrag(c):this._mouseUp(c)),!this._mouseStarted):this._mouseUp(c)},_mouseUp:function(c){return b(document).unbind("mousemove."+
this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,c.target===this._mouseDownEvent.target&&b.data(c.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(c)),!1},_mouseDistanceMet:function(b){return Math.max(Math.abs(this._mouseDownEvent.pageX-b.pageX),Math.abs(this._mouseDownEvent.pageY-b.pageY))>=this.options.distance},_mouseDelayMet:function(b){return this.mouseDelayMet},_mouseStart:function(b){},
_mouseDrag:function(b){},_mouseStop:function(b){},_mouseCapture:function(b){return!0}})})(jQuery);
(function(b,h){function c(b,c,k){return[parseInt(b[0],10)*(y.test(b[0])?c/100:1),parseInt(b[1],10)*(y.test(b[1])?k/100:1)]}b.ui=b.ui||{};var l,m=Math.max,p=Math.abs,n=Math.round,u=/left|center|right/,k=/top|center|bottom/,q=/[\+\-]\d+%?/,v=/^\w+/,y=/%$/,z=b.fn.position;b.position={scrollbarWidth:function(){if(l!==h)return l;var c,k,m=b("\x3cdiv style\x3d'display:block;width:50px;height:50px;overflow:hidden;'\x3e\x3cdiv style\x3d'height:100px;width:auto;'\x3e\x3c/div\x3e\x3c/div\x3e"),q=m.children()[0];
return b("body").append(m),c=q.offsetWidth,m.css("overflow","scroll"),k=q.offsetWidth,c===k&&(k=m[0].clientWidth),m.remove(),l=c-k},getScrollInfo:function(c){var k=c.isWindow?"":c.element.css("overflow-x"),h=c.isWindow?"":c.element.css("overflow-y"),h="scroll"===h||"auto"===h&&c.height<c.element[0].scrollHeight;return{width:"scroll"===k||"auto"===k&&c.width<c.element[0].scrollWidth?b.position.scrollbarWidth():0,height:h?b.position.scrollbarWidth():0}},getWithinInfo:function(c){c=b(c||window);var k=
b.isWindow(c[0]);return{element:c,isWindow:k,offset:c.offset()||{left:0,top:0},scrollLeft:c.scrollLeft(),scrollTop:c.scrollTop(),width:k?c.width():c.outerWidth(),height:k?c.height():c.outerHeight()}}};b.fn.position=function(h){if(!h||!h.of)return z.apply(this,arguments);h=b.extend({},h);var l,y,C,x,D,F=b(h.of),E=b.position.getWithinInfo(h.within),G=b.position.getScrollInfo(E),K=F[0],I=(h.collision||"flip").split(" "),J={};return 9===K.nodeType?(y=F.width(),C=F.height(),x={top:0,left:0}):b.isWindow(K)?
(y=F.width(),C=F.height(),x={top:F.scrollTop(),left:F.scrollLeft()}):K.preventDefault?(h.at="left top",y=C=0,x={top:K.pageY,left:K.pageX}):(y=F.outerWidth(),C=F.outerHeight(),x=F.offset()),D=b.extend({},x),b.each(["my","at"],function(){var b=(h[this]||"").split(" "),c,l;1===b.length&&(b=u.test(b[0])?b.concat(["center"]):k.test(b[0])?["center"].concat(b):["center","center"]);b[0]=u.test(b[0])?b[0]:"center";b[1]=k.test(b[1])?b[1]:"center";c=q.exec(b[0]);l=q.exec(b[1]);J[this]=[c?c[0]:0,l?l[0]:0];h[this]=
[v.exec(b[0])[0],v.exec(b[1])[0]]}),1===I.length&&(I[1]=I[0]),"right"===h.at[0]?D.left+=y:"center"===h.at[0]&&(D.left+=y/2),"bottom"===h.at[1]?D.top+=C:"center"===h.at[1]&&(D.top+=C/2),l=c(J.at,y,C),D.left+=l[0],D.top+=l[1],this.each(function(){var k,q,v=b(this),z=v.outerWidth(),u=v.outerHeight(),K=parseInt(b.css(this,"marginLeft"),10)||0,U=parseInt(b.css(this,"marginTop"),10)||0,Q=z+K+(parseInt(b.css(this,"marginRight"),10)||0)+G.width,X=u+U+(parseInt(b.css(this,"marginBottom"),10)||0)+G.height,
O=b.extend({},D),N=c(J.my,v.outerWidth(),v.outerHeight());"right"===h.my[0]?O.left-=z:"center"===h.my[0]&&(O.left-=z/2);"bottom"===h.my[1]?O.top-=u:"center"===h.my[1]&&(O.top-=u/2);O.left+=N[0];O.top+=N[1];b.support.offsetFractions||(O.left=n(O.left),O.top=n(O.top));k={marginLeft:K,marginTop:U};b.each(["left","top"],function(c,m){b.ui.position[I[c]]&&b.ui.position[I[c]][m](O,{targetWidth:y,targetHeight:C,elemWidth:z,elemHeight:u,collisionPosition:k,collisionWidth:Q,collisionHeight:X,offset:[l[0]+
N[0],l[1]+N[1]],my:h.my,at:h.at,within:E,elem:v})});b.fn.bgiframe&&v.bgiframe();h.using&&(q=function(b){var c=x.left-O.left,k=c+y-z,l=x.top-O.top,r=l+C-u,q={target:{element:F,left:x.left,top:x.top,width:y,height:C},element:{element:v,left:O.left,top:O.top,width:z,height:u},horizontal:0>k?"left":0<c?"right":"center",vertical:0>r?"top":0<l?"bottom":"middle"};y<z&&p(c+k)<y&&(q.horizontal="center");C<u&&p(l+r)<C&&(q.vertical="middle");m(p(c),p(k))>m(p(l),p(r))?q.important="horizontal":q.important="vertical";
h.using.call(this,b,q)});v.offset(b.extend(O,{using:q}))})};b.ui.position={fit:{left:function(b,c){var k=c.within,h=k.isWindow?k.scrollLeft:k.offset.left,k=k.width,l=b.left-c.collisionPosition.marginLeft,q=h-l,n=l+c.collisionWidth-k-h,p;c.collisionWidth>k?0<q&&0>=n?(p=b.left+q+c.collisionWidth-k-h,b.left+=q-p):0<n&&0>=q?b.left=h:q>n?b.left=h+k-c.collisionWidth:b.left=h:0<q?b.left+=q:0<n?b.left-=n:b.left=m(b.left-l,b.left)},top:function(b,c){var k=c.within,k=k.isWindow?k.scrollTop:k.offset.top,h=c.within.height,
l=b.top-c.collisionPosition.marginTop,q=k-l,n=l+c.collisionHeight-h-k,p;c.collisionHeight>h?0<q&&0>=n?(p=b.top+q+c.collisionHeight-h-k,b.top+=q-p):0<n&&0>=q?b.top=k:q>n?b.top=k+h-c.collisionHeight:b.top=k:0<q?b.top+=q:0<n?b.top-=n:b.top=m(b.top-l,b.top)}},flip:{left:function(b,c){var k=c.within,h=k.offset.left+k.scrollLeft,l=k.width,m=k.isWindow?k.scrollLeft:k.offset.left,q=b.left-c.collisionPosition.marginLeft,k=q-m,n=q+c.collisionWidth-l-m,q="left"===c.my[0]?-c.elemWidth:"right"===c.my[0]?c.elemWidth:
0,v="left"===c.at[0]?c.targetWidth:"right"===c.at[0]?-c.targetWidth:0,z=-2*c.offset[0];if(0>k){if(c=b.left+q+v+z+c.collisionWidth-l-h,0>c||c<p(k))b.left+=q+v+z}else 0<n&&(c=b.left-c.collisionPosition.marginLeft+q+v+z-m,0<c||p(c)<n)&&(b.left+=q+v+z)},top:function(b,c){var k=c.within,h=k.offset.top+k.scrollTop,l=k.height,k=k.isWindow?k.scrollTop:k.offset.top,m=b.top-c.collisionPosition.marginTop,q=m-k,m=m+c.collisionHeight-l-k,n="top"===c.my[1]?-c.elemHeight:"bottom"===c.my[1]?c.elemHeight:0,v="top"===
c.at[1]?c.targetHeight:"bottom"===c.at[1]?-c.targetHeight:0,z=-2*c.offset[1],y,u;0>q?(u=b.top+n+v+z+c.collisionHeight-l-h,b.top+n+v+z>q&&(0>u||u<p(q))&&(b.top+=n+v+z)):0<m&&(y=b.top-c.collisionPosition.marginTop+n+v+z-k,b.top+n+v+z>m&&(0<y||p(y)<m)&&(b.top+=n+v+z))}},flipfit:{left:function(){b.ui.position.flip.left.apply(this,arguments);b.ui.position.fit.left.apply(this,arguments)},top:function(){b.ui.position.flip.top.apply(this,arguments);b.ui.position.fit.top.apply(this,arguments)}}};(function(){var c,
k,h,l,m=document.getElementsByTagName("body")[0];h=document.createElement("div");c=document.createElement(m?"div":"body");k={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};m&&b.extend(k,{position:"absolute",left:"-1000px",top:"-1000px"});for(l in k)c.style[l]=k[l];c.appendChild(h);k=m||document.documentElement;k.insertBefore(c,k.firstChild);h.style.cssText="position: absolute; left: 10.7432222px;";h=b(h).offset().left;b.support.offsetFractions=10<h&&11>h;c.innerHTML="";
k.removeChild(c)})();!1!==b.uiBackCompat&&function(b){var c=b.fn.position;b.fn.position=function(k){if(!k||!k.offset)return c.call(this,k);var l=k.offset.split(" "),m=k.at.split(" ");return 1===l.length&&(l[1]=l[0]),/^\d/.test(l[0])&&(l[0]="+"+l[0]),/^\d/.test(l[1])&&(l[1]="+"+l[1]),1===m.length&&(/left|center|right/.test(m[0])?m[1]="center":(m[1]=m[0],m[0]="center")),c.call(this,b.extend(k,{at:m[0]+l[0]+" "+m[1]+l[1],offset:h}))}}(jQuery)})(jQuery);
(function(b,h){b.widget("ui.draggable",b.ui.mouse,{version:"1.9.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"==this.options.helper&&!/^(?:r|a|f)/.test(this.element.css("position"))&&
(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(c){var h=this.options;return this.helper||h.disabled||b(c.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(c),this.handle?(b(!0===h.iframeFix?
"iframe":h.iframeFix).each(function(){b('\x3cdiv class\x3d"ui-draggable-iframeFix" style\x3d"background: #fff;"\x3e\x3c/div\x3e').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(b(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(c){var h=this.options;return this.helper=this._createHelper(c),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),b.ui.ddmanager&&(b.ui.ddmanager.current=this),this._cacheMargins(),
this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},b.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(c),this.originalPageX=c.pageX,this.originalPageY=c.pageY,
h.cursorAt&&this._adjustOffsetFromHelper(h.cursorAt),h.containment&&this._setContainment(),!1===this._trigger("start",c)?(this._clear(),!1):(this._cacheHelperProportions(),b.ui.ddmanager&&!h.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,c),this._mouseDrag(c,!0),b.ui.ddmanager&&b.ui.ddmanager.dragStart(this,c),!0)},_mouseDrag:function(c,h){this.position=this._generatePosition(c);this.positionAbs=this._convertPositionTo("absolute");if(!h){h=this._uiHash();if(!1===this._trigger("drag",c,h))return this._mouseUp({}),
!1;this.position=h.position}this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");return b.ui.ddmanager&&b.ui.ddmanager.drag(this,c),!1},_mouseStop:function(c){var h=!1;b.ui.ddmanager&&!this.options.dropBehaviour&&(h=b.ui.ddmanager.drop(this,c));this.dropped&&(h=this.dropped,this.dropped=!1);for(var m=this.element[0],p=!1;m&&(m=m.parentNode);)m==document&&(p=!0);if(!p&&
"original"===this.options.helper)return!1;if("invalid"==this.options.revert&&!h||"valid"==this.options.revert&&h||!0===this.options.revert||b.isFunction(this.options.revert)&&this.options.revert.call(this.element,h)){var n=this;b(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==n._trigger("stop",c)&&n._clear()})}else!1!==this._trigger("stop",c)&&this._clear();return!1},_mouseUp:function(c){return b("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),
b.ui.ddmanager&&b.ui.ddmanager.dragStop(this,c),b.ui.mouse.prototype._mouseUp.call(this,c)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(c){var h=this.options.handle&&b(this.options.handle,this.element).length?!1:!0;return b(this.options.handle,this.element).find("*").andSelf().each(function(){this==c.target&&(h=!0)}),h},_createHelper:function(c){var h=this.options;c=b.isFunction(h.helper)?b(h.helper.apply(this.element[0],
[c])):"clone"==h.helper?this.element.clone().removeAttr("id"):this.element;return c.parents("body").length||c.appendTo("parent"==h.appendTo?this.element[0].parentNode:h.appendTo),c[0]!=this.element[0]&&!/(fixed|absolute)/.test(c.css("position"))&&c.css("position","absolute"),c},_adjustOffsetFromHelper:function(c){"string"==typeof c&&(c=c.split(" "));b.isArray(c)&&(c={left:+c[0],top:+c[1]||0});"left"in c&&(this.offset.click.left=c.left+this.margins.left);"right"in c&&(this.offset.click.left=this.helperProportions.width-
c.right+this.margins.left);"top"in c&&(this.offset.click.top=c.top+this.margins.top);"bottom"in c&&(this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var c=this.offsetParent.offset();"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&b.contains(this.scrollParent[0],this.offsetParent[0])&&(c.left+=this.scrollParent.scrollLeft(),c.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==
document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&b.ui.ie)c={top:0,left:0};return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var b=this.element.position();return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||
0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var c=this.options;"parent"==c.containment&&
(c.containment=this.helper[0].parentNode);if("document"==c.containment||"window"==c.containment)this.containment=["document"==c.containment?0:b(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==c.containment?0:b(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==c.containment?0:b(window).scrollLeft())+b("document"==c.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==c.containment?0:b(window).scrollTop())+
(b("document"==c.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(/^(document|window|parent)$/.test(c.containment)||c.containment.constructor==Array)c.containment.constructor==Array&&(this.containment=c.containment);else{var c=b(c.containment),h=c[0];if(h){c.offset();var m="hidden"!=b(h).css("overflow");this.containment=[(parseInt(b(h).css("borderLeftWidth"),10)||0)+(parseInt(b(h).css("paddingLeft"),10)||0),(parseInt(b(h).css("borderTopWidth"),
10)||0)+(parseInt(b(h).css("paddingTop"),10)||0),(m?Math.max(h.scrollWidth,h.offsetWidth):h.offsetWidth)-(parseInt(b(h).css("borderLeftWidth"),10)||0)-(parseInt(b(h).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(m?Math.max(h.scrollHeight,h.offsetHeight):h.offsetHeight)-(parseInt(b(h).css("borderTopWidth"),10)||0)-(parseInt(b(h).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=c}}},
_convertPositionTo:function(c,h){h||(h=this.position);c="absolute"==c?1:-1;var m="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,p=/(html|body)/i.test(m[0].tagName);return{top:h.top+this.offset.relative.top*c+this.offset.parent.top*c-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():p?0:m.scrollTop())*c,left:h.left+this.offset.relative.left*c+this.offset.parent.left*c-("fixed"==this.cssPosition?
-this.scrollParent.scrollLeft():p?0:m.scrollLeft())*c}},_generatePosition:function(c){var h=this.options,m="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,p=/(html|body)/i.test(m[0].tagName),n=c.pageX,u=c.pageY;if(this.originalPosition){var k;this.containment&&(this.relative_container?(k=this.relative_container.offset(),k=[this.containment[0]+k.left,this.containment[1]+k.top,this.containment[2]+
k.left,this.containment[3]+k.top]):k=this.containment,c.pageX-this.offset.click.left<k[0]&&(n=k[0]+this.offset.click.left),c.pageY-this.offset.click.top<k[1]&&(u=k[1]+this.offset.click.top),c.pageX-this.offset.click.left>k[2]&&(n=k[2]+this.offset.click.left),c.pageY-this.offset.click.top>k[3]&&(u=k[3]+this.offset.click.top));h.grid&&(u=h.grid[1]?this.originalPageY+Math.round((u-this.originalPageY)/h.grid[1])*h.grid[1]:this.originalPageY,u=k?u-this.offset.click.top<k[1]||u-this.offset.click.top>k[3]?
u-this.offset.click.top<k[1]?u+h.grid[1]:u-h.grid[1]:u:u,n=h.grid[0]?this.originalPageX+Math.round((n-this.originalPageX)/h.grid[0])*h.grid[0]:this.originalPageX,n=k?n-this.offset.click.left<k[0]||n-this.offset.click.left>k[2]?n-this.offset.click.left<k[0]?n+h.grid[0]:n-h.grid[0]:n:n)}return{top:u-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():p?0:m.scrollTop()),left:n-this.offset.click.left-this.offset.relative.left-
this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():p?0:m.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1},_trigger:function(c,h,m){return m=m||this._uiHash(),b.ui.plugin.call(this,c,[h,m]),"drag"==c&&(this.positionAbs=this._convertPositionTo("absolute")),b.Widget.prototype._trigger.call(this,c,h,m)},plugins:{},
_uiHash:function(b){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});b.ui.plugin.add("draggable","connectToSortable",{start:function(c,h){var m=b(this).data("draggable"),p=m.options,n=b.extend({},h,{item:m.element});m.sortables=[];b(p.connectToSortable).each(function(){var h=b.data(this,"sortable");h&&!h.options.disabled&&(m.sortables.push({instance:h,shouldRevert:h.options.revert}),h.refreshPositions(),h._trigger("activate",c,n))})},
stop:function(c,h){var m=b(this).data("draggable"),p=b.extend({},h,{item:m.element});b.each(m.sortables,function(){this.instance.isOver?(this.instance.isOver=0,m.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(c),this.instance.options.helper=this.instance.options._helper,"original"==m.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",
c,p))})},drag:function(c,h){var m=b(this).data("draggable"),p=this;b.each(m.sortables,function(n){var u=!1,k=this;this.instance.positionAbs=m.positionAbs;this.instance.helperProportions=m.helperProportions;this.instance.offset.click=m.offset.click;this.instance._intersectsWith(this.instance.containerCache)&&(u=!0,b.each(m.sortables,function(){return this.instance.positionAbs=m.positionAbs,this.instance.helperProportions=m.helperProportions,this.instance.offset.click=m.offset.click,this!=k&&this.instance._intersectsWith(this.instance.containerCache)&&
b.ui.contains(k.instance.element[0],this.instance.element[0])&&(u=!1),u}));u?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=b(p).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return h.helper[0]},c.target=this.instance.currentItem[0],this.instance._mouseCapture(c,!0),this.instance._mouseStart(c,!0,!0),this.instance.offset.click.top=m.offset.click.top,
this.instance.offset.click.left=m.offset.click.left,this.instance.offset.parent.left-=m.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=m.offset.parent.top-this.instance.offset.parent.top,m._trigger("toSortable",c),m.dropped=this.instance.element,m.currentItem=m.element,this.instance.fromOutside=m),this.instance.currentItem&&this.instance._mouseDrag(c)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=
!1,this.instance._trigger("out",c,this.instance._uiHash(this.instance)),this.instance._mouseStop(c,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),m._trigger("fromSortable",c),m.dropped=!1)})}});b.ui.plugin.add("draggable","cursor",{start:function(c,h){c=b("body");h=b(this).data("draggable").options;c.css("cursor")&&(h._cursor=c.css("cursor"));c.css("cursor",h.cursor)},stop:function(c,h){c=
b(this).data("draggable").options;c._cursor&&b("body").css("cursor",c._cursor)}});b.ui.plugin.add("draggable","opacity",{start:function(c,h){c=b(h.helper);h=b(this).data("draggable").options;c.css("opacity")&&(h._opacity=c.css("opacity"));c.css("opacity",h.opacity)},stop:function(c,h){c=b(this).data("draggable").options;c._opacity&&b(h.helper).css("opacity",c._opacity)}});b.ui.plugin.add("draggable","scroll",{start:function(c,h){c=b(this).data("draggable");c.scrollParent[0]!=document&&"HTML"!=c.scrollParent[0].tagName&&
(c.overflowOffset=c.scrollParent.offset())},drag:function(c,h){h=b(this).data("draggable");var m=h.options,p=!1;h.scrollParent[0]!=document&&"HTML"!=h.scrollParent[0].tagName?(m.axis&&"x"==m.axis||(h.overflowOffset.top+h.scrollParent[0].offsetHeight-c.pageY<m.scrollSensitivity?h.scrollParent[0].scrollTop=p=h.scrollParent[0].scrollTop+m.scrollSpeed:c.pageY-h.overflowOffset.top<m.scrollSensitivity&&(h.scrollParent[0].scrollTop=p=h.scrollParent[0].scrollTop-m.scrollSpeed)),m.axis&&"y"==m.axis||(h.overflowOffset.left+
h.scrollParent[0].offsetWidth-c.pageX<m.scrollSensitivity?h.scrollParent[0].scrollLeft=p=h.scrollParent[0].scrollLeft+m.scrollSpeed:c.pageX-h.overflowOffset.left<m.scrollSensitivity&&(h.scrollParent[0].scrollLeft=p=h.scrollParent[0].scrollLeft-m.scrollSpeed))):(m.axis&&"x"==m.axis||(c.pageY-b(document).scrollTop()<m.scrollSensitivity?p=b(document).scrollTop(b(document).scrollTop()-m.scrollSpeed):b(window).height()-(c.pageY-b(document).scrollTop())<m.scrollSensitivity&&(p=b(document).scrollTop(b(document).scrollTop()+
m.scrollSpeed))),m.axis&&"y"==m.axis||(c.pageX-b(document).scrollLeft()<m.scrollSensitivity?p=b(document).scrollLeft(b(document).scrollLeft()-m.scrollSpeed):b(window).width()-(c.pageX-b(document).scrollLeft())<m.scrollSensitivity&&(p=b(document).scrollLeft(b(document).scrollLeft()+m.scrollSpeed))));!1!==p&&b.ui.ddmanager&&!m.dropBehaviour&&b.ui.ddmanager.prepareOffsets(h,c)}});b.ui.plugin.add("draggable","snap",{start:function(c,h){var m=b(this).data("draggable");c=m.options;m.snapElements=[];b(c.snap.constructor!=
String?c.snap.items||":data(draggable)":c.snap).each(function(){var c=b(this),h=c.offset();this!=m.element[0]&&m.snapElements.push({item:this,width:c.outerWidth(),height:c.outerHeight(),top:h.top,left:h.left})})},drag:function(c,h){for(var m=b(this).data("draggable"),p=m.options,n=p.snapTolerance,u=h.offset.left,k=u+m.helperProportions.width,q=h.offset.top,v=q+m.helperProportions.height,y=m.snapElements.length-1;0<=y;y--){var z=m.snapElements[y].left,A=z+m.snapElements[y].width,r=m.snapElements[y].top,
B=r+m.snapElements[y].height;if(z-n<u&&u<A+n&&r-n<q&&q<B+n||z-n<u&&u<A+n&&r-n<v&&v<B+n||z-n<k&&k<A+n&&r-n<q&&q<B+n||z-n<k&&k<A+n&&r-n<v&&v<B+n){if("inner"!=p.snapMode){var C=Math.abs(r-v)<=n,x=Math.abs(B-q)<=n,D=Math.abs(z-k)<=n,F=Math.abs(A-u)<=n;C&&(h.position.top=m._convertPositionTo("relative",{top:r-m.helperProportions.height,left:0}).top-m.margins.top);x&&(h.position.top=m._convertPositionTo("relative",{top:B,left:0}).top-m.margins.top);D&&(h.position.left=m._convertPositionTo("relative",{top:0,
left:z-m.helperProportions.width}).left-m.margins.left);F&&(h.position.left=m._convertPositionTo("relative",{top:0,left:A}).left-m.margins.left)}var E=C||x||D||F;"outer"!=p.snapMode&&(C=Math.abs(r-q)<=n,x=Math.abs(B-v)<=n,D=Math.abs(z-u)<=n,F=Math.abs(A-k)<=n,C&&(h.position.top=m._convertPositionTo("relative",{top:r,left:0}).top-m.margins.top),x&&(h.position.top=m._convertPositionTo("relative",{top:B-m.helperProportions.height,left:0}).top-m.margins.top),D&&(h.position.left=m._convertPositionTo("relative",
{top:0,left:z}).left-m.margins.left),F&&(h.position.left=m._convertPositionTo("relative",{top:0,left:A-m.helperProportions.width}).left-m.margins.left));!m.snapElements[y].snapping&&(C||x||D||F||E)&&m.options.snap.snap&&m.options.snap.snap.call(m.element,c,b.extend(m._uiHash(),{snapItem:m.snapElements[y].item}));m.snapElements[y].snapping=C||x||D||F||E}else m.snapElements[y].snapping&&m.options.snap.release&&m.options.snap.release.call(m.element,c,b.extend(m._uiHash(),{snapItem:m.snapElements[y].item})),
m.snapElements[y].snapping=!1}}});b.ui.plugin.add("draggable","stack",{start:function(c,h){c=b(this).data("draggable").options;c=b.makeArray(b(c.stack)).sort(function(c,h){return(parseInt(b(c).css("zIndex"),10)||0)-(parseInt(b(h).css("zIndex"),10)||0)});if(c.length){var m=parseInt(c[0].style.zIndex)||0;b(c).each(function(b){this.style.zIndex=m+b});this[0].style.zIndex=m+c.length}}});b.ui.plugin.add("draggable","zIndex",{start:function(c,h){c=b(h.helper);h=b(this).data("draggable").options;c.css("zIndex")&&
(h._zIndex=c.css("zIndex"));c.css("zIndex",h.zIndex)},stop:function(c,h){c=b(this).data("draggable").options;c._zIndex&&b(h.helper).css("zIndex",c._zIndex)}})})(jQuery);
(function(b,h){b.widget("ui.droppable",{version:"1.9.1",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var c=this.options,h=c.accept;this.isover=0;this.isout=1;this.accept=b.isFunction(h)?h:function(b){return b.is(h)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};b.ui.ddmanager.droppables[c.scope]=b.ui.ddmanager.droppables[c.scope]||[];b.ui.ddmanager.droppables[c.scope].push(this);
c.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var c=b.ui.ddmanager.droppables[this.options.scope],h=0;h<c.length;h++)c[h]==this&&c.splice(h,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(c,h){"accept"==c&&(this.accept=b.isFunction(h)?h:function(b){return b.is(h)});b.Widget.prototype._setOption.apply(this,arguments)},_activate:function(c){var h=b.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass);
h&&this._trigger("activate",c,this.ui(h))},_deactivate:function(c){var h=b.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);h&&this._trigger("deactivate",c,this.ui(h))},_over:function(c){var h=b.ui.ddmanager.current;h&&(h.currentItem||h.element)[0]!=this.element[0]&&this.accept.call(this.element[0],h.currentItem||h.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",c,this.ui(h)))},_out:function(c){var h=
b.ui.ddmanager.current;h&&(h.currentItem||h.element)[0]!=this.element[0]&&this.accept.call(this.element[0],h.currentItem||h.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",c,this.ui(h)))},_drop:function(c,h){var m=h||b.ui.ddmanager.current;if(!m||(m.currentItem||m.element)[0]==this.element[0])return!1;var p=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var c=b.data(this,"droppable");if(c.options.greedy&&
!c.options.disabled&&c.options.scope==m.options.scope&&c.accept.call(c.element[0],m.currentItem||m.element)&&b.ui.intersect(m,b.extend(c,{offset:c.element.offset()}),c.options.tolerance))return p=!0,!1}),p?!1:this.accept.call(this.element[0],m.currentItem||m.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",c,this.ui(m)),this.element):!1},ui:function(b){return{draggable:b.currentItem||
b.element,helper:b.helper,position:b.position,offset:b.positionAbs}}});b.ui.intersect=function(c,h,m){if(!h.offset)return!1;var p=(c.positionAbs||c.position.absolute).left,n=p+c.helperProportions.width,u=(c.positionAbs||c.position.absolute).top,k=u+c.helperProportions.height,q=h.offset.left,v=q+h.proportions.width,y=h.offset.top,z=y+h.proportions.height;switch(m){case "fit":return q<=p&&n<=v&&y<=u&&k<=z;case "intersect":return q<p+c.helperProportions.width/2&&n-c.helperProportions.width/2<v&&y<u+
c.helperProportions.height/2&&k-c.helperProportions.height/2<z;case "pointer":return b.ui.isOver((c.positionAbs||c.position.absolute).top+(c.clickOffset||c.offset.click).top,(c.positionAbs||c.position.absolute).left+(c.clickOffset||c.offset.click).left,y,q,h.proportions.height,h.proportions.width);case "touch":return(u>=y&&u<=z||k>=y&&k<=z||u<y&&k>z)&&(p>=q&&p<=v||n>=q&&n<=v||p<q&&n>v);default:return!1}};b.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(c,h){var m=b.ui.ddmanager.droppables[c.options.scope]||
[],p=h?h.type:null,n=(c.currentItem||c.element).find(":data(droppable)").andSelf(),u=0;a:for(;u<m.length;u++)if(!(m[u].options.disabled||c&&!m[u].accept.call(m[u].element[0],c.currentItem||c.element))){for(var k=0;k<n.length;k++)if(n[k]==m[u].element[0]){m[u].proportions.height=0;continue a}m[u].visible="none"!=m[u].element.css("display");m[u].visible&&("mousedown"==p&&m[u]._activate.call(m[u],h),m[u].offset=m[u].element.offset(),m[u].proportions={width:m[u].element[0].offsetWidth,height:m[u].element[0].offsetHeight},
"undefined"!=typeof DKI&&"undefined"!=typeof DKI.utility&&"undefined"!=typeof DKI.utility.getScale&&(k=DKI.utility.getScale(),m[u].proportions.width*=k,m[u].proportions.height*=k))}},drop:function(c,h){var m=!1;return b.each(b.ui.ddmanager.droppables[c.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&b.ui.intersect(c,this,this.options.tolerance)&&(m=this._drop.call(this,h)||m),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],c.currentItem||c.element)&&
(this.isout=1,this.isover=0,this._deactivate.call(this,h)))}),m},dragStart:function(c,h){c.element.parentsUntil("body").bind("scroll.droppable",function(){c.options.refreshPositions||b.ui.ddmanager.prepareOffsets(c,h)})},drag:function(c,h){c.options.refreshPositions&&b.ui.ddmanager.prepareOffsets(c,h);b.each(b.ui.ddmanager.droppables[c.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var m=b.ui.intersect(c,this,this.options.tolerance);if(m=m||1!=this.isover?
m&&0==this.isover?"isover":null:"isout"){var p;if(this.options.greedy){var n=this.options.scope,u=this.element.parents(":data(droppable)").filter(function(){return b.data(this,"droppable").options.scope===n});u.length&&(p=b.data(u[0],"droppable"),p.greedyChild="isover"==m?1:0)}p&&"isover"==m&&(p.isover=0,p.isout=1,p._out.call(p,h));this[m]=1;this["isout"==m?"isover":"isout"]=0;this["isover"==m?"_over":"_out"].call(this,h);p&&"isout"==m&&(p.isout=0,p.isover=1,p._over.call(p,h))}}})},dragStop:function(c,
h){c.element.parentsUntil("body").unbind("scroll.droppable");c.options.refreshPositions||b.ui.ddmanager.prepareOffsets(c,h)}}})(jQuery);
(function(b,h){b.widget("ui.resizable",b.ui.mouse,{version:"1.9.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1E3},_create:function(){var c=this,h=this.options;this.element.addClass("ui-resizable");b.extend(this,{_aspectRatio:!!h.aspectRatio,aspectRatio:h.aspectRatio,originalElement:this.element,
_proportionallyResizeElements:[],_helper:h.helper||h.ghost||h.animate?h.helper||"ui-resizable-helper":null});this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(b('\x3cdiv class\x3d"ui-wrapper" style\x3d"overflow: hidden;"\x3e\x3c/div\x3e').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",
this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",
zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize());this.handles=h.handles||(b(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");if(this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var l=this.handles.split(",");
this.handles={};for(var u=0;u<l.length;u++){var k=b.trim(l[u]),q=b('\x3cdiv class\x3d"ui-resizable-handle ui-resizable-'+k+'"\x3e\x3c/div\x3e');q.css({zIndex:h.zIndex});"se"==k&&q.addClass("ui-icon ui-icon-gripsmall-diagonal-se");this.handles[k]=".ui-resizable-"+k;this.element.append(q)}}this._renderAxis=function(c){c=c||this.element;for(var k in this.handles){this.handles[k].constructor==String&&(this.handles[k]=b(this.handles[k],this.element).show());if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var h=
b(this.handles[k],this.element),h=/sw|ne|nw|se|n|s/.test(k)?h.outerHeight():h.outerWidth(),l=["padding",/ne|nw|n/.test(k)?"Top":/se|sw|s/.test(k)?"Bottom":/^e$/.test(k)?"Right":"Left"].join("");c.css(l,h);this._proportionallyResize()}b(this.handles[k])}};this._renderAxis(this.element);this._handles=b(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!c.resizing){if(this.className)var b=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);c.axis=b&&
b[1]?b[1]:"se"}});h.autoHide&&(this._handles.hide(),b(this.element).addClass("ui-resizable-autohide").mouseenter(function(){h.disabled||(b(this).removeClass("ui-resizable-autohide"),c._handles.show())}).mouseleave(function(){h.disabled||c.resizing||(b(this).addClass("ui-resizable-autohide"),c._handles.hide())}));this._mouseInit()},_destroy:function(){this._mouseDestroy();var c=function(c){b(c).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};
if(this.elementIsWrapper){c(this.element);var h=this.element;this.originalElement.css({position:h.css("position"),width:h.outerWidth(),height:h.outerHeight(),top:h.css("top"),left:h.css("left")}).insertAfter(h);h.remove()}return this.originalElement.css("resize",this.originalResizeStyle),c(this.originalElement),this},_mouseCapture:function(c){var h=!1,l;for(l in this.handles)b(this.handles[l])[0]==c.target&&(h=!0);return!this.options.disabled&&h},_mouseStart:function(h){var l=this.options,n=this.element.position(),
u=this.element;this.resizing=!0;this.documentScroll={top:b(document).scrollTop(),left:b(document).scrollLeft()};(u.is(".ui-draggable")||/absolute/.test(u.css("position")))&&u.css({position:"absolute",top:n.top,left:n.left});this._renderProxy();var n=c(this.helper.css("left")),k=c(this.helper.css("top"));l.containment&&(n+=b(l.containment).scrollLeft()||0,k+=b(l.containment).scrollTop()||0);this.offset=this.helper.offset();this.position={left:n,top:k};this.size=this._helper?{width:u.outerWidth(),height:u.outerHeight()}:
{width:u.width(),height:u.height()};this.originalSize=this._helper?{width:u.outerWidth(),height:u.outerHeight()}:{width:u.width(),height:u.height()};this.originalPosition={left:n,top:k};this.sizeDiff={width:u.outerWidth()-u.width(),height:u.outerHeight()-u.height()};this.originalMousePosition={left:h.pageX,top:h.pageY};this.aspectRatio="number"==typeof l.aspectRatio?l.aspectRatio:this.originalSize.width/this.originalSize.height||1;l=b(".ui-resizable-"+this.axis).css("cursor");return b("body").css("cursor",
"auto"==l?this.axis+"-resize":l),u.addClass("ui-resizable-resizing"),this._propagate("start",h),!0},_mouseDrag:function(b){var c=this.helper,h=this.originalMousePosition,l=this._change[this.axis];if(!l)return!1;h=l.apply(this,[b,b.pageX-h.left||0,b.pageY-h.top||0]);this._updateVirtualBoundaries(b.shiftKey);if(this._aspectRatio||b.shiftKey)h=this._updateRatio(h,b);return h=this._respectSize(h,b),this._propagate("resize",b),c.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+
"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(h),this._trigger("resize",b,this.ui()),!1},_mouseStop:function(c){this.resizing=!1;var h=this.options;if(this._helper){var l=this._proportionallyResizeElements,u=l.length&&/textarea/i.test(l[0].nodeName),l=u&&b.ui.hasScroll(l[0],"left")?0:this.sizeDiff.height,u=u?0:this.sizeDiff.width,u={width:this.helper.width()-u,height:this.helper.height()-l},l=parseInt(this.element.css("left"),
10)+(this.position.left-this.originalPosition.left)||null,k=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null;h.animate||this.element.css(b.extend(u,{top:k,left:l}));this.helper.height(this.size.height);this.helper.width(this.size.width);this._helper&&!h.animate&&this._proportionallyResize()}return b("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",c),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(b){var c=
this.options,h,u,k,c={minWidth:l(c.minWidth)?c.minWidth:0,maxWidth:l(c.maxWidth)?c.maxWidth:Infinity,minHeight:l(c.minHeight)?c.minHeight:0,maxHeight:l(c.maxHeight)?c.maxHeight:Infinity};if(this._aspectRatio||b)b=c.minHeight*this.aspectRatio,u=c.minWidth/this.aspectRatio,h=c.maxHeight*this.aspectRatio,k=c.maxWidth/this.aspectRatio,b>c.minWidth&&(c.minWidth=b),u>c.minHeight&&(c.minHeight=u),h<c.maxWidth&&(c.maxWidth=h),k<c.maxHeight&&(c.maxHeight=k);this._vBoundaries=c},_updateCache:function(b){this.offset=
this.helper.offset();l(b.left)&&(this.position.left=b.left);l(b.top)&&(this.position.top=b.top);l(b.height)&&(this.size.height=b.height);l(b.width)&&(this.size.width=b.width)},_updateRatio:function(b,c){c=this.position;var h=this.size,u=this.axis;return l(b.height)?b.width=b.height*this.aspectRatio:l(b.width)&&(b.height=b.width/this.aspectRatio),"sw"==u&&(b.left=c.left+(h.width-b.width),b.top=null),"nw"==u&&(b.top=c.top+(h.height-b.height),b.left=c.left+(h.width-b.width)),b},_respectSize:function(b,
c){c=this._vBoundaries;var h=this.axis,u=l(b.width)&&c.maxWidth&&c.maxWidth<b.width,k=l(b.height)&&c.maxHeight&&c.maxHeight<b.height,q=l(b.width)&&c.minWidth&&c.minWidth>b.width,v=l(b.height)&&c.minHeight&&c.minHeight>b.height;q&&(b.width=c.minWidth);v&&(b.height=c.minHeight);u&&(b.width=c.maxWidth);k&&(b.height=c.maxHeight);var y=this.originalPosition.left+this.originalSize.width,z=this.position.top+this.size.height,A=/sw|nw|w/.test(h),h=/nw|ne|n/.test(h);q&&A&&(b.left=y-c.minWidth);u&&A&&(b.left=
y-c.maxWidth);v&&h&&(b.top=z-c.minHeight);k&&h&&(b.top=z-c.maxHeight);c=!b.width&&!b.height;return c&&!b.left&&b.top?b.top=null:c&&!b.top&&b.left&&(b.left=null),b},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var c=this.helper||this.element,h=0;h<this._proportionallyResizeElements.length;h++){var l=this._proportionallyResizeElements[h];if(!this.borderDif){var u=[l.css("borderTopWidth"),l.css("borderRightWidth"),l.css("borderBottomWidth"),l.css("borderLeftWidth")],
k=[l.css("paddingTop"),l.css("paddingRight"),l.css("paddingBottom"),l.css("paddingLeft")];this.borderDif=b.map(u,function(b,c){b=parseInt(b,10)||0;c=parseInt(k[c],10)||0;return b+c})}l.css({height:c.height()-this.borderDif[0]-this.borderDif[2]||0,width:c.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var c=this.options;this.elementOffset=this.element.offset();if(this._helper){this.helper=this.helper||b('\x3cdiv style\x3d"overflow:hidden;"\x3e\x3c/div\x3e');var h=b.ui.ie6?
1:0,l=b.ui.ie6?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+l,height:this.element.outerHeight()+l,position:"absolute",left:this.elementOffset.left-h+"px",top:this.elementOffset.top-h+"px",zIndex:++c.zIndex});this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(b,c,h){return{width:this.originalSize.width+c}},w:function(b,c,h){return{left:this.originalPosition.left+c,width:this.originalSize.width-c}},n:function(b,c,h){return{top:this.originalPosition.top+
h,height:this.originalSize.height-h}},s:function(b,c,h){return{height:this.originalSize.height+h}},se:function(c,h,l){return b.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[c,h,l]))},sw:function(c,h,l){return b.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[c,h,l]))},ne:function(c,h,l){return b.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[c,h,l]))},nw:function(c,h,l){return b.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,
[c,h,l]))}},_propagate:function(c,h){b.ui.plugin.call(this,c,[h,this.ui()]);"resize"!=c&&this._trigger(c,h,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});b.ui.plugin.add("resizable","alsoResize",{start:function(c,h){c=b(this).data("resizable").options;var l=function(c){b(c).each(function(){var c=b(this);c.data("resizable-alsoresize",
{width:parseInt(c.width(),10),height:parseInt(c.height(),10),left:parseInt(c.css("left"),10),top:parseInt(c.css("top"),10)})})};"object"!=typeof c.alsoResize||c.alsoResize.parentNode?l(c.alsoResize):c.alsoResize.length?(c.alsoResize=c.alsoResize[0],l(c.alsoResize)):b.each(c.alsoResize,function(b){l(b)})},resize:function(c,h){c=b(this).data("resizable");var l=c.options,u=c.originalSize,k=c.originalPosition,q={height:c.size.height-u.height||0,width:c.size.width-u.width||0,top:c.position.top-k.top||
0,left:c.position.left-k.left||0},v=function(c,k){b(c).each(function(){var c=b(this),l=b(this).data("resizable-alsoresize"),m={},n=k&&k.length?k:c.parents(h.originalElement[0]).length?["width","height"]:["width","height","top","left"];b.each(n,function(b,c){(b=(l[c]||0)+(q[c]||0))&&0<=b&&(m[c]=b||null)});c.css(m)})};"object"!=typeof l.alsoResize||l.alsoResize.nodeType?v(l.alsoResize):b.each(l.alsoResize,function(b,c){v(b,c)})},stop:function(c,h){b(this).removeData("resizable-alsoresize")}});b.ui.plugin.add("resizable",
"animate",{stop:function(c,h){var l=b(this).data("resizable");h=l.options;var u=l._proportionallyResizeElements,k=u.length&&/textarea/i.test(u[0].nodeName),q=k&&b.ui.hasScroll(u[0],"left")?0:l.sizeDiff.height,k={width:l.size.width-(k?0:l.sizeDiff.width),height:l.size.height-q},q=parseInt(l.element.css("left"),10)+(l.position.left-l.originalPosition.left)||null,v=parseInt(l.element.css("top"),10)+(l.position.top-l.originalPosition.top)||null;l.element.animate(b.extend(k,v&&q?{top:v,left:q}:{}),{duration:h.animateDuration,
easing:h.animateEasing,step:function(){var k={width:parseInt(l.element.css("width"),10),height:parseInt(l.element.css("height"),10),top:parseInt(l.element.css("top"),10),left:parseInt(l.element.css("left"),10)};u&&u.length&&b(u[0]).css({width:k.width,height:k.height});l._updateCache(k);l._propagate("resize",c)}})}});b.ui.plugin.add("resizable","containment",{start:function(h,l){h=b(this).data("resizable");l=h.element;var n=h.options.containment;if(l=n instanceof b?n.get(0):/parent/.test(n)?l.parent().get(0):
n)if(h.containerElement=b(l),/document/.test(n)||n==document)h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:b(document),left:0,top:0,width:b(document).width(),height:b(document).height()||document.body.parentNode.scrollHeight};else{var u=b(l),k=[];b(["Top","Right","Left","Bottom"]).each(function(b,h){k[b]=c(u.css("padding"+h))});h.containerOffset=u.offset();h.containerPosition=u.position();h.containerSize={height:u.innerHeight()-k[3],width:u.innerWidth()-
k[1]};var n=h.containerOffset,q=h.containerSize.height,v=h.containerSize.width,v=b.ui.hasScroll(l,"left")?l.scrollWidth:v,q=b.ui.hasScroll(l)?l.scrollHeight:q;h.parentData={element:l,left:n.left,top:n.top,width:v,height:q}}},resize:function(c,h){h=b(this).data("resizable");var l=h.options,u=h.containerOffset,k=h.position;c=h._aspectRatio||c.shiftKey;var q={top:0,left:0},v=h.containerElement;v[0]!=document&&/static/.test(v.css("position"))&&(q=u);k.left<(h._helper?u.left:0)&&(h.size.width+=h._helper?
h.position.left-u.left:h.position.left-q.left,c&&(h.size.height=h.size.width/h.aspectRatio),h.position.left=l.helper?u.left:0);k.top<(h._helper?u.top:0)&&(h.size.height+=h._helper?h.position.top-u.top:h.position.top,c&&(h.size.width=h.size.height*h.aspectRatio),h.position.top=h._helper?u.top:0);h.offset.left=h.parentData.left+h.position.left;h.offset.top=h.parentData.top+h.position.top;l=Math.abs(h.offset.left-q.left+h.sizeDiff.width);u=Math.abs((h._helper?h.offset.top-q.top:h.offset.top-u.top)+h.sizeDiff.height);
k=h.containerElement.get(0)==h.element.parent().get(0);q=/relative|absolute/.test(h.containerElement.css("position"));k&&q&&(l-=h.parentData.left);l+h.size.width>=h.parentData.width&&(h.size.width=h.parentData.width-l,c&&(h.size.height=h.size.width/h.aspectRatio));u+h.size.height>=h.parentData.height&&(h.size.height=h.parentData.height-u,c&&(h.size.width=h.size.height*h.aspectRatio))},stop:function(c,h){c=b(this).data("resizable");h=c.options;var l=c.containerOffset,u=c.containerPosition,k=c.containerElement,
q=b(c.helper),v=q.offset(),y=q.outerWidth()-c.sizeDiff.width,q=q.outerHeight()-c.sizeDiff.height;c._helper&&!h.animate&&/relative/.test(k.css("position"))&&b(this).css({left:v.left-u.left-l.left,width:y,height:q});c._helper&&!h.animate&&/static/.test(k.css("position"))&&b(this).css({left:v.left-u.left-l.left,width:y,height:q})}});b.ui.plugin.add("resizable","ghost",{start:function(c,h){c=b(this).data("resizable");h=c.options;var l=c.size;c.ghost=c.originalElement.clone();c.ghost.css({opacity:.25,
display:"block",position:"relative",height:l.height,width:l.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof h.ghost?h.ghost:"");c.ghost.appendTo(c.helper)},resize:function(c,h){c=b(this).data("resizable");c.ghost&&c.ghost.css({position:"relative",height:c.size.height,width:c.size.width})},stop:function(c,h){c=b(this).data("resizable");c.ghost&&c.helper&&c.helper.get(0).removeChild(c.ghost.get(0))}});b.ui.plugin.add("resizable","grid",{resize:function(c,h){c=
b(this).data("resizable");var l=c.options,u=c.size;h=c.originalSize;var k=c.originalPosition,q=c.axis;l.grid="number"==typeof l.grid?[l.grid,l.grid]:l.grid;var v=Math.round((u.width-h.width)/(l.grid[0]||1))*(l.grid[0]||1),l=Math.round((u.height-h.height)/(l.grid[1]||1))*(l.grid[1]||1);/^(se|s|e)$/.test(q)?(c.size.width=h.width+v,c.size.height=h.height+l):/^(ne)$/.test(q)?(c.size.width=h.width+v,c.size.height=h.height+l,c.position.top=k.top-l):/^(sw)$/.test(q)?(c.size.width=h.width+v,c.size.height=
h.height+l,c.position.left=k.left-v):(c.size.width=h.width+v,c.size.height=h.height+l,c.position.top=k.top-l,c.position.left=k.left-v)}});var c=function(b){return parseInt(b,10)||0},l=function(b){return!isNaN(parseInt(b,10))}})(jQuery);
(function(b,h){b.widget("ui.selectable",b.ui.mouse,{version:"1.9.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var c=this;this.element.addClass("ui-selectable");this.dragged=!1;var h;this.refresh=function(){h=b(c.options.filter,c.element[0]);h.addClass("ui-selectee");h.each(function(){var c=b(this),h=c.offset();b.data(this,"selectable-item",{element:this,$element:c,left:h.left,top:h.top,right:h.left+c.outerWidth(),bottom:h.top+c.outerHeight(),
startselected:!1,selected:c.hasClass("ui-selected"),selecting:c.hasClass("ui-selecting"),unselecting:c.hasClass("ui-unselecting")})})};this.refresh();this.selectees=h.addClass("ui-selectee");this._mouseInit();this.helper=b("\x3cdiv class\x3d'ui-selectable-helper'\x3e\x3c/div\x3e")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled");this._mouseDestroy()},_mouseStart:function(c){var h=this;this.opos=
[c.pageX,c.pageY];if(!this.options.disabled){var m=this.options;this.selectees=b(m.filter,this.element[0]);this._trigger("start",c);b(m.appendTo).append(this.helper);this.helper.css({left:c.clientX,top:c.clientY,width:0,height:0});m.autoRefresh&&this.refresh();this.selectees.filter(".ui-selected").each(function(){var m=b.data(this,"selectable-item");m.startselected=!0;c.metaKey||c.ctrlKey||(m.$element.removeClass("ui-selected"),m.selected=!1,m.$element.addClass("ui-unselecting"),m.unselecting=!0,
h._trigger("unselecting",c,{unselecting:m.element}))});b(c.target).parents().andSelf().each(function(){var m=b.data(this,"selectable-item");if(m){var n=!c.metaKey&&!c.ctrlKey||!m.$element.hasClass("ui-selected");return m.$element.removeClass(n?"ui-unselecting":"ui-selected").addClass(n?"ui-selecting":"ui-unselecting"),m.unselecting=!n,m.selecting=n,m.selected=n,n?h._trigger("selecting",c,{selecting:m.element}):h._trigger("unselecting",c,{unselecting:m.element}),!1}})}},_mouseDrag:function(c){var h=
this;this.dragged=!0;if(!this.options.disabled){var m=this.options,p=this.opos[0],n=this.opos[1],u=c.pageX,k=c.pageY;p>u&&(p=u=p);n>k&&(n=k=n);return this.helper.css({left:p,top:n,width:u-p,height:k-n}),this.selectees.each(function(){var q=b.data(this,"selectable-item");if(q&&q.element!=h.element[0]){var v=!1;"touch"==m.tolerance?v=!(q.left>u||q.right<p||q.top>k||q.bottom<n):"fit"==m.tolerance&&(v=q.left>p&&q.right<u&&q.top>n&&q.bottom<k);v?(q.selected&&(q.$element.removeClass("ui-selected"),q.selected=
!1),q.unselecting&&(q.$element.removeClass("ui-unselecting"),q.unselecting=!1),q.selecting||(q.$element.addClass("ui-selecting"),q.selecting=!0,h._trigger("selecting",c,{selecting:q.element}))):(q.selecting&&((c.metaKey||c.ctrlKey)&&q.startselected?(q.$element.removeClass("ui-selecting"),q.selecting=!1,q.$element.addClass("ui-selected"),q.selected=!0):(q.$element.removeClass("ui-selecting"),q.selecting=!1,q.startselected&&(q.$element.addClass("ui-unselecting"),q.unselecting=!0),h._trigger("unselecting",
c,{unselecting:q.element}))),q.selected&&!c.metaKey&&!c.ctrlKey&&!q.startselected&&(q.$element.removeClass("ui-selected"),q.selected=!1,q.$element.addClass("ui-unselecting"),q.unselecting=!0,h._trigger("unselecting",c,{unselecting:q.element})))}}),!1}},_mouseStop:function(c){var h=this;this.dragged=!1;return b(".ui-unselecting",this.element[0]).each(function(){var m=b.data(this,"selectable-item");m.$element.removeClass("ui-unselecting");m.unselecting=!1;m.startselected=!1;h._trigger("unselected",
c,{unselected:m.element})}),b(".ui-selecting",this.element[0]).each(function(){var m=b.data(this,"selectable-item");m.$element.removeClass("ui-selecting").addClass("ui-selected");m.selecting=!1;m.selected=!0;m.startselected=!0;h._trigger("selected",c,{selected:m.element})}),this._trigger("stop",c),this.helper.remove(),!1}})})(jQuery);
(function(b,h){b.widget("ui.sortable",b.ui.mouse,{version:"1.9.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"\x3e *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3},_create:function(){var b=this.options;this.containerCache={};this.element.addClass("ui-sortable");
this.refresh();this.floating=this.items.length?"x"===b.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1;this.offset=this.element.offset();this._mouseInit();this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();for(var b=this.items.length-1;0<=b;b--)this.items[b].item.removeData(this.widgetName+"-item");return this},_setOption:function(c,h){"disabled"===c?(this.options[c]=
h,this.widget().toggleClass("ui-sortable-disabled",!!h)):b.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(c,h){var m=this;if(this.reverting||this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(c);var p=null;b(c.target).parents().each(function(){if(b.data(this,m.widgetName+"-item")==m)return p=b(this),!1});b.data(c.target,m.widgetName+"-item")==m&&(p=b(c.target));if(!p)return!1;if(this.options.handle&&!h){var n=!1;b(this.options.handle,p).find("*").andSelf().each(function(){this==
c.target&&(n=!0)});if(!n)return!1}return this.currentItem=p,this._removeCurrentsFromItems(),!0},_mouseStart:function(c,h,m){h=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(c);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};b.extend(this.offset,{click:{left:c.pageX-this.offset.left,
top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(c);this.originalPageX=c.pageX;this.originalPageY=c.pageY;h.cursorAt&&this._adjustOffsetFromHelper(h.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!=this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();
h.containment&&this._setContainment();h.cursor&&(b("body").css("cursor")&&(this._storedCursor=b("body").css("cursor")),b("body").css("cursor",h.cursor));h.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",h.opacity));h.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",h.zIndex));this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset());
this._trigger("start",c,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!m)for(m=this.containers.length-1;0<=m;m--)this.containers[m]._trigger("activate",c,this._uiHash(this));return b.ui.ddmanager&&(b.ui.ddmanager.current=this),b.ui.ddmanager&&!h.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,c),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(c),!0},_mouseDrag:function(c){this.position=this._generatePosition(c);this.positionAbs=this._convertPositionTo("absolute");
this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);if(this.options.scroll){var h=this.options,m=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-c.pageY<h.scrollSensitivity?this.scrollParent[0].scrollTop=m=this.scrollParent[0].scrollTop+h.scrollSpeed:c.pageY-this.overflowOffset.top<h.scrollSensitivity&&(this.scrollParent[0].scrollTop=m=this.scrollParent[0].scrollTop-h.scrollSpeed),this.overflowOffset.left+
this.scrollParent[0].offsetWidth-c.pageX<h.scrollSensitivity?this.scrollParent[0].scrollLeft=m=this.scrollParent[0].scrollLeft+h.scrollSpeed:c.pageX-this.overflowOffset.left<h.scrollSensitivity&&(this.scrollParent[0].scrollLeft=m=this.scrollParent[0].scrollLeft-h.scrollSpeed)):(c.pageY-b(document).scrollTop()<h.scrollSensitivity?m=b(document).scrollTop(b(document).scrollTop()-h.scrollSpeed):b(window).height()-(c.pageY-b(document).scrollTop())<h.scrollSensitivity&&(m=b(document).scrollTop(b(document).scrollTop()+
h.scrollSpeed)),c.pageX-b(document).scrollLeft()<h.scrollSensitivity?m=b(document).scrollLeft(b(document).scrollLeft()-h.scrollSpeed):b(window).width()-(c.pageX-b(document).scrollLeft())<h.scrollSensitivity&&(m=b(document).scrollLeft(b(document).scrollLeft()+h.scrollSpeed)));!1!==m&&b.ui.ddmanager&&!h.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,c)}this.positionAbs=this._convertPositionTo("absolute");this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px");
this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(h=this.items.length-1;0<=h;h--){var m=this.items[h],p=m.item[0],n=this._intersectsWithPointer(m);if(n&&m.instance===this.currentContainer&&p!=this.currentItem[0]&&this.placeholder[1==n?"next":"prev"]()[0]!=p&&!b.contains(this.placeholder[0],p)&&("semi-dynamic"==this.options.type?!b.contains(this.element[0],p):1)){this.direction=1==n?"down":"up";if("pointer"!=this.options.tolerance&&!this._intersectsWithSides(m))break;
this._rearrange(c,m);this._trigger("change",c,this._uiHash());break}}return this._contactContainers(c),b.ui.ddmanager&&b.ui.ddmanager.drag(this,c),this._trigger("sort",c,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(c,h){if(c){b.ui.ddmanager&&!this.options.dropBehaviour&&b.ui.ddmanager.drop(this,c);if(this.options.revert){var m=this;h=this.placeholder.offset();this.reverting=!0;b(this.helper).animate({left:h.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]==
document.body?0:this.offsetParent[0].scrollLeft),top:h.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){m._clear(c)})}else this._clear(c,h);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null});"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var c=this.containers.length-1;0<=c;c--)this.containers[c]._trigger("deactivate",
null,this._uiHash(this)),this.containers[c].containerCache.over&&(this.containers[c]._trigger("out",null,this._uiHash(this)),this.containers[c].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),b.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?b(this.domPosition.prev).after(this.currentItem):
b(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(c){var h=this._getItemsAsjQuery(c&&c.connected),m=[];return c=c||{},b(h).each(function(){var h=(b(c.item||this).attr(c.attribute||"id")||"").match(c.expression||/(.+)[-=_](.+)/);h&&m.push((c.key||h[1]+"[]")+"\x3d"+(c.key&&c.expression?h[1]:h[2]))}),!m.length&&c.key&&m.push(c.key+"\x3d"),m.join("\x26")},toArray:function(c){var h=this._getItemsAsjQuery(c&&c.connected),m=[];return c=c||{},h.each(function(){m.push(b(c.item||
this).attr(c.attribute||"id")||"")}),m},_intersectsWith:function(b){var h=this.positionAbs.left,m=h+this.helperProportions.width,p=this.positionAbs.top,n=p+this.helperProportions.height,u=b.left,k=u+b.width,q=b.top,v=q+b.height,y=this.offset.click.top,z=this.offset.click.left;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>b[this.floating?"width":"height"]?p+y>q&&p+y<v&&h+z>u&&
h+z<k:u<h+this.helperProportions.width/2&&m-this.helperProportions.width/2<k&&q<p+this.helperProportions.height/2&&n-this.helperProportions.height/2<v},_intersectsWithPointer:function(c){var h="x"===this.options.axis||b.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,c.top,c.height);c="y"===this.options.axis||b.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,c.left,c.width);h=h&&c;c=this._getDragVerticalDirection();var m=this._getDragHorizontalDirection();return h?this.floating?
m&&"right"==m||"down"==c?2:1:c&&("down"==c?2:1):!1},_intersectsWithSides:function(c){var h=b.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,c.top+c.height/2,c.height);c=b.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,c.left+c.width/2,c.width);var m=this._getDragVerticalDirection(),p=this._getDragHorizontalDirection();return this.floating&&p?"right"==p&&c||"left"==p&&!c:m&&("down"==m&&h||"up"==m&&!h)},_getDragVerticalDirection:function(){var b=this.positionAbs.top-this.lastPositionAbs.top;
return 0!=b&&(0<b?"down":"up")},_getDragHorizontalDirection:function(){var b=this.positionAbs.left-this.lastPositionAbs.left;return 0!=b&&(0<b?"right":"left")},refresh:function(b){return this._refreshItems(b),this.refreshPositions(),this},_connectWith:function(){var b=this.options;return b.connectWith.constructor==String?[b.connectWith]:b.connectWith},_getItemsAsjQuery:function(c){var h=[],m=[],p=this._connectWith();if(p&&c)for(c=p.length-1;0<=c;c--)for(var n=b(p[c]),u=n.length-1;0<=u;u--){var k=
b.data(n[u],this.widgetName);k&&k!=this&&!k.options.disabled&&m.push([b.isFunction(k.options.items)?k.options.items.call(k.element):b(k.options.items,k.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),k])}m.push([b.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):b(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(c=m.length-1;0<=c;c--)m[c][0].each(function(){h.push(this)});
return b(h)},_removeCurrentsFromItems:function(){var c=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=b.grep(this.items,function(b){for(var h=0;h<c.length;h++)if(c[h]==b.item[0])return!1;return!0})},_refreshItems:function(c){this.items=[];this.containers=[this];var h=this.items,m=[[b.isFunction(this.options.items)?this.options.items.call(this.element[0],c,{item:this.currentItem}):b(this.options.items,this.element),this]],p=this._connectWith();if(p&&this.ready)for(var n=p.length-
1;0<=n;n--)for(var u=b(p[n]),k=u.length-1;0<=k;k--){var q=b.data(u[k],this.widgetName);q&&q!=this&&!q.options.disabled&&(m.push([b.isFunction(q.options.items)?q.options.items.call(q.element[0],c,{item:this.currentItem}):b(q.options.items,q.element),q]),this.containers.push(q))}for(n=m.length-1;0<=n;n--)for(c=m[n][1],p=m[n][0],k=0,u=p.length;k<u;k++)q=b(p[k]),q.data(this.widgetName+"-item",c),h.push({item:q,instance:c,width:0,height:0,left:0,top:0})},refreshPositions:function(c){this.offsetParent&&
this.helper&&(this.offset.parent=this._getParentOffset());for(var h=this.items.length-1;0<=h;h--){var m=this.items[h];if(m.instance==this.currentContainer||!this.currentContainer||m.item[0]==this.currentItem[0]){var p=this.options.toleranceElement?b(this.options.toleranceElement,m.item):m.item;c||(m.width=p.outerWidth(),m.height=p.outerHeight());p=p.offset();m.left=p.left;m.top=p.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(h=
this.containers.length-1;0<=h;h--)p=this.containers[h].element.offset(),this.containers[h].containerCache.left=p.left,this.containers[h].containerCache.top=p.top,this.containers[h].containerCache.width=this.containers[h].element.outerWidth(),this.containers[h].containerCache.height=this.containers[h].element.outerHeight();return this},_createPlaceholder:function(c){c=c||this;var h=c.options;if(!h.placeholder||h.placeholder.constructor==String){var m=h.placeholder;h.placeholder={element:function(){var h=
b(document.createElement(c.currentItem[0].nodeName)).addClass(m||c.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return m||(h.style.visibility="hidden"),h},update:function(b,n){if(!m||h.forcePlaceholderSize)n.height()||n.height(c.currentItem.innerHeight()-parseInt(c.currentItem.css("paddingTop")||0,10)-parseInt(c.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(c.currentItem.innerWidth()-parseInt(c.currentItem.css("paddingLeft")||0,10)-parseInt(c.currentItem.css("paddingRight")||
0,10))}}}c.placeholder=b(h.placeholder.element.call(c.element,c.currentItem));c.currentItem.after(c.placeholder);h.placeholder.update(c,c.placeholder)},_contactContainers:function(c){for(var h=null,m=null,p=this.containers.length-1;0<=p;p--)b.contains(this.currentItem[0],this.containers[p].element[0])||(this._intersectsWith(this.containers[p].containerCache)?h&&b.contains(this.containers[p].element[0],h.element[0])||(h=this.containers[p],m=p):this.containers[p].containerCache.over&&(this.containers[p]._trigger("out",
c,this._uiHash(this)),this.containers[p].containerCache.over=0));if(h)if(1===this.containers.length)this.containers[m]._trigger("over",c,this._uiHash(this)),this.containers[m].containerCache.over=1;else{for(var h=1E4,p=null,n=this.containers[m].floating?"left":"top",u=this.containers[m].floating?"width":"height",k=this.positionAbs[n]+this.offset.click[n],q=this.items.length-1;0<=q;q--)if(b.contains(this.containers[m].element[0],this.items[q].item[0])&&this.items[q].item[0]!=this.currentItem[0]){var v=
this.items[q].item.offset()[n],y=!1;Math.abs(v-k)>Math.abs(v+this.items[q][u]-k)&&(y=!0,v+=this.items[q][u]);Math.abs(v-k)<h&&(h=Math.abs(v-k),p=this.items[q],this.direction=y?"up":"down")}if(p||this.options.dropOnEmpty)this.currentContainer=this.containers[m],p?this._rearrange(c,p,null,!0):this._rearrange(c,null,this.containers[m].element,!0),this._trigger("change",c,this._uiHash()),this.containers[m]._trigger("change",c,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),
this.containers[m]._trigger("over",c,this._uiHash(this)),this.containers[m].containerCache.over=1}},_createHelper:function(c){var h=this.options;c=b.isFunction(h.helper)?b(h.helper.apply(this.element[0],[c,this.currentItem])):"clone"==h.helper?this.currentItem.clone():this.currentItem;return c.parents("body").length||b("parent"!=h.appendTo?h.appendTo:this.currentItem[0].parentNode)[0].appendChild(c[0]),c[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,
position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(""==c[0].style.width||h.forceHelperSize)&&c.width(this.currentItem.width()),(""==c[0].style.height||h.forceHelperSize)&&c.height(this.currentItem.height()),c},_adjustOffsetFromHelper:function(c){"string"==typeof c&&(c=c.split(" "));b.isArray(c)&&(c={left:+c[0],top:+c[1]||0});"left"in c&&(this.offset.click.left=c.left+this.margins.left);"right"in c&&(this.offset.click.left=this.helperProportions.width-
c.right+this.margins.left);"top"in c&&(this.offset.click.top=c.top+this.margins.top);"bottom"in c&&(this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var c=this.offsetParent.offset();"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&b.contains(this.scrollParent[0],this.offsetParent[0])&&(c.left+=this.scrollParent.scrollLeft(),c.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==
document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&b.ui.ie)c={top:0,left:0};return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var b=this.currentItem.position();return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),
10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var c=this.options;"parent"==c.containment&&(c.containment=this.helper[0].parentNode);if("document"==c.containment||"window"==c.containment)this.containment=
[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,b("document"==c.containment?document:window).width()-this.helperProportions.width-this.margins.left,(b("document"==c.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(c.containment)){var h=b(c.containment)[0],c=b(c.containment).offset(),m="hidden"!=b(h).css("overflow");this.containment=
[c.left+(parseInt(b(h).css("borderLeftWidth"),10)||0)+(parseInt(b(h).css("paddingLeft"),10)||0)-this.margins.left,c.top+(parseInt(b(h).css("borderTopWidth"),10)||0)+(parseInt(b(h).css("paddingTop"),10)||0)-this.margins.top,c.left+(m?Math.max(h.scrollWidth,h.offsetWidth):h.offsetWidth)-(parseInt(b(h).css("borderLeftWidth"),10)||0)-(parseInt(b(h).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,c.top+(m?Math.max(h.scrollHeight,h.offsetHeight):h.offsetHeight)-(parseInt(b(h).css("borderTopWidth"),
10)||0)-(parseInt(b(h).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(c,h){h||(h=this.position);c="absolute"==c?1:-1;var m="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,p=/(html|body)/i.test(m[0].tagName);return{top:h.top+this.offset.relative.top*c+this.offset.parent.top*c-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():p?0:
m.scrollTop())*c,left:h.left+this.offset.relative.left*c+this.offset.parent.left*c-("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():p?0:m.scrollLeft())*c}},_generatePosition:function(c){var h=this.options,m="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,p=/(html|body)/i.test(m[0].tagName);"relative"!=this.cssPosition||this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]||
(this.offset.relative=this._getRelativeOffset());var n=c.pageX,u=c.pageY;this.originalPosition&&(this.containment&&(c.pageX-this.offset.click.left<this.containment[0]&&(n=this.containment[0]+this.offset.click.left),c.pageY-this.offset.click.top<this.containment[1]&&(u=this.containment[1]+this.offset.click.top),c.pageX-this.offset.click.left>this.containment[2]&&(n=this.containment[2]+this.offset.click.left),c.pageY-this.offset.click.top>this.containment[3]&&(u=this.containment[3]+this.offset.click.top)),
h.grid&&(u=this.originalPageY+Math.round((u-this.originalPageY)/h.grid[1])*h.grid[1],u=this.containment?u-this.offset.click.top<this.containment[1]||u-this.offset.click.top>this.containment[3]?u-this.offset.click.top<this.containment[1]?u+h.grid[1]:u-h.grid[1]:u:u,n=this.originalPageX+Math.round((n-this.originalPageX)/h.grid[0])*h.grid[0],n=this.containment?n-this.offset.click.left<this.containment[0]||n-this.offset.click.left>this.containment[2]?n-this.offset.click.left<this.containment[0]?n+h.grid[0]:
n-h.grid[0]:n:n));return{top:u-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():p?0:m.scrollTop()),left:n-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():p?0:m.scrollLeft())}},_rearrange:function(b,h,m,p){m?m[0].appendChild(this.placeholder[0]):h.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?h.item[0]:h.item[0].nextSibling);
var n=this.counter=this.counter?++this.counter:1;this._delay(function(){n==this.counter&&this.refreshPositions(!p)})},_clear:function(c,h){this.reverting=!1;var m=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var p in this._storedCSS)if("auto"==this._storedCSS[p]||"static"==this._storedCSS[p])this._storedCSS[p]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();
this.fromOutside&&!h&&m.push(function(b){this._trigger("receive",b,this._uiHash(this.fromOutside))});!this.fromOutside&&this.domPosition.prev==this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent==this.currentItem.parent()[0]||h||m.push(function(b){this._trigger("update",b,this._uiHash())});this!==this.currentContainer&&(h||(m.push(function(b){this._trigger("remove",b,this._uiHash())}),m.push(function(b){return function(c){b._trigger("receive",c,this._uiHash(this))}}.call(this,
this.currentContainer)),m.push(function(b){return function(c){b._trigger("update",c,this._uiHash(this))}}.call(this,this.currentContainer))));for(p=this.containers.length-1;0<=p;p--)h||m.push(function(b){return function(c){b._trigger("deactivate",c,this._uiHash(this))}}.call(this,this.containers[p])),this.containers[p].containerCache.over&&(m.push(function(b){return function(c){b._trigger("out",c,this._uiHash(this))}}.call(this,this.containers[p])),this.containers[p].containerCache.over=0);this._storedCursor&&
b("body").css("cursor",this._storedCursor);this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex);this.dragging=!1;if(this.cancelHelperRemoval){if(!h){this._trigger("beforeStop",c,this._uiHash());for(p=0;p<m.length;p++)m[p].call(this,c);this._trigger("stop",c,this._uiHash())}return this.fromOutside=!1,!1}h||this._trigger("beforeStop",c,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);
this.helper[0]!=this.currentItem[0]&&this.helper.remove();this.helper=null;if(!h){for(p=0;p<m.length;p++)m[p].call(this,c);this._trigger("stop",c,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===b.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(c){var h=c||this;return{helper:h.helper,placeholder:h.placeholder||b([]),position:h.position,originalPosition:h.originalPosition,offset:h.positionAbs,item:h.currentItem,sender:c?c.element:null}}})})(jQuery);
jQuery.effects||function(b,h){var c=!1!==b.uiBackCompat;b.effects={effect:{}};(function(c,h){function p(b,c,k){var h=z[c.type]||{};return null==b?k||!c.def?null:c.def:(b=h.floor?~~b:parseFloat(b),isNaN(b)?c.def:h.mod?(b+h.mod)%h.mod:0>b?0:h.max<b?h.max:b)}function n(b){var k=v(),h=k._rgba=[];return b=b.toLowerCase(),C(q,function(c,l){var m;c=(c=l.re.exec(b))&&l.parse(c);l=l.space||"rgba";if(c)return m=k[l](c),k[y[l].cache]=m[y[l].cache],h=k._rgba=m._rgba,!1}),h.length?("0,0,0,0"===h.join()&&c.extend(h,
B.transparent),k):B[b]}function u(b,c,k){return k=(k+1)%1,1>6*k?b+(c-b)*k*6:1>2*k?c:2>3*k?b+(c-b)*(2/3-k)*6:b}var k=/^([\-+])=\s*(\d+\.?\d*)/,q=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(b){return[b[1],b[2],b[3],b[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(b){return[2.55*b[1],2.55*b[2],2.55*b[3],b[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,
parse:function(b){return[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(b){return[parseInt(b[1]+b[1],16),parseInt(b[2]+b[2],16),parseInt(b[3]+b[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(b){return[b[1],b[2]/100,b[3]/100,b[4]]}}],v=c.Color=function(b,k,h,m){return new c.Color.fn.parse(b,k,h,m)},y={rgba:{props:{red:{idx:0,type:"byte"},
green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},z={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},A=v.support={},r=c("\x3cp\x3e")[0],B,C=c.each;r.style.cssText="background-color:rgba(1,1,1,.5)";A.rgba=-1<r.style.backgroundColor.indexOf("rgba");C(y,function(b,c){c.cache="_"+b;c.props.alpha={idx:3,type:"percent",def:1}});v.fn=c.extend(v.prototype,{parse:function(k,
r,q,z){if(k===h)return this._rgba=[null,null,null,null],this;if(k.jquery||k.nodeType)k=c(k).css(r),r=h;var u=this,A=c.type(k),I=this._rgba=[];r!==h&&(k=[k,r,q,z],A="array");if("string"===A)return this.parse(n(k)||B._default);if("array"===A)return C(y.rgba.props,function(b,c){I[c.idx]=p(k[c.idx],c)}),this;if("object"===A)return k instanceof v?C(y,function(b,c){k[c.cache]&&(u[c.cache]=k[c.cache].slice())}):C(y,function(c,h){var l=h.cache;C(h.props,function(b,c){if(!u[l]&&h.to){if("alpha"===b||null==
k[b])return;u[l]=h.to(u._rgba)}u[l][c.idx]=p(k[b],c,!0)});u[l]&&0>b.inArray(null,u[l].slice(0,3))&&(u[l][3]=1,h.from&&(u._rgba=h.from(u[l])))}),this},is:function(b){var c=v(b),k=!0,h=this;return C(y,function(b,l){var m,r=c[l.cache];return r&&(m=h[l.cache]||l.to&&l.to(h._rgba)||[],C(l.props,function(b,c){if(null!=r[c.idx])return k=r[c.idx]===m[c.idx],k})),k}),k},_space:function(){var b=[],c=this;return C(y,function(k,h){c[h.cache]&&b.push(k)}),b.pop()},transition:function(b,c){var k=v(b);b=k._space();
var h=y[b],l=0===this.alpha()?v("transparent"):this,m=l[h.cache]||h.to(l._rgba),r=m.slice();return k=k[h.cache],C(h.props,function(b,h){b=h.idx;var l=m[b],q=k[b],n=z[h.type]||{};null!==q&&(null===l?r[b]=q:(n.mod&&(q-l>n.mod/2?l+=n.mod:l-q>n.mod/2&&(l-=n.mod)),r[b]=p((q-l)*c+l,h)))}),this[b](r)},blend:function(b){if(1===this._rgba[3])return this;var k=this._rgba.slice(),h=k.pop(),m=v(b)._rgba;return v(c.map(k,function(b,c){return(1-h)*m[c]+h*b}))},toRgbaString:function(){var b="rgba(",k=c.map(this._rgba,
function(b,c){return null==b?2<c?1:0:b});return 1===k[3]&&(k.pop(),b="rgb("),b+k.join()+")"},toHslaString:function(){var b="hsla(",k=c.map(this.hsla(),function(b,c){return null==b&&(b=2<c?1:0),c&&3>c&&(b=Math.round(100*b)+"%"),b});return 1===k[3]&&(k.pop(),b="hsl("),b+k.join()+")"},toHexString:function(b){var k=this._rgba.slice(),h=k.pop();return b&&k.push(~~(255*h)),"#"+c.map(k,function(b){return b=(b||0).toString(16),1===b.length?"0"+b:b}).join("")},toString:function(){return 0===this._rgba[3]?
"transparent":this.toRgbaString()}});v.fn.parse.prototype=v.fn;y.hsla.to=function(b){if(null==b[0]||null==b[1]||null==b[2])return[null,null,null,b[3]];var c=b[0]/255,k=b[1]/255,h=b[2]/255;b=b[3];var l=Math.max(c,k,h),m=Math.min(c,k,h),r=l-m,q=l+m,n=.5*q,v,p;return m===l?v=0:c===l?v=60*(k-h)/r+360:k===l?v=60*(h-c)/r+120:v=60*(c-k)/r+240,0===n||1===n?p=n:.5>=n?p=r/q:p=r/(2-q),[Math.round(v)%360,p,n,null==b?1:b]};y.hsla.from=function(b){if(null==b[0]||null==b[1]||null==b[2])return[null,null,null,b[3]];
var c=b[0]/360,k=b[1],h=b[2];b=b[3];k=.5>=h?h*(1+k):h+k-h*k;h=2*h-k;return[Math.round(255*u(h,k,c+1/3)),Math.round(255*u(h,k,c)),Math.round(255*u(h,k,c-1/3)),b]};C(y,function(b,r){var q=r.props,n=r.cache,z=r.to,y=r.from;v.fn[b]=function(b){z&&!this[n]&&(this[n]=z(this._rgba));if(b===h)return this[n].slice();var k,r=c.type(b),x="array"===r||"object"===r?b:arguments,B=this[n].slice();return C(q,function(b,c){b=x["object"===r?b:c.idx];null==b&&(b=B[c.idx]);B[c.idx]=p(b,c)}),y?(k=v(y(B)),k[n]=B,k):v(B)};
C(q,function(h,m){v.fn[h]||(v.fn[h]=function(r){var q=c.type(r),n="alpha"===h?this._hsla?"hsla":"rgba":b,v=this[n](),p=v[m.idx],z;return"undefined"===q?p:("function"===q&&(r=r.call(this,p),q=c.type(r)),null==r&&m.empty?this:("string"===q&&(z=k.exec(r),z&&(r=p+parseFloat(z[2])*("+"===z[1]?1:-1))),v[m.idx]=r,this[n](v)))})})});C("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor".split(" "),function(b,
k){c.cssHooks[k]={set:function(b,h){var m,r="";if("string"!==c.type(h)||(m=n(h))){h=v(m||h);if(!A.rgba&&1!==h._rgba[3]){for(m="backgroundColor"===k?b.parentNode:b;(""===r||"transparent"===r)&&m&&m.style;)try{r=c.css(m,"backgroundColor"),m=m.parentNode}catch(q){}h=h.blend(r&&"transparent"!==r?r:"_default")}h=h.toRgbaString()}try{b.style[k]=h}catch(q){}}};c.fx.step[k]=function(b){b.colorInit||(b.start=v(b.elem,k),b.end=v(b.end),b.colorInit=!0);c.cssHooks[k].set(b.elem,b.start.transition(b.end,b.pos))}});
c.cssHooks.borderColor={expand:function(b){var c={};return C(["Top","Right","Bottom","Left"],function(k,h){c["border"+h+"Color"]=b}),c}};B=c.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery);(function(){function c(){var h=this.ownerDocument.defaultView?
this.ownerDocument.defaultView.getComputedStyle(this,null):this.currentStyle,l={},k,m;if(h&&h.length&&h[0]&&h[h[0]])for(m=h.length;m--;)k=h[m],"string"==typeof h[k]&&(l[b.camelCase(k)]=h[k]);else for(k in h)"string"==typeof h[k]&&(l[k]=h[k]);return l}var m=["add","remove","toggle"],p={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};b.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(c,h){b.fx.step[h]=
function(b){if("none"!==b.end&&!b.setAttr||1===b.pos&&!b.setAttr)jQuery.style(b.elem,h,b.end),b.setAttr=!0}});b.effects.animateClass=function(h,u,k,q){var v=b.speed(u,k,q);return this.queue(function(){var k=b(this),q=k.attr("class")||"",u,r=v.children?k.find("*").andSelf():k,r=r.map(function(){return{el:b(this),start:c.call(this)}});u=function(){b.each(m,function(b,c){h[c]&&k[c+"Class"](h[c])})};u();r=r.map(function(){this.end=c.call(this.el[0]);var k=this.start,h=this.end,m={},r,q;for(r in h)q=h[r],
k[r]===q||p[r]||!b.fx.step[r]&&isNaN(parseFloat(q))||(m[r]=q);return this.diff=m,this});k.attr("class",q);r=r.map(function(){var c=this,k=b.Deferred(),h=jQuery.extend({},v,{queue:!1,complete:function(){k.resolve(c)}});return this.el.animate(this.diff,h),k.promise()});b.when.apply(b,r.get()).done(function(){u();b.each(arguments,function(){var c=this.el;b.each(this.diff,function(b){c.css(b,"")})});v.complete.call(k[0])})})};b.fn.extend({_addClass:b.fn.addClass,addClass:function(c,h,k,l){return h?b.effects.animateClass.call(this,
{add:c},h,k,l):this._addClass(c)},_removeClass:b.fn.removeClass,removeClass:function(c,h,k,l){return h?b.effects.animateClass.call(this,{remove:c},h,k,l):this._removeClass(c)},_toggleClass:b.fn.toggleClass,toggleClass:function(c,l,k,m,v){return"boolean"==typeof l||l===h?k?b.effects.animateClass.call(this,l?{add:c}:{remove:c},k,m,v):this._toggleClass(c,l):b.effects.animateClass.call(this,{toggle:c},l,k,m)},switchClass:function(c,h,k,l,m){return b.effects.animateClass.call(this,{add:h,remove:c},k,l,
m)}})})();(function(){function l(c,h,l,k){b.isPlainObject(c)&&(h=c,c=c.effect);c={effect:c};null==h&&(h={});b.isFunction(h)&&(k=h,l=null,h={});if("number"==typeof h||b.fx.speeds[h])k=l,l=h,h={};return b.isFunction(l)&&(k=l,l=null),h&&b.extend(c,h),l=l||h.duration,c.duration=b.fx.off?0:"number"==typeof l?l:l in b.fx.speeds?b.fx.speeds[l]:b.fx.speeds._default,c.complete=k||h.complete,c}function m(h){return!h||"number"==typeof h||b.fx.speeds[h]?!0:"string"!=typeof h||b.effects.effect[h]?!1:c&&b.effects[h]?
!1:!0}b.extend(b.effects,{version:"1.9.1",save:function(b,c){for(var h=0;h<c.length;h++)null!==c[h]&&b.data("ui-effects-"+c[h],b[0].style[c[h]])},restore:function(b,c){var l,k;for(k=0;k<c.length;k++)null!==c[k]&&(l=b.data("ui-effects-"+c[k]),l===h&&(l=""),b.css(c[k],l))},setMode:function(b,c){return"toggle"===c&&(c=b.is(":hidden")?"show":"hide"),c},getBaseline:function(b,c){var h;switch(b[0]){case "top":h=0;break;case "middle":h=.5;break;case "bottom":h=1;break;default:h=b[0]/c.height}switch(b[1]){case "left":b=
0;break;case "center":b=.5;break;case "right":b=1;break;default:b=b[1]/c.width}return{x:b,y:h}},createWrapper:function(c){if(c.parent().is(".ui-effects-wrapper"))return c.parent();var h={width:c.outerWidth(!0),height:c.outerHeight(!0),"float":c.css("float")},l=b("\x3cdiv\x3e\x3c/div\x3e").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),k={width:c.width(),height:c.height()},m=document.activeElement;try{m.id}catch(v){m=document.body}return c.wrap(l),
(c[0]===m||b.contains(c[0],m))&&b(m).focus(),l=c.parent(),"static"===c.css("position")?(l.css({position:"relative"}),c.css({position:"relative"})):(b.extend(h,{position:c.css("position"),zIndex:c.css("z-index")}),b.each(["top","left","bottom","right"],function(b,k){h[k]=c.css(k);isNaN(parseInt(h[k],10))&&(h[k]="auto")}),c.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),c.css(k),l.css(h).show()},removeWrapper:function(c){var h=document.activeElement;return c.parent().is(".ui-effects-wrapper")&&
(c.parent().replaceWith(c),(c[0]===h||b.contains(c[0],h))&&b(h).focus()),c},setTransition:function(c,h,l,k){return k=k||{},b.each(h,function(b,h){b=c.cssUnit(h);0<b[0]&&(k[h]=b[0]*l+b[1])}),k}});b.fn.extend({effect:function(){function h(c){function k(){b.isFunction(r)&&r.call(l[0]);b.isFunction(c)&&c()}var l=b(this),r=m.complete,v=m.mode;(l.is(":hidden")?"hide"===v:"show"===v)?k():q.call(l[0],m,k)}var m=l.apply(this,arguments),u=m.mode,k=m.queue,q=b.effects.effect[m.effect],v=!q&&c&&b.effects[m.effect];
return b.fx.off||!q&&!v?u?this[u](m.duration,m.complete):this.each(function(){m.complete&&m.complete.call(this)}):q?!1===k?this.each(h):this.queue(k||"fx",h):v.call(this,{options:m,duration:m.duration,callback:m.complete,mode:m.mode})},_show:b.fn.show,show:function(b){if(m(b))return this._show.apply(this,arguments);var c=l.apply(this,arguments);return c.mode="show",this.effect.call(this,c)},_hide:b.fn.hide,hide:function(b){if(m(b))return this._hide.apply(this,arguments);var c=l.apply(this,arguments);
return c.mode="hide",this.effect.call(this,c)},__toggle:b.fn.toggle,toggle:function(c){if(m(c)||"boolean"==typeof c||b.isFunction(c))return this.__toggle.apply(this,arguments);var h=l.apply(this,arguments);return h.mode="toggle",this.effect.call(this,h)},cssUnit:function(c){var h=this.css(c),l=[];return b.each(["em","px","%","pt"],function(b,c){0<h.indexOf(c)&&(l=[parseFloat(h),c])}),l}})})();(function(){var c={};b.each(["Quad","Cubic","Quart","Quint","Expo"],function(b,h){c[h]=function(c){return Math.pow(c,
b+2)}});b.extend(c,{Sine:function(b){return 1-Math.cos(b*Math.PI/2)},Circ:function(b){return 1-Math.sqrt(1-b*b)},Elastic:function(b){return 0===b||1===b?b:-Math.pow(2,8*(b-1))*Math.sin((80*(b-1)-7.5)*Math.PI/15)},Back:function(b){return b*b*(3*b-2)},Bounce:function(b){for(var c,h=4;b<((c=Math.pow(2,--h))-1)/11;);return 1/Math.pow(4,3-h)-7.5625*Math.pow((3*c-2)/22-b,2)}});b.each(c,function(c,h){b.easing["easeIn"+c]=h;b.easing["easeOut"+c]=function(b){return 1-h(1-b)};b.easing["easeInOut"+c]=function(b){return.5>
b?h(2*b)/2:1-h(-2*b+2)/2}})})()}(jQuery);
(function(b,h){var c=/up|down|vertical/,l=/up|left|vertical|horizontal/;b.effects.effect.blind=function(h,p){var n=b(this),u="position top bottom left right height width".split(" "),k=b.effects.setMode(n,h.mode||"hide"),q=h.direction||"up",v=c.test(q),y=v?"height":"width",z=v?"top":"left",q=l.test(q),A={},r="show"===k,B,C,x;n.parent().is(".ui-effects-wrapper")?b.effects.save(n.parent(),u):b.effects.save(n,u);n.show();B=b.effects.createWrapper(n).css({overflow:"hidden"});C=B[y]();x=parseFloat(B.css(z))||
0;A[y]=r?C:0;q||(n.css(v?"bottom":"right",0).css(v?"top":"left","auto").css({position:"absolute"}),A[z]=r?x:C+x);r&&(B.css(y,0),q||B.css(z,x+C));B.animate(A,{duration:h.duration,easing:h.easing,queue:!1,complete:function(){"hide"===k&&n.hide();b.effects.restore(n,u);b.effects.removeWrapper(n);p()}})}})(jQuery);
(function(b,h){b.effects.effect.bounce=function(c,h){var m=b(this),p="position top bottom left right height width".split(" "),n=b.effects.setMode(m,c.mode||"effect"),u="hide"===n,k="show"===n,q=c.direction||"up",n=c.distance,v=c.times||5,y=2*v+(k||u?1:0),z=c.duration/y;c=c.easing;var A="up"===q||"down"===q?"top":"left",q="up"===q||"left"===q,r,B,C=m.queue(),x=C.length;(k||u)&&p.push("opacity");b.effects.save(m,p);m.show();b.effects.createWrapper(m);n||(n=m["top"===A?"outerHeight":"outerWidth"]()/
3);k&&(B={opacity:1},B[A]=0,m.css("opacity",0).css(A,q?2*-n:2*n).animate(B,z,c));u&&(n/=Math.pow(2,v-1));B={};for(k=B[A]=0;k<v;k++)r={},r[A]=(q?"-\x3d":"+\x3d")+n,m.animate(r,z,c).animate(B,z,c),n=u?2*n:n/2;u&&(r={opacity:0},r[A]=(q?"-\x3d":"+\x3d")+n,m.animate(r,z,c));m.queue(function(){u&&m.hide();b.effects.restore(m,p);b.effects.removeWrapper(m);h()});1<x&&C.splice.apply(C,[1,0].concat(C.splice(x,y+1)));m.dequeue()}})(jQuery);
(function(b,h){b.effects.effect.clip=function(c,h){var m=b(this),p="position top bottom left right height width".split(" "),n="show"===b.effects.setMode(m,c.mode||"hide"),u="vertical"===(c.direction||"vertical"),k=u?"height":"width",u=u?"top":"left",q={},v,y;b.effects.save(m,p);m.show();v=b.effects.createWrapper(m).css({overflow:"hidden"});v="IMG"===m[0].tagName?v:m;y=v[k]();n&&(v.css(k,0),v.css(u,y/2));q[k]=n?y:0;q[u]=n?0:y/2;v.animate(q,{queue:!1,duration:c.duration,easing:c.easing,complete:function(){n||
m.hide();b.effects.restore(m,p);b.effects.removeWrapper(m);h()}})}})(jQuery);
(function(b,h){b.effects.effect.drop=function(c,h){var m=b(this),p="position top bottom left right opacity height width".split(" "),n=b.effects.setMode(m,c.mode||"hide"),u="show"===n,k=c.direction||"left",q="up"===k||"down"===k?"top":"left",k="up"===k||"left"===k?"pos":"neg",v={opacity:u?1:0},y;b.effects.save(m,p);m.show();b.effects.createWrapper(m);y=c.distance||m["top"===q?"outerHeight":"outerWidth"](!0)/2;u&&m.css("opacity",0).css(q,"pos"===k?-y:y);v[q]=(u?"pos"===k?"+\x3d":"-\x3d":"pos"===k?"-\x3d":
"+\x3d")+y;m.animate(v,{queue:!1,duration:c.duration,easing:c.easing,complete:function(){"hide"===n&&m.hide();b.effects.restore(m,p);b.effects.removeWrapper(m);h()}})}})(jQuery);
(function(b,h){b.effects.effect.explode=function(c,h){function m(){z.push(this);z.length===p*n&&(u.css({visibility:"visible"}),b(z).remove(),k||u.hide(),h())}var p=c.pieces?Math.round(Math.sqrt(c.pieces)):3,n=p,u=b(this),k="show"===b.effects.setMode(u,c.mode||"hide"),q=u.show().css("visibility","hidden").offset(),v=Math.ceil(u.outerWidth()/n),y=Math.ceil(u.outerHeight()/p),z=[],A,r,B,C,x,D;for(A=0;A<p;A++)for(C=q.top+A*y,D=A-(p-1)/2,r=0;r<n;r++)B=q.left+r*v,x=r-(n-1)/2,u.clone().appendTo("body").wrap("\x3cdiv\x3e\x3c/div\x3e").css({position:"absolute",
visibility:"visible",left:-r*v,top:-A*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:y,left:B+(k?x*v:0),top:C+(k?D*y:0),opacity:k?0:1}).animate({left:B+(k?0:x*v),top:C+(k?0:D*y),opacity:k?1:0},c.duration||500,c.easing,m)}})(jQuery);(function(b,h){b.effects.effect.fade=function(c,h){var m=b(this),p=b.effects.setMode(m,c.mode||"toggle");m.animate({opacity:p},{queue:!1,duration:c.duration,easing:c.easing,complete:h})}})(jQuery);
(function(b,h){b.effects.effect.fold=function(c,h){var m=b(this),p="position top bottom left right height width".split(" "),n=b.effects.setMode(m,c.mode||"hide"),u="show"===n,k="hide"===n,n=c.size||15,q=/([0-9]+)%/.exec(n),v=!!c.horizFirst,y=u!==v,z=y?["width","height"]:["height","width"],A=c.duration/2,r,B={},C={};b.effects.save(m,p);m.show();r=b.effects.createWrapper(m).css({overflow:"hidden"});y=y?[r.width(),r.height()]:[r.height(),r.width()];q&&(n=parseInt(q[1],10)/100*y[k?0:1]);u&&r.css(v?{height:0,
width:n}:{height:n,width:0});B[z[0]]=u?y[0]:n;C[z[1]]=u?y[1]:0;r.animate(B,A,c.easing).animate(C,A,c.easing,function(){k&&m.hide();b.effects.restore(m,p);b.effects.removeWrapper(m);h()})}})(jQuery);
(function(b,h){b.effects.effect.highlight=function(c,h){var m=b(this),p=["backgroundImage","backgroundColor","opacity"],n=b.effects.setMode(m,c.mode||"show"),u={backgroundColor:m.css("backgroundColor")};"hide"===n&&(u.opacity=0);b.effects.save(m,p);m.show().css({backgroundImage:"none",backgroundColor:c.color||"#ffff99"}).animate(u,{queue:!1,duration:c.duration,easing:c.easing,complete:function(){"hide"===n&&m.hide();b.effects.restore(m,p);h()}})}})(jQuery);
(function(b,h){b.effects.effect.pulsate=function(c,h){var m=b(this),p=b.effects.setMode(m,c.mode||"show"),n="show"===p,u="hide"===p,p=2*(c.times||5)+(n||"hide"===p?1:0),k=c.duration/p,q=0,v=m.queue(),y=v.length;if(n||!m.is(":visible"))m.css("opacity",0).show(),q=1;for(n=1;n<p;n++)m.animate({opacity:q},k,c.easing),q=1-q;m.animate({opacity:q},k,c.easing);m.queue(function(){u&&m.hide();h()});1<y&&v.splice.apply(v,[1,0].concat(v.splice(y,p+1)));m.dequeue()}})(jQuery);
(function(b,h){b.effects.effect.puff=function(c,h){var m=b(this),p=b.effects.setMode(m,c.mode||"hide"),n="hide"===p,u=parseInt(c.percent,10)||150,k=u/100,q={height:m.height(),width:m.width()};b.extend(c,{effect:"scale",queue:!1,fade:!0,mode:p,complete:h,percent:n?u:100,from:n?q:{height:q.height*k,width:q.width*k}});m.effect(c)};b.effects.effect.scale=function(c,h){var m=b(this),p=b.extend(!0,{},c),n=b.effects.setMode(m,c.mode||"effect"),u=parseInt(c.percent,10)||(0===parseInt(c.percent,10)?0:"hide"===
n?0:100),k=c.direction||"both",q=c.origin,v={height:m.height(),width:m.width(),outerHeight:m.outerHeight(),outerWidth:m.outerWidth()},y="horizontal"!==k?u/100:1,u="vertical"!==k?u/100:1;p.effect="size";p.queue=!1;p.complete=h;"effect"!==n&&(p.origin=q||["middle","center"],p.restore=!0);p.from=c.from||("show"===n?{height:0,width:0}:v);p.to={height:v.height*y,width:v.width*u,outerHeight:v.outerHeight*y,outerWidth:v.outerWidth*u};p.fade&&("show"===n&&(p.from.opacity=0,p.to.opacity=1),"hide"===n&&(p.from.opacity=
1,p.to.opacity=0));m.effect(p)};b.effects.effect.size=function(c,h){var m,p,n,u,k,q,v=b(this),y="position top bottom left right width height overflow opacity".split(" ");k="position top bottom left right overflow opacity".split(" ");var z=["width","height","overflow"],A=["fontSize"],r=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],B=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],C=b.effects.setMode(v,c.mode||"effect"),x=c.restore||"effect"!==C,D=c.scale||
"both",F=c.origin||["middle","center"],E=v.css("position"),G=x?y:k,K={height:0,width:0};"show"===C&&v.show();k={height:v.height(),width:v.width(),outerHeight:v.outerHeight(),outerWidth:v.outerWidth()};"toggle"===c.mode&&"show"===C?(v.from=c.to||K,v.to=c.from||k):(v.from=c.from||("show"===C?K:k),v.to=c.to||("hide"===C?K:k));n=v.from.height/k.height;u=v.from.width/k.width;m=v.to.height/k.height;p=v.to.width/k.width;if("box"===D||"both"===D)n!==m&&(G=G.concat(r),v.from=b.effects.setTransition(v,r,n,
v.from),v.to=b.effects.setTransition(v,r,m,v.to)),u!==p&&(G=G.concat(B),v.from=b.effects.setTransition(v,B,u,v.from),v.to=b.effects.setTransition(v,B,p,v.to));("content"===D||"both"===D)&&n!==m&&(G=G.concat(A).concat(z),v.from=b.effects.setTransition(v,A,n,v.from),v.to=b.effects.setTransition(v,A,m,v.to));b.effects.save(v,G);v.show();b.effects.createWrapper(v);v.css("overflow","hidden").css(v.from);F&&(q=b.effects.getBaseline(F,k),v.from.top=(k.outerHeight-v.outerHeight())*q.y,v.from.left=(k.outerWidth-
v.outerWidth())*q.x,v.to.top=(k.outerHeight-v.to.outerHeight)*q.y,v.to.left=(k.outerWidth-v.to.outerWidth)*q.x);v.css(v.from);if("content"===D||"both"===D)r=r.concat(["marginTop","marginBottom"]).concat(A),B=B.concat(["marginLeft","marginRight"]),z=y.concat(r).concat(B),v.find("*[width]").each(function(){var k=b(this),h=k.height(),l=k.width();x&&b.effects.save(k,z);k.from={height:h*n,width:l*u};k.to={height:h*m,width:l*p};n!==m&&(k.from=b.effects.setTransition(k,r,n,k.from),k.to=b.effects.setTransition(k,
r,m,k.to));u!==p&&(k.from=b.effects.setTransition(k,B,u,k.from),k.to=b.effects.setTransition(k,B,p,k.to));k.css(k.from);k.animate(k.to,c.duration,c.easing,function(){x&&b.effects.restore(k,z)})});v.animate(v.to,{queue:!1,duration:c.duration,easing:c.easing,complete:function(){0===v.to.opacity&&v.css("opacity",v.from.opacity);"hide"===C&&v.hide();b.effects.restore(v,G);x||("static"===E?v.css({position:"relative",top:v.to.top,left:v.to.left}):b.each(["top","left"],function(b,c){v.css(c,function(c,k){c=
parseInt(k,10);var h=b?v.to.left:v.to.top;return"auto"===k?h+"px":c+h+"px"})}));b.effects.removeWrapper(v);h()}})}})(jQuery);
(function(b,h){b.effects.effect.shake=function(c,h){var m=b(this),p="position top bottom left right height width".split(" "),n=b.effects.setMode(m,c.mode||"effect"),u=c.direction||"left",k=c.distance||20,q=c.times||3,v=2*q+1,y=Math.round(c.duration/v),z="up"===u||"down"===u?"top":"left",A="up"===u||"left"===u,u={},r={},B={},C=m.queue(),x=C.length;b.effects.save(m,p);m.show();b.effects.createWrapper(m);u[z]=(A?"-\x3d":"+\x3d")+k;r[z]=(A?"+\x3d":"-\x3d")+2*k;B[z]=(A?"-\x3d":"+\x3d")+2*k;m.animate(u,
y,c.easing);for(k=1;k<q;k++)m.animate(r,y,c.easing).animate(B,y,c.easing);m.animate(r,y,c.easing).animate(u,y/2,c.easing).queue(function(){"hide"===n&&m.hide();b.effects.restore(m,p);b.effects.removeWrapper(m);h()});1<x&&C.splice.apply(C,[1,0].concat(C.splice(x,v+1)));m.dequeue()}})(jQuery);
(function(b,h){b.effects.effect.slide=function(c,h){var m=b(this),p="position top bottom left right width height".split(" "),n=b.effects.setMode(m,c.mode||"show"),u="show"===n,k=c.direction||"left",q="up"===k||"down"===k?"top":"left",k="up"===k||"left"===k,v,y={};b.effects.save(m,p);m.show();v=c.distance||m["top"===q?"outerHeight":"outerWidth"](!0);b.effects.createWrapper(m).css({overflow:"hidden"});u&&m.css(q,k?isNaN(v)?"-"+v:-v:v);y[q]=(u?k?"+\x3d":"-\x3d":k?"-\x3d":"+\x3d")+v;m.animate(y,{queue:!1,
duration:c.duration,easing:c.easing,complete:function(){"hide"===n&&m.hide();b.effects.restore(m,p);b.effects.removeWrapper(m);h()}})}})(jQuery);
(function(b,h){b.effects.effect.transfer=function(c,h){var m=b(this),p=b(c.to),n="fixed"===p.css("position"),u=b("body"),k=n?u.scrollTop():0,u=n?u.scrollLeft():0,q=p.offset(),p={top:q.top-k,left:q.left-u,height:p.innerHeight(),width:p.innerWidth()},q=m.offset(),v=b('\x3cdiv class\x3d"ui-effects-transfer"\x3e\x3c/div\x3e').appendTo(document.body).addClass(c.className).css({top:q.top-k,left:q.left-u,height:m.innerHeight(),width:m.innerWidth(),position:n?"fixed":"absolute"}).animate(p,c.duration,c.easing,
function(){v.remove();h()})}})(jQuery);
function d(b){var h,c;if(!this.length)return this;h=this[0];h.ownerDocument?c=h.ownerDocument:(c=h,h=c.documentElement);if(null==b)return c.cancelFullScreen||c.webkitCancelFullScreen||c.mozCancelFullScreen?(b=!!c.fullScreen||!!c.webkitIsFullScreen||!!c.mozFullScreen)?c.fullScreenElement||c.webkitCurrentFullScreenElement||c.mozFullScreenElement||b:b:null;b?(b=h.requestFullScreen||h.webkitRequestFullScreen||h.mozRequestFullScreen)&&b.call(h,Element.ALLOW_KEYBOARD_INPUT):(b=c.cancelFullScreen||c.webkitCancelFullScreen||
c.mozCancelFullScreen)&&b.call(c);return this}jQuery.fn.fullScreen=d;jQuery.fn.toggleFullScreen=function(){return d.call(this,!d.call(this))};var e,f,g;e=document;e.webkitCancelFullScreen?(f="webkitfullscreenchange",g="webkitfullscreenerror"):e.mozCancelFullScreen?(f="mozfullscreenchange",g="mozfullscreenerror"):(f="fullscreenchange",g="fullscreenerror");jQuery(document).bind(f,function(){jQuery(document).trigger(new jQuery.Event("fullscreenchange"))});jQuery(document).bind(g,function(){jQuery(document).trigger(new jQuery.Event("fullscreenerror"))});
(function(b){b.effects.fly=function(h){return this.queue(function(){var c=b(this),l=["position","top","bottom","left","right"];b.effects.setMode(c,h.options.mode||"show");var m=h.options.direction||"left";b.effects.save(c,l);var p=c.position();"none"==c.css("display")&&(c.css({visibility:"hidden",display:"block"}),p=c.position(),c.css({visibility:"inherit",display:"none"}));c.parent();"absolute"!=c.css("position")&&"relative"!=c.css("position")&&c.css({position:"absolute",top:p.top+"px",left:p.left+
"px"});"show"==h.options.mode?("left"==m?c.css("left",0-c.width()+"px"):"right"==m?c.css("left",b(document).width()+c.width()+"px"):"up"==m?c.css("top",0-c.height()+"px"):"down"==m&&c.css("top",b(document).height()+c.height()+"px"),c.show(),m=void 0!=h.duration?h.duration:1E3,c.animate(p,{duration:m,queue:!1,easing:"linear",complete:function(){b.effects.restore(c,l);h.callback&&h.callback.apply(this,arguments);c.dequeue()}})):(p={},"left"==m?p.left=0-c.width():"right"==m?p.left=b(document).width()+
c.width():"up"==m?p.top=0-c.height():"down"==m&&(p.top=b(document).height()+c.height()),m=void 0!=h.duration?h.duration:1E3,c.animate(p,{duration:m,queue:!1,easing:"linear",complete:function(){c.hide();b.effects.restore(c,l);h.callback&&h.callback.apply(this,arguments);c.dequeue()}}))})};b.effects.move=function(h){return this.queue(function(){var c=b(this),l=["position","top","bottom","left","right"],m=h.options.to;b.effects.save(c,l);var p=c.position();c.parent().css("height");"absolute"!=c.css("position")&&
"relative"!=c.css("position")&&c.css({position:"absolute",top:p.top+"px",left:p.left+"px"});p=void 0!=h.duration?h.duration:800;"undefined"!=typeof h.options.allowShow&&1!=h.options.allowShow||c.show();c.animate(m,{duration:p,queue:!1,easing:"linear",complete:function(){h.options.restore&&b.effects.restore(c,l);h.callback&&h.callback.apply(this,arguments);c.dequeue()}})})};b.effects.resize=function(h){return this.queue(function(){var c=b(this),l=h.options.to,m=void 0!=h.duration?h.duration:800;b.effects.save(c,
["width","height"]);var p={};void 0!=l.height&&(p.height=l.height+"%");void 0!=l.width&&(p.width=l.width+"%");c.velocity(p,{duration:m,complete:function(){h.callback&&h.callback.apply(this,arguments);c.dequeue()}});c.dequeue()})};b.effects.fadeTo=function(h){return this.queue(function(){var c=b(this);c.animate(h.options.to,{duration:void 0!=h.duration?h.duration:800,queue:!1,easing:"linear",complete:function(){h.callback&&h.callback.apply(this,arguments);c.dequeue()}})})};b.effects.fadeTo=b.effects.fadeTo;
b.effects.moveBy=b.effects.move;b.effects.moveTo=b.effects.move;b.effects.resizeTo=b.effects.resize;b.effects.resizeBy=b.effects.resize})(jQuery);
!function(b){var h=function(c,h){this.options=h;this.element=b(c);b(c).addClass("dki-stayInView").css("transition","top 100ms ease-in-out");this.initSubscribers();return this};h.DEFAULTS={scrollParent:b("body")};h.prototype={initSubscribers:function(){var c=this;this.options.scrollParent.hasClass("siv-wp")||this.options.scrollParent.addClass("siv-wp").data("siv-wp",new Waypoint.Inview({element:this.options.scrollParent[0],enter:function(){b(window).on("scroll."+c.element.data("id"),b.proxy(c.move,
c))},exited:function(){b(window).off("scroll."+b(c.el).data("id"))}}))},getVisibleRange:function(c){var h=b(window).scrollTop(),m=b(window).scrollTop()+b(window).height(),p=this.options.scrollParent.offset().top,n=this.options.scrollParent.offset().top+this.options.scrollParent.outerHeight();return Math.max(0,Math.min((m-p+Math.max(0,h-p))/2,n-(20+b(c).outerHeight())-p))},move:function(){var c=this;this.options.scrollParent.find(".dki-stayInView").each(function(){b(this).css("top",c.getVisibleRange(this))})},
destroy:function(){this.siv.element.removeClass(".dki-stayInView");0==this.siv.options.scrollParent.find(".dki-staInView").length&&(this.siv.options.scrollParent.data("siv-wp").destroy(),this.siv.options.scrollParent.data("siv-wp",""));b(window).off("scroll."+this.siv.element.data("id"))}};b.fn.StayInView=function(c){var l=c,m=Array.prototype.slice.call(arguments,1);return this.each(function(){var p=b(this),n=b(this).data("dki.StayInView");options=b.extend({},h.DEFAULTS,"object"===typeof l&&l);n?
"string"===typeof c&&(p=b(this).data("dki.StayInView"))&&p[c]&&p[c].apply({$:b(this),siv:b(this).data("dki.StayInView")},m):p.data("dki.StayInView",new h(this,options))})};b.fn.StayInView.Constructor=h}(window.jQuery);var DKI;DKI||(DKI={});var idSeed=0;DKI.apply=function(b,h){b="undefined"!=typeof b?b:{};h="undefined"!=typeof h?h:{};for(var c in h)b[c]=h[c];return b};
DKI.applyIf=function(b,h,c){b="undefined"!=typeof b?b:{};h="undefined"!=typeof h?h:{};if(b)if(void 0===c?0:c)DKI.applyIfDeep(b,h);else for(var l in h)"undefined"==typeof b[l]&&(b[l]=h[l]);return b};DKI.applyIfDeep=function(b,h){if(b)for(var c in h)"undefined"===typeof b[c]?DKI.isObject(h[c])?(b[c]={},arguments.callee(b[c],h[c])):b[c]=h[c]:DKI.isObject(h[c])&&arguments.callee(b[c],h[c]);return b};DKI.id=function(){for(;0<$(idSeed).length;)idSeed++;return idSeed};
DKI.determineRoot=function(){var b=window.location.href;return/\/$/.test(b)?b:b.replace(/\?.*$/,"").replace(/\w*\.[a-zA-Z]+$/,"")};DKI.isDefined=function(b){return"undefined"!==typeof b};DKI.getVideoEmbedURL=function(b){var h=dataStorage.getElement(b);return"videoembed"==h.elementtype?(h.meta2="dynamic",settings.inPreview?DKI.determineRoot().replace("/preview/","")+"ajax/element.cfm/"+b+"/videoEmbedTemp.html":"assets/elements/"+b+"/tempVideoEmbed.html"):""};
DKI.stripHTML=function(b){b=b.toString();b=b.replace(/<(?:.|\s)*?>/g,"");b=b.replace(/\&nbsp\;/g," ");b=b.replace(/\s+/g," ");return b=$("\x3cdiv\x3e"+b+"\x3c/div\x3e").text()};DKI.getObjectKeys=function(b){var h=[],c;for(c in b)h.push(c);return h};DKI.isObject=function(b){return"[object Object]"==Object.prototype.toString.call(b)};DKI.isEmptyObject=function(b){var h=0,c;for(c in b)b.hasOwnProperty(c)&&h++;return 0==h};DKI.isFunction=function(b){return"[object Function]"==Object.prototype.toString.call(b)};
DKI.isArray=function(b){return"[object Array]"==Object.prototype.toString.call(b)};DKI.clone=function(b,h){var c="undefined"==typeof h?!0:h;if(DKI.isArray(b)){h=[];for(var l=0;l<b.length;l++)c?h.push(DKI.clone(b[l])):h.push(b[l])}else if(DKI.isObject(b))for(l in h={},b){var m=b[l];h[l]=c?DKI.clone(m):m}else h=b;return h};
DKI.scrollTop=function(){var b;if(1==settings.courseType&&settings.scrolling)b=$("#contentFrame div.current.slide").scrollTop();else if(dkiUA.ie&&8>=dkiUA.ieVersion){b=document.body;var h=document.documentElement,h=h.clientHeight?h:b;b=h.scrollTop}else b=window.pageYOffset;return b};
DKI.centerInPlayer=function(b,h){var c="left";h||(c="margin-"+c);h=b.outerWidth(!0);var l=b.outerHeight(!0),m=$("#contentFrame").width(),p=((DKI.courseStore&&DKI.courseStore.course.get()?DKI.courseStore.course.get().height:$(p).height())-l)/2+DKI.scrollTop();h=(m-h)/2;b.css("top",p+"px").css(c,h+"px")};
DKI.calculateCoords=function(b,h,c){var l=$(window).height()>$("#contentFrame").height()?$("#contentFrame").height():$(window).height(),m=$("#contentFrame").width(),p=$("#headerContainer").height(),n=$(h).outerHeight()*settings.scale;h=$(h).outerWidth()*settings.scale;var u=($("html").width()/settings.scale-$("body").width())/2,u={x:($(b).offset().left-u-$("#contentFrame").offset().left)/settings.scale,y:($(b).offset().top+b.offsetHeight*settings.scale+c-$("#contentFrame").offset().top)/settings.scale},
k=DKI.scrollTop();u.x+h>m&&(u.x=m-(h+20));m=l+k-p;1==settings.courseType&&(m=settings.courseHeight);u.y+n>m&&(u.y=u.y-n-$(b).outerHeight()-c,0>u.y&&(u.y=l-p-n));u.y=0>u.y?0:u.y;return u};DKI.setNS=function(b,h,c){"string"===typeof b&&(b=b.split("."));if(1<b.length){var l=b.shift();DKI.setNS(b,h[l]="[object Object]"===Object.prototype.toString.call(h[l])?h[l]:{},c)}else h[b[0]]=c};
DKI.capitalizeString=function(b){return b.toLowerCase().replace(/^[\u00C0-\u1FFF\u2C00-\uD7FF\w]|\s[\u00C0-\u1FFF\u2C00-\uD7FF\w]/g,function(b){return b.toUpperCase()})};DKI.waypointsDefaults={};DKI.EVENT_CANCEL_BUBBLE=function(b){b.stopPropagation?b.stopPropagation():b.cancelBubble=!0};
DKI.hexToRGB=function(b,h){b=b.replace("#","");var c=parseInt(b.substring(0,2),16),l=parseInt(b.substring(2,4),16);b=parseInt(b.substring(4,6),16);return"undefined"!==typeof h?"rgba("+c+","+l+","+b+","+h/100+")":"rgb("+c+","+l+","+b+")"};DKI.shuffle=function(b){for(var h=b.length,c,l;0!==h;)l=Math.floor(Math.random()*h),--h,c=b[h],b[h]=b[l],b[l]=c;return b};
DKI.formatDate=function(b,h,c,l){"string"===typeof b&&(b=b.replace(" ","T"));b=b instanceof Date?b:new Date(b);var m="";l||(m+=b.getFullYear()+"-"+("0"+(b.getMonth()+1)).slice(-2)+"-"+("0"+b.getDate()).slice(-2));h||(h=b.getHours(),l="",c||(l=11<h?"pm":"am",h%=12,0==h&&(h=12)),m+=" "+("0"+h).slice(-2)+":"+("0"+b.getMinutes()).slice(-2)+l);return m.trim()};
DKI.getURLParameterValue=function(b,h,c){var l=location;b=DKI.getURLParameters(l)[b];!b&&h&&(b=decodeURIComponent(l.href.split("?")[1]).replace(/\+/g," "),c&&isNaN(b)&&(b=null));return b};DKI.getURLParameters=function(b){"undefined"==typeof b&&(b=location);var h={};b.search.replace(/([^?&]+)=([^&]*)?/gm,function(b,l,m){h[l]=decodeURIComponent(m).replace(/\+/g," ")});return h};
DKI.enforceFocus=function(b){$(document).off("focusin.enforce");$(".dki-focus-enforced [tabindex\x3d'1']:first").off("keydown",DKI.focusEnforcer.onFirstItemKeyDown);$(".dki-focus-enforced [tabindex\x3d'1']:last").off("keydown",DKI.focusEnforcer.onLastItemKeyDown);$(".dki-focus-enforced").removeClass("dki-focus-enforced");b&&($(document).on("focusin.enforce",$.proxy(function(h){document===h.target||b[0]===h.target||b.has(h.target).length||(h=b.find("*[tabindex\x3d'1']").first(),h[0]?h[0].focus():b[0].focus())},
this)),$("[tabindex\x3d'1']:first",b).on("keydown",DKI.focusEnforcer.onFirstItemKeyDown),$("[tabindex\x3d'1']:last",b).on("keydown",DKI.focusEnforcer.onLastItemKeyDown),b.addClass("dki-focus-enforced"))};
DKI.focusEnforcer={onFirstItemKeyDown:function(b){if(9==b.keyCode&&b.shiftKey){var h=$(".dki-focus-enforced [tabindex\x3d'1']").last();h[0]?h[0].focus():$(".dki-focus-enforced")[0].focus();b.preventDefault()}},onLastItemKeyDown:function(b){if(9==b.keyCode&&!b.shiftKey){var h=$(".dki-focus-enforced [tabindex\x3d'1']").first();h[0]?h[0].focus():$(".dki-focus-enforced")[0].focus();b.preventDefault()}}};
DKI.makeFocusable=function(b,h){var c="boolean"==typeof h?!!h:0<h;c?b.attr({tabindex:"boolean"==typeof h?1:h,"aria-hidden":"false"}):b.attr("aria-hidden","true").removeAttr("tabindex");return b};DKI.canAccessIframe=function(b){try{return!!b.document}catch(h){return!1}};DKI.getViewPortHeight=function(b){return b*Math.max(document.documentElement.clientHeight,window.innerHeight||0)/100};
DKI.utility={dateDiff:function(b,h){b=b instanceof Date?b:new Date(b);h=(h-b)/1E3;var c="";0<h&&(c=1>h?"About a second ago":60>h?Math.floor(h)+" seconds ago":120>h?"About a minute ago":3600>h?Math.floor(h/60)+" minutes ago":7200>h?"About an hour ago":86400>=h?Math.floor(h/3600)+" hours ago":DKI.utility.formatDate(b,!0));return c},timeFunctions:{convertMsToTime:function(b){var h={d:0,h:0,m:0,s:0,ms:0};864E5<=b&&(h.d=Math.floor(b/864E5),b-=864E5*h.d);36E5<=b&&(h.h=Math.floor(b/36E5),b-=36E5*h.h);6E4<=
b&&(h.m=Math.floor(b/6E4),b-=6E4*h.m);1E3<=b&&(h.s=Math.floor(b/1E3),b-=1E3*h.s);h.ms=b;return h}},isValidEmail:function(b){return(new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i)).test(b)},getScale:function(){var b=settings.scale;!settings.responsive&&
$(".fancybox-container").length&&(b*=settings.claroLightboxScaling);return b},getDragContainment:function(b,h,c){var l=DKI.utility.getScale();return[b.offset().left,b.offset().top,b.offset().left+b.width()*l-h*l,b.offset().top+b.height()*l-c*l]},dragFix:function(b,h){var c=0;h=h||DKI.utility.getScale();settings.responsive||(c=b.helper.data("initialPageYOffset")?b.helper.data("initialPageYOffset"):document.documentElement.scrollTop);b.position.top+=c;c=(b.originalPosition.top+(b.position.top-b.originalPosition.top))/
h;b.position.left=(b.originalPosition.left+(b.position.left-b.originalPosition.left))/h;b.position.top=c;return b},transitionEnd:function(){var b={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in b)if(void 0!==document.getElementsByTagName("html")[0].style[t])return b[t]}(),animationEnd:function(){var b={animation:"animationend",IEAnimation:"MSAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(a in b)if(void 0!==
document.getElementsByTagName("html")[0].style[a])return b[a]}(),onAnimation:function(b,h,c){b=b instanceof jQuery?b:$(b);DKI.utility.onGeneric(b,"animationEnd",h,c)},onTransition:function(b,h,c){b=b instanceof jQuery?b:$(b);DKI.utility.onGeneric(b,"transitionEnd",h,c)},onGeneric:function(b,h,c,l){var m=b.get(0),p=DKI.utility[h];l=l||350;if((!dkiUA||!dkiUA.ie||10<dkiUA.ieVersion)&&p){if(p)return b.one(p+".dkiAnimation",c),!1}else{if($("html").hasClass("csstransforms"))return b.data("dkiAnimation-"+
h,setTimeout(function(){c.call(m)},l)),!1;setTimeout(c,l)}},genericOff:function(b,h){var c=DKI.utility[h+"Event"];c?b.off(c+".dkiAnimation"):$("html").hasClass("csstransforms")&&b.data("dkiAnimation-"+h)&&(clearTimeout(b.data("dkiAnimation-"+h)),b.data("dkiAnimation-"+h,""))},animationOff:function(b){DKI.utility.genericOff(b,"animationEnd")},transitionOff:function(b){DKI.utility.genericOff(b,"transitionEnd")},changeContentLocation:function(b){DKI.preventSCORMUnload=!0;window.location.href=b.toString()}};
this.JSON||(JSON={});
(function(){function b(b){return 10>b?"0"+b:b}function h(b){m.lastIndex=0;return m.test(b)?'"'+b.replace(m,function(b){var c=u[b];return"string"===typeof c?c:"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+b+'"'}function c(b,l){var m,z,u=p,r,B=l[b];B&&"object"===typeof B&&"function"===typeof B.toJSON&&(B=B.toJSON(b));"function"===typeof k&&(B=k.call(l,b,B));switch(typeof B){case "string":return h(B);case "number":return isFinite(B)?String(B):"null";case "boolean":case "null":return String(B);case "object":if(!B)return"null";
p+=n;r=[];if("number"===typeof B.length&&!B.propertyIsEnumerable("length")){z=B.length;for(b=0;b<z;b+=1)r[b]=c(b,B)||"null";l=0===r.length?"[]":p?"[\n"+p+r.join(",\n"+p)+"\n"+u+"]":"["+r.join(",")+"]";p=u;return l}if(k&&"object"===typeof k)for(z=k.length,b=0;b<z;b+=1)m=k[b],"string"===typeof m&&(l=c(m,B))&&r.push(h(m)+(p?": ":":")+l);else for(m in B)Object.hasOwnProperty.call(B,m)&&(l=c(m,B))&&r.push(h(m)+(p?": ":":")+l);l=0===r.length?"{}":p?"{\n"+p+r.join(",\n"+p)+"\n"+u+"}":"{"+r.join(",")+"}";
p=u;return l}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(c){return this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"Z"},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(b){return this.valueOf()});var l=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,m=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
p,n,u={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},k;"function"!==typeof JSON.stringify&&(JSON.stringify=function(b,h,l){var m;n=p="";if("number"===typeof l)for(m=0;m<l;m+=1)n+=" ";else"string"===typeof l&&(n=l);if((k=h)&&"function"!==typeof h&&("object"!==typeof h||"number"!==typeof h.length))throw Error("JSON.stringify");return c("",{"":b})});"function"!==typeof JSON.parse&&(JSON.parse=function(b,c){function k(b,h){var l,m,q=b[h];if(q&&"object"===typeof q)for(l in q)Object.hasOwnProperty.call(q,
l)&&(m=k(q,l),void 0!==m?q[l]=m:delete q[l]);return c.call(b,h,q)}l.lastIndex=0;l.test(b)&&(b=b.replace(l,function(b){return"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(b.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return b=eval("("+b+")"),"function"===typeof c?k({"":b},""):b;throw new SyntaxError("JSON.parse");})})();
var swfobject=function(){function b(){if(!T){try{var b=F.getElementsByTagName("body")[0].appendChild(F.createElement("span"));b.parentNode.removeChild(b)}catch(c){return}T=!0;for(var b=K.length,k=0;k<b;k++)K[k]()}}function h(b){T?b():K[K.length]=b}function c(b){if("undefined"!=typeof D.addEventListener)D.addEventListener("load",b,!1);else if("undefined"!=typeof F.addEventListener)F.addEventListener("load",b,!1);else if("undefined"!=typeof D.attachEvent)A(D,"onload",b);else if("function"==typeof D.onload){var c=
D.onload;D.onload=function(){c();b()}}else D.onload=b}function l(){var b=F.getElementsByTagName("body")[0],c=F.createElement("object");c.setAttribute("type","application/x-shockwave-flash");var k=b.appendChild(c);if(k){var h=0;(function(){if("undefined"!=typeof k.GetVariable){var l=k.GetVariable("$version");l&&(l=l.split(" ")[1].split(","),N.pv=[parseInt(l[0],10),parseInt(l[1],10),parseInt(l[2],10)])}else if(10>h){h++;setTimeout(arguments.callee,10);return}b.removeChild(c);k=null;m()})()}else m()}
function m(){var b=I.length;if(0<b)for(var c=0;c<b;c++){var h=I[c].id,l=I[c].callbackFn,m={success:!1,id:h};if(0<N.pv[0]){var q=z(h);if(q)if(!r(I[c].swfVersion)||N.wk&&312>N.wk)if(I[c].expressInstall&&n()){m={};m.data=I[c].expressInstall;m.width=q.getAttribute("width")||"0";m.height=q.getAttribute("height")||"0";q.getAttribute("class")&&(m.styleclass=q.getAttribute("class"));q.getAttribute("align")&&(m.align=q.getAttribute("align"));for(var v={},q=q.getElementsByTagName("param"),x=q.length,y=0;y<
x;y++)"movie"!=q[y].getAttribute("name").toLowerCase()&&(v[q[y].getAttribute("name")]=q[y].getAttribute("value"));u(m,v,h,l)}else k(q),l&&l(m);else C(h,!0),l&&(m.success=!0,m.ref=p(h),l(m))}else C(h,!0),l&&((h=p(h))&&"undefined"!=typeof h.SetVariable&&(m.success=!0,m.ref=h),l(m))}}function p(b){var c=null;(b=z(b))&&"OBJECT"==b.nodeName&&("undefined"!=typeof b.SetVariable?c=b:(b=b.getElementsByTagName("object")[0])&&(c=b));return c}function n(){return!U&&r("6.0.65")&&(N.win||N.mac)&&!(N.wk&&312>N.wk)}
function u(b,c,k,h){U=!0;aa=h||null;ca={success:!1,id:k};var l=z(k);if(l){"OBJECT"==l.nodeName?(M=q(l),H=null):(M=l,H=k);b.id="SWFObjectExprInst";if("undefined"==typeof b.width||!/%$/.test(b.width)&&310>parseInt(b.width,10))b.width="310";if("undefined"==typeof b.height||!/%$/.test(b.height)&&137>parseInt(b.height,10))b.height="137";F.title=F.title.slice(0,47)+" - Flash Player Installation";h=N.ie&&N.win?"ActiveX":"PlugIn";h="MMredirectURL\x3d"+D.location.toString().replace(/&/g,"%26")+"\x26MMplayerType\x3d"+
h+"\x26MMdoctitle\x3d"+F.title;c.flashvars="undefined"!=typeof c.flashvars?c.flashvars+("\x26"+h):h;N.ie&&N.win&&4!=l.readyState&&(h=F.createElement("div"),k+="SWFObjectNew",h.setAttribute("id",k),l.parentNode.insertBefore(h,l),l.style.display="none",function(){4==l.readyState?l.parentNode.removeChild(l):setTimeout(arguments.callee,10)}());v(b,c,k)}}function k(b){if(N.ie&&N.win&&4!=b.readyState){var c=F.createElement("div");b.parentNode.insertBefore(c,b);c.parentNode.replaceChild(q(b),c);b.style.display=
"none";(function(){4==b.readyState?b.parentNode.removeChild(b):setTimeout(arguments.callee,10)})()}else b.parentNode.replaceChild(q(b),b)}function q(b){var c=F.createElement("div");if(N.win&&N.ie)c.innerHTML=b.innerHTML;else if(b=b.getElementsByTagName("object")[0])if(b=b.childNodes)for(var k=b.length,h=0;h<k;h++)1==b[h].nodeType&&"PARAM"==b[h].nodeName||8==b[h].nodeType||c.appendChild(b[h].cloneNode(!0));return c}function v(b,c,k){var h,l=z(k);if(N.wk&&312>N.wk)return h;if(l)if("undefined"==typeof b.id&&
(b.id=k),N.ie&&N.win){var m="",r;for(r in b)b[r]!=Object.prototype[r]&&("data"==r.toLowerCase()?c.movie=b[r]:"styleclass"==r.toLowerCase()?m+=' class\x3d"'+b[r]+'"':"classid"!=r.toLowerCase()&&(m+=" "+r+'\x3d"'+b[r]+'"'));r="";for(var q in c)c[q]!=Object.prototype[q]&&(r+='\x3cparam name\x3d"'+q+'" value\x3d"'+c[q]+'" /\x3e');l.outerHTML='\x3cobject classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+m+"\x3e"+r+"\x3c/object\x3e";J[J.length]=b.id;h=z(b.id)}else{q=F.createElement("object");q.setAttribute("type",
"application/x-shockwave-flash");for(var n in b)b[n]!=Object.prototype[n]&&("styleclass"==n.toLowerCase()?q.setAttribute("class",b[n]):"classid"!=n.toLowerCase()&&q.setAttribute(n,b[n]));for(m in c)c[m]!=Object.prototype[m]&&"movie"!=m.toLowerCase()&&(b=q,r=m,n=c[m],k=F.createElement("param"),k.setAttribute("name",r),k.setAttribute("value",n),b.appendChild(k));l.parentNode.replaceChild(q,l);h=q}return h}function y(b){var c=z(b);c&&"OBJECT"==c.nodeName&&(N.ie&&N.win?(c.style.display="none",function(){if(4==
c.readyState){var k=z(b);if(k){for(var h in k)"function"==typeof k[h]&&(k[h]=null);k.parentNode.removeChild(k)}}else setTimeout(arguments.callee,10)}()):c.parentNode.removeChild(c))}function z(b){var c=null;try{c=F.getElementById(b)}catch(k){}return c}function A(b,c,k){b.attachEvent(c,k);L[L.length]=[b,c,k]}function r(b){var c=N.pv;b=b.split(".");b[0]=parseInt(b[0],10);b[1]=parseInt(b[1],10)||0;b[2]=parseInt(b[2],10)||0;return c[0]>b[0]||c[0]==b[0]&&c[1]>b[1]||c[0]==b[0]&&c[1]==b[1]&&c[2]>=b[2]?!0:
!1}function B(b,c,k,h){if(!N.ie||!N.mac){var l=F.getElementsByTagName("head")[0];l&&(k=k&&"string"==typeof k?k:"screen",h&&(X=Q=null),Q&&X==k||(h=F.createElement("style"),h.setAttribute("type","text/css"),h.setAttribute("media",k),Q=l.appendChild(h),N.ie&&N.win&&"undefined"!=typeof F.styleSheets&&0<F.styleSheets.length&&(Q=F.styleSheets[F.styleSheets.length-1]),X=k),N.ie&&N.win?Q&&"object"==typeof Q.addRule&&Q.addRule(b,c):Q&&"undefined"!=typeof F.createTextNode&&Q.appendChild(F.createTextNode(b+
" {"+c+"}")))}}function C(b,c){O&&(c=c?"visible":"hidden",T&&z(b)?z(b).style.visibility=c:B("#"+b,"visibility:"+c))}function x(b){return null!=/[\\\"<>\.;]/.exec(b)&&"undefined"!=typeof encodeURIComponent?encodeURIComponent(b):b}var D=window,F=document,E=navigator,G=!1,K=[function(){G?l():m()}],I=[],J=[],L=[],M,H,aa,ca,T=!1,U=!1,Q,X,O=!0,N=function(){var b="undefined"!=typeof F.getElementById&&"undefined"!=typeof F.getElementsByTagName&&"undefined"!=typeof F.createElement,c=E.userAgent.toLowerCase(),
k=E.platform.toLowerCase(),h=k?/win/.test(k):/win/.test(c),k=k?/mac/.test(k):/mac/.test(c),c=/webkit/.test(c)?parseFloat(c.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,l=!+"\v1",m=[0,0,0],r=null;if("undefined"!=typeof E.plugins&&"object"==typeof E.plugins["Shockwave Flash"])!(r=E.plugins["Shockwave Flash"].description)||"undefined"!=typeof E.mimeTypes&&E.mimeTypes["application/x-shockwave-flash"]&&!E.mimeTypes["application/x-shockwave-flash"].enabledPlugin||(G=!0,l=!1,r=r.replace(/^.*\s+(\S+\s+\S+$)/,
"$1"),m[0]=parseInt(r.replace(/^(.*)\..*$/,"$1"),10),m[1]=parseInt(r.replace(/^.*\.(.*)\s.*$/,"$1"),10),m[2]=/[a-zA-Z]/.test(r)?parseInt(r.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if("undefined"!=typeof D.ActiveXObject)try{if(r=(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version"))l=!0,r=r.split(" ")[1].split(","),m=[parseInt(r[0],10),parseInt(r[1],10),parseInt(r[2],10)]}catch(q){}return{w3:b,pv:m,wk:c,ie:l,win:h,mac:k}}();(function(){N.w3&&(("undefined"!=typeof F.readyState&&
"complete"==F.readyState||"undefined"==typeof F.readyState&&(F.getElementsByTagName("body")[0]||F.body))&&b(),T||("undefined"!=typeof F.addEventListener&&F.addEventListener("DOMContentLoaded",b,!1),N.ie&&N.win&&(F.attachEvent("onreadystatechange",function(){"complete"==F.readyState&&(F.detachEvent("onreadystatechange",arguments.callee),b())}),D==top&&function(){if(!T){try{F.documentElement.doScroll("left")}catch(c){setTimeout(arguments.callee,0);return}b()}}()),N.wk&&function(){T||(/loaded|complete/.test(F.readyState)?
b():setTimeout(arguments.callee,0))}(),c(b)))})();(function(){N.ie&&N.win&&window.attachEvent("onunload",function(){for(var b=L.length,c=0;c<b;c++)L[c][0].detachEvent(L[c][1],L[c][2]);b=J.length;for(c=0;c<b;c++)y(J[c]);for(var k in N)N[k]=null;N=null;for(var h in swfobject)swfobject[h]=null;swfobject=null})})();return{registerObject:function(b,c,k,h){if(N.w3&&b&&c){var l={};l.id=b;l.swfVersion=c;l.expressInstall=k;l.callbackFn=h;I[I.length]=l;C(b,!1)}else h&&h({success:!1,id:b})},getObjectById:function(b){if(N.w3)return p(b)},
embedSWF:function(b,c,k,l,m,q,p,z,x,y){var B={success:!1,id:c};N.w3&&!(N.wk&&312>N.wk)&&b&&c&&k&&l&&m?(C(c,!1),h(function(){k+="";l+="";var h={};if(x&&"object"===typeof x)for(var A in x)h[A]=x[A];h.data=b;h.width=k;h.height=l;A={};if(z&&"object"===typeof z)for(var D in z)A[D]=z[D];if(p&&"object"===typeof p)for(var E in p)A.flashvars="undefined"!=typeof A.flashvars?A.flashvars+("\x26"+E+"\x3d"+p[E]):E+"\x3d"+p[E];if(r(m))D=v(h,A,c),h.id==c&&C(c,!0),B.success=!0,B.ref=D;else{if(q&&n()){h.data=q;u(h,
A,c,y);return}C(c,!0)}y&&y(B)})):y&&y(B)},switchOffAutoHideShow:function(){O=!1},ua:N,getFlashPlayerVersion:function(){return{major:N.pv[0],minor:N.pv[1],release:N.pv[2]}},hasFlashPlayerVersion:r,createSWF:function(b,c,k){if(N.w3)return v(b,c,k)},showExpressInstall:function(b,c,k,h){N.w3&&n()&&u(b,c,k,h)},removeSWF:function(b){N.w3&&y(b)},createCSS:function(b,c,k,h){N.w3&&B(b,c,k,h)},addDomLoadEvent:h,addLoadEvent:c,getQueryParamValue:function(b){var c=F.location.search||F.location.hash;if(c){/\?/.test(c)&&
(c=c.split("?")[1]);if(null==b)return x(c);for(var c=c.split("\x26"),k=0;k<c.length;k++)if(c[k].substring(0,c[k].indexOf("\x3d"))==b)return x(c[k].substring(c[k].indexOf("\x3d")+1))}return""},expressInstallCallback:function(){if(U){var b=z("SWFObjectExprInst");b&&M&&(b.parentNode.replaceChild(M,b),H&&(C(H,!0),N.ie&&N.win&&(M.style.display="block")),aa&&aa(ca));U=!1}}}}(),isMobile=$("body").hasClass("mobile"),isTablet=$("body").hasClass("tablet"),isOnline=$("body").hasClass("online");DKI||(DKI={});
DKI.templates={};DKI.templates.header="";DKI.templates.footer="";if(isMobile||isTablet||isOnline)DKI.templates.header+='\x3cdiv id\x3d"logo"\x3e\x3c/div\x3e';
isMobile?isTablet?(DKI.templates.header+='\x3cdiv id\x3d"skipToContentWrapper"\x3e\x3ca id\x3d"skipToContent" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title \x3d "{{strings.index.skipToContent}}" \x3e{{strings.index.skipToContent}}\x3c/a\x3e \x3c/div\x3e','\x3ca id\x3d"listButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.listButtonLabel}}" \x3e \x3cspan\x3e{{strings.index.listButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3cdiv id\x3d"moreButtons"\x3e \x3ca id\x3d"exitButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.exitButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.exitButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"menuButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.menuButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.menuButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"audioButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.audioButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.audioButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"resourceButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title \x3d "{{strings.index.resourcesButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.resourcesButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"glossaryButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title \x3d "{{strings.index.glossaryButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.glossaryButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"transcriptButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.transcriptButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.transcriptButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"replayButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.replayButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.replayButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3c/div\x3e \x3cspan id\x3d"moduleName" tabindex\x3d"1"\x3e\x3c/span\x3e \x3cspan id\x3d"objectName" tabindex\x3d"1"\x3e\x3c/span\x3e \x3cspan id\x3d"screenCount" tabindex\x3d"1"\x3e\x3cspan id\x3d"currentScreen"\x3e0\x3c/span\x3e / \x3cspan id\x3d"totalScreens"\x3e0\x3c/span\x3e\x3c/span\x3e \x3cdiv id\x3d"navigationButtons"\x3e \x3ca id\x3d"backButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.previousButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.previousButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"forwardButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.nextButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.nextButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3c/div\x3e'):(DKI.templates.header+=
'\x3cdiv id\x3d"skipToContentWrapper"\x3e\x3ca id\x3d"skipToContent" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title \x3d "{{strings.index.skipToContent}}" \x3e{{strings.index.skipToContent}}\x3c/a\x3e \x3c/div\x3e','\x3ca id\x3d"listButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" aria-label\x3d"{{strings.index.listButtonLabel}}" aria-haspopup\x3d"true" aria-owns\x3d"moreButtons" title\x3d"{{strings.index.listButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.listButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3cdiv id\x3d"moreButtons"\x3e \x3ca id\x3d"exitButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.exitButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.exitButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"menuButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.menuButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.menuButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"resourceButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title \x3d "{{strings.index.resourcesButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.resourcesButtonLabel}}\x3c/span\x3e \x3ca id\x3d"glossaryButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title \x3d "{{strings.index.glossaryButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.glossaryButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"transcriptButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.transcriptButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.transcriptButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"audioButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.audioButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.audioButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"replayButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.replayButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.replayButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3c/div\x3e \x3cspan id\x3d"moduleName" tabindex\x3d"1"\x3e\x3c/span\x3e \x3cspan id\x3d"objectName" tabindex\x3d"1"\x3e\x3c/span\x3e \x3cspan id\x3d"screenCount" tabindex\x3d"1" role\x3d"region"\x3e\x3cspan id\x3d"currentScreen"\x3e0\x3c/span\x3e / \x3cspan id\x3d"totalScreens"\x3e0\x3c/span\x3e\x3c/span\x3e \x3cdiv id\x3d"navigationButtons"\x3e \x3ca id\x3d"backButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" aria-label\x3d"{{strings.index.previousButtonLabel}}" title\x3d"{{strings.index.previousButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.previousButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"forwardButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" aria-label\x3d"{{strings.index.nextButtonLabel}}" title\x3d"{{strings.index.nextButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.nextButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3c/div\x3e'):
(DKI.templates.footer+='\x3cdiv id\x3d"info"\x3e \x3cspan id\x3d"moduleName" tabindex\x3d"0"\x3e\x3c/span\x3e \x3cspan id\x3d"objectName" tabindex\x3d"0"\x3e\x3c/span\x3e \x3c/div\x3e \x3cdiv class\x3d"navButtonContainer"\x3e \x3ca id\x3d"audioButton" class\x3d"navButton" tabindex\x3d"0" role\x3d"button" title\x3d"{{strings.index.audioButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.audioButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"replayButton" class\x3d"navButton" tabindex\x3d"0" role\x3d"button" title\x3d"{{strings.index.replayButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.replayButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3cdiv id\x3d"navButtons"\x3e \x3cspan id\x3d"screenCount" tabindex\x3d"0"\x3e\x3cspan id\x3d"currentScreen"\x3e0\x3c/span\x3e / \x3cspan id\x3d"totalScreens"\x3e0\x3c/span\x3e\x3c/span\x3e \x3ca id\x3d"backButton" class\x3d"navButton" tabindex\x3d"0" role\x3d"button" title\x3d"{{strings.index.previousButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.previousButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"forwardButton" class\x3d"navButton" tabindex\x3d"0" role\x3d"button" title\x3d"{{strings.index.nextButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.nextButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3c/div\x3e \x3c/div\x3e\t',
DKI.templates.header+='\x3cdiv class\x3d"navButtonContainer"\x3e\x3cdiv id\x3d"skipToContentWrapper"\x3e\x3ca id\x3d"skipToContent" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title \x3d "{{strings.index.skipToContent}}" \x3e{{strings.index.skipToContent}}\x3c/a\x3e \x3c/div\x3e','\x3ca id\x3d"resourceButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title \x3d "{{strings.index.resourcesButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.resourcesButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"glossaryButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title \x3d "{{strings.index.glossaryButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.glossaryButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"transcriptButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.transcriptButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.transcriptButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"menuButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.menuButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.menuButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"exitButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.exitButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.exitButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3c/div\x3e');
Handlebars.registerHelper("forExport",function(b){return DKI.renderService.state.renderEnvironment.export?b.fn(this):b.inverse(this)});DKI.templates.endModule='\x3cdiv class\x3d"endScreenWrapper" style\x3d"display : -ms-flexbox;-ms-flex-direction : column;"\x3e \x3cdiv class\x3d"endScreen flex {{#if responsive}}dki-section-height" data-section-height\x3d"100"{{else}}"{{/if}}\x3e \x3cdiv id\x3d"endMod_header" class\x3d"section header" style\x3d""\x3e \x3cdiv tabindex\x3d"1"\x3e\x3ch4\x3e{{strings.endMod.headerText}}\x3c/h4\x3e \x3ch3 id\x3d"endMod_moduleName" class\x3d"modname" style\x3d"margin-top:0px"\x3e{{{module.name}}}\x3c/h3\x3e \x3c/div\x3e\x3cdiv style\x3d"text-align:center;"\x3e\x3cdiv class\x3d"passCont"  tabindex\x3d"1"\x3e\x3cspan class\x3d"endMod_testScore testScore"\x3e\x3c/span\x3e\x3cspan class\x3d"endMod_passStatus passStatus"\x3e\x3c/span\x3e\x3cspan class\x3d"endMod_passingScore passingScore"\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e \x3cdiv id\x3d"endMod_content" class\x3d"flexfill flex"\x3e\x3cdiv id\x3d"endMod_status" class\x3d"status flexfill flex"\x3e \x3cdiv id\x3d"endMod_testScoreDetails" class\x3d"dki-lineitem dki-lineitem-last"\x3e \x3c/div\x3e \x3c/div\x3e \x3cdiv id\x3d"endMod_actions" class\x3d"section actions" style\x3d"display: inline-block;"\x3e \x3cspan class\x3d"col-xs-clear-right col-lg-3 col-md-3 col-sm-3 col-xs-{{#if responsive}}12{{else}}3{{/if}} endMod_testingLink centerBlock"\x3e\x3ca class\x3d" disabled btn btn-success" id\x3d"" tabindex\x3d"1" role\x3d"button"\x3e{{strings.endMod.testingLinkLabel}}\x3c/a\x3e \x3c/span\x3e\x3cspan class\x3d"col-xs-clear-right col-lg-3 col-md-3 col-sm-3 col-xs-{{#if responsive}}6{{else}}3{{/if}} endMod_reviewLink centerBlock"\x3e\x3ca class\x3d" btn btn-success" tabindex\x3d"1" role\x3d"button"\x3e{{strings.endMod.reviewTestButton}}\x3c/a\x3e \x3c/span\x3e\x3cspan class\x3d"col-xs-clear-right col-lg-3 col-md-3 col-sm-3 col-xs-{{#if responsive}}12{{else}}3{{/if}} endMod_revisitLink centerBlock"\x3e\x3ca class\x3d" btn btn-default" tabindex\x3d"1" role\x3d"button"\x3e{{strings.endMod.revisitContentButton}}\x3c/a\x3e \x3c/span\x3e\x3cspan class\x3d"col-xs-clear-right col-lg-3 col-md-3 col-sm-3 col-xs-{{#if responsive}}12{{else}}3{{/if}} endMod_learningLink centerBlock"\x3e\x3ca class\x3d" btn btn-primary" tabindex\x3d"1" role\x3d"button"\x3e{{strings.endMod.learningLinkLabel}}\x3c/a\x3e \x3c/span\x3e\x3c/div\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e';
DKI.templates.endScreenTestItem='\x3cdiv class\x3d"col-xs-clear-right{{#if responsive}} col-lg-4 col-md-4 col-sm-6 col-xs-12{{/if}} objectTestItem centerBlock"\x3e \x3cdiv class\x3d"testItemContentContainer flex"\x3e\x3cdiv class\x3d"dki-modTitle" tabindex\x3d"1" aria-label\x3d"{{{object.name}}}"\x3e{{{object.name}}}\x3c/div\x3e\x3cdiv class\x3d\'flex flexrow flexfill gaugecont\' style\x3d\'margin-bottom:10px;\'\x3e\x3cdiv class\x3d\'flexfill gaugesubcont\'\x3e\x3cdiv {{#if gaugeLabel}} tabindex\x3d\'1\' aria-label\x3d\'{{gaugeLabel}}\'{{/if}} class\x3d"{{style}} dki-radialgauge radial fill-primary noJelly {{#unless forTesting}}overlay_transparent{{/unless}}"\x3e\x3cdiv class\x3d"overlay"\x3e\x3cdiv tabindex\x3d"1" class\x3d"text dki-element-text {{#unless forTesting}}hidden{{/unless}}"\x3e\x3c/div\x3e{{#if isComplete}}\x3ci class\x3d\'fa fa-check justicon\' style\x3d\'font-size:80px; margin-top:12px;\'\x3e\x3c/i\x3e{{/if}}\x3c/div\x3e\x3cdiv class\x3d"mask full"\x3e\x3cdiv class\x3d"fill"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"mask half"\x3e\x3cdiv class\x3d"fill"\x3e\x3c/div\x3e\x3cdiv class\x3d"fill fix"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e{{#if forTesting}}\x3cdiv class\x3d\'scoreDisp\' tabindex\x3d\'1\' style\x3d\'white-space:nowrap;\'\x3e({{object.points}}/{{object.totalWeight}} {{strings.txtPoints}})\x3c/div\x3e{{else}}\x3cdiv class\x3d\'scoreDisp\' tabindex\x3d\'-1\' aria-hidden style\x3d\'white-space:nowrap;\'\x3e\x26nbsp;\x3c/div\x3e{{/if}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e';
DKI.templates.CourseEndScreenTestItem="\x3cdiv class\x3d\"col-xs-clear-right{{#if responsive}} col-lg-4 col-md-4 col-sm-6 col-xs-12{{/if}} objectTestItem centerBlock{{#if requiresPass}} requiresPass{{/if}}\"\x3e \x3cdiv class\x3d\"testItemContentContainer flex\"\x3e\x3cdiv class\x3d\"dki-modTitle\" tabindex\x3d\"1\" \"\x3e{{{module.loname}}}\x3c/div\x3e\x3cdiv class\x3d'flex flexrow flexfill gaugecont'\x3e\x3cdiv\x3e\x3cdiv class\x3d'flex flexfill gaugesubcont'\x3e\x3cdiv {{#if gaugeLabel}} tabindex\x3d'1' aria-label\x3d'{{gaugeLabel}}'{{/if}} class\x3d\"{{style}} dki-radialgauge radial noJelly {{#unless showScore}}overlay_transparent{{/unless}}\"\x3e\x3cdiv class\x3d\"overlay\"\x3e\x3cdiv tabindex\x3d\"1\" class\x3d\"text dki-element-text {{#unless showScore}}hidden{{/unless}}\"\x3e\x3c/div\x3e{{#if isComplete}}\x3ci class\x3d'fa fa-check justicon' style\x3d'font-size:80px; margin-top:12px;'\x3e\x3c/i\x3e{{/if}}\x3c/div\x3e\x3cdiv class\x3d\"mask full\"\x3e\x3cdiv class\x3d\"fill\"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d\"mask half\"\x3e\x3cdiv class\x3d\"fill\"\x3e\x3c/div\x3e\x3cdiv class\x3d\"fill fix\"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e{{#if showWeight}}\x3cdiv class\x3d'scoreDisp' style\x3d'margin-top:10px;' tabindex\x3d'1'\x3e\x3cdiv\x3e({{points}}/{{weight}} {{strings.runtime.txtPoints}})\x3c/div\x3e\x3c/div\x3e{{/if}}\x3c/div\x3e\x3cdiv class\x3d'scoreDisp' style\x3d'white-space:nowrap;' \x3e{{#if showRetake}}\x3cdiv class\x3d'btn btn-success retake {{retakeButtonClassExtra}}' style\x3d'margin-bottom:10px;' data-moduleid\x3d'{{module.loid}}' tabindex\x3d'1'\x3e{{retakeText}}\x3c/div\x3e{{/if}}{{#if showScore}}\x3cdiv class\x3d'endCourse_remainingAttempts' style\x3d'font-size: 0.75em' tabindex\x3d'1'\x3e{{strings.runtime.txtRemainingAttempts}} {{attempts}}\x3c/div\x3e{{/if}}{{#if showPass}}\x3cdiv style\x3d'font-size: 0.75em; margin-top:10px;' tabindex\x3d'1'\x3e{{passMark}}\x3c/div\x3e{{/if}}\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'btn btn-default view' data-moduleid\x3d'{{module.loid}}' style\x3d'width: calc(100% - 30px); margin: 15px 0; padding: 5px 0;'tabindex\x3d'1'\x3e{{strings.endMod.revisitContentButton}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e";
DKI.templates.endCourse='\x3cdiv class\x3d"endScreenWrapper"\x3e \x3cdiv class\x3d"endScreen flex{{#if responsive}} dki-section-height" data-section-height\x3d"100"{{else}}"{{/if}}\x3e \x3cdiv id\x3d"endCourse_header" class\x3d"section header bg-primary" style\x3d""\x3e \x3cdiv tabindex\x3d"1"\x3e\x3ch4\x3e{{strings.endCourse.headerLabel}}\x3c/h4\x3e \x3ch3 id\x3d"endCourse_courseName" style\x3d"margin-top:0px"\x3e{{contentApi "getCourseName"}}\x3c/h3\x3e \x3c/div\x3e\x3cdiv style\x3d"text-align:center;"\x3e\x3cdiv class\x3d"passCont" tabindex\x3d"1"\x3e\x3cspan class\x3d"endCourse_testScore testScore"\x3e\x3c/span\x3e\x3cspan class\x3d"endCourse_passStatus passStatus"\x3e\x3c/span\x3e\x3cspan class\x3d"endCourse_passingScore passingScore"\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e \x3cdiv id\x3d"endCourse_status" class\x3d"status flex flexfill"\x3e \x3cdiv id\x3d"endCourse_testScoreDetails" class\x3d"dki-lineitem dki-lineitem-last"\x3e \x3c/div\x3e\x3c/div\x3e \x3cdiv id\x3d"endCourse_actions" class\x3d"section actions"\x3e \x3cspan class\x3d"col-xs-clear-right col-lg-4 col-md-4 col-sm-4 col-xs-12 centerBlock" id\x3d"endCourse_bibliographyLink"\x3e\x3ca class\x3d"btn btn-default" tabindex\x3d"1" role\x3d"button"\x3e{{strings.endCourse.viewBibliography}}\x3c/a\x3e\x3c/span\x3e\x3cspan class\x3d"col-xs-clear-right col-lg-4 col-md-4 col-sm-4 col-xs-12 centerBlock" id\x3d"endCourse_certificateLink"\x3e\x3ca class\x3d"disabled btn btn-warning" tabindex\x3d"1" role\x3d"button"\x3e{{strings.endCourse.viewCertificate}}\x3c/a\x3e\x3c/span\x3e\x3cspan class\x3d"col-xs-clear-right col-lg-4 col-md-4 col-sm-4 col-xs-12 centerBlock" id\x3d"endCourse_exitLink"\x3e\x3ca class\x3d"btn btn-primary" tabindex\x3d"1" role\x3d"button"\x3e{{strings.index.exitButtonLabel}}\x3c/a\x3e\x3c/span\x3e\x3c/div\x3e \x3c/div\x3e \x3c/div\x3e';
DKI.templates.window="\x3cdiv id\x3d'{{id}}' class\x3d'loading windowContainer'\x3e\x3cdiv class\x3d'browserHeader'\x3e\x3cspan class\x3d'headerTitle' tabindex\x3d'0'\x3e{{windowTitle}}\x3c/span\x3e\x3cbutton class\x3d'windowContainer-close fa fa-close' aria-label\x3d'{{strings.runtime.buttonLabelClose}}' role\x3d'button' tabindex\x3d'0'\x3e\x3c/button\x3e\x3c/div\x3e{{{afterHeader}}}\x3cdiv id\x3d'{{contentId}}' class\x3d'browserContentContainer'\x3e{{{windowContent}}}\x3c/div\x3e\x3c/div\x3e";
DKI.templates.mobileBackSearch="{{#if mobile}}\x3cdiv class\x3d'backButton' tabindex\x3d'0'\x3e Back \x3c/div\x3e{{#unless disableSearch}}\x3cdiv class\x3d'searchContainer'\x3e\x3cdiv class\x3d'searchIcon'/\x3e\x3cinput class\x3d'searchInput' type\x3d'text'\x3e\x3c/input\x3e\x3c/div\x3e{{/unless}}{{/if}}";DKI.templates.search="\x3cdiv id\x3d'resultList' class\x3d'panel browserList'\x3e\x3cdiv class\x3d'searchContainer'\x3e\x3cspan class\x3d'searchtitlelabel'\x3e{{strings.courseSearch.title}}\x3c/span\x3e\x3cinput id\x3d'courseSearchInput'class\x3d'searchInput' type\x3d'text' tabindex\x3d'0' placeholder\x3d'{{strings.courseSearch.inputPlaceholder}}'\x3e\x3c/input\x3e\x3ci class\x3d'fa fa-search'/\x3e\x3c/div\x3e\x3cul id\x3d'results' class\x3d'resultList clearfix'\x3e\x3cli class\x3d'searchItem' data-filter\x3d'top' tabindex\x3d'0' title\x3d'{{strings.courseSearch.filterTop}}'\x3e\x3cspan class\x3d'icon top'\x3e\x3c/span\x3e\x3cspan class\x3d'filterTitle'\x3e{{strings.courseSearch.filterTop}}\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d'searchItem' data-filter\x3d'page'  data-istextitem\x3d'true' tabindex\x3d'0'title\x3d'{{strings.courseSearch.filterTranscripts}}'\x3e\x3cspan class\x3d'icon page'\x3e\x3c/span\x3e\x3cspan class\x3d'filterTitle'\x3e{{strings.courseSearch.filterTranscripts}}\x3c/span\x3e\x3cspan class\x3d'resCount'\x3e\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d'searchItem' data-filter\x3d'image' tabindex\x3d'0'title\x3d'{{strings.courseSearch.filterImages}}'\x3e\x3cspan class\x3d'icon image'\x3e\x3c/span\x3e\x3cspan class\x3d'filterTitle'\x3e{{strings.courseSearch.filterImages}}\x3c/span\x3e\x3cspan class\x3d'resCount'\x3e\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d'searchItem' data-filter\x3d'video' tabindex\x3d'0'title\x3d'{{strings.courseSearch.filterVideos}}'\x3e\x3cspan class\x3d'icon video'\x3e\x3c/span\x3e\x3cspan class\x3d'filterTitle'\x3e{{strings.courseSearch.filterVideos}}\x3c/span\x3e\x3cspan class\x3d'resCount'\x3e\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d'searchItem' data-filter\x3d'audio' tabindex\x3d'0'title\x3d'{{strings.courseSearch.filterAudio}}'\x3e\x3cspan class\x3d'icon audio'\x3e\x3c/span\x3e\x3cspan class\x3d'filterTitle'\x3e{{strings.courseSearch.filterAudio}}\x3c/span\x3e\x3cspan class\x3d'resCount'\x3e\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d'searchItem' data-filter\x3d'richMedia' tabindex\x3d'0'title\x3d'{{strings.courseSearch.filterRichMedia}}'\x3e\x3cspan class\x3d'icon richMedia'\x3e\x3c/span\x3e\x3cspan class\x3d'filterTitle'\x3e{{strings.courseSearch.filterRichMedia}}\x3c/span\x3e\x3cspan class\x3d'resCount'\x3e\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d'division'\x3e\x3c/li\x3e\x3cli class\x3d'searchItem' data-filter\x3d'text' data-istextitem\x3d'true' tabindex\x3d'0'title\x3d'{{strings.courseSearch.filterText}}'\x3e\x3cspan class\x3d'icon text'\x3e\x3c/span\x3e\x3cspan class\x3d'filterTitle'\x3e{{strings.courseSearch.filterText}}\x3c/span\x3e\x3cspan class\x3d'resCount'\x3e\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d'searchItem' data-filter\x3d'reference'  data-istextitem\x3d'true' tabindex\x3d'0'title\x3d'{{strings.courseSearch.filterReferences}}'\x3e\x3cspan class\x3d'icon reference'\x3e\x3c/span\x3e\x3cspan class\x3d'filterTitle'\x3e{{strings.courseSearch.filterReferences}}\x3c/span\x3e\x3cspan class\x3d'resCount'\x3e\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d'searchItem' data-filter\x3d'glossary'  data-istextitem\x3d'true' tabindex\x3d'0'title\x3d'{{strings.courseSearch.filterGlossaries}}'\x3e\x3cspan class\x3d'icon glossary'\x3e\x3c/span\x3e\x3cspan class\x3d'filterTitle'\x3e{{strings.courseSearch.filterGlossaries}}\x3c/span\x3e\x3cspan class\x3d'resCount'\x3e\x3c/span\x3e\x3c/li\x3e\x3c/ul\x3e\x3cdiv class\x3d'sequential' title\x3d''\x3e\x3cspan class\x3d'icon alert'\x3e\x3c/span\x3e\x3ch3\x3e{{strings.courseSearch.sequentialWarningTitle}}\x3c/h3\x3e\x3cp\x3e{{strings.courseSearch.sequentialWarningText}}\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'panel details list'\x3e\x3cdiv class\x3d'switchContainer'\x3e\x3cdiv class\x3d'listPanel'\x3e\x3c/div\x3e\x3cdiv class\x3d'propertiesPanel'\x3e\x3cdiv tabindex\x3d'0' class\x3d'backNav'\x3e\x3cspan class\x3d'icon backChevron'\x3e\x3c/span\x3e\x3cspan\x3e{{strings.courseSearch.back}}\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d'overflowContainer'\x3e\x3cdiv class\x3d'propertiesContent'\x3e\x3c/div\x3e\x3cdiv class\x3d'linksContainer'\x3e\x3ch3 class\x3d'linksTitle'\x3e\x3c/h3\x3e\x3cdiv class\x3d'links'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e";
DKI.templates.glossaryPopup='\x3cdiv id\x3d"glossaryPopup" class\x3d"popupWindow loading"\x3e\x3cdiv class\x3d"glossaryPopupHeader"\x3e\x3cp id\x3d"glossaryPopupTerm" tabindex\x3d"-1" \x3e\x3c/p\x3e\x3c/div\x3e\x3cdiv class\x3d"sectionBreak"\x3e\x3c/div\x3e\x3cdiv class\x3d"glossaryPopupBody"\x3e\x3cdiv id\x3d"glossaryPopupDefinitionContainer"\x3e\x3cdiv id\x3d"glossaryPopupDefinition" class\x3d"popupContent" tabindex\x3d"-1"\x3e\x3c/div\x3e\x3cdiv id\x3d"glossaryPopupSource" class\x3d"popupContent" tabindex\x3d"-1"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"glossaryHoverDefinition" class\x3d"popupWindow"\x3e\x3c/div\x3e';
DKI.templates.glossaryBrowser="\x3cdiv id\x3d'termList' class\x3d'panel browserList'\x3e\x3cul id\x3d'termUl' class\x3d'terms'\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv id\x3d'termDetails' class\x3d'panel details'\x3e\x3cdiv class\x3d'detailsContent'\x3e\x3cdiv\x3e\x3cdiv id\x3d'term' tabindex\x3d'0'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d\"sectionBreak\"\x3e\x3c/div\x3e\x3cdiv id\x3d'definition' tabindex\x3d'0'\x3e\x3c/div\x3e\x3cdiv class\x3d'sectionBreak'\x3e\x3c/div\x3e\x3cdiv id\x3d'attribution' tabindex\x3d'0'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e";
DKI.templates.glossary={list:'\x3cul class\x3d"list-group dki-glossary-list {{config.className}}"\x3e{{#each terms}}{{\x3e DKI.templates.glossary.list_term}}{{/each}}\x3c/ul\x3e',list_term:'\x3cli class\x3d"list-group-item dki-glossary-list-term" data-id\x3d"{{glossaryid}}" tabindex\x3d"1"\x3e{{term}}\x3c/li\x3e',term_content:'\x3cdiv class\x3d"dki-glossary-term-content-container"\x3e\x3cdiv class\x3d"dki-glossary-term-content-header-container tooltip-header"\x3e\x3ch4 class\x3d"dki-glossary-term-content-header"\x3e\x3cdiv class\x3d"dki-glossary-term-tooltip-close" tabindex\x3d"1" aria-label\x3d"{{strings.runtime.buttonLabelClose}}"\x3e\x3ci class\x3d"fa fa-close"\x3e\x3c/i\x3e\x3c/div\x3e\x3cspan id\x3d"dki-glossary-term-title" tabindex\x3d"1"\x3e{{term.term}}\x3c/span\x3e\x3c/h4\x3e\x3c/div\x3e\x3cdiv id\x3d"glosscon" class\x3d"dki-glossary-term-content"\x3e\x3cdiv class\x3d"dki-glossary-term-content-definition" tabindex\x3d"1" aria-label\x3d"{{term.definition}}"\x3e{{{term.definition}}}\x3c/div\x3e{{#glossaryHasAttribution term}}\x3cdiv class\x3d"sectionBreak fillWidth"\x3e\x3c/div\x3e\x3csmall class\x3d"dki-glossary-term-content-source" tabindex\x3d"1" aria-label\x3d"{{{glossaryAttribution term}}}"\x3e{{{glossaryAttribution term}}}\x3c/small\x3e{{/glossaryHasAttribution}}\x3cdiv class\x3d"dki-glossary-term-tooltip-close" tabindex\x3d"1" aria-label\x3d"{{strings.runtime.buttonLabelClose}}"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
term_tooltip:'\x3cdiv role\x3d"dialog" aria-live\x3d"off" aria-labelledby\x3d"dki-glossary-term-emptyLabel" aria-label\x3d" " class\x3d"dki-glossary-term-tooltip"\x3e\x3cdiv id\x3d"dki-glossary-term-emptyLabel" aria-label\x3d" "\x3e\x3c/div\x3e{{\x3e DKI.templates.glossary.term_content term\x3dterm strings\x3dstrings}}\x3c/div\x3e'};Handlebars.registerPartial("DKI.templates.glossary.list_term",DKI.templates.glossary.list_term);Handlebars.registerPartial("DKI.templates.glossary.term_content",DKI.templates.glossary.term_content);
DKI.templates.citationPopup="\x3cdiv id\x3d'referencePopup' class\x3d'popupWindow loading'\x3e\x3cdiv class\x3d'referencePopupHeader'\x3e\x3cdiv id\x3d'referencePopupClose' class\x3d'referenceCloseButton' tabindex\x3d'1' title\x3d'{{strings.runtime.buttonLabelClose}}' role\x3d'button'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'sectionBreak'\x3e\x3c/div\x3e\x3cdiv class\x3d'referencePopupBody'\x3e\x3cdiv id\x3d'referencePopupText' class\x3d'popupContent' tabindex\x3d'1'\x3e\x3cdiv id\x3d'referenceTextContainer'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'sectionBreak'\x3e\x3c/div\x3e\x3cdiv id\x3d'linkContainer'\x3e\x3cspan id\x3d'viewBibliographyLink' title \x3d '{{strings.references.viewBibliography}}'tabindex\x3d'1'\x3e\x3c/span\x3e\x3cdiv class\x3d'nav'\x3e\x3cspan class\x3d'previous citationNav' tabindex\x3d'1'\x3e\x3c/span\x3e\x3cspan class\x3d'counter' tabindex\x3d'1'\x3e\x3c/span\x3e\x3cspan class\x3d'next citationNav' tabindex\x3d'0'\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e";
DKI.templates.resource={list:'\x3cul class\x3d"list-group dki-resource-list {{config.className}}"\x3e{{#each categories}}{{\x3e DKI.templates.resource.asset_category}}{{/each}}{{\x3e DKI.templates.resource.links_category}}{{\x3e DKI.templates.resource.pages_category}}\x3c/ul\x3e',asset_category:'\x3cli class\x3d"list-group-item dki-resource-list-category" data-id\x3d"{{id}}" tabindex\x3d"1"\x3e\x3ch5 class\x3d"list-group-item-heading"\x3e{{title}}\x3c/h5\x3e\x3cul class\x3d"list-group dki-resource-list-items"\x3e{{#each resources}}{{\x3e DKI.templates.resource.asset_list_item}}{{/each}}\x3c/ul\x3e\x3c/li\x3e',
asset_list_item:'\x3cli class\x3d"list-group-item dki-resource-list-item {{#if fancybox.href}}fancy-box-item{{/if}}" data-id\x3d"{{id}}" title\x3d"{{title}}" {{#if fancybox.href}}data-fancybox-href\x3d"{{fancybox.href}}" data-fancybox-group\x3d"{{fancybox.group}}" data-fancybox-title\x3d"{{fancybox.title}}" data-fancybox-type\x3d"{{fancybox.type}}" {{/if}}\x3e\x3cp class\x3d"list-group-item-text"\x3e{{#if allowResourceDownload}}\x3ca download\x3d"{{title}}.{{extension}}" href\x3d"{{filePath}}" target\x3d"_blank" class\x3d"dki-resource-asset-list-item-download" tabindex\x3d"1" aria-label\x3d"{{title}}" data-id\x3d"{{id}}"\x3e\x3ci class\x3d"fa fa-download"\x3e\x3c/i\x3e\x3c/a\x3e{{/if}}{{title}}\x3c/p\x3e{{{fancybox.inline_content}}}\x3c/li\x3e',
links_category:'{{#if links}}\x3cli class\x3d"list-group-item dki-resource-list-category" data-id\x3d"{{id}}" tabindex\x3d"1"\x3e\x3ch5 class\x3d"list-group-item-heading"\x3e{{links.title}}\x3c/h5\x3e\x3cul class\x3d"list-group dki-resource-list-items"\x3e{{#each links.resources}}{{\x3e DKI.templates.resource.link_list_item}}{{/each}}\x3c/ul\x3e\x3c/li\x3e{{/if}}',link_list_item:'\x3cli class\x3d"list-group-item dki-resource-list-item" data-id\x3d"{{id}}"\x3e\x3ca class\x3d"link" href\x3d"{{parameters.url}}" target\x3d"_blank" tabindex\x3d"1" aria-describedby\x3d"{{id}}_description"\x3e{{parameters.title}}\x3c/a\x3e\x3cp id\x3d"{{id}}_description" class\x3d"list-group-item-text"\x3e{{parameters.description}}\x3c/p\x3e\x3c/li\x3e',
video_content:'\x3cdiv id\x3d"{{id}}" data-resource-id\x3d"{{resource_id}}" class\x3d"dki-resource-list-inline-media"\x3e{{\x3e jPlayerVideo videoAncestorId\x3dancestor_id videoPlayerId\x3dplayer_id}}\x3c/div\x3e',audio_content:'\x3cdiv id\x3d"{{id}}" data-resource-id\x3d"{{resource_id}}" class\x3d"dki-resource-list-inline-media"\x3e{{\x3e jPlayerAudio audioAncestorId\x3dancestor_id audioPlayerId\x3dplayer_id}}\x3c/div\x3e',pages_category:'{{#if pages}}\x3cli class\x3d"list-group-item dki-resource-pages" data-id\x3d"{{id}}" tabindex\x3d"1"\x3e\x3ch5 class\x3d"list-group-item-heading"\x3e{{pages.title}}\x3c/h5\x3e\x3cul class\x3d"list-group dki-resource-list-items"\x3e{{#each pages.resources}}{{\x3e DKI.templates.resource.link_page_item}}{{/each}}\x3c/ul\x3e\x3c/li\x3e{{/if}}',
link_page_item:'\x3cli class\x3d"list-group-item dki-resource-list-item" data-id\x3d"{{id}}" tabindex\x3d"1"\x3e\x3cdiv class\x3d"link pageLink" data-id\x3d"{{id}}"\x3e{{title}}\x3c/div\x3e\x3c/li\x3e'};Handlebars.registerPartial("DKI.templates.resource.asset_category",DKI.templates.resource.asset_category);Handlebars.registerPartial("DKI.templates.resource.asset_list_item",DKI.templates.resource.asset_list_item);Handlebars.registerPartial("DKI.templates.resource.links_category",DKI.templates.resource.links_category);
Handlebars.registerPartial("DKI.templates.resource.link_list_item",DKI.templates.resource.link_list_item);Handlebars.registerPartial("DKI.templates.resource.pages_category",DKI.templates.resource.pages_category);Handlebars.registerPartial("DKI.templates.resource.link_page_item",DKI.templates.resource.link_page_item);DKI.templates.resourceBrowser="\x3cdiv id\x3d'resourceList' class\x3d'panel browserList'\x3e{{#unless mobile}}\x3cdiv class\x3d'searchContainer'\x3e\x3cdiv class\x3d'searchIcon'/\x3e\x3cinput id\x3d'resourceSearchBox'class\x3d'searchInput' type\x3d'text' tabindex\x3d'1'\x3e\x3c/input\x3e\x3c/div\x3e{{/unless}}\x3cul id\x3d'list' class\x3d'resultList'\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv id\x3d'resourceView' class\x3d'panel'\x3e\x3cdiv class\x3d'detailsContent border'\x3e\x3cdiv id\x3d'resourceDetails'\x3e\x3cdiv id\x3d'resourceContent' tabindex\x3d'1'\x3e\x3c/div\x3e\x3cdiv class\x3d'assetProperties'\x3e\x3cdiv id\x3d'resourceTitle' tabindex\x3d'1'\x3e\x3c/div\x3e\x3cdiv id\x3d'resourceDescription' tabindex\x3d'1'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e";
DKI.templates.feedbackPanel={tooltipContent:'\x3cdiv class\x3d"feedback-wrapper"\x3e{{\x3e note.submit}}\x3cdiv class\x3d"feedback-notes"\x3e{{#each o.notes}}{{\x3e note}}{{/each}}\x3c/div\x3e\x3c/div\x3e',toolbar:'\x3cdiv id\x3d"reviewerTabContainer"\x3e\x3cspan class\x3d"reviewerButtonLabel reviewerTabDraggableIcon"\x3e\x3ci class\x3d"fa fa-arrows"\x3e\x3c/i\x3e\x3c/span\x3e\x3cspan class\x3d"reviewerButtonLabel" tabindex\x3d"0"\x3eReview Tools\x3c/span\x3e\x3cdiv class\x3d"reviewerTabButton feedback-tooltip-icon" id\x3d"feedbackTab" title\x3d"View page feedback" tabindex\x3d"0"\x3e\x3c/div\x3e\x3cdiv class\x3d"reviewerTabButton" id\x3d"pinFeedback" title\x3d"Select element for feedback" tabindex\x3d"0"\x3e\x3c/div\x3e\x3cdiv class\x3d"reviewerTabButton" id\x3d"answerKey" title\x3d"See the test answer key" tabindex\x3d"0"\x3e\x3c/div\x3e\x3cdiv class\x3d"reviewerTabButton" id\x3d"endReviewTab" title\x3d"End the review" tabindex\x3d"0"\x3e\x3c/div\x3e\x3c/div\x3e'};
DKI.templates.popupPanel={wrap:'\x3cdiv class\x3d"fancybox-wrap"\x3e\x3cdiv class\x3d"fancybox-skin"\x3e\x3cdiv class\x3d"fancybox-outer"\x3e\x3cdiv class\x3d"fancybox-inner"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',closeBtn:'\x3ca title\x3d"'+DKI.strings.runtime.buttonLabelClose+'" class\x3d"fancybox-item fancybox-close" href\x3d"javascript:;"\x3e\x3c/a\x3e'};DKI.templates.feedbackPopup=Handlebars.compile('\x3cdiv class\x3d"feedbackWrapper feedbackContainer"\x3e\x3cdiv class\x3d"feedbackContent"\x3e\x3cdiv class\x3d"feedbackHeader"\x3e\x3cspan class\x3d"feedbackClose" tabindex\x3d"0"\x3e\x3c/span\x3e\x3c/div\x3e{{{content}}}\x3c/div\x3e\x3c/div\x3e');
DKI.templates.browserWarning='\x3cdiv class\x3d"modal fade" tabindex\x3d"-1" role\x3d"dialog" data-backdrop\x3d"static"\x3e\x3cdiv class\x3d"modal-dialog"\x3e\x3cdiv class\x3d"modal-content"\x3e\x3cdiv class\x3d"modal-header"\x3e\x3cbutton type\x3d"button" class\x3d"close" data-dismiss\x3d"modal" aria-label\x3d"{{{strings.browserWarning.close}}}"\x3e\x3cspan aria-hidden\x3d"true"\x3e\x26times;\x3c/span\x3e\x3c/button\x3e\x3ch4 class\x3d"modal-title"\x3e{{{strings.browserWarning.title}}}\x3c/h4\x3e\x3c/div\x3e\x3cdiv class\x3d"modal-body"\x3e\x3cdiv id\x3d"browserWarning_content"\x3e\x3cp\x3e{{{strings.browserWarning.message}}}\x3c/p\x3e\x3cdiv id\x3d"browserWarning_downloads"\x3e\x3ca href\x3d"http://www.google.com/chrome/" target\x3d"_blank" id\x3d"browserWarning_chromeDownload" title\x3d"{{{strings.browserWarning.downloadChrome}}}"\x3e\x3cspan\x3e{{{strings.browserWarning.downloadChrome}}}\x3c/span\x3e\x3c/a\x3e\x3ca href\x3d"http://www.getfirefox.com/" target\x3d"_blank" id\x3d"browserWarning_firefoxDownload" title\x3d"{{{strings.browserWarning.downloadFirefox}}}"\x3e\x3cspan\x3e{{{strings.browserWarning.downloadFirefox}}}\x3c/span\x3e\x3c/a\x3e\x3ca href\x3d"http://www.apple.com/safari/download/" target\x3d"_blank" id\x3d"browserWarning_safariDownload" title\x3d"{{{strings.browserWarning.downloadSafari}}}"\x3e\x3cspan\x3e{{{strings.browserWarning.downloadSafari}}}\x3c/span\x3e\x3c/a\x3e\x3ca href\x3d"http://windows.microsoft.com/en-US/internet-explorer/downloads/ie" target\x3d"_blank" id\x3d"browserWarning_ieDownload" title\x3d"{{{strings.browserWarning.downloadIe}}}"\x3e\x3cspan\x3e{{{strings.browserWarning.downloadIe}}}\x3c/span\x3e\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"modal-footer"\x3e\x3cbutton type\x3d"button" tabindex\x3d\'1\' data-dismiss\x3d"modal" class\x3d"btn btn-default"\x3e{{{strings.runtime.buttonLabelClose}}}\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e';
DKI.templates.alertPanel=Handlebars.compile('\x3cdiv id\x3d"action_popup_{{id}}" data-actionID\x3d"{{id}}" tabindex\x3d"1" role\x3d\'dialog\' {{#if ariaLabel}}aria-label\x3d\'{{ariaLabel}}\'{{else}} aria-labelledby\x3d\'title_{{id}}\'{{/if}} class\x3d"popup modal {{style}} {{effect}} {{popupType.mod}} {{popupType.type}}"\x3e\x3cdiv class\x3d"vertAlign"\x3e\x3cdiv class\x3d"modal-dialog" role\x3d"document"\x3e\x3cdiv class\x3d"modal-content"\x3e\x3cdiv class\x3d"modal-header"\x3e{{#if exit}}\x3cbutton type\x3d"button" class\x3d"close" tabindex\x3d"1" aria-label\x3d"close"\x3e\x26times;\x3c/button\x3e{{/if}}\x3ch1 id\x3d\'title_{{id}}\' class\x3d"modal-title" {{#ifNEq title \'\'}}tabindex\x3d"1" aria-label\x3d"{{{title}}}" {{else}}tabindex\x3d"-1" {{/ifNEq}}\x3e{{{title}}}\x3c/h1\x3e\x3c/div\x3e\x3cdiv{{#if tabContent}} tabindex\x3d\'1\'{{/if}} class\x3d"modal-body"id\x3d\'content_{{id}}\'\x3e{{{html}}}\x3c/div\x3e\x3cdiv class\x3d"modal-footer"\x3e{{#if showInput}}\x3cdiv class\x3d\'doNotShow\'\x3e\x3cinput id\x3d\'popupDoNotShow\' type\x3d\'checkbox\' name\x3d\'popupDoNotShow\'/\x3e\x3clabel for\x3d\'popupDoNotShow\'\x3eDo not show this again\x3c/label\x3e\x3c/div\x3e{{/if}}\x3cbutton type\x3d"button" tabindex\x3d\'1\' aria-label\x3d"{{{strings.close}}}" class\x3d"btn {{#if popupType.btnCls}}{{popupType.btnCls}} {{else}}btn-default {{/if}}dismiss"\x3e{{{strings.close}}}\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
DKI.templates.notificationPanel=Handlebars.compile('\x3cdiv id\x3d"action_popup_{{id}}" data-actionID\x3d"{{id}}" {{#if role}}role\x3d"{{role}}"{{/if}} {{#if ariaLabel}}aria-label\x3d\'{{ariaLabel}}\'{{else}} aria-labelledby\x3d\'title_{{id}}\'{{/if}} class\x3d"popup alert {{style}} alert-dismissable {{effect}} {{popupType.mod}} {{popupType.type}}"  data-id\x3d{{id}}\x3e\x3ch4\x3e\x3cdiv class\x3d"titleCont"\x3e\x3cbutton type\x3d"button"  tabindex\x3d\'1\' class\x3d"close dismiss" aria-label\x3d"close"\x3e\x3cspan aria-hidden\x3d"true"\x3e\x26times;\x3c/span\x3e\x3c/button\x3e\x3cspan id\x3d\'title_{{id}}\' class\x3d"modal-title" {{#ifNEq title \'\'}}tabindex\x3d"1" aria-label\x3d"{{{title}}}" {{else}}tabindex\x3d"-1" {{/ifNEq}} \x3e{{{title}}}\x3c/span\x3e\x3c/div\x3e\x3c/h4\x3e\x3cdiv id\x3d\'content_{{id}}\' class\x3d"alert-content" {{#if tabContent}} tabindex\x3d\'1\'{{/if}}\x3e{{{html}}}\x3c/div\x3e\x3c/div\x3e');
DKI.templates.certificate={body:'\x3cdiv class\x3d"certificate"\x3e\x3cdiv class\x3d"content"\x3e\x3ch1\x3e{{{strings.certificate.title}}}\x3c/h1\x3e\x3cdiv\x3e{{{strings.certificate.body}}}\x3c/div\x3e\x3cdiv\x3e\x3cspan id\x3d"certificate_date"\x3e\x3c/span\x3e\x3c/div\x3e\x3ca id\x3d"certificate_print" tabindex\x3d"0" title\x3d"{{{strings.certificate.printTooltip}}}"\x3e\x3cspan\x3e{{{strings.certificate.print}}}\x3c/span\x3e\x3c/a\x3e\x3cdiv id\x3d"certificate_logo"\x3e\x3c/div\x3e\x3cdiv id\x3d"certificate_signature"\x3e{{{strings.certificate.sign}}}\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'};
DKI.templates.prompt='\x3cdiv class\x3d"modal fade" tabindex\x3d"-1" role\x3d"dialog" data-backdrop\x3d"static"\x3e\x3cdiv class\x3d"modal-dialog"\x3e\x3cdiv class\x3d"modal-content"\x3e\x3cdiv class\x3d"modal-body"\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel for\x3d"DKI_prompt_input"\x3e{{{strings.message}}}\x3c/label\x3e\x3cinput id\x3d"DKI_prompt_input" class\x3d"form-control"/\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"modal-footer"\x3e\x3cbutton type\x3d"button" class\x3d"prompt_ok btn btn-primary"\x3e{{{strings.ok}}}\x3c/button\x3e\x3cbutton type\x3d"button" class\x3d"btn btn-default"\x3e{{{strings.cancel}}}\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e';
Handlebars.registerPartial("note.body",'\x3cdiv class\x3d"feedback-note-body-wrapper" data-id\x3d"{{id}}"\x3e\x3cdiv class\x3d"feedback-note-avatar" style\x3d"background-image: url({{enteredBy.avatarURL}});"\x3e\x3c/div\x3e\x3cdiv class\x3d"feedback-note-details"\x3e\x3cdiv class\x3d"feedback-note-header"\x3e\x3cspan class\x3d"feedback-name"\x3e{{enteredBy.first}} {{enteredBy.last}}\x3c/span\x3e\x3cspan class\x3d"feedback-date"\x3e{{simpleDate dateFiled}}\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"feedback-note-body"\x3e{{{description}}}\x3c/div\x3e{{\x3e note.edit}}\x3ca class\x3d"feedback-note-action upvote"\x3e+1\x3c/a\x3e\x3cdiv class\x3d"feedback-note-rating"\x3e{{{rating}}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
Handlebars.registerPartial("note.submit",'\x3cdiv class\x3d"feedback-submit-wrapper"\x3e\x3cdiv class\x3d"feedback-closeFeedbackTab" title\x3d"Close" tabindex\x3d"0"\x3e\x3ci class\x3d"fa fa-close"\x3e\x3c/i\x3e\x3c/div\x3e\x3ctextarea class\x3d"txtArea-feedback" maxlength\x3d"1000"\x3e\x3c/textarea\x3e\x3cspan\x3e1000 characters\x3c/span\x3e\x3cbutton class\x3d"feedback-btnSubmit"\x3e{{strings.buttonLabelSubmit}}\x3c/button\x3e\x3c/div\x3e');Handlebars.registerPartial("note.reply",'\x3cdiv class\x3d"feedback-reply-wrapper" data-parent_note_id\x3d"{{id}}"\x3e\x3ctextarea class\x3d"txtArea-feedback" maxlength\x3d"1000"\x3e\x3c/textarea\x3e\x3cspan\x3e1000 characters\x3c/span\x3e\x3cbutton class\x3d"feedback-btnSubmit"\x3eReply\x3c/button\x3e\x3c/div\x3e');
Handlebars.registerPartial("note.edit",'\x3cdiv class\x3d"feedback-edit-wrapper" data-id\x3d"{{id}}"\x3e\x3ctextarea class\x3d"txtArea-feedback" maxlength\x3d"1000"\x3e{{description}}\x3c/textarea\x3e\x3cspan\x3e1000 characters\x3c/span\x3e\x3cbutton class\x3d"feedback-btnSubmit"\x3eDone\x3c/button\x3e\x3c/div\x3e\x3ca class\x3d"feedback-note-action edit"\x3eedit\x3c/a\x3e');Handlebars.registerPartial("note",'\x3cdiv class\x3d"feedback-note-wrapper" data-id\x3d"{{id}}" data-enteredby\x3d"{{enteredBy.id}}"\x3e{{\x3e note.body}}\x3cdiv class\x3d"feedback-note-comments-wrapper"\x3e{{#each notes}}{{\x3e note.body}}{{/each}}{{\x3e note.reply}}\x3c/div\x3e\x3cdiv class\x3d"feedback-note-actions"\x3e\x3ca class\x3d"feedback-note-action reply"\x3ereply\x3c/a\x3e\x3ca class\x3d"feedback-note-action delete"\x3edelete\x3c/a\x3e\x3ca class\x3d"feedback-note-action resolve"\x3eresolve\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e');
Handlebars.registerPartial("jPlayerVideo",'\x3cdiv id\x3d\'{{videoAncestorId}}\' class\x3d"jp-video"\x3e\x3cdiv class\x3d"jp-type-single"\x3e\x3cdiv id \x3d\'{{videoPlayerId}}\' class\x3d"vidPlayer" class\x3d"jp-video-player"\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-video-play"\x3e\x3ca class\x3d"jp-video-play-icon"\x3eplay\x3c/a\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-gui"\x3e\x3cdiv class\x3d"jp-interface"\x3e\x3cdiv class\x3d"jp-progress"\x3e\x3cdiv class\x3d"jp-seek-bar"\x3e\x3cdiv class\x3d"jp-play-bar"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-controls-holder"\x3e\x3cul class\x3d"jp-controls"\x3e\x3cli\x3e\x3ca class\x3d"jp-play" role\x3d"button"\x3eplay\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca class\x3d"jp-pause" role\x3d"button"\x3epause\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca class\x3d"jp-mute" role\x3d"button"\x3emute\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca class\x3d"jp-unmute" role\x3d"button"\x3eunmute\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca class\x3d"jp-transcript" role\x3d"button"\x3etranscript\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"jp-time"\x3e\x3cdiv class\x3d"jp-current-time"\x3e\x3c/div\x3e/\x3cdiv class\x3d"jp-duration"\x3e\x3c/div\x3e\x3c/li\x3e\x3cli class\x3d"jp-fs"\x3e\x3ca class\x3d"jp-full-screen" role\x3d"button"\x3efull\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"jp-fs"\x3e\x3ca class\x3d"jp-restore-screen" role\x3d"button"\x3erestore\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e\x3cdiv class\x3d"jp-volume-bar"\x3e\x3cdiv class\x3d"jp-volume-bar-value"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
Handlebars.registerPartial("jPlayerAudio",'\x3cdiv id \x3d \'{{audioAncestorId}}\' class\x3d\'audioContainer mediaContainer jp-audio\'\x3e\x3cdiv id \x3d\'{{audioPlayerId}}\' class\x3d\'audioPlayer jp-jplayer\'\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-type-single"\x3e\x3cdiv class\x3d"jp-gui jp-interface"\x3e\x3cdiv class\x3d"jp-progress"\x3e\x3cdiv class\x3d"jp-seek-bar"\x3e\x3cdiv class\x3d"jp-play-bar"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-controls-holder"\x3e\x3cul class\x3d"jp-controls"\x3e\x3cli\x3e\x3ca class\x3d"jp-play" tabindex\x3d"0" role\x3d"button"\x3eplay\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca class\x3d"jp-pause" tabindex\x3d"0" role\x3d"button"\x3epause\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca class\x3d"jp-mute" tabindex\x3d"0" role\x3d"button"\x3emute\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca class\x3d"jp-unmute"  style\x3d"display:none" tabindex\x3d"0" role\x3d"button"\x3eunmute\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca class\x3d"jp-transcript" tabindex\x3d"0" role\x3d"button"\x3etranscript\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca class\x3d"jp-cc" tabindex\x3d"0" role\x3d"button"\x3e\x3ci class\x3d"fa fa-cc"\x3e\x3c/i\x3eclosed caption\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"jp-time jp-fs" tabindex\x3d"0"\x3e\x3cdiv class\x3d"jp-current-time"\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-time-slash"\x3e/\x3c/div\x3e\x3cdiv class\x3d"jp-duration"\x3e\x3c/div\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-no-solution"\x3e\x3cspan\x3eThe media element failed to load.\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
Handlebars.registerPartial("jPlayerAudioSimple",'\x3cdiv id\x3d"{{audioSimpleAncestorId}}" class\x3d"jp-basic jPlayerAudioSimple"\x3e\x3cdiv class\x3d"jp-type-single"\x3e\x3cdiv id\x3d\'{{audioSimplePlayerId}}\' class\x3d"jp-audio"\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-gui jp-basic jp-interface"\x3e\x3cdiv class\x3d"jp-controls-holder"\x3e{{#unless skipControls}}\x3cul class\x3d"jp-controls"\x3e\x3cli\x3e\x3ca class\x3d"jp-play" tabindex\x3d"0" role\x3d"button"\x3eplay\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca class\x3d"jp-pause" tabindex\x3d"0" role\x3d"button"\x3epause\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e{{/unless}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
Handlebars.registerHelper("contentApi",function(b){return contentApi&&contentApi[b]?"function"===typeof contentApi[b]?contentApi[b]():contentApi[b]:""});Handlebars.registerHelper("exists",function(b,h){b=b.split(".");for(var c=!0,l=0;l<b.length;l++)if("undefined"===typeof this[b[l]]){c=!1;break}return c?h.fn(this):h.inverse(this)});Handlebars.registerHelper("runTemplate",function(b,h,c){"function"!==typeof b&&(b=b.template);return new Handlebars.SafeString(b(h.hash||h))});
Handlebars.registerHelper("simpleDate",function(b,h){b=new Date(b);return b.getDate()+"/"+(b.getMonth()+1)+"/"+b.getFullYear()});Handlebars.registerHelper("assessmentScore",function(b,h){return b.getScore()});Handlebars.registerHelper("assessmentPassmark",function(b,h){h=contentApi.getPassMark();b.module.passmark&&(h=b.module.passmark);return h});Handlebars.registerHelper("totalDelivered",function(b,h){return dataStorage.loadTest(b.module,!1).questions.length});
Handlebars.registerHelper("questionPartialScoring",function(b,h){h="On";if(0==b&&!playerBehaviour.partialScoring||2==b)h="Off";return h});
Handlebars.registerHelper("questionChoices",function(b,h){h="";if(1==b.type)h=h+'\x3cdiv class\x3d"status-detail-wrapper answer"\x3e\x3cdiv class\x3d"status-detail-label"\x3eAnswer : \x3c/div\x3e'+('\x3cdiv class\x3d"status-detail-value"\x3e'+b.options[0].parameters.correct+"\x3c/div\x3e"),h+="\x3c/div\x3e";else if(2==b.type){h+="\x3ctable\x3e\x3ctr\x3e\x3cth\x3eLetter\x3c/th\x3e\x3cth\x3eCorrect?\x3c/th\x3e\x3cth\x3eRandom?\x3c/th\x3e\x3cth\x3eFeedback\x3c/th\x3e\x3c/tr\x3e";for(var c=0;c<b.options.length;c++){var l=
b.options[c],m=$("#"+l.element_id+"_wrapper");h+='\x3ctr class\x3d"question-option-element-link" data-id\x3d"'+l.element_id+'"\x3e';h+="\x3ctd\x3e"+m.find(".optionNumber").text()+"\x3c/td\x3e";h+="\x3ctd\x3e"+l.parameters.correct+"\x3c/td\x3e";h+="\x3ctd\x3e"+l.parameters.randomized+"\x3c/td\x3e";h+='\x3ctd\x3e\x3cdiv class\x3d"option-feedback" title\x3d"'+l.parameters.feedback+'"\x3e'+l.parameters.feedback+"\x3c/div\x3e\x3c/td\x3e";h+="\x3c/tr\x3e"}h+="\x3c/table\x3e"}else if(4==b.type){h+="\x3ctable\x3e\x3ctr\x3e\x3cth\x3eLetter\x3c/th\x3e\x3cth\x3eCorrect Values\x3c/th\x3e\x3cth\x3eFeedback\x3c/th\x3e\x3c/tr\x3e";
for(c=0;c<b.options.length;c++)l=b.options[c],m=$("#"+l.element_id+"_wrapper"),h+='\x3ctr class\x3d"question-option-element-link" data-id\x3d"'+l.element_id+'"\x3e',h+="\x3ctd\x3e"+m.find(".optionNumber").text()+"\x3c/td\x3e",h+="\x3ctd\x3e"+l.parameters.correctValues+"\x3c/td\x3e",h+='\x3ctd\x3e\x3cdiv class\x3d"option-feedback" title\x3d"'+l.parameters.feedback+'"\x3e'+l.parameters.feedback+"\x3c/div\x3e\x3c/td\x3e",h+="\x3c/tr\x3e";h+="\x3c/table\x3e"}else if(5==b.type){h+="\x3ctable\x3e\x3ctr\x3e\x3cth\x3eLetter\x3c/th\x3e\x3cth\x3eCorrect Value\x3c/th\x3e\x3cth\x3eFeedback\x3c/th\x3e\x3c/tr\x3e";
for(c=0;c<b.options.length;c++)l=b.options[c],m=$("#"+l.element_id+"_wrapper"),h+='\x3ctr class\x3d"question-option-element-link" data-id\x3d"'+l.element_id+'"\x3e',h+="\x3ctd\x3e"+m.find(".optionNumber").text()+"\x3c/td\x3e",h+="\x3ctd\x3e"+l.parameters.correctValue+"\x3c/td\x3e",h+='\x3ctd\x3e\x3cdiv class\x3d"option-feedback" title\x3d"'+l.parameters.feedback+'"\x3e'+l.parameters.feedback+"\x3c/div\x3e\x3c/td\x3e",h+="\x3c/tr\x3e";h+="\x3c/table\x3e"}else if(6==b.type){h+="\x3ctable\x3e\x3ctr\x3e\x3cth\x3eDraggable\x3c/th\x3e\x3cth\x3eCorrect Target\x3c/th\x3e\x3c/tr\x3e";
for(c=0;c<b.options.length;c++){var l=b.options[c],m=$("#"+l.element_id+"_wrapper"),p=m.data("title");""==p&&(p=m.data("meta"));h+="\x3ctr\x3e";h+='\x3ctd class\x3d"question-option-element-link" data-id\x3d"'+l.element_id+'"\x3e'+p+"\x3c/td\x3e";h+="\x3ctd\x3e";for(m=0;m<l.parameters.correctTargets.length;m++){var p=$(".dki-authoring-element[data-dragdropid\x3d'"+l.parameters.correctTargets[m].toLowerCase()+"'], .dki-authoring-element[data-dragdropid\x3d'"+l.parameters.correctTargets[m].toUpperCase()+
"']"),n=p.data("title");""==n&&(n=p.data("meta"));h+='\x3cdiv class\x3d"question-option-element-link" data-id\x3d"'+p.data("id")+'"\x3e'+n+"\x3cdiv/\x3e"}h+="\x3c/td\x3e";h+="\x3c/tr\x3e"}h+="\x3c/table\x3e"}return h});Handlebars.registerHelper("questionFeedback",function(b,h){h=b.text;"true"==b.useDefault.toString()?h="\x3ci\x3eUsing course default\x3c/i\x3e":""==b.text&&(h="\x3ci\x3eNone supplied by author\x3c/i\x3e");return h});
Handlebars.registerHelper("math",function(b,h,c,l){b=parseFloat(b);c=parseFloat(c);return{"+":b+c,"-":b-c,"*":b*c,"/":b/c,"%":b%c}[h]});Handlebars.registerHelper("reverse",function(b){b.reverse()});Handlebars.registerHelper("glossaryAttribution",function(b){return b.attribution?DKI.strings.doc["Source label"]+b.attribution:b.citation_id?DKI.strings.doc["Source label"]+DKI.reference.getFullCitationText(b.citation_id):""});
Handlebars.registerHelper("glossaryHasAttribution",function(b,h){return b.attribution||b.citation_id?h.fn(this):h.inverse(this)});
DKI.RenderService=function(b){var h=this,c=this;this.state=$.extend(!0,{renderEnvironment:{authoring:!1,player:!1,full:!1,single:!1,export:!1,document:!1,template:!1,responsive:!1,legacyCourse:0},typeConfig:{},baseUrl:DKI.bu?DKI.bu():"",utility:DKI.utility?DKI.utility:{},design:{},strings:null,publish_filters:[]},b);this.registerPartials();this.registerHelpers();this.defaultArgs={renderEnv:this.state.renderEnvironment,strings:this.state.strings,typeConfig:this.state.typeConfig};var l=function(b){return{outline:b}},
m={format:function(b){return{outline:b,audioAncestorId:"content_"+b.id+"_container",audioPlayerId:"content_"+b.id+"_player"}},template:Handlebars.compile('{{#if renderEnv.document}}{{element_forDocument outline}}{{else}}{{#element_ifAudioForEdit renderEnv}}\x3cdiv class\x3d"dki-media-overlay htm-overlay"\x3e\x3c/div\x3e\x3cdiv class\x3d"dki-element-content{{#element_multimedia_hasPlayerControl this \'playerskin\'}} dki-audio-basic-placeholder{{else}} dki-media-placeholder{{/element_multimedia_hasPlayerControl}}"id\x3d"content_{{outline.id}}"title\x3d"{{#forPreview renderEnv}}Audio Asset{{/forPreview}}"data-src\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}"{{#element_multimedia_hasPlayerControl this \'autohidecontrols\'}}{{else}} data-controls\x3d"true"{{/element_multimedia_hasPlayerControl}}{{#element_multimedia_hasPlayerControl this \'autoplay\'}} data-autoplay\x3d"true"{{/element_multimedia_hasPlayerControl}}{{#element_multimedia_hasPlayerControl this \'loop\'}} data-loop\x3d"true"{{/element_multimedia_hasPlayerControl}} data-extension\x3d"{{outline.asset_extension}}"  data-narration\x3d"{{outline.narration}}"  data-duration\x3d"{{outline.asset_duration}}" {{#element_multimedia_hasPlayerControl this \'playerskin\'}} data-playerskin\x3d"true"\x3e{{\x3e jPlayerAudioSimple audioSimpleAncestorId\x3daudioAncestorId audioSimplePlayerId\x3daudioPlayerId}}{{else}}\x3e{{\x3e jPlayerAudio audioAncestorId\x3daudioAncestorId audioPlayerId\x3daudioPlayerId}}{{/element_multimedia_hasPlayerControl}}\x3c/div\x3e{{else}}\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}" style\x3d"width:{{outline.width}}px;" data-src\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}" data-extension\x3d"{{outline.asset_extension}}" data-duration\x3d"{{outline.asset_duration}}" data-width\x3d"{{outline.width}}" data-height\x3d"{{outline.height}}" data-id\x3d"{{outline.id}}" data-narration\x3d"{{outline.narration}}" data-elementType\x3d"audio"{{#element_multimedia_hasPlayerControl this \'loop\'}} data-loop\x3d"true"{{/element_multimedia_hasPlayerControl}}{{#element_multimedia_hasPlayerControl this \'autoplay\'}} data-autoplay\x3d"true"{{/element_multimedia_hasPlayerControl}}{{#element_multimedia_hasPlayerControl this \'playerskin\'}} data-playerskin\x3d"true"{{/element_multimedia_hasPlayerControl}}{{#element_multimedia_hasPlayerControl this \'autohide\'}}{{else}} data-controls\x3d"true"{{/element_multimedia_hasPlayerControl}}\x3e\x3ca class\x3d"dki-media-link" href\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}" target\x3d"_blank"\x3e\x3c/a\x3e\x3c/div\x3e{{/element_ifAudioForEdit}}{{/if}}')},
p={format:l,template:Handlebars.compile('{{#unless renderEnv.export}}{{#unless renderEnv.full}}{{#unless renderEnv.single}}\x3cdiv class\x3d"dki-media-overlay htm-overlay"\x3e\x3c/div\x3e{{/unless}}{{/unless}}{{/unless}}\x3ca style\x3d"height:100%;width:100%;{{#if renderEnv.responsive}}min-height:inherit;{{/if}}{{outline.cssstyle}}"id\x3d"content_{{outline.id}}"class\x3d"dki-authoring-button {{element_contentClass this}}"{{#if outline.txt}}title\x3d"{{outline.txt}}"{{/if}}\x3e\x3ctable width\x3d"100%" height\x3d"100%" style\x3d"{{#if renderEnv.responsive}}min-height:inherit;{{/if}}"\x3e\x3ctbody style\x3d"vertical-align:middle;"\x3e\x3ctr\x3e\x3ctd\x3e{{{outline.meta}}}\x3c/td\x3e\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e\x3c/a\x3e')},
n={format:l,template:Handlebars.compile('\x3ca role\x3d"button" href\x3d"javascript:;" style\x3d"{{#if renderEnv.responsive}}min-height:inherit;{{/if}}{{#ifEq outline.parameters.config.class_name \'advanced\'}}{{outline.parameters.config.backgroundCSS}} {{/ifEq}}{{#ifEq outline.parameters.config.class_name \'custom\'}}color: {{outline.parameters.config.colors.default.foreground}};border-color: {{outline.parameters.config.colors.default.border}};background-color: {{outline.parameters.config.colors.default.background}};{{/ifEq}}" id\x3d"content_{{outline.id}}"class\x3d"{{element_contentClass this}}"{{#if outline.txt}}title\x3d"{{outline.txt}}"{{/if}}\x3e\x3ci class\x3d"fa {{outline.parameters.config.icon.class_name}} left"\x3e\x3c/i\x3e\x3cdiv class\x3d"dki-element-text  {{courseStyles outline}}"\x3e{{{outline.meta}}}\x3c/div\x3e\x3ci class\x3d"fa {{outline.parameters.config.righticon.class_name}} right"\x3e\x3c/i\x3e\x3c/a\x3e')},
u={format:function(b){var c=DKI.clone(b.parameters.config);b.elements.sort(function(b,c){return b.elementno-c.elementno});c.content=b.elements;c.style+=c.showBorders?"":" callout-no-borders";return c},template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv class\x3d"clearfix bs-callout {{style}} {{courseStyles outline}} {{BgClassName outline.parameters.background}}" style\x3d"{{\x3eelement_backgroundCSSString outline}}"\x3e{{#if icon.enabled}}\x3ci class\x3d"fa {{icon.class_name}}"\x3e\x3c/i\x3e{{/if}}{{#each content}}{{\x3eelement outline\x3dthis scope\x3d../scope}}{{/each}}\x3c/div\x3e\x3c/div\x3e')},
k=$.proxy(function(b){var c="string"==typeof b.asset_parameters?JSON.parse(b.asset_parameters).config:b.asset_parameters.config,k=this.getAssetUrl({id:b.upload_id,folderId:b.asset_uploadfolderid,extension:""})+"/",l="?bust\x3d"+Date.now(),m=function(b){b.match(/\./)||(b+=".png");return k+b+l},r=function(b){var c=$("\x3cdiv/\x3e");c.html(b);c.find("img").each(function(){var b=$(this).attr("src");0>b.indexOf(k)&&$(this).attr("src",k+b)});return c.html()};DKI.apply(c,{sectionCount:0,totalDuration:0});
DKI.applyIf(c,{panAndZoom:!0,showNarrationText:!0,showJobAidDownload:!0,showDocumentDownload:!1,jobAidFile:"",name:""});c.jobAidFile&&(c.jobAidURL=m(c.jobAidFile));c.documentFile&&(c.documentURL=m(c.documentFile));c.showDocumentDropdown=c.showJobAidDownload&&c.showDocumentDownload;var q="undefined"!==typeof c.stepDuration&&0<=c.stepDuration,n=function(b,c){return 0<="MOUSE_CLICKED BUTTON_PRESSED CHECK_BOX_SELECTED FINISH_MOUSE_DRAGGED MENU_BUTTON_PRESSED RADIO_BUTTON_SELECTED START_MOUSE_DRAGGED".split(" ").indexOf(b.eventType)?
b[c]:0},v=1;$.each(c.sections,function(k){this.introduction=r(this.introduction);this.testMeIntroduction=r(this.testMeIntroduction);this.sectionName=r(this.sectionName);this.summary=r(this.summary);this.testMeSummary||(this.testMeSummary="");this.testMeSummary=r(this.testMeSummary);c.sectionCount+=0<this.steps.length?1:0;this.show=0<this.steps.length;this.sectionDuration=0;this.introText="testMe"==b.parameters.config.type?this.testMeIntroduction||this.introduction:this.introduction;this.overallStepCount=
v;this.sectionCount=k;"undefined"==typeof this.sectionType&&(this.sectionType="SECTION");var h=this;$.each(this.steps,function(){v++;this.instructionalText=r(this.instructionalText);this.hintText=r(this.hintText);this.testMeFeedbackText=r(this.testMeFeedbackText);this.testInstructionText||(this.testInstructionText="");this.testInstructionText=r(this.testInstructionText);this.narrationText=r(this.narrationText);this.imageURL=m(this.image);this.hotSpotImageURL=m(this.hotSpotImage);this.fullImageURL=
m(this.fullImage);"guide"==b.parameters.config.type&&this.guideMeImage&&(this.fullImageURL=m(this.guideMeImage));$.each(this.markers,function(){this.imageURL=m(this.imageName);this.text=r(this.text)});this.secondaryHotSpots||(this.secondaryHotSpots=[]);this.clickCount="undefined"!==typeof this.clickCount?this.clickCount:n(this,"clickCount");this.mouseButton="undefined"!==typeof this.mouseButton?this.mouseButton:n(this,"mouseButton");this.startTime=c.totalDuration;this.duration=!q||this.audioFile?
this.durationForStepInMillis:1E3*c.stepDuration;this.timeStr=("0"+Math.floor(this.startTime/1E3/60)).slice(-2)+":"+("0"+Math.round(this.startTime/1E3)%60).slice(-2);c.totalDuration+=this.duration;h.sectionDuration+=this.duration;this.hide="STOP_CAPTURE"==this.eventType;this.hintText=this.hintText})});c.moreThanOneSectionWithSteps=1<c.sectionCount;var p=DKI.apply({next:"Next",previous:"Previous",fullscreen:"Full Screen",play:"Play",hideSteps:"Menu",toggleZoom:"Zoom",mute:"Mute",start:"Start",reviewTest:"Review Test",
retakeTest:"Retake Test",continue:"Continue",showAnswers:"Show Answers",start:"Start",downloadJobAid:"Download Job Aid",tryMeSimEnd:"Steps Completed",restart:"Restart",hint:"Hint",stepList:"Step List",downloadDocument:"Download Document",downloadDocuments:"Download Documents"},DKI.strings?{next:DKI.strings.index.nextButtonLabel,previous:DKI.strings.index.previousButtonLabel,fullscreen:DKI.strings.runtime.media_fullscreen,play:DKI.strings.runtime.media_play,hideSteps:DKI.strings.index.menuButtonLabel,
toggleZoom:DKI.strings.runtime.zoom,mute:DKI.strings.index.audioButtonLabel,reviewTest:DKI.strings.endTest.reviewLinkLabel,retakeTest:DKI.strings.endTest.retakeTestButton,continue:DKI.strings.endMod.learningLinkLabel,showAnswers:DKI.strings.doc["Test answer header"],start:DKI.strings.runtime["theme start"],downloadJobAid:DKI.strings.capture.downloadJobAid,tryMeSimEnd:DKI.strings.capture.tryMeSimEnd,restart:DKI.strings.capture.restart,hint:DKI.strings.capture.hint,stepList:DKI.strings.capture.stepList,
downloadDocument:DKI.strings.capture.downloadDocument,downloadDocuments:DKI.strings.capture.downloadDocuments}:{});return{project:c,elConfig:b.parameters.config,elAccessibility:b.parameters.accessibility,embed:!0,viewContainerCls:b.parameters.config.showSteps?" col-md-9 col-sm-8":" col-xs-12",imgPath:h.state.renderEnvironment.export?"./css":h.state.baseUrl+"player/css/capture",controlLabels:p,el:b}},this),q;Handlebars.registerPartial("capture_showMe",'{{#if elConfig.showModes}}{{\x3ecapture_mode_select elConfig}}{{/if}}\x3cdiv id\x3d"capture_{{outline.id}}" role\x3d"application" class\x3d"capture capture-project-container bg-light showMe" data-variable-name\x3d"{{elConfig.variable_name}}" data-duration\x3d"{{project.totalDuration}}"\x3e\x3cdiv id\x3d"sectionInfo" data-number-of-sections\x3d"{{project.sectionCount}}"\x3e{{#each project.sections}}{{#if this.show}}\x3cdiv id\x3d"section-{{arith @index "+" 1}}"data-section-size\x3d"{{this.steps.length}}"data-section-duration\x3d"{{this.sectionDuration}}"data-section-introduction\x3d"{{this.introText}}"data-section-summary\x3d"{{this.summary}}"\x3e\x3c/div\x3e{{/if}}{{/each}}\x3c/div\x3e\x3cdiv id\x3d"showMeContainer" class\x3d"container-fluid {{viewContainerCls}} capture-display bg-light capture-display-border-right"\x3e\x3cdiv id\x3d"generalPanelOverlay" class\x3d"overlay general-overlay-showme hide-general-panel"\x3e\x3cdiv id\x3d"generalPanelContentContainer" class\x3d"general-container panel"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"container full-width"\x3e\x3cdiv class\x3d"video-overlay"\x3e\x3cbutton class\x3d"btn btn-link play-head-button" aria-label\x3d"{{controlLabels.play}}" title\x3d"{{controlLabels.play}}"\x3e\x3ci class\x3d"fa fa-play-circle play-head-child" aria-hidden\x3d"true"\x3e\x3c/i\x3e\x3c/button\x3e\x3c/div\x3e\x3cdiv class\x3d"no-background bottom-buffer top-buffer"\x3e\x3cdiv id\x3d"softwareSimCarousel" class\x3d"carousel img-overlay" data-wrap\x3d"true" data-interval\x3d"1000000"\x3e\x3cdiv class\x3d"carousel-inner"\x3e{{#each project.sections}}{{#each this.steps}}\x3cdiv class\x3d"item"data-interval\x3d"{{duration}}"data-start-time\x3d"{{startTime}}"data-hotspot-minX\x3d"{{hotSpot.minX}}"data-hotspot-minY\x3d"{{hotSpot.minY}}"data-hotspot-width\x3d"{{hotSpot.width}}"data-hotspot-height\x3d"{{hotSpot.height}}"data-click-count\x3d"{{clickCount}}"data-step-count\x3d"{{arith @index "+" 1}}"data-section-count\x3d"{{arith @../index "+" 1}}"data-event-type\x3d"{{eventType}}"\x3e\x3cimg aria-labeledby\x3d"{{../../el.elementid}}_{{@index}}" class\x3d"capture-image {{#ifNEq @index 0}}unloaded{{/ifNEq}}" border\x3d"1" src\x3d"{{element_capture_showMeImage this ../../project}}" id\x3d"image"\x3e\x3c/div\x3e{{/each}}{{/each}}\x3cdiv id\x3d"showMeDragOverlay" class\x3d"drag-overlay bg-primary" aria-hidden\x3d"true"\x3e\x3ci class\x3d"fa fa-bars centered-element"\x3e\x3c/i\x3e\x3c/div\x3e \x3cdiv class\x3d"img overlay" id\x3d"mouse" aria-hidden\x3d"true"\x3e\x3cimg class\x3d"mouse-pointer" src\x3d"{{imgPath}}/images/pointer-25.png"/\x3e\x3cimg style\x3d"display:none" class\x3d"mouse-pointer-click" src\x3d"{{imgPath}}/images/pointer-25-click.png"/\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"row controls"\x3e\x3cdiv class\x3d"bar bg-primary"\x3e\x3c/div\x3e\x3cdiv class\x3d"col col-xs-7"\x3e\x3cbutton id\x3d"playButton" class\x3d"btn btn-link btn-primary" type\x3d"button" tabindex\x3d"1" aria-label\x3d"{{controlLabels.play}}" title\x3d"{{controlLabels.play}}"\x3e\x3ci class\x3d"fa fa-2x fa-fw fa-cog fa-spin"\x3e\x3c/i\x3e\x3c/button\x3e\x3cbutton id\x3d"prevStep" class\x3d"btn btn-link btn-primary" type\x3d"button" tabindex\x3d"1" aria-label\x3d"{{controlLabels.previous}}" title\x3d"{{controlLabels.previous}}"\x3e\x3ci class\x3d"fa fa-2x fa-fw fa-step-backward"\x3e\x3c/i\x3e\x3c/button\x3e\x3cbutton id\x3d"nextStep" class\x3d"btn btn-link btn-primary" type\x3d"button" tabindex\x3d"1" aria-label\x3d"{{controlLabels.next}}" title\x3d"{{controlLabels.next}}"\x3e\x3ci class\x3d"fa fa-2x fa-fw fa-step-forward"\x3e\x3c/i\x3e\x3c/button\x3e\x3cbutton id\x3d"mute" class\x3d"btn btn-link btn-primary" type\x3d"button" tabindex\x3d"1" aria-label\x3d"{{controlLabels.mute}}" title\x3d"{{controlLabels.mute}}"\x3e\x3ci class\x3d"fa fa-2x fa-fw fa-volume-up"\x3e\x3c/i\x3e\x3c/button\x3e\x3cspan class\x3d"player-time text-muted" tabindex\x3d"1" \x3e00:00 / 00:00\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"col col-xs-5" style\x3d"direction:rtl;"\x3e\x3cdiv class\x3d"right-end"\x3e{{#if project.showDocumentDropdown}}\x3cdiv class\x3d"dropup"\x3e\x3ca class\x3d"btn btn-primary btn-link pull-right dropdown-toggle" aria-label\x3d"{{@root.controlLabels.downloadDocuments}}" title\x3d"{{@root.controlLabels.downloadDocuments}}" data-toggle\x3d"dropdown"\x3e\x3ci class\x3d"fa fa-fw fa-2x fa-download"\x3e\x3c/i\x3e\x3c/a\x3e\x3cul class\x3d"dropdown-menu dropdown-menu-right"\x3e\x3cli role\x3d"presentation"\x3e\x3ca href\x3d"{{project.jobAidURL}}"aria-label\x3d"{{@root.controlLabels.downloadJobAid}}" title\x3d"{{@root.controlLabels.downloadJobAid}}" download\x3d"{{element_capture_getJobAidName project}}" tabindex\x3d"1"\x3e{{@root.controlLabels.downloadJobAid}}\x3c/a\x3e\x3c/li\x3e\x3cli role\x3d"presentation"\x3e\x3ca href\x3d"{{project.documentURL}}"aria-label\x3d"{{@root.controlLabels.downloadDocument}}" title\x3d"{{@root.controlLabels.downloadDocument}}" download\x3d"{{element_capture_getDocumentName project}}"\x3e{{@root.controlLabels.downloadDocument}}\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e{{else}}{{#if project.showJobAidDownload}}{{#if project.jobAidURL}}\x3ca class\x3d"btn btn-primary btn-link pull-right" href\x3d"{{project.jobAidURL}}" type\x3d"button" aria-label\x3d"{{@root.controlLabels.downloadJobAid}}" title\x3d"{{@root.controlLabels.downloadJobAid}}" download\x3d"{{element_capture_getJobAidName project}}" tabindex\x3d"1"\x3e\x3ci class\x3d"fa fa-fw fa-2x fa-download"\x3e\x3c/i\x3e\x3c/a\x3e{{/if}}{{/if}}{{#if project.showDocumentDownload}}{{#if project.documentURL}}\x3ca class\x3d"btn btn-primary btn-link pull-right" href\x3d"{{project.documentURL}}" type\x3d"button" aria-label\x3d"{{@root.controlLabels.downloadDocument}}" title\x3d"{{@root.controlLabels.downloadDocument}}" download\x3d"{{element_capture_getDocumentName project}}" tabindex\x3d"1"\x3e\x3ci class\x3d"fa fa-fw fa-2x fa-download"\x3e\x3c/i\x3e\x3c/a\x3e{{/if}}{{/if}}{{/if}}\x3cbutton id\x3d"toggleZoom" class\x3d"btn btn-link btn-primary pull-right" type\x3d"button" tabindex\x3d"1" aria-label\x3d"{{controlLabels.toggleZoom}}" title\x3d"{{controlLabels.toggleZoom}}"\x3e\x3ci class\x3d"fa fa-2x fa-fw{{#if project.panAndZoom}} fa-search-minus{{else}} fa-search-plus{{/if}}"\x3e\x3c/i\x3e\x3c/button\x3e\x3cbutton id\x3d"hideSteps" class\x3d"btn btn-link btn-primary pull-right" type\x3d"button" tabindex\x3d"1"\x3e\x3ci class\x3d"fa fa-2x fa-fw fa-list-ol" aria-label\x3d"{{controlLabels.hideSteps}}" title\x3d"{{controlLabels.hideSteps}}"\x3e\x3c/i\x3e\x3c/button\x3e\x3cbutton id\x3d"fullScreen" class\x3d"btn btn-link btn-primary pull-right" type\x3d"button" tabindex\x3d"1"\x3e\x3ci class\x3d"fa fa-2x fa-fw fa-arrows-alt" aria-label\x3d"{{controlLabels.fullscreen}}" title\x3d"{{controlLabels.fullscreen}}"\x3e\x3c/i\x3e\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"stepsSideContainer" class\x3d"container-fluid col col-md-3 col-sm-4 side-container"{{#unless elConfig.showSteps}} style\x3d"display:none;"{{/unless}}\x3e\x3cdiv class\x3d"panel panel-default"\x3e\x3cdiv class\x3d"list-group" aria-label\x3d"{{controlLabels.stepList}}" title\x3d"{{controlLabels.stepList}}"\x3e{{#each project.sections}}\x3cdiv class\x3d"side-container-section {{#ifNEq sectionType \'SECTION\'}}alternative-section{{/ifNEq}}"\x3e{{#if ../project.moreThanOneSectionWithSteps}}\x3cdiv class\x3d"section-header"\x3e{{#if this.show}}\x3cspan\x3e{{this.sectionName}}\x3c/span\x3e{{/if}}\x3c/div\x3e{{/if}}{{#each this.steps}}\x3cdiv class\x3d"step-item-container"\x3e\x3cdiv\x3e\x3cdiv id\x3d"{{../../el.elementid}}_{{@index}}" class\x3d"list-group-item step-item" data-step-count\x3d"{{arith @index "+" 1}}" data-section-count\x3d"{{arith @../index "+" 1}}" tabindex\x3d"1" aria-label\x3d"{{stripHTML this.instructionalText}}"\x3e\x3cspan class\x3d"label label-default" data-time-start\x3d"{{startTime}}" data-duration\x3d"{{duration}}"\x3e{{timeStr}}\x3c/span\x3e\x26nbsp;\x26nbsp; {{{this.instructionalText}}}{{#if narrationText}}{{#if ../../project.showNarrationText}}\x3cspan class\x3d"mt-10 narration-border-top narration-text{{#if @../index}}{{#if @../../index}} hidden{{/if}}{{/if}}"\x3e\x3cspan\x3e{{{narrationText}}}\x3c/span\x3e\x3c/span\x3e{{/if}}{{/if}}{{#element_capture_show_markerList this ../../project}}\x3cul class\x3d\'markerList mt-10 narration-border-top{{#if @../index}}{{#if @../../index}} hidden{{/if}}{{/if}}\'\x3e{{#each markers}}\x3cli class\x3d"markerListItem" style\x3d"background-image:url(\'{{this.imageURL}}\')"\x3e\x3cspan class\x3d"markerText" tabindex\x3d"1"\x3e{{{text}}}\x3c/span\x3e\x3c/li\x3e{{/each}}\x3c/ul\x3e{{/element_capture_show_markerList}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e{{/each}}\x3c/div\x3e{{/each}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"jplayer" class\x3d"jp-jplayer"\x3e\x3c/div\x3e\x3cdiv id\x3d"jplayer_inspector"\x3e\x3c/div\x3e\x3c/div\x3e');
Handlebars.registerPartial("capture_tryMe",'{{#if elConfig.showModes}}{{\x3ecapture_mode_select elConfig}}{{/if}}\x3cdiv id\x3d"capture_{{outline.id}}" class\x3d"capture capture-project-container tryMe bg-light" data-variable-name\x3d"{{elConfig.variable_name}}"\x3e\x3cdiv id\x3d"sectionInfo" data-number-of-sections\x3d"{{project.sectionCount}}"\x3e{{#each project.sections}}{{#if this.show}}\x3cdiv id\x3d"section-{{arith @index "+" 1}}" data-section-size\x3d"{{this.steps.length}}"\x3e\x3c/div\x3e{{/if}}{{/each}}\x3c/div\x3e\x3cdiv id\x3d"tryMeSideContainer" class\x3d"container-fluid col-md-3 col-sm-4 side-container"{{#unless elConfig.showSteps}} style\x3d"display:none;"{{/unless}}\x3e\x3cdiv class\x3d"panel panel-default custom-scrollbar"\x3e\x3cdiv class\x3d"list-group"\x3e{{#each project.sections}}{{#if ../project.moreThanOneSectionWithSteps}}\x3cdiv class\x3d"sectionHeader {{#ifEq sectionType \'SECTION\'}}showByDefault{{/ifEq}}"\x3e{{#if this.show}}\x3cspan\x3e{{{this.sectionName}}}\x3c/span\x3e{{/if}}\x3c/div\x3e{{/if}}{{#each this.steps}}\x3cdiv class\x3d"row no-padding list-group-item disabled {{#ifEq ../sectionType \'SECTION\'}}showByDefault{{/ifEq}}" data-step-count\x3d"{{arith @index "+" 1}}" data-section-count\x3d"{{arith @../index "+" 1}}" style\x3d"cursor:default"\x3e\x3cdiv class\x3d"col-step"\x3e\x3cspan class\x3d"label label-default label-circle step-number centered-element"\x3e{{arith @index "+" 1}}\x3c/span\x3e\x3cspan class\x3d"label label-default label-circle step-checkmark centered-element" style\x3d"display: none;"\x3e\x3ci class\x3d"fa fa-check centered-element"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"col-instructions no-padding"\x3e{{{this.instructionalText}}}\x3c/div\x3e\x3cdiv class\x3d"col-instructions no-padding continue-container hidden"\x3e\x3cdiv class\x3d"continue"\x3e\x3cdiv class\x3d"info-continue"\x3e\x3cp class\x3d"m-0"\x3e{{@root.controlLabels.continue}}\x3c/p\x3e\x3cbutton class\x3d"btn btn-step-continue" type\x3d"button" aria-label\x3d"{{@root.controlLabels.continue}}" title\x3d"{{@root.controlLabels.continue}}"\x3e\x3ci class\x3d"fa fa-step-forward"\x3e\x3c/i\x3e\x3c/button\x3e\x3cspan class\x3d"arrow-hint"\x3e\x3ci class\x3d"fa fa-arrow-left" aria-hidden\x3d"true"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"panel panel-default cover-parent try-me-done-overlay"\x3e\x3c/div\x3e\x3c/div\x3e{{/each}}{{/each}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"tryMeContainer" class\x3d"container-fluid {{viewContainerCls}} capture-display bg-light capture-display-border-left"\x3e\x3cdiv class\x3d"container full-width"\x3e\x3cdiv class\x3d"no-background bottom-buffer top-buffer"\x3e\x3cdiv id\x3d"softwareSimCarousel" class\x3d"carousel img-overlay" data-wrap\x3d"true" data-interval\x3d"false"\x3e\x3cdiv id\x3d"generalPanelOverlay" class\x3d"overlay general-overlay-showme hide-general-panel"\x3e\x3cdiv id\x3d"generalPanelContentContainer" class\x3d"general-container panel"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"carousel-inner"\x3e{{#each project.sections}}{{#each this.steps}}\x3cdiv class\x3d"item" data-interval\x3d"{{duration}}"data-start-time\x3d"{{startTime}}"data-hotspot-minX\x3d"{{hotSpot.minX}}"data-hotspot-minY\x3d"{{hotSpot.minY}}"data-hotspot-width\x3d"{{hotSpot.width}}"data-hotspot-height\x3d"{{hotSpot.height}}"data-step-count\x3d"{{arith @index "+" 1}}"data-section-count\x3d"{{arith @../index "+" 1}}"data-event-type\x3d"{{eventType}}"data-click-count\x3d"{{clickCount}}"data-mouse-button\x3d"{{mouseButton}}"data-hint-text\x3d"{{hintText}}"\x3e{{#ifEq @index 0}}\x3cimg class\x3d"capture-image" border\x3d"1" src\x3d"{{this.imageURL}}" id\x3d"image"\x3e{{/ifEq}}{{#ifNEq @index 0}}\x3cimg class\x3d"capture-image unloaded" border\x3d"1" data-src\x3d"{{this.imageURL}}" id\x3d"image"\x3e{{/ifNEq}}\x3c/div\x3e{{/each}}{{/each}}\x3cdiv class\x3d"targetHotspot"\x3e\x3c/div\x3e\x3cdiv id\x3d"tryMeDragOverlay" class\x3d"drag-overlay bg-primary"\x3e\x3ci class\x3d"fa fa-bars centered-element"\x3e\x3c/i\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"row controls"\x3e\x3cdiv class\x3d"bar bg-primary"\x3e\x3c/div\x3e\x3cdiv class\x3d"col col-xs-4"\x3e\x3cbutton id\x3d"hintButton" class\x3d"btn btn-link hint-button" type\x3d"button" aria-label\x3d"{{controlLabels.hint}}" title\x3d"{{controlLabels.hint}}"\x3e\x3ci class\x3d"fa fa-question-circle fa-2x"\x3e\x3c/i\x3e\x3c/button\x3e\x3c/div\x3e\x3cdiv class\x3d"col col-xs-4 try-me-restart-col"\x3e\x3cbutton class\x3d"btn btn-link try-me-restart-btn disabled" type\x3d"button" data-toggle\x3d"tooltip" aria-label\x3d"{{controlLabels.restart}}" title\x3d"{{controlLabels.restart}}"\x3e\x3ci class\x3d"fa fa-repeat fa-2x"\x3e\x3c/i\x3e\x3c/button\x3e\x3c/div\x3e\x3cdiv class\x3d"col col-xs-4"\x3e\x3cbutton id \x3d"fullScreen" class\x3d"btn btn-link btn-primary" type \x3d"button" aria-label\x3d"{{controlLabels.fullscreen}}" title\x3d"{{controlLabels.fullscreen}}"\x3e\x3ci class\x3d"fa fa-fw fa-2x fa-arrows-alt"\x3e\x3c/i\x3e\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"startScreen"\x3e\x3cdiv class\x3d"centered-element"\x3e\x3cbutton class\x3d"btn btn-primary" type\x3d"button" aria-label\x3d"{{controlLabels.start}}" title\x3d"{{controlLabels.start}}"\x3e\x3ci class\x3d"fa fa-play" style\x3d"margin-right:5px"\x3e\x3c/i\x3e{{controlLabels.start}}\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"tryMeInfoScreen" style\x3d"display:none"\x3e\x3cdiv class\x3d\'centered-element\'\x3e\x3cp class\x3d\'info-text\'\x3e\x3c/p\x3e\x3cdiv class\x3d\'info-restart\'\x3e\x3cp\x3e\x3cstrong\x3e{{controlLabels.tryMeSimEnd}}\x3c/strong\x3e\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"tooltipTemplate" class\x3d"hidden"\x3e\x3cbutton class\x3d"btn btn-primary btn-sm btn-continue mt-10"\x3e\x3ci class\x3d"fa fa-check"\x3e\x3c/i\x3e\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e');
Handlebars.registerPartial("capture_testMe",'{{#if elConfig.showModes}}{{\x3ecapture_mode_select elConfig}}{{/if}}\x3cdiv id\x3d"capture_{{outline.id}}" class\x3d"capture capture-project-container testMe" data-variable-name\x3d"{{elConfig.variable_name}}"\x3e\x3cdiv id\x3d"sectionInfo" data-number-of-sections\x3d"{{project.sectionCount}}"\x3e{{#each project.sections}}{{#if this.show}}\x3cdiv id\x3d"section-{{arith @index "+" 1}}" data-section-size\x3d"{{this.steps.length}}" data-section-introduction\x3d"{{this.introText}}" data-section-summary\x3d"{{this.summary}}" data-section-testme-summary\x3d"{{this.testMeSummary}}"\x3e\x3c/div\x3e{{/if}}{{/each}}\x3c/div\x3e\x3cdiv id\x3d"testMeSideContainer" class\x3d"container-fluid side-container"{{#unless elConfig.showSteps}} style\x3d"display:none;"{{/unless}}\x3e\x3cdiv class\x3d"panel panel-default custom-scrollbar"\x3e\x3cdiv class\x3d"row score"\x3e\x3cdiv class\x3d"dki-radialgauge radial fill-primary"\x3e\x3cdiv class\x3d"overlay"\x3e\x3cdiv tabindex\x3d"1" class\x3d"text dki-element-text"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"mask full"\x3e\x3cdiv class\x3d"fill"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"mask half"\x3e\x3cdiv class\x3d"fill"\x3e\x3c/div\x3e\x3cdiv class\x3d"fill fix"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cul class\x3d"list-group"\x3e{{#each project.sections}}{{#if ../project.moreThanOneSectionWithSteps}}\x3cdiv class\x3d"section row {{#ifEq sectionType \'SECTION\'}}showByDefault{{/ifEq}}" data-id\x3d"{{arith @index \'+\' 1}}"\x3e{{#if this.show}}\x3cspan title\x3d"{{this.sectionName}}"\x3e{{arith @index "+" 1}}\x3c/span\x3e{{/if}}\x3c/div\x3e{{/if}}{{#each this.steps}}\x3cli class\x3d"row no-padding list-group-item disabled {{#ifEq ../sectionType \'SECTION\'}}showByDefault{{/ifEq}}" data-step-count\x3d"{{arith @index "+" 1}}" data-section-count\x3d"{{arith @../index "+" 1}}" style\x3d"cursor:default;{{#if hide}}display:none;{{/if}}"\x3e\x3cdiv class\x3d"col-step"\x3e\x3cspan class\x3d"label label-default label-circle step-number"\x3e{{arith @index "+" 1}}\x3c/span\x3e\x3cspan class\x3d"label label-default label-circle step-checkmark" style\x3d"display: none;"\x3e\x3ci class\x3d"fa"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"col-testMe-instructions no-padding hidden" style\x3d"white-space: pre-wrap;"\x3e{{{this.testInstructionText}}}\x3c/div\x3e\x3cdiv class\x3d"col-instructions no-padding continue-container hidden"\x3e\x3cdiv class\x3d"continue"\x3e\x3cdiv class\x3d"info-continue"\x3e\x3cp class\x3d"m-0"\x3e{{@root.controlLabels.continue}}\x3c/p\x3e\x3cbutton class\x3d"btn btn-step-continue" type\x3d"button" aria-label\x3d"{{@root.controlLabels.continue}}" title\x3d"{{@root.controlLabels.continue}}"\x3e\x3ci class\x3d"fa fa-step-forward"\x3e\x3c/i\x3e\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"panel panel-default cover-parent try-me-done-overlay"\x3e\x3c/div\x3e\x3cdiv class\x3d"progression"\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3c/li\x3e{{/each}}{{/each}}\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"testMeContainer" class\x3d"container-fluid {{viewContainerCls}} capture-display bg-light"\x3e\x3cdiv id\x3d"generalPanelOverlay" class\x3d"overlay general-overlay-showme hide-general-panel"\x3e\x3cdiv id\x3d"generalPanelContentContainer" class\x3d"general-container panel"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"container full-width"\x3e\x3cdiv class\x3d"no-background bottom-buffer top-buffer"\x3e\x3cdiv id\x3d"softwareSimCarousel" class\x3d"carousel img-overlay" data-wrap\x3d"true" data-interval\x3d"false"\x3e\x3cdiv class\x3d"carousel-inner"\x3e{{#each project.sections}}{{#each this.steps}}\x3cdiv class\x3d"item" data-interval\x3d"{{duration}}"data-start-time\x3d"{{startTime}}"data-hotspot-minX\x3d"{{hotSpot.minX}}"data-hotspot-minY\x3d"{{hotSpot.minY}}"data-hotspot-width\x3d"{{hotSpot.width}}"data-hotspot-height\x3d"{{hotSpot.height}}"data-step-count\x3d"{{arith @index "+" 1}}"data-section-count\x3d"{{arith @../index "+" 1}}"data-event-type\x3d"{{eventType}}"data-click-count\x3d"{{clickCount}}"data-mouse-button\x3d"{{mouseButton}}"data-hint-text\x3d"{{hintText}}"\x3e\x3cimg class\x3d"capture-image {{#ifNEq @index 0}}unloaded{{/ifNEq}}" border\x3d"1" src\x3d"{{this.imageURL}}" id\x3d"image"\x3e\x3c/div\x3e{{/each}}{{/each}}\x3cdiv class\x3d"targetHotspot"\x3e\x3c/div\x3e\x3cdiv id\x3d"testMeDragOverlay" class\x3d"drag-overlay bg-primary"\x3e\x3ci class\x3d"fa fa-bars centered-element"\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv id\x3d"testMeReviewOverlay"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"row controls"\x3e\x3cdiv class\x3d\'fill\'\x3e\x3cbutton id \x3d"sceneInfo" class\x3d"btn btn-link btn-primary" type \x3d"button"\x3e\x3ci class\x3d"fa fa-fw fa-2x fa-info"\x3e\x3c/i\x3e\x3c/button\x3e\x3cbutton id \x3d"showReviewToggle" class\x3d"btn" type \x3d"button" aria-label\x3d"{{controlLabels.showAnswers}}" title\x3d"{{controlLabels.showAnswers}}"\x3e\x3ci class\x3d"fa fa-fw fa-2x"\x3e\x3c/i\x3e\x3cspan\x3e{{controlLabels.showAnswers}}\x3c/span\x3e\x3c/button\x3e\x3c/div\x3e\x3cbutton id \x3d"fullScreen" class\x3d"btn btn-link btn-primary" type \x3d"button"\x3e\x3ci class\x3d"fa fa-fw fa-2x fa-arrows-alt"\x3e\x3c/i\x3e\x3c/button\x3e\x3c/div\x3e\x3cdiv id\x3d"startScreen"\x3e\x3cdiv class\x3d"centered-element"\x3e\x3cbutton class\x3d"btn btn-primary" type\x3d"button"\x3e\x3ci class\x3d"fa fa-play" style\x3d"margin-right:5px"\x3e\x3c/i\x3e{{controlLabels.start}}\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"testMeInfoScreen" style\x3d"display:none"\x3e\x3cdiv class\x3d\'centered-element\'\x3e\x3cdiv class\x3d\'display-center\'\x3e{{#ifNEq project.name \'\'}}\x3cdiv class\x3d"project-name"\x3e\x3ch1\x3e{{{project.name}}}\x3c/h1\x3e\x3c/div\x3e{{/ifNEq}}\x3cdiv class\x3d\'radialContainer\'\x3e\x3cdiv class\x3d"{{style}} dki-radialgauge radial fill-primary"\x3e\x3cdiv class\x3d"overlay"\x3e\x3cdiv tabindex\x3d"1" class\x3d"text dki-element-text"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"mask full"\x3e\x3cdiv class\x3d"fill"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"mask half"\x3e\x3cdiv class\x3d"fill"\x3e\x3c/div\x3e\x3cdiv class\x3d"fill fix"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d\'infoButtons\'\x3e\x3cbutton class\x3d\'btn btn-primary review\' aria-label\x3d"{{controlLabels.reviewTest}}" title\x3d"{{controlLabels.reviewTest}}"\x3e{{controlLabels.reviewTest}}\x3c/button\x3e\x3cbutton class\x3d\'btn btn-primary retake\' aria-label\x3d"{{controlLabels.retakeTest}}" title\x3d"{{controlLabels.retakeTest}}"\x3e{{controlLabels.retakeTest}}\x3c/button\x3e\x3cbutton class\x3d\'btn btn-primary next\' aria-label\x3d"{{controlLabels.next}}" title\x3d"{{controlLabels.next}}"\x3e{{controlLabels.next}}\x3c/button\x3e\x3c/div\x3e\x3cdiv class\x3d\'datetime\'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"tooltipTemplate" class\x3d"hidden"\x3e\x3cbutton class\x3d"btn btn-primary btn-sm btn-continue mt-10"\x3e\x3ci class\x3d"fa fa-check"\x3e\x3c/i\x3e\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e');
Handlebars.registerPartial("capture_guide",'{{#if elConfig.showModes}}{{\x3ecapture_mode_select elConfig}}{{/if}}\x3cdiv id\x3d"showMeParent" class\x3d"capture guide" data-variable-name\x3d"{{elConfig.variable_name}}" aria-role\x3d"document" aria-label\x3d"{{project.name}}"\x3e{{#if (arith project.sections.length "\x3e" 1)}}\x3cdiv class\x3d"panel pane-default"\x3e\x3cdiv class\x3d"panel-heading"\x3e\x3ch3 class\x3d"panel-title"\x3eSections\x3c/h3\x3e\x3c/div\x3e\x3cdiv class\x3d"panel-body"\x3e\x3cul class\x3d"list-inline"\x3e{{#each project.sections}}\x3cli\x3e\x3ca href\x3d"#Scene_{{arith @index "+" 1}}" class\x3d"toc-link" data-overallstep\x3d{{overallStepCount}}\x3e{{{sectionName}}}\x3c/a\x3e\x26nbsp;\x3cspan class\x3d"badge"\x3e{{steps.length}} {{#if (arith steps.length "\x3e" 1)}}Steps{{else}}Step{{/if}}\x3c/span\x3e\x3c/li\x3e{{/each}}\x3c/ul\x3e\x3cdiv\x3e\x3cdiv\x3e{{#if project.showJobAidDownload}}{{#if project.jobAidURL}}\x3ca  href\x3d"{{project.jobAidURL}}" type\x3d"button" aria-label\x3d"{{@root.controlLabels.downloadJobAid}}" title\x3d"{{@root.controlLabels.downloadJobAid}}" download\x3d"{{element_capture_getJobAidName project}}" {{#if elAccessibility.tabable }} tabindex\x3d"1" {{/if}}\x3e\x3ci class\x3d"fa fa-fw fa-2x fa-download"\x3e\x3c/i\x3e {{@root.controlLabels.downloadJobAid}}\x3c/a\x3e{{/if}}{{/if}}{{#if project.showDocumentDownload}}{{#if project.documentURL}}\x3ca  href\x3d"{{project.documentURL}}" type\x3d"button" aria-label\x3d"{{@root.controlLabels.downloadDocument}}" title\x3d"{{@root.controlLabels.downloadDocument}}" download\x3d"{{element_capture_getDocumentName project}}" {{#if elAccessibility.tabable }} tabindex\x3d"1" {{/if}}\x3e\x3ci class\x3d"fa fa-fw fa-2x fa-download"\x3e\x3c/i\x3e {{@root.controlLabels.downloadDocument}}\x3c/a\x3e{{/if}}{{/if}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e{{/if}}{{#each project.sections}}\x3cdiv class\x3d"panel panel-default"\x3e{{#if ../project.moreThanOneSectionWithSteps}}\x3cdiv class\x3d"panel-heading"\x3e\x3ca id\x3d"Scene_{{arith @index "+" 1}}"\x3e\x3c/a\x3e\x3ch3 class\x3d"panel-title"\x3e\x3cspan\x3e{{{this.sectionName}}}\x3c/span\x3e\x3c/h3\x3e\x3c/div\x3e{{/if}}\x3cdiv class\x3d"panel-body"\x3e\x3cdiv class\x3d"row"\x3e\x3cdiv class\x3d"col-sm-12"\x3e{{#if @root.project.moreThanOneSectionWithSteps}}{{else}}\x3cdiv class\x3d"jobAidPane"\x3e{{#if @root.project.showJobAidDownload}}{{#if @root.project.jobAidURL}}\x3ca  href\x3d"{{@root.project.jobAidURL}}" type\x3d"button" aria-label\x3d"{{@root.controlLabels.downloadJobAid}}" title\x3d"{{@root.controlLabels.downloadJobAid}}" download\x3d"{{element_capture_getJobAidName @root.project}}" {{#if ../elAccessibility.tabable }} tabindex\x3d"1" {{/if}}\x3e\x3ci class\x3d"fa fa-fw fa-2x fa-download"\x3e\x3c/i\x3e {{@root.controlLabels.downloadJobAid}}\x3c/a\x3e{{/if}}{{/if}}{{#if @root.project.showDocumentDownload}}{{#if @root.project.documentURL}}\x3ca  href\x3d"{{@root.project.documentURL}}" type\x3d"button" aria-label\x3d"{{@root.controlLabels.downloadDocument}}" title\x3d"{{@root.controlLabels.downloadDocument}}" download\x3d"{{element_capture_getDocumentName @root.project}}" {{#if ../elAccessibility.tabable }} tabindex\x3d"1" {{/if}}\x3e\x3ci class\x3d"fa fa-fw fa-2x fa-download"\x3e\x3c/i\x3e {{@root.controlLabels.downloadDocument}}\x3c/a\x3e{{/if}}{{/if}}\x3c/div\x3e{{/if}}\x3cdiv\x3e{{#if this.introduction}}\x3cp class\x3d"introduction-text" {{#if ../elAccessibility.tabable }} tabindex\x3d"1" {{/if}}\x3e{{{this.introduction}}}\x3c/p\x3e{{/if}}\x3c/div\x3e{{#each steps}}\x3cdiv\x3e\x3ca id\x3d"{{../sectionName}}-{{arith @index "+" 1}}"\x3e\x3c/a\x3e\x3cdiv class\x3d"step" {{#if ../../elAccessibility.tabable }} tabindex\x3d"1" {{/if}}\x3e\x3cdiv class\x3d"row"\x3e\x3cdiv class\x3d"col-sm-9"\x3e\x3cdiv class\x3d"stepMedia"\x3e\x3cimg id\x3d"stepCount_step_image_{{../this.uuid}}_{{@../index}}_{{arith @index "+" 1}}" id\x3d"" class\x3d"img-responsive capture-image" alt\x3d"" src\x3d"{{this.fullImageURL}}"\x3e\x3c/img\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"col-sm-3 stepCount" aria-label\x3d"Step {{arith @index "+" 1}}"\x3e\x3ch4 id\x3d"stepCount_step_{{../this.uuid}}_{{@../index}}_{{arith @index "+" 1}}"\x3eStep \x3cspan\x3e{{arith @index "+" 1}}\x3c/span\x3e\x3c/h4\x3e\x3cdiv class\x3d"stepText" id\x3d"stepCount_stepText_{{../this.uuid}}_{{@../index}}_{{arith @index "+" 1}}"\x3e\x3cdiv\x3e{{{this.instructionalText}}}\x3c/div\x3e{{#ifEq this.eventType \'DECISION\'}}\x3cul class\x3d"decision-options"\x3e{{#each branchItems}}\x3cli\x3e\x3ca href\x3d"#Scene_{{arith sectionToJumpTo "+" 1}}"\x3e{{{this.name}}}\x3c/a\x3e\x3c/li\x3e{{/each}}\x3c/ul\x3e{{/ifEq}}\x3c/div\x3e{{#if ../../project.showNarrationText}}{{#if this.narrationText}}\x3cdiv class\x3d"stepNarration" id\x3d"stepCount_stepNarration_{{../this.uuid}}_{{@../index}}_{{arith @index "+" 1}}"\x3e\x3cp class\x3d"narrationSection mt-20"\x3e{{{this.narrationText}}}\x3c/p\x3e\x3c/div\x3e{{/if}}{{/if}}{{#if markers.length}}\x3cul class\x3d"markerList mt-20 narrationSection" id\x3d"stepCount_stepNarrationList_{{../this.uuid}}_{{@../index}}_{{arith @index "+" 1}}"\x3e{{#each ../markers}}\x3cli class\x3d"markerListItem" style\x3d"background-image:url(\'{{this.imageURL}}\')"\x3e\x3cspan class\x3d"markerText" {{#if ../../elAccessibility.tabable }} tabindex\x3d"1" {{/if}}\x3e{{{text}}}\x3c/span\x3e\x3c/li\x3e{{/each}}\x3c/ul\x3e{{/if}}\x3cdiv class\x3d"clearer"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"clearer"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"row"\x3e{{#unless @last}}\x3cdiv class\x3d"col-sm-12"\x3e\x3chr\x3e\x3c/hr\x3e\x3c/div\x3e{{/unless}}{{#if @last}}\x3cdiv class\x3d"col-sm-12 bottom-buffer"\x3e\x3c/div\x3e{{/if}}\x3c/div\x3e{{/each}}\x3cdiv\x3e{{#if this.summary}}\x3cp {{#if ../elAccessibility.tabable }} tabindex\x3d"1" {{/if}} class\x3d"introduction-text"\x3e{{{this.summary}}}\x3c/p\x3e{{/if}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e{{/each}}\x3c/div\x3e');
q=Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e{{#if renderEnv.authoring}}\x3cdiv class\x3d"dki-media-overlay htm-overlay" style\x3d\'z-index:2000;\'\x3e\x3c/div\x3e{{/if}}{{\x3e(element_capture_getTemplate elConfig.type)}}\x3c/div\x3e');k={format:k,template:q};q={format:function(b){b.elements.sort(function(b,c){return b.elementno-c.elementno});elConfig=b.parameters.config;var c={panels:b.elements,cls:""};$.each(c.panels,function(){this.isContentContainer=
this.ignoreExamine=!0});$.each(elConfig.responsive.cfg,function(b,k){c.cls+=b+"-"+k.items+" "});"notOverlayLeftRight"==elConfig.navigation.type&&(c.cls+="carsouselLeftRight ");c.cls+=b.parameters.config.dotClass;c.hidenav=elConfig.hidenav;return c},template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} {{#if hidenav}} hidenav {{/if}}" aria-busy\x3d"true"\x3e\x3cdiv data-vertical-alignment\x3d"{{outline.parameters.config.vertical_alignment}}" class\x3d"flickity clearfix {{cls}}" style\x3d"{{\x3eelement_backgroundCSSString outline}}" tabindex\x3d"1"\x3e{{#each panels}}{{\x3eelement outline\x3dthis scope\x3d../scope}}{{/each}}\x3c/div\x3e\x3c/div\x3e')};
var v={format:l,template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"style\x3d"width:0px;height:0px"\x3e\x3c/div\x3e')},y={format:l,template:Handlebars.compile('{{#if renderEnv.document}}{{element_forDocument outline}}{{else}}{{#unless renderEnv.export}}{{#unless renderEnv.full}}\x3cdiv class\x3d"dki-media-overlay flash-overlay"\x3e\x3c/div\x3e{{/unless}}{{/unless}}{{#if renderEnv.authoring}}\x3cdiv style\x3d"width:100%;height:100%;{{#if renderEnv.responsive}}min-width:{{outline.parameters.responsive.minWidth}}px;min-height:{{outline.parameters.responsive.minHeight}}px;{{/if}}" data-elementtype\x3d"{{outline.elementtype}}" class\x3d"dki-video-content-element {{element_contentClass this}}" id\x3d"content_{{outline.id}}" data-src\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension outline\x3doutline}}" data-width\x3d"{{outline.width}}" data-height\x3d"{{outline.height}}" data-assetWidth\x3d"{{outline.asset_width}}" data-assetHeight\x3d"{{outline.asset_height}}" data-extension\x3d"{{outline.asset_extension}}"{{#if outline.parameters.config.allowUpscale}}data-allowupscale\x3d"true"{{/if}}\x3e\x3cdiv class\x3d"dki-media-placeholder" style\x3d"height:{{outline.height}}px;"\x3e\x3cdiv class\x3d"flash-play-head" data-id\x3d"{{outline.id}}"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e{{else}}\x3cobject class-id\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"style\x3d"width:{{outline.width}}px;height:{{outline.height}}px;"id\x3d"content_{{outline.id}}"class\x3d"{{element_contentClass this}}"\x3e\x3cparam name\x3d"movie" + value\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}"/\x3e{{\x3e multimedia_flashParams}}\x3c!--[if !IE]\x3e --\x3e\x3cobject type\x3d"application/x-shockwave-flash" data\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}"style\x3d"width:inherit;height:inherit;"\x3e\x3c!-- \x3c![endif]--\x3e{{\x3e multimedia_flashParams}}\x3cp\x3eThis content requires Adobe Flash Player version 10.2.0.0\x3c/p\x3e\x3ca href\x3d\'http://get.adobe.com/flashplayer/\' target\x3d\'downloadFlash\'\x3eUpdate Flash\x3c/a\x3e\x3c!--[if !IE]\x3e --\x3e\x3c/object\x3e\x3c!-- \x3c![endif]--\x3e\x3c/object\x3e{{/if}}{{#multimedia_ifRegisterSwfObject renderEnv}}\x3cscript type\x3d\'text/javascript\'\x3eswfobject.registerObject(\'content_10.2.0.0\');\x3c/script\x3e{{/multimedia_ifRegisterSwfObject}}{{/if}}')},
z={format:function(b){b.elements.sort(function(b,c){return b.elementno-c.elementno});elConfig=b.parameters.config;var c={panels:{front:b.elements[0],back:b.elements[1]}};$.each(c.panels,function(){this.parameters.config.border=b.parameters.config.borders;this.isContentContainer=this.ignoreExamine=!0});return c},template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv data-vertical-alignment\x3d"{{outline.parameters.config.vertical_alignment}}" class\x3d"flip clearfix size_full" style\x3d"{{\x3eelement_backgroundCSSString outline}}"\x3e\x3cdiv role\x3d"button" class\x3d"front face flipCardPanel active clearfix" tabindex\x3d"1"\x3e{{\x3eelement outline\x3dpanels.front scope\x3dscope}}\x3c/div\x3e\x3cdiv role\x3d"button" class\x3d"back face flipCardPanel clearfix" aria-hidden\x3d"true"\x3e{{\x3eelement outline\x3dpanels.back scope\x3dscope}}\x3c/div\x3e\x3ci class\x3d\'fa fa-reply-all flipIcon {{BgClassName outline.parameters.background}}\'\x3e\x3c/i\x3e\x3c/div\x3e{{#if renderEnv.authoring}}\x3cdiv class\x3d"flipBtn" title\x3d"Flip the card to the other side"\x3e\x3c/div\x3e{{/if}}\x3c/div\x3e')},
A={format:$.proxy(function(c){c.parameters.config.shuffle?this.state.utility.shuffle(c.elements):c.elements.sort(function(b,c){return b.elementno-c.elementno});elConfig=c.parameters.config;b={cards:c.elements.map(function(b){b.faceCls=c.parameters.background.class_name;return b}),cls:""};h.state.renderEnvironment.player&&(b.inputPlaceholder=DKI.strings.questionInstructions["3"]);b.submit=h.state.renderEnvironment.player?DKI.strings.runtime.buttonLabelSubmit:"Submit";return b},this),template:Handlebars.compile("\x3cdiv id\x3d\"content_{{outline.id}}\" class\x3d\"{{element_contentClass this}} {{cls}}\"\x3e\x3cdiv class\x3d'flickity-carousel' role\x3d\"application\"\x3e{{#each cards}}\x3cdiv class\x3d'flashCardCont' style\x3d'width:100%; text-align:center;' {{#if this.upload_id}}aria-label\x3d'{{this.asset_title}}'{{/if}}\x3e\x3cdiv data-id\x3d'{{this.id}}' class\x3d\"card clearfix {{../faceCls}}\" style\x3d\"{{\x3eelement_backgroundCSSString ../outline}}\"\x3e\x3cdiv  class\x3d'setImage' {{#if this.upload_id}}style\x3d\"background-image: url('{{getAssetUrl id\x3dthis.upload_id folderId\x3dthis.asset_uploadfolderid extension\x3dthis.asset_extension}}')\"{{/if}}\x3e\x3cdiv class\x3d'imgOverlay'\x3e\x3cdiv style\x3d'margin-top:15px'\x3e\x3ci class\x3d'fa fa-check'\x3e\x3c/i\x3e\x3cdiv class\x3d'resultText'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'cardContent'\x3e\x3cdiv id\x3d\"{{this.id}}_question\" class\x3d'question'\x3e{{{this.meta}}}\x3c/div\x3e\x3cdiv class\x3d'response' role\x3d\"application\"\x3e\x3clabel style\x3d\"display:none\" for\x3d\"{{this.id}}_input\"\x3e{{../inputPlaceholder}}'\x3c/label\x3e\x3cinput tabindex\x3d\"1\" aria-labelledby\x3d\"{{this.id}}_question\" name\x3d\"{{this.id}}_input\" type\x3d'text' placeholder\x3d'{{../inputPlaceholder}}'/\x3e\x3cbutton type\x3d\"button\" class\x3d'btn {{../outline.parameters.config.btn_class}}'\x3e{{../submit}}\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e{{/each}}\x3c/div\x3e\x3c/div\x3e")},
r={format:function(c){c.elements.sort(function(b,c){return b.elementno-c.elementno});var k=["size-"+c.parameters.config.size,"orientation-"+c.parameters.config.orientation,"icon-"+(c.parameters.config.showIcon?"show":"hide"),"border-"+(c.parameters.config.border?"show":"hide")];elConfig=c.parameters.config;return b={cards:c.elements.map(function(b){b.faceCls=c.parameters.background.class_name;b.elements.map(function(b){""!=b.upload_id&&""==b.txt&&(b.txt=b.asset_title);return b});return b}),cls:k.join(" ")}},
template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} {{cls}} flipSet"\x3e{{#each cards}}\x3cdiv class\x3d\'flip clearfix\'\x3e{{#each this.elements}}\x3cdiv role\x3d"button" class\x3d"{{#unless @index}}front seen active{{else}}back{{/unless}} face clearfix {{../faceCls}} {{#if this.upload_id}}hasImage{{/if}} {{#if this.meta}}hasMeta{{/if}}" {{#unless @index}}tabindex\x3d"1"{{else}}tabindex\x3d"-1"{{/unless}} style\x3d"{{\x3eelement_backgroundCSSString ../../outline}}"\x3e{{#if this.upload_id}}\x3cdiv class\x3d\'setImage\' role\x3d"img" aria-label\x3d\'{{this.txt}}\' style\x3d"background-image: url(\'{{getAssetUrl id\x3dthis.upload_id folderId\x3dthis.asset_uploadfolderid extension\x3dthis.asset_extension}}\')"\x3e\x3c/div\x3e{{/if}}{{#if this.meta}}\x3cspan\x3e{{{this.meta}}}\x3c/span\x3e{{/if}}\x3c/div\x3e{{/each}}\x3ci class\x3d\'fa fa-reply-all flipIcon\'\x3e\x3c/i\x3e\x3c/div\x3e{{/each}}\x3c/div\x3e')},
B={format:function(b){var c=DKI.clone(b.parameters.config);c.outline=b;c.title={enabled:c.showText};c.subtitle={enabled:b.parameters.config.includeSubtitle&&c.showText};c.icon={enabled:c.showIcon};$.each(b.elements,function(){"tileCardTitle"==this.elementtype?c.title.element=this:"tileCardSubtitle"==this.elementtype?c.subtitle.element=this:"icon"==this.elementtype&&(c.icon.element=this)});c.class_name+=" size_"+c.size+" align_"+c.vertical_alignment;c.background_class_name=b.parameters.background.class_name;
c.class_name+=" "+c.background_class_name;c.visitedIcon=b.parameters.config.visitedIcon;c.iconSizeClass=c.icon.element?c.icon.element.parameters.config.size:"";c.showIcon||(c.iconSizeClass="no-icon");return c},template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv class\x3d"tileCard {{class_name}}" data-vertical-alignment\x3d"{{vertical_alignment}}" style\x3d\'\' data-variable-name\x3d{{variable_name}} data-visitedIcon\x3d{{visitedIcon}}\x3e\x3cdiv class\x3d"tileCardBackground {{background_class_name}}" style\x3d"{{\x3eelement_backgroundCSSString outline}}"\x3e\x3c/div\x3e\x3cdiv class\x3d"tileCard-body {{iconSizeClass}}" \x3e\x3cdiv class\x3d"tileCard-subtitle clearfix {{#unless subtitle.enabled}}hidden{{/unless}}"\x3e{{\x3e element outline\x3dsubtitle.element scope\x3dscope}}\x3c/div\x3e\x3cdiv class\x3d"tileCard-title clearfix {{#unless title.enabled}}hidden{{/unless}}"\x3e{{\x3e element outline\x3dtitle.element scope\x3dscope}}\x3c/div\x3e\x3cspan class\x3d"variableIcon {{#unless icon.enabled}}hidden{{/unless}} "\x3e{{#if icon.element}}{{\x3e element outline\x3dicon.element scope\x3dscope}}{{/if}}\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')},
C={format:l,template:Handlebars.compile('{{#unless renderEnv.player}}{{\x3eelementOverlay}}{{/unless}}\x3cdiv class\x3d"{{element_contentClass this}}"style\x3d"{{outline.cssStyle}};display:inline-block;width:100%;height:100%;" id\x3d"content_{{outline.id}}"{{#if outine.txt}}title\x3d"{{outline.txt}}"{{/if}}\x3e\x26nbsp;\x3c/div\x3e')},x={format:$.proxy(function(c){c.elements.sort(function(b,c){return b.elementno-c.elementno});var k=["size-"+c.parameters.config.size,"icon-"+(c.parameters.config.showIcon?
"show":"hide")];c.parameters.config.border&&k.push("border-show");c.parameters.config.fadeMatched?k.push("fadeMatched"):!1;elConfig=c.parameters.config;b={cards:DKI.utility.shuffle(c.elements.slice(0).concat(c.elements)),cls:k.join(" ")};c.parameters.config.icon?b.frontMarkup="\x3cspan class\x3d'"+c.parameters.config.icon+"'\x3e\x3c/span\x3e":c.upload_id&&(c=this.getAssetUrl({id:c.upload_id,folderId:c.asset_uploadfolderid,extension:c.asset_extension})+"?bust\x3d"+Date.now(),b.frontMarkup='\x3cdiv class\x3d"face-image" style\x3d"background-image:url(\''+
c+"')\"\x3e\x3c/div\x3e");return b},this),template:Handlebars.compile("\x3cdiv id\x3d\"content_{{outline.id}}\" class\x3d\"{{element_contentClass this}} {{cls}} flipSet {{#unless renderEnv.authoring}}match_hidden{{/unless}}\" role\x3d'application'\x3e\x3cdiv class\x3d'match_manual_start' role\x3d'dialog'\x3e\x3cdiv class\x3d'match_manual_start_container flex flexCol'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'cardsContainer'\x3e{{#each cards}}\x3cdiv class\x3d'flip accessibilitySelfManage clearfix{{#if this.elements.0.upload_id}} hasAsset{{/if}}' data-id\x3d'{{this.id}}'\x3e\x3cdiv tabindex\x3d'1' aria-label\x3d'{{arith @index '+' 1}}' role\x3d\"button\" class\x3d\"front active face clearfix {{../faceCls}} {{../outline.parameters.config.frontBg}}\" tabindex\x3d\"1\" style\x3d\"{{\x3eelement_backgroundCSSString ../outline}}\"\x3e{{{../frontMarkup}}}\x3c/div\x3e\x3cdiv aria-hidden\x3d'true' class\x3d\"back face clearfix {{../faceCls}} {{../outline.parameters.config.backBg}}\" style\x3d\"{{\x3eelement_backgroundCSSString ../outline}}\" {{#if this.elements.0.upload_id}}alt\x3d'{{this.elements.0.asset_title}}'{{/if}}\x3e{{#if this.elements.0.upload_id}}\x3cdiv class\x3d'setImage' style\x3d\"background-image: url('{{getAssetUrl id\x3dthis.elements.0.upload_id folderId\x3dthis.elements.0.asset_uploadfolderid extension\x3dthis.elements.0.asset_extension}}')\"\x3e\x3c/div\x3e\x3cspan class\x3d'noShow'\x3e{{else}}\x3cspan\x3e{{/if}}{{#if this.elements.0.upload_id}}{{this.elements.0.asset_title}}{{else}}{{{this.elements.0.meta}}}{{/if}}\x3c/span\x3e\x3c/div\x3e\x3ci class\x3d'fa fa-reply-all flipIcon'\x3e\x3c/i\x3e\x3c/div\x3e{{/each}}\x3c/div\x3e\x3c/div\x3e")},
D={format:$.proxy(function(b){return{outline:b}},this),template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" data-variable-name\x3d"{{outline.parameters.config.variable_name}}" class\x3d"{{element_contentClass this}} {{cls}}" \x3e\x3c/div\x3e')},F={format:$.proxy(function(b){var c=[],k=[],h="";$.each(b.elements,function(){"categoryCardsCategory"==this.elementtype?k.push(this):c.push(this)});2<k.length?(h="cat"+k.length,k=[k.splice(0,2),k]):k=[k];this.state.utility.shuffle(c);var l=b.parameters.config.cardClass.replace("bg-",
""),l=""===l?"default":l;return{cards:c,categories:k,outline:b,cardColour:l,numCls:h,answerColour:b.parameters.config.cardStyle.match("solid")?b.parameters.config.cardClass:l,restartLabel:this.state.strings?this.state.strings.runtime.testTryAgain:"Try Again"}},this),template:Handlebars.compile("\x3cdiv id\x3d\"content_{{outline.id}}\" data-variable-name\x3d\"{{outline.parameters.config.variable_name}}\" class\x3d\"categoryCards {{element_contentClass this}} {{cls}} {{numCls}} question-element {{#if outline.parameters.config.spaceTextLikeElements}}spaced-like-elements{{/if}}\" \x3e\x3cdiv\x3e{{#if outline.meta}}\x3c{{outline.parameters.config.titleTag}} class\x3d\"question-title\"\x3e{{{outline.meta}}}\x3c/{{outline.parameters.config.titleTag}}\x3e{{/if}}{{#if outline.txt}}\x3cdiv role\x3d\"label\" class\x3d'description question-description' role\x3d\"presentation\"\x3e{{{outline.txt}}}\x3c/div\x3e{{/if}}\x3cdiv class\x3d'cards flex'\x3e\x3cdiv class\x3d'deck flex' role\x3d\"listbox\"\x3e{{#each cards}}{{#with ../this}}\x3cdiv role\x3d\"option\" tabindex\x3d\"-1\" class\x3d'card{{#ifEq ../elementtype 'categoryCardsAnswer'}} disabled{{/ifEq}} {{../elementtype}} flex flexCol flexAuto{{#ifEq ../elementtype 'categoryCardsAnswer'}} {{answerColour}}{{else}} {{cardColour}}{{/ifEq}} {{outline.parameters.config.cardStyle}}' data-id\x3d'{{../id}}'\x3e\x3cdiv class\x3d'card-content flex'\x3e\x3cspan\x3e{{{../meta}}}\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e{{/with}}{{/each}}\x3cdiv class\x3d'flex' style\x3d'align-items:center;-ms-flex-align:center;'\x3e\x3cdiv class\x3d'feedback flex flexCol no-select'\x3e\x3cdiv class\x3d'gauge'\x3e\x3cspan class\x3d'score fill-primary'\x3e\x3cdiv class\x3d\"overlay\"\x3e\x3cdiv class\x3d\"text dki-element-text\"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d\"mask full\"\x3e\x3cdiv class\x3d\"fill\"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d\"mask half\"\x3e\x3cdiv class\x3d\"fill\"\x3e\x3c/div\x3e\x3cdiv class\x3d\"fill fix\"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/span\x3e\x3c/div\x3e\x3cspan class\x3d'f-text'\x3e\x3c/span\x3e\x3cbutton tabindex\x3d\"1\" class\x3d'btn-default btn retake'\x3e{{restartLabel}}\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d\"category-wrapper\" role\x3d\"listbox\"\x3e{{#each categories}}\x3cdiv class\x3d'categories flex'\x3e{{#each this}}\x3cdiv\x3e\x3cdiv style\x3d'margin: 0 1rem'\x3e{{#with ../../this}}\x3cdiv role\x3d\"option\" tabindex\x3d\"-1\" class\x3d'card{{#ifEq ../elementtype 'categoryCardsAnswer'}} disabled{{/ifEq}} {{../elementtype}} flex flexCol flexAuto{{#ifEq ../elementtype 'categoryCardsAnswer'}} {{answerColour}}{{else}} {{cardColour}}{{/ifEq}} {{outline.parameters.config.cardStyle}}' data-id\x3d'{{../id}}'\x3e\x3cdiv class\x3d'card-content flex'\x3e\x3cspan\x3e{{{../meta}}}\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e{{/with}}\x3c/div\x3e\x3c/div\x3e{{/each}}\x3c/div\x3e{{/each}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e")},
E={format:l,template:Handlebars.compile('\x3cdiv style\x3d"{{#if renderEnv.responsive}}min-height:inherit;{{/if}}{{outline.cssstyle}}"id\x3d"content_{{outline.id}}"class\x3d"{{element_contentClass this}}"{{#if outline.txt}}title\x3d"{{outline.txt}}"{{/if}}{{#if outline.parameters.config.height}}data-height\x3d"{{outline.parameters.config.height}}"{{/if}}{{#if outline.parameters.config.alignment}}data-align\x3d"{{outline.parameters.config.alignment}}"{{/if}}\x3e\x3cdiv class\x3d"dropTargetTextWrapper"\x3e\x3ci class\x3d"fa {{outline.parameters.config.icon.class_name}} left"\x3e\x3c/i\x3e\x3cdiv class\x3d"dki-element-text"\x3e{{{outline.meta}}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')},
G={format:l,template:Handlebars.compile('{{#unless renderEnv.export}}{{#unless renderEnv.full}}{{#unless renderEnv.single}}\x3cdiv class\x3d"dki-media-overlay htm-overlay"\x3e\x3c/div\x3e{{/unless}}{{/unless}}{{/unless}}\x3c{{scope.tagName}} style\x3d"width:100%;{{element_htmHeight outline}}{{#if outline.parameters.textStyles.lineHeight}}line-height:{{outline.parameters.textStyles.lineHeight}};{{/if}}{{#if outline.parameters.textStyles.fontSize}}font-size:{{outline.parameters.textStyles.fontSize}};{{/if}}" id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} {{outline.parameters.config.root_class}} {{outline.parameters.config.text_effect}}"{{#if outline.txt}} title\x3d"{{outline.txt}}"{{/if}}\x3e\x3cdiv class\x3d"dki-element-text"\x3e{{{element_htmMeta this}}}\x3c/div\x3e\x3c/{{scope.tagName}}\x3e')},
K={format:l,template:Handlebars.compile('{{#if forTemplate}}{{\x3eelement_forTemplate}}{{else if renderEnv.document}}{{element_forDocument outline}}{{else}}{{#unless renderEnv.export}}{{#unless renderEnv.full}}{{#unless renderEnv.single}}\x3cdiv class\x3d"dki-media-overlay htm-overlay"\x3e\x3c/div\x3e{{/unless}}{{/unless}}{{/unless}}\x3ciframe tabindex\x3d"1"style \x3d"{{element_htmlWidgetStyle this}}" src\x3d"{{#if renderEnv.authoring}}{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}{{element_htmlWidgetPath outline}}{{else}}about:blank;{{/if}}" data-src\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}{{element_htmlWidgetPath outline}}"scrolling\x3d"{{element_htmlWidgetScrolling this}}"id\x3d"content_{{outline.id}}"class\x3d"{{element_contentClass this}} {{outline.parameters.config.embedType}}"frameborder\x3d"0"seamless\x3e\x3c/iframe\x3e{{/if}}')},
I={format:l,template:Handlebars.compile('{{#if forTemplate}}{{\x3eelement_forTemplate}}{{else if renderEnv.document}}{{element_forDocument outline}}{{else}}{{#unless renderEnv.export}}{{#unless renderEnv.full}}{{#unless renderEnv.single}}\x3cdiv class\x3d"dki-media-overlay htm-overlay"\x3e\x3c/div\x3e{{/unless}}{{/unless}}{{/unless}}\x3ciframe  style\x3d"height:{{outline.height}}px;width:{{outline.width}}px;"{{element_iframe_getProperties outline}} id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"{{#if outline.src}} data-src\x3d"{{outline.src}}"{{/if}} src\x3d"{{#if renderEnv.authoring}}{{outline.src}}{{else}}about:blank;{{/if}}"\x3e\x3c/iframe\x3e{{/if}}')},
J={format:l,template:Handlebars.compile('{{#if forTemplate}}{{else}}{{#if renderEnv.authoring}}\x3cdiv class\x3d\'edit-fan-btn\' title\x3d\'Swap this image out with another one.\'\x3e\x3cdiv class\x3d\'icon16 swap\'\x3e\x3c/div\x3e\x3c/div\x3e{{/if}}\x3cimg {{#image_showMaps renderEnv}}{{#if outline.imageMaps}}usemap \x3d "#{{outline.id}}_imagemap"{{/if}}{{/image_showMaps}} data-src\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}" data-thumbUrl\x3d"{{getAssetThumb el\x3doutline id\x3doutline.upload_id extension\x3doutline.asset_extension}}" data-assetWidth\x3d"{{outline.asset_width}}" data-assetHeight\x3d"{{outline.asset_height}}" src\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}" style\x3d"top:0px;left:0px;z-index:1;{{#unless renderEnv.responsive}}width:100%;height:100%;{{/unless}}"alt\x3d"{{#ifNEq outline.txt \'\'}}{{outline.txt}}{{else}}{{#ifNEq outline.parameters.accessibility.text \'\'}}{{outline.parameters.accessibility.text}}{{/ifNEq}}{{/ifNEq}}" role\x3d"img" align\x3d"top" id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this }}{{#ifNEq outline.rollover_asset_id \'\'}} hasRollover {{/ifNEq}}"/\x3e{{#ifNEq outline.rollover_asset_id \'\'}}\x3cdiv style\x3d"position: absolute; width: 100%; top: 0; left: 0;"\x3e\x3cimg data-id\x3d\'{{outline.id}}\' data-src\x3d\'{{getAssetUrl id\x3doutline.rollover_asset_id folderId\x3doutline.rollover_asset_folderid extension\x3doutline.rollover_asset_extension}}\' {{#if outline.imageMaps}}usemap \x3d "#{{outline.id}}_imagemap"{{/if}}src\x3d\'{{getAssetUrl id\x3doutline.rollover_asset_id folderId\x3doutline.rollover_asset_uploadfolderid extension\x3doutline.rollover_asset_extension}}\' alt\x3d"{{outline.txt}}" align\x3d\'top\' id\x3d"content_{{outline.id}}_rollover" class\x3d"{{element_contentClass this}} dki-image-rollover" /\x3e\x3c/div\x3e{{/ifNEq}}{{#image_showMaps renderEnv}}{{#if outline.imageMaps}}{{reverse outline.imageMaps}}\x3cmap id\x3d"{{outline.id}}_imagemap" name\x3d"{{outline.id}}_imagemap"\t{{#if renderEnv.responsive}} style\x3d"width:{{outline.parameters.responsive.minWidth}}px;height:{{outline.parameters.responsive.minHeight}}px;" data-asset-width\x3d"{{outline.asset_width}}" data-asset-height\x3d"{{outline.asset_height}}"{{/if}}\x3e{{#each outline.imageMaps}}\x3carea shape\x3d"{{this.shape}}" coords\x3d"{{this.coords}}" alt\x3d"{{this.alt}}" role\x3d"button" data-href\x3d"{{this.href}}" data-hreftype\x3d"{{this.hreftype}}" data-hreftarget\x3d"{{this.hreftarget}}"{{#ifEq this.hreftype \'HTTP\'}} onclick\x3d"processHttpEvent(this);"{{/ifEq}}{{#ifEq this.hreftype \'file\'}} onclick\x3d"processHttpEvent(this);"{{/ifEq}}{{#ifEq this.hreftype \'event\'}}{{element_imageMapEventFunction this}}{{/ifEq}} onmouseover\x3d"$(\'body\').css(\'cursor\',\'pointer\');" onmouseout\x3d"$(\'body\').css(\'cursor\',\'\');" style\x3d"display:block;cursor:pointer;"/\x3e{{/each}}\x3c/map\x3e{{/if}}{{/image_showMaps}}{{/if}}')},
L={format:l,template:Handlebars.compile('{{#if forTemplate}}{{\x3eelement_forTemplate}}{{else}}\x3cdiv style\x3d"height:100%;width:100%" id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e{{each outline.parameters.config.elements_assets}}\x3cimg src\x3d"{{#getAssetUrl id\x3dthis.uploadid folderId\x3dthis.uploadfolderid extension\x3dthis.extention}}"/\x3e{{/each}}\x3c/div\x3e{{/if}}')},M={format:$.proxy(function(b){return{outline:b,startString:this.state.strings?this.state.strings.runtime["theme start"]:
"Start",submit:this.state.strings?this.state.strings.runtime.buttonLabelSubmit:"Submit",tryAgain:this.state.strings?this.state.strings.runtime.testTryAgain:"Try Again"}},this),template:Handlebars.compile('{{#if renderEnv.authoring}}\x3cdiv class\x3d"dki-media-overlay htm-overlay" style\x3d\'z-index:2000;\'\x3e\x3c/div\x3e{{/if}}\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this }}" style\x3d"{{#unless renderEnv.responsive}}width:{{outline.width}}px; height:{{outline.height}}px; {{/unless}}"\x3e{{#unless renderEnv.authoring}}{{#ifNEq outline.meta \'\'}}\x3cdiv class\x3d\'preamble\'\x3e\x3cdiv tabindex\x3d\'1\' class\x3d\'preamble_content\'\x3e{{{outline.meta}}}\x3c/div\x3e\x3cbutton tabindex\x3d\'1\' role\x3d\'button\' class\x3d\'btn btn-primary\' style\x3d\'display:inline-block;\'\x3e{{{startString}}}\x3c/button\x3e\x3c/div\x3e{{/ifNEq}}{{/unless}}\x3cdiv class\x3d"imagemap-wrapper flex"\x3e\x3cdiv class\x3d"imagemap-image-wrapper flex inline"\x3e\x3cimg  data-src\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}" data-thumbUrl\x3d"{{getAssetThumb el\x3doutline id\x3doutline.upload_id extension\x3doutline.asset_extension}}" data-assetWidth\x3d"{{outline.asset_width}}" data-assetHeight\x3d"{{outline.asset_height}}" src\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}" style\x3d"top:0px;left:0px;z-index:1;{{#unless renderEnv.responsive}}width:100%;height:100%;{{/unless}}"alt\x3d"{{#ifNEq outline.txt \'\'}}{{outline.txt}}{{else}}{{#ifNEq outline.parameters.accessibility.text \'\'}}{{outline.parameters.accessibility.text}}{{/ifNEq}}{{/ifNEq}}" role\x3d"img" align\x3d"top" class\x3d"imagemap-image"/\x3e\x3c/div\x3e\x3cdiv class\x3d"imagemap-label-wrapper flex flexCol align-items-center"\x3e{{#each outline.elements}}\x3cdiv class\x3d"imagemap-label flex justify-start align-items-center inverted" data-id\x3d"{{id}}"\x3e\x3cdiv class\x3d"imagemap-label-dot flex justify-center align-items-center" data-id\x3d"{{id}}"\x3e{{arith @index \'+\' 1}}\x3c/div\x3e{{#element_renderMapLabelAsImage ../outline upload_id}}\x3cimg  data-src\x3d"{{getAssetUrl id\x3dupload_id folderId\x3dasset_uploadfolderid extension\x3dasset_extension}}" src\x3d"{{getAssetUrl id\x3dupload_id folderId\x3dasset_uploadfolderid extension\x3dasset_extension}}" style\x3d"top:0px;left:0px;z-index:1;{{#unless renderEnv.responsive}}width:100%;height:100%;{{/unless}}"alt\x3d"{{title}}" role\x3d"img" align\x3d"top" class\x3d"imagemap-labelImage"/\x3e{{else}}\x3cdiv class\x3d"imagemap-label-title"\x3e{{{title}}}\x3c/div\x3e{{/element_renderMapLabelAsImage}}\x3c/div\x3e{{/each}}\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d\'feedback reverse\' id\x3d\'feedback_{{outline.id}}\'\x3e\x3c/div\x3e\x3cdiv class\x3d"question-submit-wrapper clearfix" style\x3d"text-align:center; padding:20px 0 10px 0;"\x3e\x3cdiv class\x3d"btn-primary btn submit pull-right" title\x3d"{{submit}}"\x3e{{submit}}\x3c/div\x3e\x3cdiv class\x3d"btn-default btn retake pull-right" title\x3d"{{tryAgain}}"\x3e{{tryAgain}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')},
H={format:$.proxy(function(b){var c={outline:b,submit:this.state.strings?this.state.strings.runtime.buttonLabelSubmit:"Submit",tryAgain:this.state.strings?this.state.strings.runtime.testTryAgain:"Try Again"},k=[],h=function(b,c){switch(c.toString()){case "A":case "a":return String.fromCharCode(c.charCodeAt()+b)+") ";case "1":return parseInt(c,10)+b+") ";case "i":b+=1;if(+b){b=String(+b).split("");c=" C CC CCC CD D DC DCC DCCC CM  X XX XXX XL L LX LXX LXXX XC  I II III IV V VI VII VIII IX".split(" ");
for(var k="",h=3;h--;)k=(c[+b.pop()+10*h]||"")+k;b=Array(+b.join("")+1).join("M")+k}else b=!1;return b+") ";default:return""}},l=1<parseInt(b.parameters.config.maxSelections,10)?"checkbox":"radio",m=0;c.inputType=l;$.each(b.elements,function(b,c){this.idx=b;k.push(this)});b.parameters.config.shuffle&&(k=this.state.utility.shuffle(k));$.each(k,function(b){this.inputType=l;this.num=h(m,c.outline.parameters.config.numbering);"slider"==this.elementtype&&(c.slider=this,m--);m++});c.items=k;return c},this),
template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} clearfix content-type-{{outline.parameters.config.contentType}} {{#if outline.parameters.config.fullSize}}fullSize{{/if}} {{#if outline.parameters.config.spaceTextLikeElements}}spaced-like-elements{{/if}}" {{#ifEq inputType \'radio\'}}role\x3d"radiogroup" aria-labelledby\x3d"{{outline.id}}_description"{{/ifEq}}\x3e{{#if renderEnv.authoring}}\x3cdiv class\x3d\'disabler\' style\x3d\'background-color:transparent;\'\x3e\x3c/div\x3e{{/if}}{{#if outline.meta}}\x3c{{outline.parameters.config.titleTag}} class\x3d"question-title"\x3e{{{element_htmMeta this}}}\x3c/{{outline.parameters.config.titleTag}}\x3e{{/if}}{{#if outline.txt}}\x3cdiv id\x3d"{{outline.id}}_description" class\x3d\'question-description\'\x3e{{{element_richText_txt this}}}\x3c/div\x3e{{/if}}\x3cdiv class\x3d"options clearfix "\x3e{{#each items}}{{#ifNEq elementtype \'slider\'}}{{\x3eelement outline\x3dthis scope\x3d../scope elementFromQuestion\x3dtrue}}{{/ifNEq}}{{/each}}\x3c/div\x3e\x3cdiv class\x3d"clearfix" style\x3d"padding-right:15px;"\x3e{{#if slider}}{{\x3eelement outline\x3dslider scope\x3dscope elementFromQuestion\x3dtrue}}{{/if}}\x3c/div\x3e\x3cdiv class\x3d\'feedback reverse\' id\x3d\'feedback_{{outline.id}}\'\x3e\x3c/div\x3e\x3cdiv class\x3d"question-submit-wrapper clearfix" style\x3d"text-align:center; padding:20px 0 10px 0;"\x3e\x3cdiv class\x3d"btn-primary btn submit pull-right" title\x3d"{{submit}}"\x3e{{submit}}\x3c/div\x3e\x3cdiv class\x3d"btn-default btn retake pull-right" title\x3d"{{tryAgain}}"\x3e{{tryAgain}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')},
aa={format:$.proxy(function(b){var c={outline:b,trueLabel:this.state.strings?this.state.strings.runtime.trueOptionLabel:"True",falseLabel:this.state.strings?this.state.strings.runtime.falseOptionLabel:"False",submit:this.state.strings?this.state.strings.runtime.buttonLabelSubmit:"Submit",tryAgain:this.state.strings?this.state.strings.runtime.testTryAgain:"Try Again"},k=[],h=0;$.each(b.elements,function(b,c){this.elementtype="questionOption";k.push(this)});b.parameters.config.shuffle&&(k=this.state.utility.shuffle(k));
$.each(k,function(b){this.inputType="radio";this.num=getNumbers(h,c.outline.parameters.config.numbering);"slider"==this.elementtype&&(c.slider=this,h--);h++});c.items=k;return c},this),template:Handlebars.compile("\x3cdiv id\x3d\"content_{{outline.id}}\" class\x3d\"{{element_contentClass this}} clearfix {{#if outline.parameters.config.fullSize}}fullSize{{/if}} {{#if outline.parameters.config.spaceTextLikeElements}}spaced-like-elements{{/if}}\" role\x3d\"radiogroup\" aria-labelledby\x3d\"{{outline.id}}_description\"\x3e{{#if renderEnv.authoring}}\x3cdiv class\x3d'disabler' style\x3d'background-color:transparent;'\x3e\x3c/div\x3e{{/if}}{{#if outline.meta}}\x3c{{outline.parameters.config.titleTag}} class\x3d\"question-title\"\x3e{{{outline.meta}}}\x3c/{{outline.parameters.config.titleTag}}\x3e{{/if}}{{#if outline.txt}}\x3cdiv id\x3d\"{{outline.id}}_description\" class\x3d'question-description'\x3e{{{outline.txt}}}\x3c/div\x3e{{/if}}\x3cdiv class\x3d\"options clearfix\"\x3e\x3cdiv class\x3d'dki-question-option dki-questionOption-element dki-element-content'\x3e\x3cdiv class\x3d'input-group' role\x3d\"presentation\"\x3e\x3cspan class\x3d'input-group-addon'\x3e\x3cinput id\x3d'{{outline.id}}_true' type\x3d'radio' name\x3d'{{outline.id}}_tf' value\x3d'true'/\x3e\x3c/span\x3e\x3clabel class\x3d'form-control' for\x3d'{{outline.id}}_true'\x3e{{trueLabel}}\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'dki-question-option dki-questionOption-element dki-element-content'\x3e\x3cdiv class\x3d'input-group' role\x3d\"presentation\"\x3e\x3cspan class\x3d'input-group-addon'\x3e\x3cinput id\x3d'{{outline.id}}_false' type\x3d'radio' name\x3d'{{outline.id}}_tf' value\x3d'false'/\x3e\x3c/span\x3e\x3clabel class\x3d'form-control' for\x3d'{{outline.id}}_false'\x3e{{falseLabel}}\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d\"clearfix\" style\x3d\"padding-right:15px;\"\x3e{{#if slider}}{{\x3eelement outline\x3dslider scope\x3dscope}}{{/if}}\x3c/div\x3e\x3cdiv class\x3d'feedback reverse' id\x3d'feedback_{{outline.id}}'\x3e\x3c/div\x3e\x3cdiv class\x3d\"clearfix\" style\x3d\"text-align:center; padding:20px 0 10px 0;\"\x3e\x3cdiv class\x3d\"btn-primary btn submit pull-right\" title\x3d\"{{submit}}\"\x3e{{submit}}\x3c/div\x3e\x3cdiv class\x3d\"btn-default btn retake pull-right\" title\x3d\"{{tryAgain}}\"\x3e{{tryAgain}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e")},
ca={format:$.proxy(function(b){var c={outline:b,meta:"",submit:this.state.strings?this.state.strings.runtime.buttonLabelSubmit:"Submit",tryAgain:this.state.strings?this.state.strings.runtime.testTryAgain:"Try Again"};b=$("\x3cdiv\x3e").html(c.outline.meta);b.find(".pulldown-link").each(function(b,k){$(this).replaceWith("\x3cspan class\x3d'dki-question-option flex inline dki-element-content'\x3e\x3cspan class\x3d'btn-group flexAuto border-only'\x3e\x3cbutton tabindex\x3d\"1\" aria-haspopup\x3d'menu' id\x3d'question-dropdown-"+
$(this).data("dragdrop-id")+"' aria-label\x3d'"+(b+1)+"' aria-describedby\x3d'mpq_"+c.outline.id+"' class\x3d'pulldown_option question-option-color-"+c.outline.parameters.config.style.color+" question-option-style-"+c.outline.parameters.config.style.type+" btn dropdown-toggle' data-dragdrop-id\x3d'"+$(this).data("dragdrop-id")+"' aria-haspopup\x3d'true' aria-expanded\x3d'false' data-toggle\x3d'dropdown'\x3e\x3cspan class\x3d'selectedCont'\x3e\x3c/span\x3e\x3cspan class\x3d'caret'\x3e\x3c/span\x3e\x3c/button\x3e\x3cul class\x3d'dropdown-menu' role\x3d'menu' aria-labelledby\x3d'question-dropdown-"+
$(this).data("dragdrop-id")+"'\x3e\x3c/ul\x3e\x3c/span\x3e\x3c/span\x3e")});c.meta=b.html();c.ariaInstruction='\x3cdiv id\x3d"aria_instruction_mpq_'+c.outline.id+"\" class\x3d'sr-only'\x3e"+DKI.strings.questionInstructions[5]+". \x3c/div\x3e";return c},this),template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} clearfix {{#if outline.parameters.config.spaceTextLikeElements}}spaced-like-elements{{/if}}"\x3e{{#if renderEnv.authoring}}\x3cdiv class\x3d\'disabler\' style\x3d\'background-color:transparent;\'\x3e\x3c/div\x3e{{/if}}{{#if outline.txt}}\x3c{{outline.parameters.config.titleTag}} class\x3d"question-title"\x3e{{{outline.txt}}}\x3c/{{outline.parameters.config.titleTag}}\x3e{{/if}}{{#if ariaInstruction}}{{{ariaInstruction}}}{{/if}}\x3cdiv class\x3d\'options\' aria-labelledby\x3d\'aria_instruction_mpq_{{outline.id}}\'\x3e\x3cdiv id\x3d\'mpq_{{outline.id}}\'\x3e{{{meta}}}\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d\'feedback reverse\' id\x3d\'feedback_{{outline.id}}\'\x3e\x3c/div\x3e\x3cdiv class\x3d"clearfix" style\x3d"text-align:center; padding:20px 0 10px 0;"\x3e\x3cdiv class\x3d"btn-primary btn submit pull-right" title\x3d"{{submit}}"\x3e{{submit}}\x3c/div\x3e\x3cdiv class\x3d"btn-default btn retake pull-right" title\x3d"{{tryAgain}}"\x3e{{tryAgain}}\x3c/div\x3e\x3cdiv class\x3d"btn-primary btn showResult pull-right" role\x3d"button"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')},
T={format:$.proxy(function(b){var c={outline:b,meta:"",submit:this.state.strings?this.state.strings.runtime.buttonLabelSubmit:"Submit",tryAgain:this.state.strings?this.state.strings.runtime.testTryAgain:"Try Again"};b=$("\x3cdiv\x3e").html(c.outline.meta);b.find(".fitb-link").each(function(b,k){$(this).replaceWith("\x3cspan class\x3d'dki-question-option flex inline dki-element-content'\x3e\x3cspan class\x3d'input-group flexAuto' role\x3d\"presentation\"\x3e\x3cspan class\x3d'flex align-items-center'\x3e\x3clabel class\x3d'sr-only' for\x3d\"fill-option-"+
b+"-"+c.outline.id+'"\x3e'+(b+1)+"\x3c/label\x3e\x3cinput type\x3d'text' autocomplete\x3d'off' id\x3d'fill-option-"+b+"-"+c.outline.id+"' data-empty-label\x3d'"+(b+1)+"' data-aria-describedby\x3d'fitb_"+c.outline.id+"' class\x3d'fillInTheBlanks_option input-group-addon' data-dragdrop-id\x3d'"+$(this).data("dragdrop-id")+"'\x3e\x3c/input\x3e\x3c/span\x3e\x3c/span\x3e\x3c/span\x3e")});c.meta=b.html();c.ariaInstruction='\x3cdiv id\x3d"aria_instruction_fitb_'+c.outline.id+'" style\x3d"display:none"\x3e'+
DKI.strings.questionInstructions[4]+"\x3c/div\x3e";return c},this),template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} clearfix {{#if outline.parameters.config.spaceTextLikeElements}}spaced-like-elements{{/if}}"\x3e{{#if renderEnv.authoring}}\x3cdiv class\x3d\'disabler\' style\x3d\'background-color:transparent;\'\x3e\x3c/div\x3e{{/if}}{{#if outline.txt}}\x3c{{outline.parameters.config.titleTag}} class\x3d"question-title"\x3e{{{outline.txt}}}\x3c/{{outline.parameters.config.titleTag}}\x3e{{/if}}{{#if ariaInstruction}}{{{ariaInstruction}}}{{/if}}\x3cfieldset id\x3d\'fitb_{{outline.id}}\' aria-labelledby\x3d\'aria_instruction_fitb_{{outline.id}}\'\x3e{{{meta}}}\x3c/fieldset\x3e\x3cdiv class\x3d\'feedback reverse\' id\x3d\'feedback_{{outline.id}}\'\x3e\x3c/div\x3e\x3cdiv class\x3d"clearfix question-submit-wrapper" style\x3d"text-align:center; padding:20px 0 10px 0;"\x3e\x3cdiv class\x3d"btn-primary btn submit pull-right" role\x3d"button" title\x3d"{{submit}}"\x3e{{submit}}\x3c/div\x3e\x3cdiv class\x3d"btn-default btn retake pull-right" role\x3d"button" title\x3d"{{tryAgain}}"\x3e{{tryAgain}}\x3c/div\x3e\x3cdiv class\x3d"btn-primary btn showResult pull-right" role\x3d"button"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')},
U={format:$.proxy(function(b){var c={outline:b,submit:this.state.strings?this.state.strings.runtime.buttonLabelSubmit:"Submit",tryAgain:this.state.strings?this.state.strings.runtime.testTryAgain:"Try Again"};b=$("\x3cdiv\x3e").html(b.meta);var k=this;b.find(".answer").each(function(b,c){$(this).attr({role:"option","aria-selected":!1});k.state.renderEnvironment.authoring&&$(this).addClass("selected")});b=b.contents();for(var h=new RegExp(/[^\s]$/),l=new RegExp(/^[^\s]/),m=0;m<b.length;m++){var r=b[m];
if("span"==r.nodeName.toLowerCase()){var q=b[m-1],n=b[m+1];q&&"#text"==q.nodeName.toLowerCase()&&h.test(q.textContent)&&$(r).addClass("leftText");n&&"#text"==n.nodeName.toLowerCase()&&l.test(n.textContent)&&$(r).addClass("rightText")}}c.meta=b.map(function(){return 3==this.nodeType?this.textContent.replace(/[^\s:;,.?!\/]+/g,function(b){return"\x3cspan role\x3d'option' aria-selected\x3d'false'\x3e"+b+"\x3c/span\x3e"}):$("\x3cdiv\x3e").append($(this).clone()).html()}).toArray().join("");c.answers=[];
return c},this),template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} clearfix wordInteractionQuestion {{#if outline.parameters.config.spaceTextLikeElements}}spaced-like-elements{{/if}}"\x3e{{#if renderEnv.authoring}}\x3cdiv class\x3d\'disabler\' style\x3d\'background-color:transparent;\'\x3e\x3c/div\x3e{{/if}}\x3cdiv class\x3d\'info\'\x3e{{#if outline.txt}}\x3c{{outline.parameters.config.titleTag}} class\x3d"question-title"\x3e{{{outline.txt}}}\x3c/{{outline.parameters.config.titleTag}}\x3e{{/if}}\x3cdiv class\x3d\'counter\'\x3e0/{{answers.length}}\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d\'options\'\x3e{{{meta}}}\x3c/div\x3e\x3cdiv class\x3d\'feedback reverse\' id\x3d\'feedback_{{outline.id}}\'\x3e\x3c/div\x3e\x3cdiv class\x3d"clearfix" style\x3d"text-align:center; padding:20px 0 10px 0;"\x3e\x3cdiv class\x3d"btn-primary btn submit pull-right" title\x3d"{{submit}}"\x3e{{submit}}\x3c/div\x3e\x3cdiv class\x3d"btn-default btn retake pull-right" title\x3d"{{tryAgain}}"\x3e{{tryAgain}}\x3c/div\x3e\x3cdiv class\x3d"btn-primary btn showResult pull-right" role\x3d"button"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')},
Q={format:$.proxy(function(b){var c={outline:b,submit:this.state.strings?this.state.strings.runtime.buttonLabelSubmit:"Submit",tryAgain:this.state.strings?this.state.strings.runtime.testTryAgain:"Try Again"},k=$("\x3cdiv\x3e").html(b.meta);b.answers=k.find(".answer").toArray().map(function(b){var c=$(b).html();$(b).html("").addClass("border-only fa fa-bullseye");return c});c.meta=k.html();return c},this),template:Handlebars.compile("\x3cdiv id\x3d\"content_{{outline.id}}\" class\x3d\"{{element_contentClass this}} clearfix wordInteractionQuestion {{#if outline.parameters.config.spaceTextLikeElements}}spaced-like-elements{{/if}}\"\x3e{{#if renderEnv.authoring}}\x3cdiv class\x3d'disabler' style\x3d'background-color:transparent;'\x3e\x3c/div\x3e{{/if}}\x3cdiv class\x3d'info'\x3e{{#if outline.txt}}\x3c{{outline.parameters.config.titleTag}} class\x3d\"question-title\"\x3e{{{outline.txt}}}\x3c/{{outline.parameters.config.titleTag}}\x3e{{/if}}\x3cdiv class\x3d'counter'\x3e0/{{outline.answers.length}}\x3c/div\x3e\x3cdiv class\x3d'answerPool flex'\x3e\x3cdiv class\x3d'answerNav fa fa-chevron-left'\x3e\x3c/div\x3e\x3cdiv class\x3d'answers flex wrap justify-center flexAuto'\x3e{{#if renderEnv.authoring}}{{#each outline.answers}}\x3cspan class\x3d'selected answerDrag'\x3e{{this}}\x3c/span\x3e{{/each}}{{/if}}\x3c/div\x3e\x3cdiv class\x3d'answerNav fa fa-chevron-right'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'options'\x3e{{{meta}}}\x3c/div\x3e\x3cdiv class\x3d'feedback reverse' id\x3d'feedback_{{outline.id}}'\x3e\x3c/div\x3e\x3cdiv class\x3d\"clearfix\" style\x3d\"text-align:center; padding:20px 0 10px 0;\"\x3e\x3cdiv class\x3d\"btn-primary btn submit pull-right\" title\x3d\"{{submit}}\"\x3e{{submit}}\x3c/div\x3e\x3cdiv class\x3d\"btn-default btn retake pull-right\" title\x3d\"{{tryAgain}}\"\x3e{{tryAgain}}\x3c/div\x3e\x3cdiv class\x3d\"btn-primary btn showResult pull-right\" role\x3d\"button\"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e")},
X={format:function(b){return{outline:b,strings:{zoom:"Click to see a larger version of the image."}}},template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} dki-question-option{{#ifEq outline.inputType \'checkbox\'}} multiAnswer{{/ifEq}}"\x3e\x3cdiv class\x3d"input-group" role\x3d"presentation"\x3e\x3cspan class\x3d"input-group-addon"\x3e\x3cinput id\x3d"{{outline.id}}_option" type\x3d"{{outline.inputType}}" name\x3d"{{outline.parent_element_id}}_options" data-id\x3d"{{outline.id}}" {{#ifEq outline.inputType \'checkbox\'}}aria-describedby\x3d"{{outline.parent_element_id}}_description"{{/ifEq}}/\x3e\x3c/span\x3e\x3clabel class\x3d"form-control" for\x3d"{{outline.id}}_option"\x3e{{#ifNEq outline.upload_id \'\'}}\x3cdiv class\x3d"question-option-image-wrapper flex justify-center align-items-center"\x3e\x3cimg class\x3d"flex nogrow" src\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}" alt\x3d"{{outline.asset_description}}"/\x3e\x3ca tabindex\x3d"1" class\x3d"question-option-image-magnifier fa fa-search" href\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}" title\x3d"{{strings.zoom}}"\x3e\x3c/a\x3e\x3c/div\x3e{{/ifNEq}}{{#if outline.num}}\x3cspan class\x3d"numbering"\x3e{{outline.num}}\x3c/span\x3e{{/if}}\x3cdiv class\x3d"dki-element-text"\x3e{{{element_htmMeta this}}}\x3c/div\x3e\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e')},
O={format:l,template:Handlebars.compile('\x3cform class\x3d"{{element_contentClass this}}" action\x3d"javascript:void(0)" autocomplete\x3d"off" id\x3d"content_{{outline.id}}"\x3e\x3cfieldset\x3e\x3cdiv class\x3d\'form-group {{outline.parameters.config.labelVPos}} {{#if outline.parameters.config.labelBefore}}before{{else}}after{{/if}}\'\x3e{{#if outline.parameters.config.labelBefore}}\x3clabel for\x3d"{{outline.id}}_input"\x3e\x3cdiv class\x3d"dki-element-text"\x3e{{{outline.meta}}}\x3c/div\x3e\x3c/label\x3e{{/if}}\x3cdiv class\x3d"inputContainer"\x3e{{#unless renderEnv.player}}\x3cdiv class\x3d"dki-media-overlay htm-overlay"\x3e{{#unless outline.txt}}Type here to set your own Placeholder{{/unless}}\x3c/div\x3e{{/unless}}\x3cinput  id\x3d"{{outline.id}}_input" class\x3d"form-control"{{#unless renderEnv.authoring}} maxlength\x3d"{{outline.parameters.config.maxLength}}"{{/unless}} type\x3d"{{#unless renderEnv.authoring}}{{outline.parameters.config.type}}{{else}}text{{/unless}}"{{#if outline.parameters.config.readOnly}} readonly{{else if renderEnv.authoring}}readonly{{/if}}{{#unless renderEnv.authoring}} placeholder\x3d"{{outline.txt}}"{{else}} value\x3d"{{outline.txt}}"{{/unless}}/\x3e\x3c/div\x3e{{#unless outline.parameters.config.labelBefore}}\x3clabel for\x3d"{{outline.id}}_input"\x3e\x3cdiv class\x3d"dki-element-text"\x3e{{{outline.meta}}}\x3c/div\x3e\x3c/label\x3e{{/unless}}\x3c/div\x3e\x3c/fieldset\x3e\x3c/form\x3e')},
N={format:function(b){var c=DKI.clone(b.parameters.config);b.elements.sort(function(b,c){return b.elementno-c.elementno});c.elements=b.elements;c.style+=c.showButton?"":" hideButton";return c},template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv class\x3d"jumbotron clearfix {{style}}"\x3e{{#each elements}}{{\x3eelement outline\x3dthis scope\x3d../scope}}{{/each}}\x3c/div\x3e\x3c/div\x3e')},V={format:l,template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}"class\x3d"{{element_contentClass this}} clearfix"{{#if outline.txt}}title\x3d"{{outline.txt}}"{{/if}}style\x3d"{{#if outline.parameters.textStyles.lineHeight}}line-height:{{outline.parameters.textStyles.lineHeight}};{{/if}}{{#if outline.parameters.textStyles.fontSize}}font-size:{{outline.parameters.textStyles.fontSize}};{{/if}}"\x3e{{#if outline.parameters.config.icon.onLeft}}\x3cspan class\x3d"iconContainer"\x3e\x3ci class\x3d"fa {{outline.parameters.config.icon.class_name}} {{outline.parameters.config.icon.backgroundClass}} labelIcon left"\x3e\x3c/i\x3e\x3c/span\x3e{{/if}}\x3cdiv class\x3d"dki-element-text"\x3e{{#if outline.meta.length}}{{{element_htmMeta this}}}{{else}}\x26nbsp;{{/if}}\x3c/div\x3e{{#unless outline.parameters.config.icon.onLeft}}\x3cspan class\x3d"iconContainer"\x3e\x3ci class\x3d"fa {{outline.parameters.config.icon.class_name}} {{outline.parameters.config.icon.backgroundClass}} labelIcon right"\x3e\x3c/i\x3e\x3c/span\x3e{{/unless}}\x3ci class\x3d"fa fa-info responsiveFallback"\x3e\x3c/i\x3e\x3c/div\x3e')},
fa={format:l,template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e{{#unless renderEnv.player}}{{\x3eelementOverlay}}{{/unless}}\x3ci class\x3d"fa fa-thumbs-up"\x3e\x3c/i\x3e\x3ci class\x3d"fa fa-thumbs-down"\x3e\x3c/i\x3e\x3c/div\x3e')},W={format:function(b){var k=DKI.clone(b.parameters.config);k.items=[];$.each(b.elements,function(b,h){k.iconsEnabled?k.items.push("\x3ci class\x3d'fa fa-fw fa-"+h.parameters.config.icon+'\'\x3e\x3c/i\x3e \x3cspan class\x3d"list-item-text"\x3e'+
c.parseElementDataImagesInMeta(h)+"\x3c/span\x3e"):k.numbersEnabled?k.items.push("\x3cspan class\x3d'itemNumberIcon'\x3e"+(b+1)+'\x3c/span\x3e\x3cspan class\x3d"list-item-text"\x3e'+c.parseElementDataImagesInMeta(h)+"\x3c/span\x3e"):k.items.push('\x3cspan class\x3d"list-item-text"\x3e'+c.parseElementDataImagesInMeta(h)+"\x3c/span\x3e")});k.id=b.id;k.def=k.items[0];return k},template:Handlebars.compile('\x3cul class\x3d"clearfix {{element_contentClass this}} list-group {{outline.parameters.config.cls}} column-count-{{outline.parameters.config.columns}} {{#unless outline.parameters.config.borders}}noBorders{{/unless}} {{#if outline.parameters.config.striped}}striped{{/if}}" id\x3d"content_{{outline.id}}"\x3e{{#each items}}\x3cli class\x3d"list-group-item"\x3e{{{this}}}\x3c/li\x3e{{/each}}\x3c/ul\x3e')},
Z={format:l,template:Handlebars.compile('{{#unless renderEnv.player}}{{\x3eelementOverlay}}{{/unless}}\x3ci style\x3d"{{outline.cssstyle}}{{#element_ifCanHaveDims}}font-size:{{arith outline.height \'-\' 20}}px;height:{{outline.height}}px;width:{{outline.height}}px;{{/element_ifCanHaveDims}}{{#if outline.parameters.config.backgroundColor}} background-color:{{getColour outline.parameters.config.backgroundColor}}; {{/if}} " id\x3d"content_{{outline.id}}"{{#if outline.txt}} title"{{outline.txt}}"{{/if}} data-class\x3d"{{outline.parameters.config.class}}" class\x3d"fa {{element_contentClass this}} {{outline.parameters.config.size}} {{outline.parameters.config.class}} {{outline.parameters.config.shape}} {{outline.parameters.background.class_name}} {{outline.parameters.config.color}}"\x3e\x3c/i\x3e')},
S={format:l,template:Handlebars.compile('{{#if renderEnv.document}}\x3cdiv id\x3d"content_{{outline.id}}"\x3e{{{outline.meta}}}\x3c/div\x3e{{else}}{{#unless renderEnv.player}}{{\x3eelementOverlay}}{{/unless}}\x3ci style\x3d"{{outline.cssstyle}}font-size:{{outline.height}}px;width:{{outline.width}}px;height:{{outline.height}}px;line-height:{{outline.height}}px;{{#if outline.parameters.background.color}} background-color:{{outline.parameters.background.color}}; {{/if}}{{#if outline.parameters.background.foreground}} color:{{outline.parameters.background.foreground}}; {{/if}}" id\x3d"content_{{outline.id}}"{{#if outline.txt}} title"{{outline.txt}}"{{/if}} class\x3d"marker fa {{element_contentClass this}} {{outline.parameters.config.shape}} {{outline.parameters.background.class_name}} {{outline.parameters.config.color}}  "\x3e\x3c/i\x3e\x3cdiv class\x3d"markerPulsar {{outline.parameters.config.shape}}"\x3e\x3c/div\x3e{{/if}}')},
ja=$.proxy(function(b,c){var k=c.renderEnv,h=c.page,l={renderControl:k.single||k.full||k.export||c.forTemplate,optionNo:-1};$.each(h.question.options,function(c,k){if(this.element_id==b.elementid)return l.optionNo=c+1,l.option=this,!1});"trueFalseOption"==b.elementtype&&(c="Option1"==b.txt?"true":"false",l.radioId=c+"Option"+b.id,l.labelClass=c+"Option_label",l.val=c);"multiPulldownOption"==b.elementtype&&(c=l.option.content,"string"===typeof c&&(l.option.content=this.state.utility.shuffle(c.replace(/"/g,
"\x26quot;").split(","))));"multiChoiceOption"==b.elementtype&&(l.inputType=1<h.question.max_selections?"checkbox":"radio");return l},this),ia;Handlebars.registerPartial("option_fillBlanksOption",'{{#unless renderControl}}\x3cdiv class\x3d"dki-media-overlay htm-overlay" style\x3d"height:100%;width:100%"\x3e\x3c/div\x3e{{/unless}}{{#if (designLegacy)}}\x3ctable width\x3d"100%"\x3e\x3ctr\x3e\x3ctd class\x3d"input-group" role\x3d"presentation"\x3e\x3clabel class\x3d"content control-label input-group-addon" for\x3d"{{outline.txt}}"\x3e{{element_option_renderNumbering this}}\x3c/label\x3e\x3c/td\x3e\x3ctd style\x3d"width:100%"\x3e\x3cinput class\x3d"content form-control" type\x3d"text" id\x3d"{{outline.txt}}" data-order\x3d"{{optionNo}}" {{element_option_getCorrect this}} style\x3d"width:100%" {{#if outline.questionBodyId}}aria-describedby\x3d"content_{{outline.questionBodyId}}"{{/if}} aria-labelledby\x3d"option_number_{{outline.id}}"/\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e{{else}}\x3cdiv class\x3d"input-group" role\x3d"presentation"\x3e\x3cspan class\x3d"input-group-addon" id\x3d"{{outline.txt}}_addon"\x3e{{element_option_renderNumbering this}}\x3c/span\x3e\x3cinput type\x3d"text" class\x3d"content form-control" id\x3d"{{outline.txt}}" {{#if outline.questionBodyId}}aria-describedby\x3d"content_{{outline.questionBodyId}}"{{else}}aria-describedby\x3d"{{outline.txt}}_addon"{{/if}} aria-labelledby\x3d"option_number_{{outline.id}}" data-order\x3d"{{optionNo}}"/\x3e\x3c/div\x3e{{/if}}');
Handlebars.registerPartial("option_trueFalseOption",'{{#unless renderControl}}\x3cdiv class\x3d"dki-media-overlay htm-overlay" style\x3d"height:100%;width:100%"\x3e\x3c/div\x3e{{/unless}}\x3cdiv class\x3d"dki-trueFalse-selector"\x3e\x3c/div\x3e{{#if (designLegacy)}}\x3cdiv class\x3d"radio"\x3e\x3clabel for\x3d"{{radioId}}" class\x3d"radio"\x3e\x3cinput type\x3d"radio" id\x3d"{{radioId}}" value\x3d"{{val}}" name\x3d"questionOption{{scope.page.pageid}}" data-order\x3d"{{optionNo}}" {{element_option_getCorrect this}}{{#if outline.questionBodyId}}aria-describedby\x3d"content_{{outline.questionBodyId}}"{{/if}}/\x3e\x3cspan class\x3d"{{labelClass}}"\x3e{{{outline.meta}}}\x3c/span\x3e\x3c/label\x3e{{else}}\x3cdiv class\x3d"input-group" role\x3d"presentation"\x3e\x3cspan class\x3d"input-group-addon"\x3e\x3cinput aria-labelledby\x3d"{{outline.txt}}{{outline.id}}_label" type\x3d"radio" id\x3d"{{radioId}}" data-order\x3d"{{optionNo}}" value\x3d"{{val}}" name\x3d"questionOption{{scope.page.pageid}}" {{element_option_getCorrect this}}{{#if outline.questionBodyId}}aria-describedby\x3d"content_{{outline.questionBodyId}}"{{/if}}/\x3e\x3c/span\x3e\x3clabel id\x3d"{{outline.txt}}{{outline.id}}_label" for\x3d"{{radioId}}" class\x3d"form-control"\x3e\x3cspan class\x3d"{{labelClass}}"\x3e{{{outline.meta}}}\x3c/span\x3e\x3c/label\x3e\x3c/div\x3e{{/if}}');
Handlebars.registerPartial("option_multiPulldownOption",'{{#if renderEnv.document}}\x3ctable\x3e\x3ctr\x3e\x3ctd\x3e{{element_option_renderNumbering this}}\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd\x3e\x3cul\x3e{{#each option.content}}\x3cli\x3ethis\x3c/li\x3e{{/each}}\x3c/ul\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e{{else}}{{#unless renderControl}}\x3cdiv class\x3d"dki-media-overlay htm-overlay" style\x3d"height:100%;width:100%"\x3e\x3c/div\x3e{{/unless}}{{#if (designLegacy)}}\x3clabel for\x3d"{{outline.txt}}"\x3e{{element_option_renderNumbering this}}\x3c/label\x3e\x3cdiv class\x3d"contentWrapper"\x3e{{else}}\x3cdiv class\x3d"input-group" role\x3d"presentation"\x3e\x3clabel for\x3d"{{outline.txt}}" class\x3d"input-group-addon"\x3e{{element_option_renderNumbering this}}\x3c/label\x3e{{/if}}\x3cselect {{#if outline.questionBodyId}}aria-describedby\x3d"content_{{outline.questionBodyId}}"{{/if}} aria-labelledby\x3d"option_number_{{outline.id}}" class\x3d"content form-control" id\x3d"{{outline.txt}}"data-order\x3d"{{optionNo}}" {{element_option_getCorrect this}}\x3e\x3coption value\x3d""\x3e\x3c/option\x3e{{#each option.content}}\x3coption class\x3d"content" label\x3d"{{trim this}}"\x3e{{trim this}}\x3c/option\x3e{{/each}}\x3c/select\x3e\x3c/div\x3e{{/if}}');
Handlebars.registerPartial("option_multiChoiceOption",'{{#unless renderControl}}\x3cdiv class\x3d"dki-media-overlay htm-overlay" style\x3d"height:100%;width:100%"\x3e\x3c/div\x3e{{/unless}}\x3cdiv class\x3d"dki-multiChoice-selector"\x3e\x3c/div\x3e{{#if (designLegacy)}}\x3cspan class\x3d"multiChoiceContentWrapper" style\x3d"visibility:hidden;"\x3e\x3cinput type\x3d"{{inputType}}"  name\x3d"questionOption{{scope.page.pageid}}" id\x3d"{{outline.txt}}{{outline.id}}" value\x3d"{{outline.txt}}" data-order\x3d"{{optionNo}}" {{element_option_getCorrect this}}{{#if outline.questionBodyId}}aria-describedby\x3d"content_{{outline.questionBodyId}}"{{/if}}/\x3e\x3clabel for\x3d"{{outline.txt}}{{outline.id}}" class\x3d"questionChoiceText"\x3e{{element_option_renderNumbering this}}{{{option.content}}}\x3c/label\x3e\x3c/span\x3e{{else}}\x3cdiv class\x3d"input-group" role\x3d"presentation"\x3e\x3cspan class\x3d"input-group-addon"\x3e\x3cinput aria-labelledby\x3d"{{outline.txt}}{{outline.id}}_label" type\x3d"{{inputType}}" name\x3d"questionOption{{scope.page.pageid}}" id\x3d"{{outline.txt}}{{outline.id}}" value\x3d"{{outline.txt}}" data-order\x3d"{{optionNo}}" {{element_option_getCorrect this}}{{#if outline.questionBodyId}}aria-describedby\x3d"content_{{outline.questionBodyId}}"{{/if}}/\x3e\x3c/span\x3e\x3clabel for\x3d"{{outline.txt}}{{outline.id}}" id\x3d"{{outline.txt}}{{outline.id}}_label" class\x3d"form-control"\x3e\x3cspan class\x3d"questionChoiceText"\x3e{{element_option_renderNumbering this}}{{{option.content}}}\x3c/span\x3e\x3c/label\x3e\x3c/div\x3e{{/if}}');
Handlebars.registerPartial("option_freeFormOption",'{{#unless renderControl}}\x3cdiv class\x3d"dki-media-overlay htm-overlay" style\x3d"height:100%;width:100%"\x3e\x3c/div\x3e{{/unless}}\x3ctextarea class\x3d"content form-control" style\x3d""data-order\x3d"{{optionNo}}"\x3e\x3c/textarea\x3e');ia=Handlebars.compile('\x3cdiv {{#unless renderEnv.export}}{{#unless renderEnv.full}}{{#unless renderEnv.single}}{{#unless forTemplate}}data-option-index\x3d"{{optionNo}}" {{/unless}}{{/unless}}{{/unless}}{{/unless}}style\x3d"height:100%;width:100%" id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} dki-question-option {{#ifEq inputType \'checkbox\'}} multiAnswer{{/ifEq}}"\x3e{{\x3e(element_option_getPartial outline.elementtype)}}\x3c/div\x3e');
ja={format:ja,template:ia};ia={format:function(b){var c={outline:b,header:{enabled:b.parameters.config.header.enabled,iconLeft:b.parameters.config.header.iconLeft,iconRight:b.parameters.config.header.iconRight},footer:{enabled:b.parameters.config.footer.enabled},class_name:b.parameters.config.class_name,elements:[],startCollapsed:b.parameters.config.startCollapsed};h.state.renderEnvironment.authoring&&(c.startCollapsed=!1);c.class_name+=b.parameters.config.border?"":" no-border";$.each(b.elements,
function(){"panelHeader"==this.elementtype?c.header.element=this:"panelFooter"==this.elementtype?c.footer.element=this:c.elements.push(this)});b.parameters.config.collapseable&&b.parameters.config.show_accordion_controls&&(c.class_name+=" show_accordion_controls");c.startCollapsed||(c.class_name+=" expanded");b.parameters.config.padded||(c.class_name+=" no-padding");b.parameters.config.square&&(c.class_name+=" square");b.isContentContainer&&(c.class_name+=" content-container-panel");return c},template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv class\x3d"panel {{class_name}} {{outline.parameters.config.size}}"\x3e\x3cdiv class\x3d"panel-heading clearfix {{#unless header.enabled}}hidden{{/unless}}" id\x3d"{{outline.elementid}}_panel_header"\x3e\x3ch3 class\x3d"panel-title"\x3e\x3ca tabindex\x3d"1"{{#if outline.parameters.config.collapseable}}role\x3d"button" data-toggle\x3d"collapse" data-parent\x3d"#{{outline.elementid}}_wrapper" href\x3d"#{{outline.elementid}}_panel_collapse" aria-expanded\x3d"true" aria-controls\x3d"{{outline.elementid}}_panel_collapse"{{/if}}\x3e\x3ci class\x3d"fa left {{header.iconLeft}}"\x3e\x3c/i\x3e{{\x3e element outline\x3dheader.element scope\x3dscope}}\x3ci class\x3d"fa right {{header.iconRight}}"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/h3\x3e\x3c/div\x3e{{#if outline.parameters.config.collapseable}}\x3cdiv id\x3d"{{outline.elementid}}_panel_collapse" class\x3d"panel-collapse collapse {{#unless startCollapsed}}in{{/unless}}"\x3e{{/if}}{{#unless renderEnv.responsive}}\x3cdiv style\x3d"width:100%;height:100%;overflow-y:auto;backface-visibility:hidden; position:relative;"\x3e{{/unless}}\x3cdiv class\x3d"panel-body clearfix {{BgClassName outline.parameters.background}} {{#if outline.isContentContainer}}content-container-panel-body{{/if}}" style\x3d"{{\x3eelement_backgroundCSSString outline}}"\x3e{{#each this.elements}}{{\x3e element outline\x3dthis scope\x3d../scope}}{{/each}}\x3c/div\x3e{{#unless renderEnv.responsive}}\x3c/div\x3e{{/unless}}{{#if outline.parameters.config.collapseable}}\x3c/div\x3e{{/if}}\x3cdiv class\x3d"panel-footer clearfix {{#unless footer.enabled}}hidden{{/unless}}"\x3e{{\x3e element outline\x3dfooter.element scope\x3dscope}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')};
var ga={format:l,template:Handlebars.compile('\x3c{{outline.parameters.config.tag_name}} class\x3d"{{element_contentClass this}} clearfix placeholder-type-{{outline.parameters.placeholder.type}} {{outline.parameters.config.root_class}}"id\x3d"content_{{outline.id}}"\x3e\x3c/{{outline.parameters.config.tag_name}}\x3e')},ba={format:function(b,c){b=DKI.clone(b.parameters.config);b.style=c.renderEnv.authoring?b.dim+":50%":b.dim+":0%";return b},template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv class\x3d"progress {{progClass}} {{barClass}}" data-max\x3d{{max}} data-current\x3d{{current}} data-variable-name\x3d{{variable_name}}\x3e\x3cdiv class\x3d"progress-bar {{barClass}}{{#if striped}} progress-bar-striped{{/if}} {{#if animated}} active{{/if}}" role\x3d"progressbar" aria-valuenow\x3d"0" aria-valuemax\x3d"100" style\x3d"{{style}}"\x3e\x3cspan class\x3d"progress-bar-display {{#unless show_percent}}hidden{{/unless}}"\x3e{{#if renderEnv.authoring}}50%{{/if}}\x3c/span\x3e\x3cspan class\x3d"sr-only"\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')},
qa={format:function(b){b=DKI.clone(b.parameters.config);b.textClass=b.showText?b.textClass:"hidden";b.iconClass=b.showIcon?b.iconClass:"hidden";b.image=b.showBgImage&&b.elements_assets[0]?b.elements_assets[0]:"";"hidden"==b.textClass&&b.showIcon?b.iconClass+=" full":""==b.iconClass&&b.showIcon&&(b.icon="%");return b},template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv class\x3d"{{style}} dki-radialgauge radial {{gaugeColor}} {{gaugeThickness}}" data-variable-name\x3d"{{variable_name}}" data-max\x3d"{{max}}" data-current\x3d"{{current}}"\x3e\x3cdiv class\x3d"overlay" style\x3d"{{#if showBgImage}}background-image:url(\'{{getAssetUrl id\x3dimage.uploadid folderId\x3dimage.uploadfolderid extension\x3dimage.extention}}\'){{/if}}"\x3e\x3cspan tabindex\x3d"1" class\x3d"dki-element-progressBar"\x3e\x3cdiv class\x3d"text dki-element-text {{textClass}}" {{#ifEq textClass \'hidden\'}}aria-hidden\x3d"true"{{/ifEq}}\x3e\x3c/div\x3e\x3ci class\x3d"{{iconClass}}" aria-hidden\x3d"true"\x3e{{icon}}\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"mask full"\x3e\x3cdiv class\x3d"fill"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"mask half"\x3e\x3cdiv class\x3d"fill"\x3e\x3c/div\x3e\x3cdiv class\x3d"fill fix"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')},
ma={templates:{bs:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv class\x3d"{{fullCls}}" data-toggle\x3d"buttons"\x3e{{#each items}}\x3clabel for\x3d"{{this.id}}_radio" class\x3d"{{../lablCls}}" data-index\x3d"{{arith @index \'+\' 1}}"\x3e\x3cinput class\x3d"{{../iCls}}" id\x3d"{{this.id}}_radio" type\x3d"radio" value \x3d"{{arith @index \'+\' 1}}" name\x3d"{{../id}}_radio" autocomplete\x3d"off"\x3e{{\x3eelement outline\x3dthis scope\x3d../scope}}\x3c/label\x3e{{/each}}\x3c/div\x3e\x3c/div\x3e'),
standard:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv class\x3d"{{fullCls}}"\x3e{{#each items}}\x3cinput id\x3d"{{this.id}}_radio" type\x3d"radio" value \x3d"{{arith @index \'+\' 1}}" name\x3d"{{../id}}_radio" autocomplete\x3d"off"\x3e\x3clabel for\x3d"{{this.id}}_radio" class\x3d"{{../lablCls}}" data-index\x3d"{{arith @index \'+\' 1}}"\x3e{{\x3eelement outline\x3dthis scope\x3d../scope}}\x3ca\x3e\x3c/a\x3e\x3c/label\x3e{{/each}}\x3c/div\x3e\x3c/div\x3e')},
format:function(b){var c=DKI.clone(b.parameters.config);c.items=b.elements;c.items.sort(function(b,c){return b.elementno-c.elementno});c.id=b.id;c.def=c.items[0];DKI.applyIf(c,{inpCls:"",lablCls:"",contCls:"",template:h.renderConfig.radioGroup.templates[c.type]});var k=c.contCls;c.response&&(k+=" "+c.response);c.fullCls=k+" "+c.cls;"bs"==c.type&&(c.lablCls="btn "+c.cls.replace("radio-","btn-"));b.parameters.config.vertical&&(c.lablCls+=" clearfix");c.fullCls=c.justified?c.vertical?c.fullCls+" fullWidth":
c.fullCls+("bs"==c.type?" btn-group-justified":" justified"):c.fullCls+" clearfix";return c},template:function(b){return b.template(b)}},La={template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv class\x3d"btn-group"\x3e{{#each items}}{{#if @first}}\x3cbutton class\x3d"btn {{../cls}}{{#unless ../split.enabled}}  dropdown-toggle" type\x3d"button" id\x3d"{{../id}}" data-toggle\x3d"dropdown" aria-haspopup\x3d"menu"\x3e{{else}}" data-toggle\x3d"dropdown"\x3e{{/unless}}\x3cspan class\x3d"selectedCont"\x3e{{{this}}}\x3c/span\x3e{{#unless ../split.enabled}}\x3cspan class\x3d"caret"\x3e\x3c/span\x3e\x3c/button\x3e{{else}}\x3c/button\x3e\x3cbutton type\x3d"button"class\x3d"btn {{../split.cls}} dropdown-toggle selectionSplit" data-toggle\x3d"dropdown" aria-haspopup\x3d"true" aria-expanded-"false"\x3e\x26nbsp;\x3cspan class\x3d"caret"\x3e\x3c/span\x3e\x3c/button\x3e{{/unless}}\x3cul class\x3d"dropdown-menu" aria-labelledby\x3d"{{../id}}"\x3e{{/if}}\x3cli\x3e\x3ca data-val\x3d"{{arith @index \'+\' 1}}"href\x3d"javascript:void(0)"\x3e{{{this}}}\x3c/a\x3e\x3c/li\x3e{{/each}}\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e'),
format:function(b){var k=DKI.clone(b.parameters.config);k.items=[];$.each(b.elements,function(b,h){k.iconsEnabled?k.items.push("\x3ci class\x3d'fa fa-"+h.parameters.config.icon+'\'\x3e\x3c/i\x3e \x3cspan class\x3d"list-item-text"\x3e'+c.parseElementDataImagesInMeta(h)+"\x3c/span\x3e"):k.items.push('\x3cspan class\x3d"list-item-text"\x3e'+c.parseElementDataImagesInMeta(h)+"\x3c/span\x3e")});k.id=b.id;k.def=k.items[0];k.transparent&&(k.cls+=" btn_transparent",k.split.cls+=" btn_transparent");k.split.enabled&&
(k.cls+=" btn_transparent");return k}},ua={format:l,template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} {{outline.parameters.background.stroke_class_name}} {{#if outline.parameters.config.roundedCorners}}rounded{{/if}} {{outline.parameters.config.class_name}}"\x3e\x3cdiv class\x3d\'shape-wrapper shape-type-{{outline.parameters.config.type}}\'\x3e\x3cdiv class\x3d"custom-shape-fill" style\x3d"{{#ifEq outline.parameters.config.class_name \'advanced\'}}{{outline.parameters.config.backgroundCSS}} {{/ifEq}}"\x3e\x3c/div\x3e\x3cdiv class\x3d"shape"\x3e{{{outline.meta}}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')},
Ea={format:l,template:Handlebars.compile("\x3cdiv id\x3d\"content_{{outline.id}}\" class\x3d\"{{element_contentClass this}} {{outline.parameters.background.stroke_class_name}}\"\x3e\x3cdiv class\x3d'dki-element-text  {{courseStyles outline}}' data-prop\x3d'txt'\x3e{{{outline.txt}}}\x3c/div\x3e\x3cdiv class\x3d'shape'\x3e{{{outline.meta}}}\x3c/div\x3e\x3c/div\x3e")},ra={format:function(b){return DKI.clone(b.parameters.config)},template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv class\x3d"{{noUISlider.orientation}} {{track}}-track {{handle}}-handle  {{cls}}"\x3e\x3cdiv class\x3d"slider {{#if pipValues}}values{{/if}}" data-variable-id\x3d"{{variable_name}}"\x3e\x3c/div\x3e\x3cdiv class\x3d"hidden sliderLabel"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')},
P={format:l,template:Handlebars.compile('\x3cdiv class\x3d"{{element_contentClass this}}"style\x3d"height:{{outline.height}}px;width:100%;"id\x3d"content_{{outline.id}}"\x3e\x3c/div\x3e')},w={format:l,template:Handlebars.compile('\x3cdiv class\x3d"{{element_contentClass this}} speech-bubble {{#if outline.parameters.config.bordered}}bordered{{/if}} {{#if outline.parameters.config.rounded}}round{{/if}} {{outline.parameters.config.shape}} {{outline.parameters.config.direction}} {{BgClassName outline.parameters.background}}"  style\x3d"{{\x3eelement_backgroundCSSString outline}}"id\x3d"content_{{outline.id}}"\x3e\x3cdiv class\x3d"dki-element-text"\x3e{{{element_htmMeta this}}}\x3c/div\x3e\x3c/div\x3e')},
cb={format:l,template:Handlebars.compile('{{\x3eelementOverlay}}\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e{{element_svg_setMeta outline}}\x3c/div\x3e')},Ya={format:l,template:Handlebars.compile('{{#unless renderEnv.export}}{{#unless renderEnv.full}}{{#unless renderEnv.single}}\x3cdiv class\x3d"dki-media-overlay htm-overlay"\x3e\x3c/div\x3e{{/unless}}{{/unless}}{{/unless}}\x3cdiv style\x3d"{{#if renderEnv.responsive}}min-height:inherit;{{/if}}{{outline.cssstyle}}"id\x3d"content_{{outline.id}}"class\x3d"{{element_contentClass this}}"{{#if outline.txt}}title\x3d"{{outline.txt}}{{/if}}\x3e\x3cdiv class\x3d"dki-element-text"\x3e{{{element_htmMeta this}}}\x3c/div\x3e\x3c/div\x3e')},
la;Handlebars.registerPartial("tabset-tabs",'\x3cul aria-orientation\x3d"{{outline.parameters.config.orientation}}" class\x3d"nav responsive {{tabsetClasses.list}}" id\x3d"{{elid}}" role\x3d"tablist"\x3e{{#each elements.tabs}}{{\x3e renderTabsetTab element\x3dthis index\x3d@index startUnopened\x3d../cfg.startUnopened scope\x3d../scope parentOutline\x3d../outline}}{{/each}}{{#if renderEnv.authoring}}\x3cli class\x3d"tabset-add"\x3e\x3ca class\x3d\'clearfix\' tabindex\x3d"1" data-id\x3d"tabset-add" data-toggle\x3d"tab" href\x3d"_blank"\x3e\x3cspan\x3e+\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e{{/if}}\x3c/ul\x3e');
Handlebars.registerPartial("tabset-content",'\x3cdiv class\x3d"tab-content responsive {{tabsetClasses.content}}" data-for\x3d"{{elid}}"\x3e{{#each elements.content}}{{\x3e renderTabsetTabContent element\x3dthis index\x3d@index startUnopened\x3d../cfg.startUnopened  scope\x3d../scope parentOutline\x3d../outline}}{{/each}}\x3c/div\x3e');la=Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv class\x3d"tabbable {{tabsetClasses.core}} {{outline.parameters.config.colour}} {{outline.parameters.config.opacity}} clearfix"\x3e{{#if contentFirst}}{{\x3e tabset-content}}{{\x3e tabset-tabs}}{{else}}{{\x3e tabset-tabs}}{{\x3e tabset-content}}{{/if}}\x3c/div\x3e\x3c/div\x3e');
this.renderConfig={audio:m,authoringButton:p,btn:n,callout:u,capture:k,contentCarousel:q,control:v,flash:y,flipCard:z,flashCardSet:A,flipCardSet:r,tileCard:B,hotspot:C,matchCardSet:x,scenario:D,categoryCards:F,dropTarget:E,htm:G,html:K,iframe:I,image:J,imageGallery:L,imageMap:M,multipleChoiceQuestion:H,trueFalseQuestion:aa,multiplePulldownQuestion:ca,fillInTheBlanksQuestion:T,clickTheWordQuestion:U,dragTheWordQuestion:Q,questionOption:X,input:O,jumbotron:N,label:V,likedislike:fa,list:W,icon:Z,marker:S,
option:ja,panel:ia,placeholder:ga,progress:ba,radialGauge:qa,radioGroup:ma,selection:La,shape:ua,svg:Ea,slider:ra,spacer:P,speechBubble:w,SVG:cb,tab:Ya,tabset:{format:function(b){var c={elements:{tabs:[],content:[]},cfg:b.parameters.config,elid:b.id},k=!("rectangle"==b.parameters.config.custom_style||"square"==b.parameters.config.custom_style||"folder"==b.parameters.config.custom_style);b.elements.sort(function(b,c){return b.elementno-c.elementno});for(var h=0;h<b.elements.length;h++)"tab"==b.elements[h].elementtype&&
(c.elements.tabs.push(b.elements[h]),c.elements.content.push({parentId:b.id,elements:b.elements[h].elements}));c.tabsetClasses={list:b.parameters.config.style,content:"",tabset:"",core:b.parameters.config.custom_style};switch(c.cfg.orientation){case "vertical":k=12-c.cfg.verticalTabWidth;c.tabsetClasses.list+=" dki-vpMaxHeight-"+c.cfg.verticalMaxHeight+" nav-stacked col-xs-"+c.cfg.verticalTabWidth;c.tabsetClasses.content+=" col-xs-"+k;c.tabsetClasses.core+=" tabs-left";k=!1;break;case "vertical-right":k=
c.cfg.verticalTabWidth;c.tabsetClasses.list+=" dki-vpMaxHeight-100 nav-stacked col-xs-"+(12-c.cfg.verticalTabWidth);c.tabsetClasses.content+=" col-xs-"+k;c.tabsetClasses.core+=" tabs-right";k=!1;break;case "horizontal-bottom":c.tabsetClasses.core+=" tabs-below",c.contentFirst=!0}k&&b.parameters.config.justified&&(c.tabsetClasses.list+=" nav-justified");c.cfg.show_accordion_controls&&(c.tabsetClasses.core+=" show_accordion_controls");return c},template:la},textbox:{format:l,template:Handlebars.compile('{{#unless renderEnv.export}}{{#unless renderEnv.full}}{{#unless renderEnv.single}}\x3cdiv class\x3d"dki-media-overlay htm-overlay"\x3e\x3c/div\x3e{{/unless}}{{/unless}}{{/unless}}\x3ctextarea style\x3d"display:block;height:100%;width:100%;" class\x3d"{{element_contentClass this}} form-control size_{{outline.parameters.config.size}}" id\x3d"content_{{outline.id}}"{{#unless renderEnv.authoring}} placeholder\x3d"{{outline.txt}}"{{/unless}}\x3e{{#unless renderEnv.export}}{{#unless renderEnv.full}}{{#unless renderEnv.single}}{{outline.txt}}{{/unless}}{{/unless}}{{/unless}}\x3c/textarea\x3e')},
timeline:{format:function(b){var c=DKI.clone(b.parameters.config);b.elements.sort(function(b,c){return b.elementno-c.elementno});c.nodes=b.elements;c.timeline=b;return c},template:function(){Handlebars.registerHelper("timelineNode_hasImage",function(b,c){return b.parameters.config.elements_assets&&0<b.parameters.config.elements_assets.length?c.fn(this):c.inverse(this)});return Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3csection id\x3d"{{timeline.id}}_timeline" class\x3d"{{response}}"\x3e{{#each nodes}}\x3cdiv class\x3d"cd-timeline-block"\x3e\x3cdiv class\x3d"cd-timeline-img {{#if ../this.outline.parameters.config.enableEntrance}}is-hidden {{/if}}{{this.parameters.config.nodeCls}}"\x3e{{\x3eelement outline\x3dthis scope\x3d../scope}}\x3c/div\x3e\x3cdiv class\x3d"cd-timeline-content {{#if ../useBS}}panel panel-default {{/if}}{{#if ../this.outline.parameters.config.enableEntrance}}is-hidden{{/if}}"\x3e\x3cdiv class\x3d"elementContainer"\x3e{{#each this.elements}}{{\x3eelement outline\x3dthis scope\x3d../../scope}}{{/each}}\x3c/div\x3e\x3cspan class\x3d"cd-date"\x3e{{{this.meta}}}\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e{{/each}}\x3cdiv class\x3d"cd-timeline-block add"\x3e\x3cdiv class\x3d"cd-timeline-img"\x3e\x3cdiv\x3e\x3ci class\x3d"fa fa-plus"\x3e\x3c/i\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"cd-timeline-content"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/section\x3e\x3c/div\x3e')}()},
timelineNode:{format:l,template:Handlebars.compile('{{#timelineNode_hasImage outline}}\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} img"style\x3d"{{#getArrayPos outline.parameters.config.elements_assets 0}} background-image:url(\'{{getAssetUrl id\x3dthis.uploadid folderId\x3dthis.uploadfolderid extension\x3dthis.extention}}\');{{/getArrayPos}}"\x3e\x3c/div\x3e{{else}}\x3ci id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} {{outline.parameters.config.icon}}"\x3e\x3c/i\x3e{{/timelineNode_hasImage}}')},
timer:{format:function(b){return DKI.clone(b.parameters.config)},template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}" data-variable-id\x3d\'{{variable_name}}\'\x3e\x3c/div\x3e')},toggle:{templates:{basic:Handlebars.compile('{{#unless renderEnv.export}}{{#unless renderEnv.full}}{{#unless renderEnv.single}}\x3cdiv class\x3d"dki-media-overlay htm-overlay"\x3e\x3c/div\x3e{{/unless}}{{/unless}}{{/unless}}\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cinput class\x3d"{{inputCls}}" id\x3d"cb_{{id}}" type\x3d"checkbox"\x3e\x3clabel class\x3d"{{labelCls}}" for\x3d"cb_{{id}}" aria-label\x3d"{{{accessibilityText}}}" {{\x3e dataToggle}}\x3e\x3cdiv class\x3d"dki-element-text"\x3e{{{meta}}}\x3c/div\x3e\x3c/label\x3e\x3c/div\x3e'),
swtch:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cspan class\x3d"tgl-container"\x3e\x3cinput type\x3d"checkbox"\x3e\x3clabel {{\x3e dataToggle}}\x3e\x3c/label\x3e\x3cdiv class\x3d"dki-element-text"\x3e{{{meta}}}\x3c/div\x3e\x3c/span\x3e\x3c/div\x3e')},format:function(b){var c={light:{inputCls:"tgl tgl-light",labelCls:"tgl-btn",template:h.renderConfig.toggle.templates.basic},iOS7:{inputCls:"tgl tgl-ios",labelCls:"tgl-btn",template:h.renderConfig.toggle.templates.basic},
skewed:{inputCls:"tgl tgl-skewed",labelCls:"tgl-btn",template:h.renderConfig.toggle.templates.basic},flat:{inputCls:"tgl tgl-flat",labelCls:"tgl-btn",template:h.renderConfig.toggle.templates.basic},flip:{inputCls:"tgl tgl-flip",labelCls:"tgl-btn",template:h.renderConfig.toggle.templates.basic},checkBox:{template:h.renderConfig.toggle.templates.basic,inputCls:"check"},checkBoxDark:{template:h.renderConfig.toggle.templates.basic,inputCls:"check dark"},checkBoxRound:{template:h.renderConfig.toggle.templates.basic,
inputCls:"check round"},checkBoxRoundDark:{template:h.renderConfig.toggle.templates.basic,inputCls:"check roundDark"},checkBoxRadio:{template:h.renderConfig.toggle.templates.basic,inputCls:"check radio"},"switch":{template:h.renderConfig.toggle.templates.swtch}}[b.parameters.config.type];c.id=b.id;c.meta=b.meta;c.accessibilityText=c.meta||b.parameters.accessibility.text;c.accessibilityText=c.accessibilityText.replace(/"/g,"\x26quot;");DKI.applyIf(c,b.parameters.config);return c},template:function(b){return b.template(b)}},
video:{format:l,template:Handlebars.compile('{{#if forTemplate}}{{\x3emultimedia_forEdit}}{{else if renderEnv.document}}{{element_forDocument outline}}{{else}}{{#if renderEnv.authoring}}\x3cdiv class\x3d\'edit-fan-btn\' style\x3d\'z-index:2000\' title\x3d\'Swap this video out with another from the media library.\'\x3e\x3cdiv class\x3d\'icon16 swap\'\x3e\x3c/div\x3e\x3c/div\x3e{{/if}}\x3cdiv style\x3d"width:100%;height:100%;{{#if renderEnv.responsive}}min-width:{{outline.parameters.responsive.minWidth}}px;min-height:{{outline.parameters.responsive.minHeight}}px;{{/if}}" data-elementtype\x3d"{{outline.elementtype}}" class\x3d"dki-video-content-element {{element_contentClass this}}" id\x3d"content_{{outline.id}}" data-src\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension outline\x3doutline}}" data-width\x3d"{{outline.width}}" data-height\x3d"{{outline.height}}" data-assetWidth\x3d"{{outline.asset_width}}" data-assetHeight\x3d"{{outline.asset_height}}" data-extension\x3d"{{outline.asset_extension}}" data-vimeo-id\x3d"{{outline.asset_parameters.vimeo.id}}" data-vimeo-src\x3d"{{outline.asset_parameters.vimeo.src}}"{{#element_multimedia_hasPlayerControl this \'autohidecontrols\'}}{{else}} data-controls\x3d"true"{{/element_multimedia_hasPlayerControl}}{{#element_multimedia_hasPlayerControl this \'autoplay\'}} data-autoplay\x3d"true"{{/element_multimedia_hasPlayerControl}}{{#element_multimedia_hasPlayerControl this \'loop\'}} data-loop\x3d"true"{{/element_multimedia_hasPlayerControl}}{{#element_multimedia_hasPlayerControl this \'allowfullscreen\'}} data-allowFullScreen\x3d"true"{{else}} data-allowFullScreen\x3d"false"{{/element_multimedia_hasPlayerControl}}{{#if outline.asset_has_poster}}data-poster\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension poster\x3dtrue}}"{{/if}}{{#if outline.parameters.config.allowUpscale}}data-allowupscale\x3d"true"{{/if}}\x3e\x3ca class\x3d"dki-media-link" style\x3d"width:100%;height:100%;" href\x3d"{{#if renderEnv.authoring}}{{else}}{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension outline\x3doutline}}{{/if}}" target\x3d"_blank"\x3e\x3cdiv class\x3d"dki-media-placeholder{{#if outline.asset_has_poster}} hasPoster{{/if}}" style\x3d"width:100%;height:100%;{{#if outline.asset_has_poster}}background-image: url(\'{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension poster\x3dtrue }}{{/if}}\');"\x3e\x3c/div\x3e\x3c/a\x3e{{#if renderEnv.authoring}}\x3cdiv class\x3d"video-play-head" data-id\x3d"{{outline.id}}"\x3e\x3c/div\x3e{{#unless outline.asset_has_poster}}\x3cdiv class\x3d"video-poster-message"\x3e{{#ifEq outline.elementtype \'mediastream\'}}{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension outline\x3doutline}}{{/ifEq}}{{#ifEq outline.elementtype \'video\'}}This video does not have a poster image.\x3cbr/\x3eAdd a poster to it by editing the video properties.{{/ifEq}}\x3c/div\x3e{{/unless}}{{/if}}\x3c/div\x3e{{/if}}')},
videoembed:{format:l,template:Handlebars.compile('{{#if renderEnv.template}}{{\x3eelement_forTemplate}}{{else if renderEnv.document}}{{element_forDocument outline}}{{else}}{{#unless renderEnv.export}}{{#unless renderEnv.full}}{{#unless renderEnv.single}}\x3cdiv class\x3d"dki-media-overlay htm-overlay"\x3e\x3c/div\x3e{{/unless}}{{/unless}}{{/unless}}\x3cdiv style\x3d"{{#if outline.parameters.overflow}}height:100%;{{/if}}{{#if outline.parameters.textStyles.lineHeight}}line-height:{{outline.parameters.textStyles.lineHeight}};{{/if}}{{#if outline.parameters.textStyles.fontSize}}font-size:{{outline.parameters.textStyles.fontSize}};{{/if}}{{element_videoEmbedStyle this}}" id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"{{#if outline.txt}}title\x3d"{{outline.txt}}{{/if}}\x3e{{#ifEq outline.meta2 \'dynamic\'}}\x3ciframe src\x3d"about:blank;" data-src\x3d"{{element_videoEmbedURL this}}" style\x3d"border:none;height:{{outline.height}}px;width:{{#if renderEnv.responsive}}100%;{{else}}{{outline.width}}px;"{{/if}}" frameborder\x3d"0"\x3e\x3c/iframe\x3e{{else}}{{{outline.meta}}}{{/ifEq}}\x3c/div\x3e{{/if}}')},
videoPlaylist:{format:$.proxy(function(b){var c=DKI.clone(b.parameters.config);c.strings={autoPlay:"auto play",skipToContent:this.state.strings?this.state.strings.index.skipToContent:"Skip to Content",skipToNavigation:this.state.strings?this.state.strings.index.skipToNavigation:"Skip to Navigation"};$.each(b.elements,function(){this.thumb="";var c=this.parameters.config.duration||0,k=DKI.utility.timeFunctions?DKI.utility.timeFunctions.convertMsToTime(c):DKI.utility.millisecondsToTime(c);this.duration=
c?k.h?k.h+"h":k.m?k.m+"m":k.s+"s":"";switch(b.parameters.config.type){case "youtubeEmbed":case "vimeoEmbed":this.thumb=this.parameters.config.thumbnail_url;this.vidId=this.parameters.config.id;break;default:this.vidId=this.id}});return c},this),template:Handlebars.compile("\x3cdiv id\x3d\"content_{{outline.id}}\" class\x3d\"{{element_contentClass this}} flex{{#unless outline.parameters.config.showDescription}} noDesc{{/unless}}{{#unless outline.parameters.config.showTime}} noTime{{/unless}}{{#unless outline.parameters.config.showThumbnail}} noThumb{{/unless}} {{outline.parameters.config.response}}\" data-variable-id\x3d'{{variable_name}}'\x3e\x3cdiv class\x3d'dragD'\x3e\x3c/div\x3e\x3cdiv class\x3d'videoContainer flexAuto'\x3e\x3ch3 class\x3d'flex'\x3e\x3cspan class\x3d'vidTitle flexAuto'\x3e\x3c/span\x3e \x3ci class\x3d'fa vp-collapse h fa-chevron-right'\x3e\x3c/i\x3e\x3c/h3\x3e\x3cdiv class\x3d'vidWrapper'\x3e\x3c/div\x3e\x3ci class\x3d'fa vp-collapse v fa-chevron-up'\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d'menu flex flexCol'\x3e\x3cdiv class\x3d'controls'\x3e\x3ci class\x3d'close-menu'\x3e\x3c/i\x3e\x3cdiv class\x3d'autoPlay'\x3e\x3cspan\x3e{{strings.autoPlay}}\x3c/span\x3e\x3cspan style\x3d'margin-left : 10px;'\x3e\x3cinput class\x3d'tgl tgl-light' type\x3d'checkbox' id\x3d'autoplay_{{outline.id}}' {{#if outline.parameters.config.autoPlay}}checked{{/if}}/\x3e\x3clabel tabindex\x3d\"1\" class\x3d'tgl-btn' for\x3d'autoplay_{{outline.id}}'\x3e\x3cspan class\x3d\"sr-only\"\x3e{{strings.autoPlay}}\x3c/span\x3e\x3c/label\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3cul class\x3d'flexAuto'\x3e{{#each outline.elements}}\x3cli role\x3d'button' tabindex\x3d'1' data-id\x3d'{{this.id}}' aria-labeledby\x3d'title_{{this.id}}'\x3e\x3cdiv class\x3d'videoInfo flex'\x3e\x3cdiv class\x3d'videoThumb' style\x3d\"background-image:url('{{thumb}}')\"\x3e\x3cspan class\x3d'completion' style\x3d'position: relative; width: 20px height:20px;'\x3e\x3cdiv class\x3d'gauge notSeen'\x3e\x3cdiv class\x3d\"overlay\" style\x3d\"\"\x3e\x3ci class\x3d\"fa fa-play\"\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d\"mask full\"\x3e\x3cdiv class\x3d\"fill\"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d\"mask half\"\x3e\x3cdiv class\x3d\"fill\"\x3e\x3c/div\x3e\x3cdiv class\x3d\"fill fix\"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/span\x3e\x3cspan class\x3d'videoTime'\x3e{{duration}}\x3c/span\x3e\x3cdiv class\x3d'progress completion-bar'\x3e\x3cdiv class\x3d'progress-bar'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'videoInfo flexAuto'\x3e\x3cdiv id\x3d'title_{{this.id}}' class\x3d'videoTitle'\x3e{{this.title}}\x3c/div\x3e\x3cdiv class\x3d'videoDesc flexAuto'\x3e{{{this.description}}}\x3c/div\x3e\x3c/div\x3e\x3c/li\x3e{{/each}}\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e")},
zoomRegion:{format:l,template:Handlebars.compile('{{\x3eelementOverlay}}\x3cdiv style\x3d"{{outline.cssstyle}}display:inline-block;width:100%;height:100%;" id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"{{#if outline.txt}}title\x3d"{{outline.txt}}"{{/if}}\x3e\x3c/div\x3e')},matchingQuestion:{format:$.proxy(function(b){for(var c={items:[],categories:[],cardContentTemplate:this.renderConfig[b.elementtype].cardContentTemplate,outline:b,strings:{itemsLabel:this.state.strings?this.state.strings.doc["Drag table items header"]:
"Items"},submit:this.state.strings?this.state.strings.runtime.buttonLabelSubmit:"Submit",tryAgain:this.state.strings?this.state.strings.runtime.testTryAgain:"Try Again"},k=0;k<b.elements.length;k++)c["matchingQuestionCategory"===b.elements[k].elementtype?"categories":"items"].push(b.elements[k]);return c},this),cardContentTemplate:Handlebars.compile('{{#if cardEl.upload_id}}\x3cdiv class\x3d"content_wrapper img aspect-ratio {{ratio}}"\x3e\x3cdiv class\x3d"content flex justify-center align-items-center"\x3e\x3cimg class\x3d"flex nogrow" src\x3d"{{getAssetUrl id\x3dcardEl.upload_id folderId\x3dcardEl.asset_uploadfolderid extension\x3dcardEl.asset_extension}}" alt\x3d"{{cardEl.asset_description}}"/\x3e\x3c/div\x3e{{else}}\x3cdiv class\x3d"content_wrapper aspect-ratio {{ratio}}"\x3e\x3cdiv class\x3d"content"\x3e{{{cardEl.meta}}}\x3c/div\x3e{{/if}}\x3c/div\x3e'),
template:Handlebars.compile('{{#if renderEnv.authoring}}\x3cdiv class\x3d"dki-media-overlay htm-overlay" style\x3d\'z-index:2000;\'\x3e\x3c/div\x3e{{/if}}\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} {{#if outline.parameters.config.spaceTextLikeElements}}spaced-like-elements{{/if}}"\x3e{{#if outline.meta}}\x3c{{outline.parameters.config.titleTag}} class\x3d"question-title" tabindex\x3d"1" \x3e{{{outline.meta}}}\x3c/{{outline.parameters.config.titleTag}}\x3e{{/if}}{{#if outline.txt}}\x3cdiv tabindex\x3d"1" class\x3d\'question-description\'\x3e{{{outline.txt}}}\x3c/div\x3e{{/if}}\x3cdiv class\x3d"items"\x3e\x3cdiv class\x3d"items_carousel" role\x3d"region"\x3e{{#each items}}\x3cdiv class\x3d"card_container flex justify-center"\x3e\x3cdiv class\x3d"card flex align-items-center" data-id\x3d"{{this.id}}" data-dragdropid\x3d"{{this.dragdrop_id}}" \x3e\x3cspan class\x3d"item_num flex align-items-center justify-center" id\x3d"{{this.id}}_label" \x3e{{arith @index \'+\' 1}}\x3c/span\x3e{{{runTemplate ../cardContentTemplate cardEl\x3dthis ratio\x3d../outline.parameters.config.cardShape}}}\x3c/div\x3e\x3c/div\x3e{{/each}}\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"categories flex wrap align-items-center justify-around"\x3e{{#each categories}}\x3cdiv class\x3d"category" data-id\x3d"{{this.id}}" tabindex\x3d"1"\x3e{{{runTemplate ../cardContentTemplate cardEl\x3dthis ratio\x3d../outline.parameters.config.cardShape}}}\x3cdiv class\x3d"category_items flex wrap"\x3e\x3cdiv class\x3d"sr-only"\x3e{{../strings.itemsLabel}}\x3c/div\x3e{{#each ../items}}\x3cdiv aria-hidden\x3d"true" class\x3d"category_item flex align-items-center justify-center" data-id\x3d"{{this.dragdrop_id}}"\x3e{{arith @index \'+\' 1}}\x3c/div\x3e{{/each}}\x3c/div\x3e\x3c/div\x3e{{/each}}\x3c/div\x3e\x3cdiv class\x3d\'feedback reverse\' id\x3d\'feedback_{{outline.id}}\'\x3e\x3c/div\x3e\x3cdiv class\x3d"question-submit-wrapper clearfix" style\x3d"text-align:center; padding:20px 0 10px 0;"\x3e\x3cdiv class\x3d"btn-primary btn submit pull-right" title\x3d"{{submit}}"\x3e{{submit}}\x3c/div\x3e\x3cdiv class\x3d"btn-default btn retake pull-right" title\x3d"{{tryAgain}}"\x3e{{tryAgain}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')},
sequencingQuestion:{format:$.proxy(function(b){var c={outline:b,items:this.state.renderEnvironment.authoring?b.elements:this.state.utility.shuffle(b.elements.concat([])),cardContentTemplate:this.renderConfig[b.elementtype].cardContentTemplate,submit:this.state.strings?this.state.strings.runtime.buttonLabelSubmit:"Submit",tryAgain:this.state.strings?this.state.strings.runtime.testTryAgain:"Try Again"};"vertical"==b.parameters.config.layout&&(c.cardContentTemplate=this.renderConfig[b.elementtype].verticalContentTemplate);
return c},this),cardContentTemplate:Handlebars.compile('{{#if cardEl.upload_id}}\x3cdiv class\x3d"content_wrapper img aspect-ratio {{ratio}}"\x3e\x3cdiv class\x3d"content flex wrap align-items-center justify-center"\x3e\x3cimg class\x3d"flex nogrow" src\x3d"{{getAssetUrl id\x3dcardEl.upload_id folderId\x3dcardEl.asset_uploadfolderid extension\x3dcardEl.asset_extension}}" alt\x3d"{{cardEl.asset_description}}"/\x3e\x3c/div\x3e\x3c/div\x3e{{#if cardEl.meta}}\x3cdiv class\x3d"caption"\x3e{{{cardEl.meta}}}\x3c/div\x3e{{/if}}{{else}}\x3cdiv class\x3d"content_wrapper aspect-ratio {{ratio}}"\x3e\x3cdiv class\x3d"content"\x3e{{{cardEl.meta}}}\x3c/div\x3e\x3c/div\x3e{{/if}}'),
verticalContentTemplate:Handlebars.compile('\x3cdiv class\x3d"content_wrapper flex align-items-start"\x3e{{#if cardEl.upload_id}}\x3cdiv class\x3d"img_container content"\x3e\x3cimg class\x3d"flex nogrow" src\x3d"{{getAssetUrl id\x3dcardEl.upload_id folderId\x3dcardEl.asset_uploadfolderid extension\x3dcardEl.asset_extension}}" alt\x3d"{{cardEl.asset_description}}"/\x3e\x3c/div\x3e{{/if}}\x3cdiv class\x3d"content grow"\x3e{{{cardEl.meta}}}\x3c/div\x3e\x3c/div\x3e'),template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} {{#if outline.parameters.config.spaceTextLikeElements}}spaced-like-elements{{/if}}"\x3e{{#if outline.meta}}\x3c{{outline.parameters.config.titleTag}} class\x3d"question-title" tabindex\x3d"1" \x3e{{{outline.meta}}}\x3c/{{outline.parameters.config.titleTag}}\x3e{{/if}}{{#if outline.txt}}\x3cdiv tabindex\x3d"1" class\x3d\'question-description\'\x3e{{{outline.txt}}}\x3c/div\x3e{{/if}}\x3cdiv class\x3d"items clearfix layout-{{outline.parameters.config.layout}} {{outline.parameters.config.cardSize}} "\x3e{{#each items}}\x3cdiv class\x3d"card_container {{#ifEq outline.parameters.config.layout \'card\'}}flex justify-center{{/ifEq}} {{#if this.upload_id}}img{{/if}}" data-id\x3d"{{this.id}}" tabindex\x3d"1"\x3e\x3cspan class\x3d"review_order flex align-items-center justify-center"\x3e\x3c/span\x3e\x3cdiv class\x3d"card"\x3e{{{runTemplate ../cardContentTemplate cardEl\x3dthis ratio\x3d../outline.parameters.config.cardShape}}}\x3c/div\x3e\x3c/div\x3e{{/each}}\x3c/div\x3e\x3cdiv class\x3d\'feedback reverse\' id\x3d\'feedback_{{outline.id}}\'\x3e\x3c/div\x3e\x3cdiv class\x3d"question-submit-wrapper clearfix" style\x3d"text-align:center; padding:20px 0 10px 0;"\x3e\x3cdiv class\x3d"btn-primary btn submit pull-right" title\x3d"{{submit}}"\x3e{{submit}}\x3c/div\x3e\x3cdiv class\x3d"btn-default btn retake pull-right" title\x3d"{{tryAgain}}"\x3e{{tryAgain}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')}};
this.renderConfig.header=this.renderConfig.htm;this.renderConfig.panelHeader=this.renderConfig.htm;this.renderConfig.panelFooter=this.renderConfig.htm;this.renderConfig.richText=this.renderConfig.htm;this.renderConfig.plainText=this.renderConfig.htm;this.renderConfig.radioButton=this.renderConfig.htm;this.renderConfig.tileCardTitle=this.renderConfig.htm;this.renderConfig.tileCardSubtitle=this.renderConfig.htm;this.renderConfig.questionOpening=this.renderConfig.richText;this.renderConfig.questionBody=
this.renderConfig.richText;this.renderConfig.table=this.renderConfig.richText;this.renderConfig.mediastream=this.renderConfig.video};DKI.RenderService.prototype.setEnvironment=function(b){DKI.apply(this.state.renderEnvironment,b)};
DKI.RenderService.prototype.renderContent=function(b,h){var c="";h=h?h:{};h.typeConfig=h.typeConfig?h.typeConfig:this.state.typeConfig[b.elementtype];if(rCfg=h.typeConfig.isQuestion?this.renderConfig.option:this.renderConfig[b.elementtype]){c=DKI.applyIf(rCfg.format(b,h),this.defaultArgs);c.scope=h;c.scope.renderRules||(c.scope=this.generateElementArguments(b,c.scope));c.outline=c.outline?c.outline:b;c.fromContentRender=!0;if(h.page&&h.page.groups)for(b=0;b<h.page.groups.length;b++){var l=h.page.groups[b];
if(l.elements)for(var m=0;m<l.elements.length;m++){var p=l.elements[m];"questionBody"==p.elementtype&&p.elementid&&(c.outline.questionBodyId=p.elementid)}}c=rCfg.template(c)}return c};DKI.RenderService.prototype.renderElement=function(b,h){h=DKI.applyIf(h,this.defaultArgs);return Handlebars.compile("{{\x3e element}}")(DKI.applyIf({outline:b,scope:h},this.defaultArgs))};
DKI.RenderService.prototype.renderGroups=function(b,h){h.content=this.sortGroupRowSections(b);h=DKI.applyIf(h,this.defaultArgs);return Handlebars.compile("{{\x3e groups}}")(DKI.applyIf(h,this.defaultArgs))};DKI.RenderService.prototype.renderPage=function(b,h,c,l){b=DKI.applyIf({page:b,course:h,content:this.sortGroupRowSections(b.groups),standalone:c,class_name:l?l:"page"},this.defaultArgs);return Handlebars.compile("{{\x3e page}}")(b)};
DKI.RenderService.prototype.generateGroupArguments=function(b,h){return DKI.applyIf({group:b,page:h.page},this.defaultArgs)};
DKI.RenderService.prototype.generateElementArguments=function(b,h,c,l){b=DKI.applyIf({element:b,typeConfig:this.state.typeConfig[b.elementtype],skipId:!1,forceVisibleInDocument:!0,page:h.page,elementFromQuestion:l,state:this.state},this.defaultArgs);b.forTemplate="undefined"===typeof c?b.renderEnv.template:c;b.element.asset_parameters&&"string"===typeof b.element.asset_parameters&&(b.element.asset_parameters=JSON.parse(b.element.asset_parameters));""!==b.element.csseffect&&"string"===typeof b.element.csseffect&&
(b.element.cssEffect=JSON.parse(b.element.csseffect));b.renderRules=b.typeConfig.renderRules.claro;if(b.renderEnv.responsive||b.element.parent_element_id)b.renderRules=b.typeConfig.renderRules.flow;b.renderEnv.document&&(b.renderRules=b.typeConfig.renderRules.document);if(b.typeConfig.isRichText||"plainText"==b.element.elementtype)b.tagName=b.element.parameters.config.tag_name&&""!=b.element.parameters.config.tag_name?b.element.parameters.config.tag_name:"div";b.renderEnv.single||"undefined"==typeof playerBehaviour||
!playerBehaviour.autoLinkGlossaries||b.element.autoLinkGlossaryTextParsed||(b.typeConfig.isRichText&&(b.element.meta=this.processElementTextForGlossaries(b.element.meta,b.element.pageid,"el_"+b.element.id),b.element.autoLinkGlossaryTextParsed=!0),"capture"==b.element.elementtype&&(b.element.asset_parameters=this.processCaptureTextForGlossaries(b.element.asset_parameters,b.element.pageid,b.element.id),b.element.autoLinkGlossaryTextParsed=!0));b.typeConfig.hasStackableElementElements&&$.each(b.element.elements,
function(){this.forcePosition=this.forceDimensions=!0});return b};
DKI.RenderService.prototype.registerPartials=function(){Handlebars.registerPartial("dataToggle",'data-off\x3d"{{offLabel}}" data-on\x3d"{{onLabel}}"');Handlebars.registerPartial("background","background-position:{{parameters.background.position.vertical}} {{parameters.background.position.horizontal}};background-repeat:{{parameters.background.repeat}};background-size:{{parameters.background.size}};background-attachment:{{parameters.background.attachment}};{{#if background_asset_id}}background-image:url('{{getAssetUrl id\x3dbackground_asset_id folderId\x3dbackground_asset_uploadfolderid extension\x3dbackground_asset_extension}}');{{/if}}");Handlebars.registerHelper("checkScope",
function(b){});Handlebars.registerPartial("element_getWrapperClass","{{#if element.parent_element_id}}dki-authoring-element-element {{else}}dki-authoring-element{{/if}} dki-{{element.elementtype}}-element{{#element_ifCanHaveDims}}{{else}} col-lg-{{element.parameters.responsive.layout.large.width}} col-md-{{element.parameters.responsive.layout.medium.width}} col-sm-{{element.parameters.responsive.layout.small.width}} col-xs-{{element.parameters.responsive.layout.xsmall.width}} col-lg-offset-{{element.parameters.responsive.layout.large.offset}} col-md-offset-{{element.parameters.responsive.layout.medium.offset}} col-sm-offset-{{element.parameters.responsive.layout.small.offset}} col-xs-offset-{{element.parameters.responsive.layout.xsmall.offset}}{{/element_ifCanHaveDims}}{{#if element.parameters.responsive.layout.large.hidden}} hidden-lg{{/if}}{{#if element.parameters.responsive.layout.medium.hidden}} hidden-md{{/if}}{{#if element.parameters.responsive.layout.small.hidden}} hidden-sm{{/if}}{{#if element.parameters.responsive.layout.xsmall.hidden}} hidden-xs{{/if}}{{#unless renderEnv.authoring}}{{#unless renderEnv.document}}{{#if element.renderhidden}} hiddenOnLoad{{/if}}{{/unless}}{{/unless}}{{#if renderEnv.document}}{{#if element.ignored_from_document_publish}}{{#unless forceVisibleInDocument}} hiddenOnLoad {{/unless}}{{/if}}{{/if}}{{#if element.parameters.hiddenUntilInView}} hiddenUntilInView {{/if}}{{#if renderEnv.authoring}}{{#if element.authoring_hidden}} authoring_hidden {{/if}}{{/if}}{{#ifEq element.elementtype 'audio'}}{{#if element.parameters.config.hideNarration}} hiddenNarration {{/if}}{{/ifEq}}{{#if element.parameters.config.hoverAnimation}} hoverAnimation_{{element.parameters.config.hoverAnimation}} {{/if}}{{#if element.parameters.config.disablePadding}} disablePadding {{/if}}{{#if element.parameters.config.disableClaroPadding}} disableClaroPadding {{/if}}{{#element_isQuestionElement element}} question-element question-option-style-{{element.parameters.config.style.type}} {{#if element.parameters.config.style.attached}} question-option-attached {{/if}} question-option-color-{{element.parameters.config.style.color}} {{/element_isQuestionElement}}{{#if element.locked}} locked {{/if}}{{#if element.parameters.config.upgraded}} upgraded {{/if}}{{#if element.parameters.config.content_spacing}} dk-spaced-content {{/if}}");
Handlebars.registerPartial("element_getDataAttributes",'data-id\x3d"{{element.id}}" data-type\x3d"{{element.elementtype}}" data-elementtype\x3d"{{element.elementtype}}" data-opacity\x3d"{{element.opacity}}" data-cssclass\x3d"" data-title\x3d"{{element.title}}" data-description\x3d"{{element.description}}" data-placeholderid\x3d"{{element.placeholderid}}" data-templateLayout\x3d"{{element.templatelayout}}" data-narration\x3d"{{element.narration}}" data-elementno\x3d"{{element.elementno}}" data-templatebuttonid\x3d"{{templatebutton_id}}" data-assetid\x3d"{{element.upload_id}}" data-multimedia\x3d"{{typeConfig.isMultimedia}}" data-groupid\x3d"{{element.group_id}}" data-ignoredfromdocumentpublish\x3d"{{element.ignored_from_document_publish}}" data-rotation\x3d"{{element.rotation}}" data-text\x3d"{{element.txt}}"{{#if typeConfig.isRichText}} data-isrichtext\x3d"true"{{else}}data-isrichtext\x3d"false"{{/if}}{{#if typeConfig.examinable}} data-examinable\x3d"true"{{else}}data-examinable\x3d"false"{{/if}}{{#if element.parent_element_id}} data-parent_element_id\x3d"{{element.parent_element_id}}"{{/if}}{{#if element.draggable}}data-is-draggable \x3d"true"{{#ifEq page.pagetype \'question\'}}{{else}} data-isquestionelement\x3d\'false\'{{/ifEq}}{{else}} data-is-draggable\x3d"false"{{/if}} data-dragdropid\x3d"{{element.dragdrop_id}}" data-draggable-revert\x3d"{{element.parameters.draggable.revert}}" data-draggable-constrain-x\x3d"{{element.parameters.draggable.constrainX}}" data-draggable-constrain-y\x3d"{{element.parameters.draggable.constrainY}}" data-draggable-bring-to-front\x3d"{{element.parameters.draggable.bringToFront}}"{{#if element.droppable}} data-is-droppable\x3d"true" data-droppable-snap-to-center\x3d"{{element.parameters.droppable.snapToCenter}}"{{#ifEq page.pagetype \'question\'}} data-isquestionelement\x3d"true"{{else}} data-isquestionelement\x3d"false"{{/ifEq}}{{else}} data-is-droppable\x3d"false"{{/if}}{{#ifNEq element.elementtype \'htm\'}} data-meta\x3d"{{element.meta}}"{{/ifNEq}} data-renderHidden\x3d"{{element.renderhidden}}" data-dontPause\x3d"{{element.dontpause}}" data-dontHide\x3d"{{element.donthide}}" data-locked\x3d"{{#if element.locked}}true{{else}}false{{/if}}"{{#ifEq element.elementtype \'shape\'}} data-shapeType\x3d"{{element.parameters.config.type}}"{{/ifEq}} data-shapeType\x3d"{{element.shapetype}}" data-csseffect\x3d"{{element.csseffect}}" data-height\x3d"{{element.height}}" data-width\x3d"{{element.width}}" data-x\x3d"{{element.x}}" data-y\x3d"{{element.y}}" data-backgroundassetid\x3d"{{element.background_asset_id}}" data-documentorder\x3d"{{element.document_order}}" data-disableAudio\x3d"{{element.parameters.config.disableAudio}}" data-textstyles-fontsize\x3d"{{element.parameters.textStyles.fontSize}}" data-textstyles-lineheight\x3d"{{element.parameters.textStyles.lineHeight}}" data-textstyles-classname\x3d"{{element.parameters.textStyles.className}}" data-responsive-alignment-vertical\x3d"{{element.parameters.responsive.vertical}}" data-responsive-alignment-horizontal\x3d"{{element.parameters.responsive.horizontal}}" data-margin-left\x3d"{{element.parameters.margin.left}}" data-margin-right\x3d"{{element.parameters.margin.right}}" data-margin-bottom\x3d"{{element.parameters.margin.bottom}}" data-margin-top\x3d"{{element.parameters.margin.top}}" data-padding-left\x3d"{{element.parameters.padding.left}}" data-padding-right\x3d"{{element.parameters.padding.right}}" data-padding-bottom\x3d"{{element.parameters.padding.bottom}}" data-padding-top\x3d"{{element.parameters.padding.top}}" data-background-color\x3d"{{element.parameters.background.color}}" data-background-position-horizontal\x3d"{{element.parameters.background.position.horizontal}}" data-background-position-vertical\x3d"{{element.parameters.background.position.vertical}}" data-background-repeat\x3d"{{element.parameters.background.repeat}}" data-background-size\x3d"{{element.parameters.background.size}}" data-border-top\x3d"{{element.parameters.border.top}}" data-border-left\x3d"{{element.parameters.border.left}}" data-border-bottom\x3d"{{element.parameters.border.bottom}}" data-border-right\x3d"{{element.parameters.border.right}}" data-border-radius\x3d"{{element.parameters.border.radius}}" data-accessibility-text\x3d"{{element.parameters.accessibility.text}}" data-accessibility-tabable\x3d"{{element.parameters.accessibility.tabable}}"{{#ifEq page.pagetype \'question\'}}{{element_getQuestionAtts this}}{{/ifEq}}');
Handlebars.registerPartial("element_getWrapperStyle","{{#element_ifCanHaveDims}}{{#if (elementHasHeight element)}}height:{{element.height}}px;{{/if}}width:{{element.width}}px;{{/element_ifCanHaveDims}}{{#element_ifCanHavePos}}left:{{element.x}}px;top:{{element.y}}px;position:absolute;{{/element_ifCanHavePos}}{{#unless renderEnv.responsive}}z-index:{{element.elementno}};{{else}}{{#unless state.design.is_rtl}}clear:{{element.parameters.responsive.clear}};{{/unless}}{{/unless}}margin-top : {{element.parameters.margin.top}}%;{{#ifEq element.parameters.responsive.layout.large.offset 0}}{{#ifEq element.parameters.responsive.layout.medium.offset 0}}{{#ifEq element.parameters.responsive.layout.small.offset 0}}{{#ifEq element.parameters.responsive.layout.xsmall.offset 0}}{{#if element.parameters.margin.left}} margin-left:{{element.parameters.margin.left}}%;{{/if}}{{#if element.parameters.margin.right}} margin-right:{{element.parameters.margin.right}}%;{{/if}}{{/ifEq}}{{/ifEq}}{{/ifEq}}{{/ifEq}} margin-bottom: {{element.parameters.margin.bottom}}%;");
Handlebars.registerPartial("element_getContentWrapperStyle","{{element_opacity element}}{{#ifNEq element.elementtype 'btn'}}{{element.cssstyle}}{{/ifNEq}}width:100%;height:100%;{{#if renderEnv.responsive}}min-height:{{element.parameters.responsive.minHeight}}px;min-width:{{element.parameters.responsive.minWidth}}px;{{#ifNEq element.parameters.padding.top 0}}padding-top:{{element.parameters.padding.top}}%;{{/ifNEq}}{{#ifNEq element.parameters.padding.bottom 0}}padding-bottom:{{element.parameters.padding.bottom}}%;{{/ifNEq}}{{#ifNEq element.parameters.padding.left 0}}padding-left:{{element.parameters.padding.left}}%;{{/ifNEq}}{{#ifNEq element.parameters.padding.right 0}}padding-right:{{element.parameters.padding.right}}%;{{/ifNEq}}{{/if}}{{\x3eborderStyle element.parameters.border}}{{#element_usesDefaultBackground typeConfig}}{{\x3eelement_backgroundCSSString element}}{{/element_usesDefaultBackground}}{{#if element.parameters.background.foreground}}{{#ifNEq element.parameters.background.foreground 'transparent'}}color:{{element.parameters.background.foreground}};{{/ifNEq}}{{/if}}{{#ifEq element.elementtype 'html'}}{{#ifEq element.parameters.config.embedType 'responsive'}}padding-bottom: {{element_htmlWidgetPadding this}}%;{{/ifEq}}{{#ifEq element.parameters.config.embedType 'fixed'}}overflow: auto !important;{{/ifEq}}{{/ifEq}}overflow:{{element.parameters.overflow}};");
Handlebars.registerPartial("element_backgroundCSSString","{{element_wrapperBgColour this}}{{#if this.background_asset_id}}background-image: url('{{getAssetUrl id\x3dthis.background_asset_id folderId\x3dthis.background_asset_uploadfolderid extension\x3dthis.background_asset_extension}}');{{/if}}background-position: {{this.parameters.background.position.vertical}} {{this.parameters.background.position.horizontal}};background-repeat:{{this.parameters.background.repeat}};background-size:{{this.parameters.background.size}};background-attachment:{{this.parameters.background.attachment}};");
Handlebars.registerPartial("borderStyle","{{#ifNEq this.right 'none'}}border-right:{{this.right}};{{/ifNEq}}{{#ifNEq this.left 'none'}}border-left:{{this.left}};{{/ifNEq}}{{#ifNEq this.bottom 'none'}}border-bottom:{{this.bottom}};{{/ifNEq}}{{#ifNEq this.top 'none'}}border-top:{{this.top}};{{/ifNEq}}{{#ifNEq this.radius 'none'}}border-radius:{{this.radius}};{{/ifNEq}}");Handlebars.registerPartial("element_getContentWrapperClass","dki-authoring-content-wrapper {{#element_usesDefaultBackground typeConfig}}{{BgClassName element.parameters.background}} {{/element_usesDefaultBackground}}{{#if typeConfig.applyDefaultBackground}}{{BgClassName element.parameters.background}} {{/if}} align-{{element.parameters.responsive.alignment.horizontal}}{{#element_isQuestionPageOption element}} dki-question-option_wrapper {{/element_isQuestionPageOption}}");
Handlebars.registerPartial("element_getContentClass","dki-element-content{{#if outline.parameters.textStyles.fontFamilyClass}} {{outline.parameters.textStyles.fontFamilyClass}}{{/if}}{{#if outline.parameters.textStyles.className}} {{outline.parameters.textStyles.className}}{{/if}}{{#ifEq elementTypeConfig.courseStyleSelector '\x3e .dki-authoring-content-wrapper \x3e .dki-element-content'}}{{courseStyles outline}}{{/ifEq}}{{#each outline.parameters.responsive.course_styles.large}} {{this}}-lg{{/each}}{{#each outline.parameters.responsive.course_styles.medium}} {{this}}-md{{/each}}{{#each outline.parameters.responsive.course_styles.small}} {{this}}-sm{{/each}}{{#each outline.parameters.responsive.course_styles.xsmall}} {{this}}-xs{{/each}}{{#if outline.cssclass}} {{outline.cssclass}}{{/if}}{{#ifEq elementTypeConfig.backgroundSelector '.dki-element-content'}} {{BgClassName outline.parameters.background}}{{/ifEq}}");
Handlebars.registerPartial("element",'{{#element_generateArguments scope\x3dthis.scope outline\x3dthis.outline forTemplate\x3dthis.forTemplate elementFromQuestion\x3dthis.elementFromQuestion}}\x3cdiv id\x3d"{{element.id}}_wrapper" class\x3d"{{element_wrapperClass this}} {{element_cssFXClass element}}" {{element_dataAttributes this}} style\x3d"{{element_wrapperStyle this}}" {{#if renderEnv.authoring}} tabIndex\x3d"-1" {{/if}}\x3e\x3cdiv id\x3d"anchor_{{element.id}}" class\x3d"dki-element-anchor"{{#element_tabable element}}data-tabindex\x3d"1" tabIndex\x3d"1" {{/element_tabable}}\x3e{{#element_tabable element}}{{#element_has_accessibility_text element}}\x3cdiv class\x3d"sr-only"\x3e{{element.parameters.accessibility.text}}\x3c/div\x3e{{/element_has_accessibility_text}}{{/element_tabable}}\x3c/div\x3e{{#if renderEnv.authoring}}{{#element_isExamineable element}}\x3cdiv class\x3d"element-examine-mode-instructions"\x3e{{#if this.typeConfig.hasStackableElementElements}}Double click to add...{{else}}Double click to edit{{/if}}\x3c/div\x3e{{/element_isExamineable}}{{/if}}{{#ifEq element.elementtype \'placeholder\'}}{{#if renderEnv.authoring}}\x3cdiv class\x3d"htmlUploader"\x3e\x3cdiv class\x3d"inpCont"\x3e\x3c/div\x3e\x3cdiv class\x3d"uploadLabel"\x3e\x3cspan\x3eDrop File Here\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e{{/if}}{{/ifEq}}{{#ifEq element.elementtype \'capture\'}}{{#if renderEnv.authoring}}\x3cdiv class\x3d"htmlUploader"\x3e\x3cdiv class\x3d"inpCont"\x3e\x3c/div\x3e\x3cdiv class\x3d"uploadLabel"\x3e\x3cspan\x3eDrop File Here\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e{{/if}}{{/ifEq}}{{#unless this.elementFromQuestion}}\x3cdiv class\x3d"publish-filter-element-display-container"\x3e{{#each this.element.publish_filters}}\x3cspan class\x3d"publish-filter-element-display"\x3e\x3ci class\x3d"fa fa-user" style\x3d"color:{{this.parameters.color}}"\x3e\x3c/i\x3e\x26nbsp;{{this.title}}\x3c/span\x3e{{/each}}\x3c/div\x3e{{/unless}}\x3cdiv {{#unless cfg.skipId}}id\x3d"{{element.id}}_content_wrapper"{{/unless}} class\x3d"{{element_contentWrapperClass this}}" style\x3d"{{element_contentWrapperStyle this}}"\x3e{{#element_ifCSSFX element}}\x3cdiv class\x3d"cssFX-level1" style\x3d"{{element.cssEffect.lvl1.style}}"\x3e\x3cdiv class\x3d"cssFX-level2" style\x3d"{{element.cssEffect.lvl2.style}}"\x3e\x3cdiv class\x3d"cssFX-level3" style\x3d"{{element.cssEffect.lvl3.style}}"\x3e{{/element_ifCSSFX}}{{{element_renderContent this}}}{{#if this.typeConfig.hasStackableElementElements}}{{#with this}}{{\x3eelement_elementElementsWrapper}}{{/with}}{{/if}}{{#element_ifCSSFX element}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e{{/element_ifCSSFX}}\x3cdiv class\x3d\'element-feedback\'\x3e\x3cdiv class\x3d"icon comment" title\x3d"View existing comments for this element."\x3e\x3c/div\x3e\x3cdiv class\x3d"icon accessibility" title\x3d"View accessibility details for this comment and leave an accessibility-specific comment."\x3e\x3c/div\x3e\x3cdiv class\x3d"new" title\x3d"Leave a new comment for this element."\x3eNew Comment\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e{{/element_generateArguments}}');
Handlebars.registerPartial("element_elementElementsWrapper",'\x3cdiv id\x3d"{{element.id}}_elements_wrapper" class\x3d"dki-authoring-element-elements-wrapper"\x3e{{#each element.elements}}{{\x3eelement outline\x3dthis scope\x3d../this forTemplate\x3d../this.forTemplate}}{{/each}}\x3c/div\x3e\x3cdiv class\x3d"element-feedback-icon feedback-tooltip-icon"\x3e\x3c/div\x3e');Handlebars.registerPartial("elementOverlay",'\x3cdiv class\x3d"dki-element-overlay" style\x3d"width:100%;height:100%"\x3e\x3c/div\x3e');
Handlebars.registerPartial("element_forTemplate",'{{#ifEq outline.templatelayout \'1\'}}\x3cdiv class\x3d"dki-template-placeholder" id\x3d"content_{{outline.id}}"style\x3d"height:{{outline.height}}px;width:{{outline.width}}px;"\x3e\x3c/div\x3e{{else}}{{\x3e element outline\x3doutline scope\x3dthis forTemplate\x3dfalse}}{{/ifEq}}');Handlebars.registerPartial("multimedia_forEdit",'\x3cdiv class\x3d"dki-media-placeholder dki-element-content{{#if outline.asset_has_poster}} hasPoster{{/if}}" id\x3d"content_{{outline.id}}" style\x3d"height:100%;width:100%;"\x3e{{#if outline.asset_has_poster}}\x3cimg style \x3d"height:100%;width:100%; src\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension poster\x3dtrue }}"/\x3e{{/if}}\x3c/div\x3e');
Handlebars.registerPartial("multimedia_forDocument_simple",'\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"document_table_wrapper {{outline.elementtype}}"\x3e\x3ctable\x3e\x3ctr\x3e\x3ctd colspan\x3d\'2\' class\x3d\'header\'\x3e{{title}}\x3c/td\x3e\x3c/tr\x3e{{#each properties}}\x3ctr\x3e\x3ctd class\x3d"property"\x3e{{this.prop}}\x3c/td\x3e\x3ctd class\x3d"value"\x3e{{this.value}}\x3c/td\x3e\x3c/tr\x3e{{/each}}\x3c/table\x3e\x3c/div\x3e');Handlebars.registerPartial("multimedia_forDocument",'\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"document_table_wrapper multimedia"\x3e\x3ctable class\x3d"{{#if outline.asset_has_poster}}poster{{/if}}"\x3e\x3ctr\x3e\x3ctd colspan\x3d\'2\' class\x3d\'header\'\x3e{{outline.elementtype}} Element\x3c/td\x3e\x3c/tr\x3e{{#if outline.asset_has_poster}}\x3ctr\x3e\x3ctd colspan\x3d"2" class\x3d"poster"\x3e\x3cimg height\x3d"{{outline.height}}px" width\x3d"{{outline.width}}px" src\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension poster\x3dtrue}}"/\x3e\x3c/td\x3e\x3c/tr\x3e{{/if}}\x3ctr\x3e\x3ctd class\x3d"property"\x3eTitle\x3c/td\x3e\x3ctd class\x3d"value"\x3e{{outline.title}}\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd class\x3d"property"\x3eDescription\x3c/td\x3e\x3ctd class\x3d"value"\x3e{{outline.description}}\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd class\x3d"property"\x3eTranscript\x3c/td\x3e\x3ctd class\x3d"value"\x3e{{{outline.transcript}}}\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e\x3c/div\x3e');
Handlebars.registerPartial("multimedia_flashParams",'\x3cparam name\x3d"wmode" value\x3d"transparent"/\x3e\x3cparam name\x3d"quality" value\x3d"high"/\x3e\x3cparam name\x3d"play" value\x3d"{{#element_multimedia_hasPlayerControl this \'autoplay\'}}true{{else}}false{{/element_multimedia_hasPlayerControl}}"/\x3e\x3cparam name\x3d"loop" value\x3d"{{#element_multimedia_hasPlayerControl this \'loop\'}}true{{else}}false{{/element_multimedia_hasPlayerControl}}"/\x3e\x3cparam name\x3d"allowfullscreen" value\x3d"{{#element_multimedia_hasPlayerControl this \'allowfullscreen\'}}true{{else}}false{{/element_multimedia_hasPlayerControl}}"/\x3e\x3cparam name\x3d"allowScriptAccess" value\x3d"{{#if playerEnv.player}}sameDomain{{else}}never{{/if}}"/\x3e{{#if outline.meta2}}\x3cparam name\x3d"allowScriptAccess" value\x3d"{{outline.meta2}}"/\x3e{{/if}}');
Handlebars.registerPartial("capture_mode_select",'\x3cdiv class\x3d"picksbarContainer"\x3e\x3cul class\x3d"nav nav-pills"\x3e\x3cli class\x3d"nav-item {{#ifEq this.type "showMe"}}active"{{else}}"{{/ifEq}}data-captureType\x3d"showMe"\x3e\x3ca\x3eShow Me\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"nav-item {{#ifEq this.type "tryMe"}}active"{{else}}"{{/ifEq}}data-captureType\x3d"tryMe"\x3e\x3ca\x3eTry Me\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"nav-item {{#ifEq this.type "testMe"}}active"{{else}}"{{/ifEq}}data-captureType\x3d"testMe"\x3e\x3ca\x3ePractice Me\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"nav-item {{#ifEq this.type "guide"}}active"{{else}}"{{/ifEq}}data-captureType\x3d"guide"\x3e\x3ca\x3eGuide\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e');
Handlebars.registerPartial("capture_glossary_overlay",'\x3cdiv id\x3d"glossaryOverlay" class\x3d"introduction-overlay overlay hidden justify-content-center"\x3e\x3cdiv id\x3d"glossaryContainer" class\x3d"introduction-container text-center panel"\x3e\x3cdiv id\x3d"glossaryTitleContainer" class\x3d"glossary-title-container"\x3e\x3ch1 class\x3d"glossary-title-text" id\x3d"glossaryTitleText" \x3e\x3c/h1\x3e\x3c/div\x3e\x3cdiv id\x3d"glossaryDefinitionContainer" class\x3d"glossary-definition-container"\x3e\x3cspan class\x3d"glossary-definition-text" id\x3d"glossaryDefinitionText" \x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv id\x3d"glossaryPopupSource" class\x3d"glossary-source-container"\x3e\x3cspan class\x3d"glossary-source-text" id\x3d"glossarySourceText" \x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv\x3e\x3cbutton id\x3d"glossaryOkButton" class\x3d"btn btn-primary" aria-label\x3d"{{controlLabels.continue}}" title\x3d"{{controlLabels.continue}}"\x3e{{controlLabels.continue}}\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
Handlebars.registerPartial("group_getClass","dki-authoring-group {{group.parameters.cssClass}}{{#each group.parameters.layout.classes}}{{#group_classNotNumeric this}} {{this}}{{/group_classNotNumeric}}{{/each}} col-lg-{{group.parameters.dimensions.flow.large.width}} col-md-{{group.parameters.dimensions.flow.medium.width}} col-sm-{{group.parameters.dimensions.flow.small.width}} col-xs-{{group.parameters.dimensions.flow.xsmall.width}} col-lg-offset-{{group.parameters.dimensions.flow.large.offset}} col-md-offset-{{group.parameters.dimensions.flow.medium.offset}} col-sm-offset-{{group.parameters.dimensions.flow.small.offset}} col-xs-offset-{{group.parameters.dimensions.flow.xsmall.offset}}{{#if group.parameters.dimensions.flow.large.hidden}} hidden-lg{{/if}}{{#if group.parameters.dimensions.flow.medium.hidden}} hidden-md{{/if}}{{#if group.parameters.dimensions.flow.small.hidden}} hidden-sm{{/if}}{{#if group.parameters.dimensions.flow.xsmall.hidden}} hidden-xs{{/if}}{{#each group.parameters.course_styles}} {{this}}{{/each}}{{#each group.parameters.theme_styles}} {{this}}{{/each}}{{#if group.parameters.hiddenOnLoad}} hiddenOnLoad{{/if}}{{#if group.parameters.hiddenUntilinView}} hiddenUntilInView{{/if}}{{#if group.parameters.sticky}} dki-sticky-group{{/if}}{{#if group.parameters.dimensions.flow.gutters}} gutters {{/if}}{{#unless group.parameters.dimensions.flow.xsmall.gutters}} no-gutter-xs {{/unless}}{{#unless group.parameters.dimensions.flow.small.gutters}} no-gutter-sm {{/unless}}{{#unless group.parameters.dimensions.flow.medium.gutters}} no-gutter-md {{/unless}}{{#unless group.parameters.dimensions.flow.large.gutters}} no-gutter-lg {{/unless}}");
Handlebars.registerPartial("group_getStyle","{{#unless renderEnv.responsive}}z-index:{{group.order}}{{/unless}}{{#if renderEnv.responsive}} min-height: {{group.parameters.dimensions.flow.minHeight}}px; min-width: {{group.parameters.dimensions.flow.minWidth}}px;{{#ifNEq group.parameters.clear ''}} clear:{{group.parameters.clear}};{{/ifNEq}}{{/if}}");Handlebars.registerPartial("group_getElementWrapperStyle","{{opacity group.parameters.background}} {{#group_hasBackground group}} {{\x3ebackground group}} {{/group_hasBackground}} {{\x3eborderStyle group.parameters.border}} ");
Handlebars.registerPartial("group_getDataAttributes",'data-id\x3d"{{group.id}}"data-batch-id\x3d"{{group.parameters.batch.id}}"data-is-question-choice-group\x3d"{{group.parameters.is_question_choice_group}}"data-title\x3d"{{group.title}}"');Handlebars.registerPartial("group",'{{#unless group.skipRendering}}\x3cdiv id\x3d"group_{{group.id}}" class\x3d"{{\x3egroup_getClass this}}" style\x3d"{{\x3egroup_getStyle this}}" {{\x3egroup_getDataAttributes this}}\x3e\x3cdiv class\x3d"dki-authoring-group-elements-wrapper clearfix {{BgClassName group.parameters.background}}" style\x3d"{{\x3egroup_getElementWrapperStyle this}}"\x3e{{#each group.elements}}{{\x3e element outline\x3dthis scope\x3d../this}}{{/each}}\x3c/div\x3e\x3c/div\x3e{{/unless}}');
Handlebars.registerPartial("groups","{{#each content}}{{#ifEq this.type 'group'}}{{#group_generateArguments outline\x3ditems scope\x3d../this}}{{\x3e group this}}{{/group_generateArguments}}{{/ifEq}}{{#ifEq this.type 'section'}}{{\x3e section section\x3dthis scope\x3d../this}}{{/ifEq}}{{#ifEq this.type 'row'}}{{\x3e row row\x3dthis scope\x3d../../this}}{{/ifEq}}{{/each}}");Handlebars.registerPartial("row",'\x3cdiv class\x3d"dki-authoring-row clearfix {{row.classString}}" style\x3d"width:100%;{{row.styleString}}" data-vertical-align\x3d"{{row.firstGroup.parameters.layout.row_config.vertical_align}}" id\x3d"{{row.firstGroup.parameters.batch.row_index}}_{{row.firstGroup.parameters.batch.id}}"\x3e{{#each row.items}}{{#group_generateArguments outline\x3dthis scope\x3d../scope}}{{\x3e group this}}{{/group_generateArguments}}{{/each}}\x3c/div\x3e');
Handlebars.registerPartial("section",'\x3cdiv class\x3d"dki-authoring-section {{section.classString}} {{#ifNEq section.firstGroup.parameters.layout.layout_config.decoration \'\'}}has-top-decoration{{/ifNEq}} {{#ifNEq section.firstGroup.parameters.layout.layout_config.bottom_decoration \'\'}}has-bottom-decoration{{/ifNEq}}  {{#ifNEq section.firstGroup.parameters.layout.layout_config.border.top \'\'}} has-section-border-top {{/ifNEq}} {{#ifNEq section.firstGroup.parameters.layout.layout_config.border.bottom \'\'}} has-section-border-bottom {{/ifNEq}} {{#ifNEq section.firstGroup.parameters.layout.layout_config.border.left \'\'}} has-section-border-left {{/ifNEq}} {{#ifNEq section.firstGroup.parameters.layout.layout_config.border.right \'\'}} has-section-border-right {{/ifNEq}}" style\x3d"width:100%;{{section.styleString}}" data-section-height\x3d"{{section.firstGroup.parameters.layout.layout_config.section_height}}" data-vertical-align\x3d"{{section.firstGroup.parameters.layout.layout_config.vertical_align}}" data-id\x3d"{{section.firstGroup.parameters.layout.layout_id}}_{{section.firstGroup.parameters.batch.id}}" data-batch-id\x3d"{{section.firstGroup.parameters.batch.id}}"\x3e{{#ifEq section.firstGroup.parameters.background.attachment \'fixed\'}}\x3cdiv class\x3d"dki-authoring-section-fixed-background"\x3e\x3cpicture\x3e\x3cimg src\x3d"{{getAssetUrl id\x3dsection.firstGroup.background_asset_id folderId\x3dsection.firstGroup.background_asset_uploadfolderid extension\x3dsection.firstGroup.background_asset_extension}}"/\x3e\x3c/picture\x3e\x3c/div\x3e{{/ifEq}}\x3cdiv class\x3d"section-decoration top"\x3e{{sectionDecoration decoration\x3dsection.firstGroup.parameters.layout.layout_config.decoration background\x3dsection.firstGroup.parameters.layout.layout_config.background rotate\x3dfalse}}\x3c/div\x3e\x3cdiv class\x3d"section-border-top bg-{{section.firstGroup.parameters.layout.layout_config.border.top}}" \x3e\x3c/div\x3e \x3cdiv class\x3d"section-border-left bg-{{section.firstGroup.parameters.layout.layout_config.border.left}}" \x3e\x3c/div\x3e {{#each section.items}}{{\x3e row row\x3dthis scope\x3d../scope}}{{/each}}\x3cdiv class\x3d"section-border-bottom bg-{{section.firstGroup.parameters.layout.layout_config.border.bottom}}" \x3e\x3c/div\x3e \x3cdiv class\x3d"section-border-right bg-{{section.firstGroup.parameters.layout.layout_config.border.right}}" \x3e\x3c/div\x3e \x3cdiv class\x3d"section-decoration bottom"\x3e{{sectionDecoration decoration\x3dsection.firstGroup.parameters.layout.layout_config.bottom_decoration background\x3dsection.firstGroup.parameters.layout.layout_config.background rotate\x3dtrue}}\x3c/div\x3e\x3c/div\x3e');
Handlebars.registerPartial("rowStyle","{{opacity group.parameters.layout.row_config.background}}{{#if hasMaxWidth}}max-width:{{max_width}}px;float:{{align}};{{/if}}");Handlebars.registerPartial("rowClass","{{BgClassName group.parameters.layout.row_config.background}} {{#if group.parameters.layout.row_config.reverse_order}} reverse-order {{/if}}{{#if group.parameters.layout.row_config.synchronizeHeights}} synchronize-heights {{/if}}{{#unless group.parameters.layout.row_config.gutters.xsmall}} no-gutter-xs {{/unless}}{{#unless group.parameters.layout.row_config.gutters.small}} no-gutter-sm {{/unless}}{{#unless group.parameters.layout.row_config.gutters.medium}} no-gutter-md {{/unless}}{{#unless group.parameters.layout.row_config.gutters.large}} no-gutter-lg {{/unless}}{{#each group.parameters.layout.row_config.theme_styles}} {{this}}{{/each}}");
Handlebars.registerPartial("sectionStyle","{{opacity group.parameters.layout.layout_config.background}}");Handlebars.registerPartial("sectionClass","{{BgClassName group.parameters.layout.layout_config.background}} {{#if group.parameters.layout.layout_config.section_height}}dki-section-height {{/if}}{{#if group.parameters.layout.layout_config.super_section}}super-section {{/if}}{{#each group.parameters.layout.layout_config.theme_styles}} {{this}}{{/each}}");Handlebars.registerPartial("rowOrSectionStyle",
"{{\x3ebackground group}}{{#unless renderEnv.responsive}}z-index:{{group.order}};{{/unless}}");Handlebars.registerPartial("rowOrSectionClass","{{#ifEq group.parameters.background.attachment 'fixed'}} dki-bg-attach-fixed{{/ifEq}}{{#each group.parameters.course_styles}} {{this}}{{/each}} {{group.parameters.background.animation}}");Handlebars.registerPartial("page_getStyle","{{#if renderEnv.authoring}}z-index: 2;{{else}}z-index: 0;{{/if}}{{#if page.parameters.background.foreground}}{{#ifNEq page.parameters.background.foreground 'transparent'}}color:{{page.parameters.background.foreground}};{{/ifNEq}}{{/if}}");
Handlebars.registerPartial("page_getBackgroundStyle","{{opacity page.parameters.background}}{{#page_BGFixed page standalone}}position: fixed;height: 100vh;width: 100vw;{{else}}position: absolute;height: 100%;width: 100%;{{/page_BGFixed}}{{#if page.background_asset_id}}background-position:{{page.parameters.background.position.vertical}} {{page.parameters.background.position.horizontal}};background-repeat:{{page.parameters.background.repeat}};background-size:{{page.parameters.background.size}};background-image:url('{{getAssetUrl id\x3dpage.background_asset_id folderId\x3dpage.background_asset_uploadfolderid extension\x3dpage.background_asset_extension}}');{{/if}}{{#if renderEnv.authoring}}z-index: 0;{{/if}}");
Handlebars.registerPartial("page_getDataAttributes",'{{page_forPreview this}} data-pagetype\x3d"{{page.pagetype}}" data-pageid\x3d"{{page.pageid}}" data-locked\x3d"{{#if page.locked}}true{{else}}false{{/if}}"{{#if page.background_asset_id}} data-background-url\x3d"{{getAssetUrl id\x3dpage.background_asset_id folderId\x3dpage.background_asset_uploadfolderid extension\x3dpage.background_asset_extension}}"{{/if}}{{#ifEq page.pagetype \'question\'}} data-questiontype\x3d"{{page.question.type}}"{{#if page.question.max_selections}} data-max-selections\x3d"{{page.question.max_selections}}"{{/if}}{{/ifEq}}');
Handlebars.registerPartial("page_getClass"," {{pageBgClassName page.parameters.background}} ");Handlebars.registerHelper("pageBgClassName",function(b,h){var c=[b.class_name,b.opacity_class_name];"transparent"==b.color&&""==b.color&&""===c&&(c=["bg-transparent"]);b=[13,14];h.data.root.page.question&&-1==$.inArray(h.data.root.page.question.type,b)&&(c.push("question-option-style-"+h.data.root.page.question.parameters.optionStyle.type),c.push("question-option-color-"+h.data.root.page.question.parameters.optionStyle.class_name),
h.data.root.page.question.parameters.optionStyle.attached&&c.push("question-option-attached"),c.push("question-option-choice-spacing-"+h.data.root.page.question.parameters.choiceSpacing));return c.join(" ")});Handlebars.registerPartial("page_getBackgroundClass","pageBackground {{page.parameters.background.animation}}");Handlebars.registerPartial("page",'\x3cdiv id\x3d"page_background_{{page.pageid}}" data-forPage\x3d"page_{{page.pageid}}" class\x3d"{{\x3e page_getBackgroundClass}}" style\x3d"{{\x3e page_getBackgroundStyle}}"\x3e\x3c/div\x3e{{#if standalone}}\x3cdiv class\x3d"page-standalone"\x3e{{/if}}\x3cdiv id\x3d"page_{{page.pageid}}" class\x3d"pageElementsWrapper {{\x3e page_getClass}} {{class_name}}" {{\x3e page_getDataAttributes}} style\x3d"{{\x3e page_getStyle}}"\x3e{{\x3egroups this}}\x3c/div\x3e\x3cdiv class\x3d"dki-audio-closed-caption-container dki-course-max-width" id\x3d"dki-audio-closed-caption-container-{{page.pageid}}"\x3e\x3c/div\x3e{{#if standalone}}\x3c/div\x3e{{/if}}');
Handlebars.registerPartial("renderTabsetTab",'\x3cli data-id\x3d"{{element.id}}" {{#unless index}}{{#unless startUnopened}}class\x3d"active"{{/unless}}{{/unless}}\x3e\x3ca draggable\x3d"false" class\x3d"clearfix{{#unless element.parameters.config.icon.enabled}} icon-hidden{{/unless}}{{#unless element.parameters.config.icon.right.enabled}} right-icon-hidden{{/unless}}"  data-idx\x3d"{{index}}" data-id\x3d"{{element.id}}" data-toggle\x3d"tab" href\x3d"#tabContent_{{index}}_{{parentOutline.elementid}}" aria-controls\x3d"tabContent_{{index}}_{{parentOutline.elementid}}" data-for\x3d"{{parentOutline.elementid}}" data-viewed\x3d"false" id\x3d"tab_{{index}}_{{parentOutline.elementid}}"{{#if index}} tabindex\x3d"-1" aria-selected\x3d"false"{{else}} tabindex\x3d"1" aria-selected\x3d"true"{{/if}} role\x3d"tab"\x3e\x3ci class\x3d"fa left {{element.parameters.config.icon.class_name}}"\x3e\x3c/i\x3e{{\x3eelement outline\x3delement scope\x3dscope}}\x3ci class\x3d"fa right {{element.parameters.config.icon.right.class_name}}"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/li\x3e');
Handlebars.registerPartial("renderTabsetTabContent",'\x3cdiv class\x3d"tab-pane clearfix {{#unless index}}{{#unless startUnopened}}active{{/unless}}{{/unless}} {{BgClassName parentOutline.parameters.background}}" id\x3d"tabContent_{{index}}_{{parentOutline.elementid}}" style\x3d"{{\x3eelement_backgroundCSSString parentOutline}}" data-for\x3d"{{parentOutline.elementid}}" role\x3d"tabpanel" aria-labelledby\x3d"tab_{{index}}_{{parentOutline.elementid}}"\x3e{{#each element.elements}}{{\x3eelement outline\x3dthis scope\x3d../scope}}{{/each}}\x3c/div\x3e')};
DKI.RenderService.prototype.registerHelpers=function(){Handlebars.registerHelper("ifEq",function(b,c,l){return b==c?l.fn(this):l.inverse(this)});Handlebars.registerHelper("ifNEq",function(b,c,l){return b!=c?l.fn(this):l.inverse(this)});Handlebars.registerHelper("forPreview",function(b,c){return b.single||b.full?c.fn(this):c.inverse(this)});Handlebars.registerHelper("trim",function(b,c){return new Handlebars.SafeString(b.trim())});Handlebars.registerHelper("getColour",$.proxy(function(b,c){return this.getColour(b)},
this));Handlebars.registerHelper("getArrayPos",function(b,c,l){return l.fn(b[c])});Handlebars.registerHelper("mult",function(){var b=0;if(0<arguments.length&&parseInt(arguments[0],10)==arguments[0])for(var b=arguments[0],c=1;c<arguments.length;c++)parseInt(arguments[c],10)==arguments[c]&&(b*=arguments[c]);return b});Handlebars.registerHelper("arith",function(b,c,l,m){return c.match(/^([\>\<\+\-\*\/\%~(\=){1,3}])*$/)?eval(b+c+l):null});Handlebars.registerHelper("designLegacy",$.proxy(function(b){return this.state.design.legacy},
this));Handlebars.registerHelper("elementHasHeight",$.proxy(function(b,c){return"label"!=b.elementtype||2==this.state.renderEnvironment.legacyCourse&&0<b.height},this));Handlebars.registerHelper("getVar",$.proxy(function(b,c){return"{{"+b+"}}"},this));Handlebars.registerHelper("getAssetUrl",$.proxy(function(b,c){return this.getAssetUrl({outline:b.hash.outline,folderId:b.hash.folderId,id:b.hash.id,extension:b.hash.extension,poster:b.hash.poster})},this));Handlebars.registerHelper("getAssetThumb",$.proxy(function(b,
c){c=this.state.baseUrl+"/content/authoringToolDB/";var l=b.hash.el;b.data.root.renderEnv.export&&(c="assets/");if(l.asset_has_poster||"image"==l.elementtype)c="svg"==b.hash.exntension?c+"DOSVG":c+("thumbs/"+b.hash.id+".png");return c},this));Handlebars.registerHelper("opacity",$.proxy(function(b,c){return b.color&&"transparent"!=b.color&&"#transparent"!=b.color?"background-color:"+this.state.utility.hexToRGB(b.color,b.transparency?100-b.transparency:100)+";":""},this));Handlebars.registerHelper("element_ifCanHaveDims",
function(b,c){c=b.data.root.fromContentRender?b.data.root.scope.renderRules:b.data.root.renderRules;return(b.data.root.fromContentRender?b.data.root.outline:b.data.root.element).forceDimensions?b.fn(this):c.useDimensions?b.fn(this):b.inverse(this)});Handlebars.registerHelper("element_ifCanHavePos",function(b,c){c=b.data.root.renderRules;return b.data.root.element.forcePosition?b.fn(this):c.usePosition?b.fn(this):b.inverse(this)});Handlebars.registerHelper("element_isQuestionElement",function(b,c){var l=
!1;switch(b.elementtype){case "multipleChoiceQuestion":case "trueFalseQuestion":case "multiplePulldownQuestion":case "clickTheWordQuestion":case "dragTheWordQuestion":case "fillInTheBlanksQuestion":case "imageMap":case "sequencing":case "sequencingQuestion":case "matching":case "matchingQuestion":l=!0}return l?c.fn(this):c.inverse(this)});Handlebars.registerHelper("element_isQuestionPageOption",function(b,c){var l=!1;switch(b.elementtype){case "trueFalseOption":case "multiChoiceOption":case "multiPulldownOption":case "fillBlanksOption":l=
!0}return l?c.fn(this):c.inverse(this)});Handlebars.registerHelper("element_ifCSSFX",function(b,c){return b.cssEffect?c.fn(this):c.inverse(this)});Handlebars.registerHelper("element_isExamineable",function(b,c){return c.data.root.typeConfig[b.elementtype].examinable?c.fn(this):c.inverse(this)});Handlebars.registerHelper("element_cssFXClass",function(b,c){c="";b.cssEffect&&(c="cssFX cssFX-"+b.cssEffect.base,c+="1"==b.cssEffect.reflect?" cssFX-slctr-Reflect":"");return c});Handlebars.registerHelper("element_tabable",
function(b,c){return"spacer"!=b.elementtype&&"groupSpacer"!=b.elementtype&&"rowSpacer"!=b.elementtype&&"elementSpacer"!=b.elementtype&&"questionOption"!=b.elementtype&&b.parameters.accessibility.tabable?c.fn(this):c.inverse(this)});Handlebars.registerHelper("element_has_accessibility_text",function(b,c){return""!=b.parameters.accessibility.text?c.fn(this):c.inverse(this)});Handlebars.registerHelper("element_richText_txt",$.proxy(function(b,c){b=$("\x3cdiv /\x3e").html(this.parseElementDataImagesInTxt(b.outline));
return new Handlebars.SafeString(b.html())},this));Handlebars.registerHelper("element_htmMeta",$.proxy(function(b,c){c=$("\x3cdiv /\x3e").html(this.parseElementDataImagesInMeta(b.outline));DKI.renderService.state.renderEnvironment.authoring||$(".dki-inline-variable",c).each(function(){var b=$(this);b.html(contentApi.getData(b.data("variable-id")))});if("table"==b.outline.elementtype){var l=c.find("table"),m="table";l.attr("class")&&(m+=" "+l.attr("class"));$.each(b.outline.parameters.config.styles,
function(b,c){c&&(m+=" table-"+b)});l.attr("class",m);l.after($("\x3ca href\x3d'#' tabindex\x3d'1' class\x3d'tableFocusCatcher' /\x3e"))}return new Handlebars.SafeString(c.html())},this));Handlebars.registerHelper("element_htmHeight",function(b,c){c="";if("table"==b.elementtype||b.parameters.overflow&&"visible"!=b.parameters.overflow)c="height:100%;";if("flipCardSet"==b.elementtype||"matchCardSet"==b.elementtype)c="height:auto;";return c});Handlebars.registerHelper("element_opacity",function(b,c){c=
"";100>b.opacity&&(c=b.opacity/100,c="-moz-opacity:"+c+";opacity:"+c+";filter:alpha(opacity\x3d"+b.opacity+");");return c});Handlebars.registerHelper("element_wrapperBgColour",$.proxy(function(b,c){c="";var l=b.parameters.background;b=b.parameters.background.transparency;"transparent"!=l.color&&"none"!=l.color&&l.color&&""===l.class_name&&(c="background-color:"+this.state.utility.hexToRGB(l.color,"undefined"==typeof b?100:100-b)+";");return c},this));Handlebars.registerHelper("element_getQuestionAtts",
function(b,c){c=b.page;for(var l=' data-isquestionelement\x3d"false"',m=0;m<c.question.options.length;m++){var p=c.question.options[m];p.elementId==b.element.id&&(l="",l+=' data-isquestionelement\x3d"true"',l+=' data-isquestionoption\x3d"true"',p.correctTargets&&(l+='data-correcttargets\x3d"'+p.correctTargets.join()+'"'),p.feedback&&(p=p.feedback.replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;").replace(/\"/g,"\x26quot;"),l+=' data-feedback\x3d"'+p+'"'))}if(""!=b.element.option_parameters)try{var n=
JSON.parse(b.element.option_parameters);if(n&&(1==n.randomized||"YES"==n.randomized.toUpperCase())||"TRUE"==n.randomized.toUpperCase())l+='data-randomized\x3d"true"'}catch(u){}if("questionOpening"==b.element.elementtype||"questionBody"==b.element.elementtype)l=' data-isquestionelement\x3d"true" ';return new Handlebars.SafeString(l)});Handlebars.registerHelper("element_imageMapEventFunction",function(b,c){c="";if(b.href){var l=b.href.split(","),m=l[0],p=l[1],n=l[3],u=l[4],k=l[5],q="";c+="data-hidetargetonload\x3d'"+
l[2]+"'";1==n&&(q+="hideAllEventElements();");m==p?(q+="showHideElement('"+b.hreftarget+"','"+u+"','"+k+"');",c+=" "+m+'\x3d"'+q+'"'):(q+="showElement('"+b.hreftarget+"','"+u+"');",c+=" "+m+'\x3d"'+q+'" ',"none"!=p&&(c+=" "+p+"\x3d\"hideElement('"+b.hreftarget+"','"+k+"');\""))}return new Handlebars.SafeString(c)});Handlebars.registerHelper("element_htmlWidgetPath",function(b,c){return new Handlebars.SafeString("/"+b.asset_parameters.LAUNCHFILE+"?elementid\x3d"+b.id)});Handlebars.registerHelper("element_htmlWidgetScrolling",
function(b,c){c=b.outline;var l=c.asset_parameters,m="no";if("on"==l.scrolling)m="yes";else if("auto"==l.scrolling)m="auto";else if(b.renderEnv.responsive&&"responsive"==c.parameters.config.embedType||"adaptive"==c.parameters.config.embedType)m="no";return m});Handlebars.registerHelper("element_htmlWidgetStyle",function(b,c){c=b.outline;var l="height:"+c.height+"px;";return l=b.renderEnv.responsive&&""==c.parameters.config.embedType?l+("width: 100%;max-width:"+c.width+"px"):l+("width:"+c.width+"px")});
Handlebars.registerHelper("element_htmlWidgetPadding",function(b,c){b=b.element;return b.asset_height/b.asset_width*100});Handlebars.registerHelper("element_capture_getTemplate",function(b,c){return"capture_"+b});Handlebars.registerHelper("element_multimedia_hasPlayerControl",function(b,c,l){var m=0<=b.outline.meta.search(c);"video"==b.outline.elementtype&&"autoplay"==c&&(m=!b.renderEnv.authoring&&m?!0:!1);return m?l.fn(this):l.inverse(this)});Handlebars.registerHelper("element_capture_hasStepDuration",
function(b,c){return!b.stepDuration||0>=b.stepDuration?c.fn(this):c.inverse(this)});Handlebars.registerHelper("element_capture_getTime",function(b,c){c=(6E5>b?"0":"")+Math.floor(b/6E4)+":";return c+=(1E4>b%6E4?"0":"")+Math.floor(b/1E3%60)});Handlebars.registerHelper("element_capture_showMeImage",function(b,c){var l=b.imageURL;switch(c.showMeImageType){case "EMPTY":l=b.imageURL;break;case "HOTSPOT":l=b.hotSpotImageURL;break;case "HOTSPOT_ANNOTATION":l=b.fullImageURL}return l});Handlebars.registerHelper("stripHTML",
function(b){return DKI.stripHTML(b)});Handlebars.registerHelper("element_capture_show_markerList",function(b,c,l){return 0<b.markers.length&&"HOTSPOT_ANNOTATION"==c.showMeImageType?l.fn(this):l.inverse(this)});var b=function(b){return(b=b||"")?b.replace("[^a-zA-Z0-9]","-"):b};Handlebars.registerHelper("element_capture_getJobAidName",function(h){return b(h.name)+"-job-aid.pdf"});Handlebars.registerHelper("element_capture_getDocumentName",function(h){return b(h.name)+"-document.pdf"});Handlebars.registerHelper("element_capture_getDocumentName",
function(h){return b(h.name)+"-document.pdf"});Handlebars.registerHelper("element_option_renderNumbering",function(b,c){var l=function(b){if(isNaN(b))return NaN;b=String(+b).split("");for(var c=" C CC CCC CD D DC DCC DCCC CM  X XX XXX XL L LX LXX LXXX XC  I II III IV V VI VII VIII IX".split(" "),h="",l=3;l--;)h=(c[+b.pop()+10*l]||"")+h;return Array(+b.join("")+1).join("M")+h},m=b.scope.page.question,p=b.option,n="abcdefghijklmnopqrstuvwxyz".split(""),u={letter:[],caps:[],number:[],roman:[]};for(i=
0;26>i;i++)u.letter.push(n[i]),u.caps.push(n[i].toUpperCase()),u.number.push(i+1),u.roman.push(l(i+1));if("none"==m.numbering)return""==p.content?new Handlebars.SafeString("\x26nbsp;"):new Handlebars.SafeString("");b=u[m.numbering][b.optionNo-1]+(5!==b.scope.page.question.type?") ":"");l="";c.data&&c.data.root&&c.data.root.option&&(c.data.root.option.element_id||c.data.root.option.elementId)&&(l="id\x3d'option_number_"+(c.data.root.option.element_id?c.data.root.option.element_id:c.data.root.option.elementId).toString()+
"'");return new Handlebars.SafeString("\x3cspan class\x3d'optionNumber' "+l+"\x3e"+b+"\x3c/span\x3e")});Handlebars.registerHelper("element_option_getCorrect",function(b,c){c=b.renderEnv;var l="";if(c.single||c.full||b.forTemplate)c=b.scope.element.elementtype,l="","fillBlanksOption"==c?l=b.option.parameters.correctValues.join():"multiPulldownOption"==c?l=b.option.parameters.correctValue:"trueFalseOption"==c?l=b.option.parameters.correct:"multiChoiceOption"==c&&(l=b.option.parameters.correct?"true":
"false"),l='data-correctresponse\x3d"'+l+'"';return Handlebars.SafeString(l)});Handlebars.registerHelper("element_option_getPartial",function(b,c){return new Handlebars.SafeString("option_"+b)});Handlebars.registerHelper("element_forDocument",function(b,c){c="multimedia_forDocument";var l={outline:b};if("html"==b.elementtype)c="multimedia_forDocument_simple",l.title="HTML Widget Element",l.properties=[{prop:"title",value:b.title},{prop:"description",value:b.description}];else if("iframe"==b.elementtype)c=
"multimedia_forDocument_simple",l.title="External Webpage",l.properties=[{prop:"URL",value:b.src}];else if("mediastream"==b.elementtype)c="multimedia_forDocument_simple",l.title="Media Stream Element",l.properties=[{prop:"URL",value:b.src}];else if("videoembed"==b.elementtype){c="multimedia_forDocument_simple";var m=/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/gi,p=b.meta.match(m);l.title="Embedded Video";l.properties=p[0]?[{prop:"URL",value:b.meta.slice(b.meta.search(m),
p[0].length)}]:[{prop:"Embed Code",value:b.meta}]}return new Handlebars.SafeString(Handlebars.compile("{{\x3e"+c+"}}")(l))});Handlebars.registerHelper("element_iframe_getProperties",function(b,c){b=b.meta.split(";");return new Handlebars.SafeString(' scrolling\x3d"'+b[0].split(":").pop()+'" frameborder\x3d"'+b[1].split(":").pop()+'"')});Handlebars.registerHelper("element_videoEmbedURL",$.proxy(function(b,c){return"dynamic"==b.outline.meta2?b.renderEnv.export?"assets/elements/"+b.outline.id+"/tempVideoEmbed.html":
this.state.baseUrl+"ajax/element.cfm/"+b.outline.id+"/videoEmbedTemp.html":b.outline.meta},this));Handlebars.registerHelper("element_videoEmbedStyle",$.proxy(function(b,c){c="";b.renderEnv.responsive&&(c+="padding-bottom:"+b.outline.height/b.outline.width*100+"%;");return c},this));Handlebars.registerHelper("element_svg_setMeta",$.proxy(function(b,c){c=$("\x3cdiv/\x3e").append(b.meta);colour=b.parameters.config.colors.fill;stroke=b.parameters.config.atts.stroke;0<=color.search("designcolor")&&(colour=
this.getColour(colour),c.find("path:not(#raphael-marker-block),circle,rect:not([fill\x3dnone])").attr("fill",colour));0<=stroke.search("designcolor")&&(stroke=this.getColour(stroke),c.find("path:not(#raphael-marker-block)").attr("stroke",stroke),c.find("marker\x3euse").attr("fill",stroke));return Handlebars.SafeString(c.html())},this));Handlebars.registerHelper("element_generateArguments",$.proxy(function(b){return b.fn(this.generateElementArguments(b.hash.outline,b.hash.scope,b.hash.forTemplate,
b.hash.elementFromQuestion))},this));Handlebars.registerHelper("element_dataAttributes",function(b,c){c=Handlebars.compile("{{\x3eelement_getDataAttributes}}")(b);b.ignoreExamine&&(c+=' data-ignoreExamine\x3d"true"');if(b.typeConfig.isMultimedia)if(c+=' data-loop\x3d"'+(0<=b.element.meta.search("loop")?"true":"false")+'"',c+='" data-autoplay\x3d"'+(0<=b.element.meta.search("autoplay")?"true":"false")+'"',c+='" data-transcript\x3d"'+(b.element.asset_transcript?!0:!1)+'"',b.element.asset_parameters&&
b.element.asset_parameters.bookmarks&&0<b.element.asset_parameters.bookmarks.length&&(c+='" data-bookmarks\x3d"'+escape(JSON.stringify(b.element.asset_parameters.bookmarks))+'"'),"video"==b.element.elementtype&&(c+=' data-allowfullscreen\x3d"'+(0<=b.element.meta.search("allowfullscreen")?"true":"false")+'"',c+=' data-hidecontrols\x3d"'+(0<=b.element.meta.search("hidecontrols")?"true":"false")+'"'),"flash"==b.element.elementtype)c+='data-allowFullScreen\x3d"'+(0<=b.element.meta.search("allowFullScreen")?
"true":"false")+'"',c+='data-flashvars\x3d"'+b.element.meta2+'"';else if("audio"==b.element.elementtype)c+=' data-playerskin\x3d"'+(0<=b.element.meta.search("playerskin")?"true":"false")+'"',c+=' data-hidecontrols\x3d"'+(0<=b.element.meta.search("hidecontrols")?"true":"false")+'"';else if("mediastream"==b.elementtype){var l="",m="";b.element.meta&&(m=b.element.meta.split(";"),l=m[0].split(":").pop(),m=m[1].split(":").pop(),l="all"==l?"":l,m="all"==m?"":m);l&&(c+=' data-starttime\x3d"'+l+'"');m&&(c+=
' data-endtime\x3d"'+m+'"')}if("body"==b.element.elementtype||"opening"==b.elementtype)c+=' data-isquestionelement\x3d"true"';else if("spacer"==b.element.elementtype)c+=' data-isspacer\x3d"true"';else if("shape"!=b.element.elementtype)if("image"==b.element.elementtype){if(c+=' data-rolloverassetid\x3d"'+b.element.rollover_asset_id+'"',m=l="",""!=b.element.meta&&(m=b.element.meta.split(";"),l=m.shift(),m=m.pop()),c=c+(" data-rollovereffect\x3d'"+l+"'")+(" data-rollouteffect\x3d'"+m+"'"),b.element.imageMaps&&
0<b.element.imageMaps.length){c+=" data-actiontype\x3d'imagemap' data-actiontargets\x3d\"";var p=[];$.each(b.element.imageMaps,function(b,c){p.push(this.hreftarget)});c+=p.join()+'"'}}else"flipCard"==b.element.elementtype&&(c+="data-fliptrigger\x3d'"+b.element.parameters.config.trigger+"'");if(b.page&&b.page.pageLinks)for(l=0;l<b.page.pageLinks.length;l++)m=b.page.pageLinks[l],m.active&&b.element.id==m.source_element_id&&(c+=' data-actiontype\x3d"pagelink" data-actiontargets\x3d"'+m.target_subeo_id+
'"');return new Handlebars.SafeString(c)});Handlebars.registerHelper("element_wrapperClass",function(b,c){c=Handlebars.compile("{{\x3eelement_getWrapperClass}}")(b);b.typeConfig.isQuestion&&"none"===b.page.question.numbering&&(c+=" noNumbering");if(b.typeConfig.hasStackableElementElements)c+=" stackable_element";else if("label"==b.element.elementtype){var l=" "+b.element.parameters.config.class_name;c+=l}else"capture"==b.element.elementtype?(l=" "+b.element.parameters.config.type,c+=l):"shape"==b.element.elementtype&&
b.element.parameters.config.roundedCorners&&(c+=" dki-rounded-shape");b.typeConfig.navigateSubContent&&(c+=" navigatesSubContent");c+=b.element.isContentContainer?" contentContainer":"";return new Handlebars.SafeString(c)});Handlebars.registerHelper("element_wrapperStyle",function(b,c){c=Handlebars.compile("{{\x3eelement_getWrapperStyle}}")(b);"zoomeRegion"==b.element.elementtype&&(b.renderEnv.single||b.renderEnv.full||b.renderEnv.export||b.renderEnv.template)&&(c+="pointer-events:none;");"videoembed"==
b.element.elementtype&&b.renderEnv.responsive&&("center"==b.element.parameters.responsive.alignment.horizontal?c+="justify-content: center;-ms-pack:center;":"right"==b.element.parameters.responsive.alignment.horizontal&&(c+="justify-content: flex-end;-ms-pack:flex-end;"));return new Handlebars.SafeString(c)});Handlebars.registerHelper("element_contentWrapperStyle",function(b,c){c=Handlebars.compile("{{\x3eelement_getContentWrapperStyle}}")(b);"videoembed"==b.element.elementtype&&b.renderEnv.responsive&&
(c+="max-width:"+b.element.width+"px;");return new Handlebars.SafeString(c)});Handlebars.registerHelper("element_contentWrapperClass",function(b,c){c=Handlebars.compile("{{\x3eelement_getContentWrapperClass}}")(b);if("flipCard"==b.element.elementtype&&b.element.parameters.config.flipIcon){var l;c+=" includeFlipIcon"}"marker"==b.element.elementtype&&(l=" pin-direction-"+b.element.parameters.config.pinDirection,l+=" marker-shape-"+b.element.parameters.config.shape,c+=l);return new Handlebars.SafeString(c)});
Handlebars.registerHelper("element_contentClass",function(b,c){b.elementTypeConfig=b.typeConfig[b.outline.elementtype];c=Handlebars.compile("{{\x3eelement_getContentClass}}")(b);"body"==b.outline.elementtype&&(c+=" questionBody");"image"==b.outline.elementtype&&"png"==b.outline.asset_extension&&(c+=" pngFix");"video"==b.outline.elementtype&&b.outline.parameters.config.hidePlayHead&&(c+=" hidePlayerHead");"table"==b.outline.elementtype&&b.renderEnv.responsive&&(c+=" table-responsive");"opening"==b.outline.elementtype&&
(c+=" questionOpening");if("btn"==b.outline.elementtype){var l=" btn "+b.outline.parameters.config.class_name+" "+b.outline.parameters.config.size+" "+b.outline.parameters.config.shape;b.outline.parameters.config.icon.enabled||(l+=" icon-hidden");b.outline.parameters.config.righticon.enabled||(l+=" righticon-hidden");b.outline.parameters.config.showLabel||(l+=" text-hidden");b.outline.parameters.config.block&&(l+=" btn-block");b.outline.parameters.config.toggleable&&(l+=" toggleable");b.outline.parameters.config.stay_toggled&&
(l+=" stay-toggled");c+=l}"dropTarget"==b.outline.elementtype&&(l=" dropTarget "+b.outline.parameters.config.class_name+" "+b.outline.parameters.config.shape,b.outline.parameters.config.icon.enabled||(l+=" icon-hidden"),b.outline.parameters.config.showLabel||(l+=" text-hidden"),c+=l);"questionOption"==b.outline.elementtype&&b.outline.parameters.config.correct&&b.renderEnv.authoring&&(c+=" correct");"label"==b.outline.elementtype&&(l="",b.outline.parameters.config.icon.enabled||(l+=" icon-hidden"),
c+=l);"capture"==b.outline.elementtype&&(l="",b.outline.parameters.config.showSteps||(l+=" hide-steps"),c+=l);"timer"==b.outline.elementtype&&(l=["clearfix"],b.outline.parameters.config.timerStyle&&l.push(b.outline.parameters.config.timerStyle),b.outline.parameters.config.bgClass&&l.push(b.outline.parameters.config.bgClass),b.outline.parameters.config.timerSize&&l.push(b.outline.parameters.config.timerSize),b.outline.parameters.config.timerVariant&&l.push(b.outline.parameters.config.timerVariant),
c+=0<l.length?" "+l.join(" "):"");"imageMap"==b.outline.elementtype&&(l=["clearfix"],b.outline.parameters.config.showLabels&&l.push("showLabels"),l.push("layout-"+b.outline.parameters.config.layout),c+=0<l.length?" "+l.join(" "):"");"matchingQuestion"==b.outline.elementtype&&(l=["matchingQuestion",b.outline.parameters.config.cardSize,b.outline.parameters.config.colour],c+=" "+l.join(" "));"sequencingQuestion"==b.outline.elementtype&&(l=["sequencingQuestion",b.outline.parameters.config.cardSize],c+=
" "+l.join(" "));return new Handlebars.SafeString(c)});Handlebars.registerHelper("element_renderContent",$.proxy(function(b,c){return new Handlebars.SafeString(this.renderContent(b.element,b))},this));Handlebars.registerHelper("image_showMaps",function(b,c){return b.export||b.single||b.full?c.fn(this):c.inverse(this)});Handlebars.registerHelper("element_renderMapLabelAsImage",function(b,c,l){return"image"==b.parameters.config.contentType&&""!=c?l.fn(this):l.inverse(this)});Handlebars.registerHelper("element_ifAudioForEdit",
function(b,c){return!b.export&&!b.full||b.template?c.fn(this):c.inverse(this)});Handlebars.registerHelper("element_ifFlashForEdit",function(b,c){return!b.export&&!b.full||b.template?c.fn(this):c.inverse(this)});Handlebars.registerHelper("multimedia_ifRegisterSwfObject",function(b,c){return b.export||b.single||b.full?c.fn(this):c.inverse(this)});Handlebars.registerHelper("element_usesDefaultBackground",function(b,c){return"\x3e .dki-authoring-content-wrapper"==b.backgroundSelector||-1!=b.backgroundSelector.indexOf(", \x3e .dki-authoring-content-wrapper")||
-1!=b.backgroundSelector.indexOf("\x3e .dki-authoring-content-wrapper,")?c.fn(this):c.inverse(this)});Handlebars.registerHelper("group_generateArguments",$.proxy(function(b){return b.fn(this.generateGroupArguments(b.hash.outline,b.hash.scope))},this));Handlebars.registerHelper("group_classNotNumeric",function(b,c){b=b.split("-").pop();return isNaN(b)?c.fn(this):c.inverse(this)});Handlebars.registerHelper("group_hasBackground",function(b,c){return""===b.parameters.layout.layout_id&&""===b.parameters.layout.row_id?
c.fn(this):c.inverse(this)});Handlebars.registerHelper("BgClassName",function(b,c){c=b.class_name+" "+b.opacity_class_name+" "+b.animation;"transparent"==b.color&&""==b.color&&""===c&&(c="bg-transparent");return c});Handlebars.registerHelper("courseStyles",function(b,c){c="";for(var l=0;l<b.parameters.course_styles.length;l++)c+=b.parameters.course_styles[l]+" ";for(l=0;l<b.parameters.theme_styles.length;l++)c+=b.parameters.theme_styles[l]+" ";return" "+c+" "});Handlebars.registerHelper("page_forPreview",
function(b,c){c='data-preview\x3d"false"';if(b.renderEnv.single||b.renderEnv.full||b.renderEnv.template)c='data-preview\x3d"true"';return new Handlebars.SafeString(c)});Handlebars.registerHelper("page_BGFixed",function(b,c,l){return c||"fixed"!=b.parameters.background.attachment?l.inverse(this):l.fn(this)});Handlebars.registerHelper("sectionDecoration",$.proxy(function(b){var c=b.hash;"transparent"!=b.hash.background.color&&""!=b.hash.background.color&&(c.fill=this.state.utility.hexToRGB(b.hash.background.color,
100-b.hash.background.transparency));return new Handlebars.SafeString(Handlebars.compile({"":"","angle-left":'\x3csvg class\x3d"section-decor" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 0 L100 100 L0 100" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',
"angle-right":'\x3csvg class\x3d"section-decor" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 100 L100 0 L100 100" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',"pointy-left":'\x3csvg class\x3d"decor" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"100%" preserveAspectRatio\x3d"none" style\x3d"left:60px; position: absolute;" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"120px" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 100 L50 0 L100 100" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',
"pointy-mid":'\x3csvg class\x3d"decor" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"100%" preserveAspectRatio\x3d"none" style\x3d"left:50%; margin-left: -60px; position: absolute;" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"120px" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 100 L50 0 L100 100" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',"pointy-right":'\x3csvg class\x3d"decor" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"100%" preserveAspectRatio\x3d"none" style\x3d"right: 60px; position: absolute;" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"120px" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 100 L50 0 L100 100" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',
"circle-left":'\x3csvg class\x3d"decor" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"60px" preserveAspectRatio\x3d"none" style\x3d"left:60px; position: absolute;" version\x3d"1.1" viewBox\x3d"0 0 100 50" width\x3d"120px" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3ccircle cx\x3d"50" cy\x3d"{{#if rotate}}0{{else}}50{{/if}}" r\x3d"35" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/circle\x3e\x3c/svg\x3e',"circle-mid":'\x3csvg class\x3d"decor" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"60px" preserveAspectRatio\x3d"none" style\x3d"left:50%; margin-left: -60px; position: absolute;" version\x3d"1.1" viewBox\x3d"0 0 100 50" width\x3d"120px" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3ccircle cx\x3d"50" cy\x3d"{{#if rotate}}0{{else}}50{{/if}}" r\x3d"35" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/circle\x3e\x3c/svg\x3e',
"circle-right":'\x3csvg class\x3d"decor" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"60px" preserveAspectRatio\x3d"none" style\x3d"right: 60px; position: absolute;" version\x3d"1.1" viewBox\x3d"0 0 100 50" width\x3d"120px" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3ccircle cx\x3d"50" cy\x3d"{{#if rotate}}0{{else}}50{{/if}}" r\x3d"35" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/circle\x3e\x3c/svg\x3e',"round-out":'\x3csvg class\x3d"decor" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 100 C50 0 50 0 100 100 Z" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',
"round-in":'\x3csvg class\x3d"decor" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 0 C50 100 50 100 100 0  L100 100 0 100" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',"triangle-out":'\x3csvg class\x3d"decor" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 100 L50 0 L100 100" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',
"triangle-in":'\x3csvg class\x3d"decor" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 0 L50 100 L100 0 L100 100 L0 100" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',"zig-zag":'\x3csvg class\x3d"decor hidden-xs hidden-sm" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 100 L2 60 L4 100 L6 60 L8 100 L10 60 L12 100 L14 60 L16 100 L18 60 L20 100 L22 60 L24 100 L26 60 L28 100 L30 60 L32 100 L34 60 L36 100 L38 60 L40 100 L42 60 L44 100 L46 60 L48 100 L50 60 L52 100 L54 60 L56 100 L58 60 L60 100 L62 60 L64 100 L66 60 L68 100 L70 60 L72 100 L74 60 L76 100 L78 60 L80 100 L82 60 L84 100 L86 60 L88 100 L90 60 L92 100 L94 60 L96 100 L98 60 L100 100 Z" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e\x3csvg class\x3d"decor visible-xs visible-sm" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 100 L5 60 L10 100 L5 60 L10 100 L15 60 L20 100 L25 60 L30 100 L35 60 L40 100 L45 60 L50 100 L55 60 L60 100 L65 60 L70 100 L75 60 L80 100 L85 60 L90 100 L95 60 L100 100" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',
clouds:'\x3csvg class\x3d"decor" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M-5 100 Q 0 20 5 100 Z M0 100 Q 5 0 10 100 M5 100 Q 10 30 15 100 M10 100 Q 15 10 20 100 M15 100 Q 20 30 25 100 M20 100 Q 25 -10 30 100 M25 100 Q 30 10 35 100 M30 100 Q 35 30 40 100 M35 100 Q 40 10 45 100 M40 100 Q 45 50 50 100 M45 100 Q 50 20 55 100 M50 100 Q 55 40 60 100 M55 100 Q 60 60 65 100 M60 100 Q 65 50 70 100 M65 100 Q 70 20 75 100 M70 100 Q 75 45 80 100 M75 100 Q 80 30 85 100 M80 100 Q 85 20 90 100 M85 100 Q 90 50 95 100 M90 100 Q 95 25 100 100 M95 100 Q 100 15 105 100 Z" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',
curtains:'\x3csvg class\x3d"decor hidden-xs hidden-sm" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 100 Q 2.5 40 5 100 Q 7.5 40 10 100 Q 12.5 40 15 100 Q 17.5 40 20 100 Q 22.5 40 25 100 Q 27.5 40 30 100 Q 32.5 40 35 100 Q 37.5 40 40 100 Q 42.5 40 45 100 Q 47.5 40 50 100 Q 52.5 40 55 100 Q 57.5 40 60 100 Q 62.5 40 65 100 Q 67.5 40 70 100 Q 72.5 40 75 100 Q 77.5 40 80 100 Q 82.5 40 85 100 Q 87.5 40 90 100 Q 92.5 40 95 100 Q 97.5 40 100 100 " stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e\x3csvg class\x3d"decor visible-xs visible-sm" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 100 Q 5 40 10 100  Q 15 40 20 100  Q 25 40 30 100  Q 35 40 40 100  Q 45 40 50 100  Q 55 40 60 100  Q 65 40 70 100  Q 75 40 80 100  Q 85 40 90 100  Q 95 40 100 100 " {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',
"straight-line":'\x3csvg class\x3d"decor" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3crect {{#unless rotate}}transform\x3d"rotate(180 50 50)"{{/unless}} width\x3d"100%" height\x3d"50%" {{#if fill}}fill\x3d"{{fill}}"{{/if}} /\x3e\x3c/svg\x3e'}[b.hash.decoration])(c))},this))};
DKI.RenderService.prototype.sortGroupRowSections=function(b){for(var h=[],c=null,l=null,m=0;m<b.length;m++){var p=b[m],n=0<m?b[m-1]:null;if(""!=p.parameters.batch.id){if(0==m||n&&n.parameters.batch.id!=p.parameters.batch.id){args=DKI.applyIf({group:p},this.defaultArgs);var l=Handlebars.compile("{{\x3e rowOrSectionStyle}}")(args),n=Handlebars.compile("{{\x3e rowOrSectionClass}}")(args),u=Handlebars.compile("{{\x3e sectionStyle}}")(args),k=Handlebars.compile("{{\x3e sectionClass}}")(args);Handlebars.compile("{{\x3e rowClass}}")(args);
Handlebars.compile("{{\x3e rowStyle}}")(args);c={type:"row",items:[],firstGroup:p};(dkiUA||top.dkiUA).isIE()||(k+=" flex");l={type:"section",styleString:l+u,classString:n+" "+k,firstGroup:p,items:[]};args.hasMaxWidth=""!=l.firstGroup.parameters.layout.layout_config.max_width;args.max_width=l.firstGroup.parameters.layout.layout_config.max_width;args.align=l.firstGroup.parameters.layout.layout_config.align;c.styleString=Handlebars.compile("{{\x3e rowStyle}}")(args);c.classString=Handlebars.compile("{{\x3e rowClass}}")(args)}else n&&
n.parameters.batch.id==p.parameters.batch.id&&n.parameters.batch.row_index!=p.parameters.batch.row_index&&(l?l.items.push(c):h.push(c),c={type:"row",items:[],firstGroup:p,styleString:""},args=DKI.applyIf({group:p},this.defaultArgs),l?(args.hasMaxWidth=""!=l.firstGroup.parameters.layout.layout_config.max_width,args.max_width=l.firstGroup.parameters.layout.layout_config.max_width,args.align=l.firstGroup.parameters.layout.layout_config.align):c.styleString+=Handlebars.compile("{{\x3e rowOrSectionStyle}}")(args),
c.styleString+=Handlebars.compile("{{\x3e rowStyle}}")(args),c.classString=Handlebars.compile("{{\x3e rowClass}}")(args));c.items.push(p);m!==b.length-1&&(1!=b[m+1].parameters.batch.row_index&&""!==b[m+1].parameters.batch.row_index||1!=b[m+1].parameters.batch.group_index&&1!=b[m+1].parameters.batch.index)&&""!==b[m+1].parameters.batch.id||(l?(l.items.push(c),h.push(l)):h.push(c),l=c=null)}else h.push({items:p,type:"group"})}return h};
DKI.RenderService.prototype.getColour=function(b){0<=b.toLowerCase().search("designcolor_")&&(idx=parseInt(b.toLowerCase().replace("designcolor_",""),10)-1,b="#"+this.state.design.designColours[idx]);return b};
DKI.RenderService.prototype.getAssetUrl=function(b){var h=this.state.baseUrl+"content/authoringtooldb/";return b.poster?h=this.state.renderEnvironment.export?"assets/posters/"+b.id+".png":h+("posters/"+b.id+".png"):b.outline&&"mediastream"==b.outline.elementtype?b.outline.src:b.id&&b.folderId?(h=this.state.renderEnvironment.export?"assets/"+b.id:h+(b.folderId+"/"+b.id),""!=b.extension&&(h+="."+b.extension),h):b.id&&b.uploadfolderid?(h=this.state.renderEnvironment.export?"assets/"+b.id:h+(b.uploadfolderid+
"/"+b.id),""!=b.extension&&(h+="."+b.extension),h):""};DKI.RenderService.prototype.renderSectionDecoration=function(b){return Handlebars.compile("{{sectionDecoration decoration\x3dthis.decoration rotate\x3dthis.rotate  background\x3dthis.background}}")(b)};
DKI.RenderService.prototype.parseElementDataImagesInTxt=function(b){var h=b.txt.replace(/src=/g,"srctrick\x3d"),h=$("\x3cdiv /\x3e").html(h),c=this;if(DKI.renderService.state.renderEnvironment.export){for(var l={},m=0;m<b.parameters.config.elements_assets.length;m++)l[b.parameters.config.elements_assets[m].uploadid]=b.parameters.config.elements_assets[m].extention;h.find("img:not([srctrick^\x3ddata])").each(function(){if($(this).attr("srctrick")&&""!=$(this).attr("srctrick")){var b=$(this).attr("srctrick").replace(/\//g,
"\\").split("\\").pop();0>b.indexOf(".")&&l[b]&&(b+="."+l[b]);$(this).attr("srctrick","assets/"+b)}})}else h.find("img:not([srctrick^\x3ddata])").each(function(){$(this).attr("srctrick")&&""!=$(this).attr("srctrick")&&$(this).attr("srctrick",c.state.baseUrl+"admin/editor2/AssetManager/asset.cfm/"+$(this).data("id"))});b=h.html();return b=b.replace(/srctrick=/g,"src\x3d")};
DKI.RenderService.prototype.parseElementDataImagesInMeta=function(b){var h=b.meta.replace(/src=/g,"srctrick\x3d"),h=$("\x3cdiv /\x3e").html(h),c=this;if(DKI.renderService.state.renderEnvironment.export){for(var l={},m=0;m<b.parameters.config.elements_assets.length;m++)l[b.parameters.config.elements_assets[m].uploadid]=b.parameters.config.elements_assets[m].extention;h.find("img:not([srctrick^\x3ddata])").each(function(){if($(this).attr("srctrick")&&""!=$(this).attr("srctrick")){var b=$(this).attr("srctrick").replace(/\//g,
"\\").split("\\").pop();0>b.indexOf(".")&&l[b]&&(b+="."+l[b]);$(this).attr("srctrick","assets/"+b)}})}else h.find("img:not([srctrick^\x3ddata])").each(function(){$(this).attr("srctrick")&&""!=$(this).attr("srctrick")&&$(this).attr("srctrick",c.state.baseUrl+"admin/editor2/AssetManager/asset.cfm/"+$(this).data("id"))});b=h.html();return b=b.replace(/srctrick=/g,"src\x3d")};
DKI.RenderService.prototype.processElementTextForGlossaries=function(b,h,c){var l="undefined"!=typeof playerBehaviour&&playerBehaviour.autoLinkGlossariesFirstMapped,m=[],p=function(b){for(var k=0;k<b.length;k++){var n=b[k];if(!/^<span(?:.*?)class="(?:.*?)dki-glossary-link(?:.*?)"(?:.*?)>/ig.test(n.innerHTML||n.data)&&!$(n).closest(".dki-glossary-link").length)if("#text"==n.nodeName){var z=n.textContent.replace(/[\u200B-\u200D\uFEFF]/g,""),u=!1;if(""!=z.trim()){for(var r="",B=[],C=DKI.terms.length-
1;0<=C;C--){var x=DKI.terms[C],D=x.term.replace(/[.*+?^${}()|[\]\\]/g,"\\$\x26"),F=DKI.isDefined(h)&&DKI.isDefined(x.usedOnPages)&&-1<x.usedOnPages.indexOf(h),E=-1==m.indexOf(x.glossaryid)&&DKI.isDefined(c)&&DKI.isDefined(x.mappedElUsage)&&-1<x.mappedElUsage.indexOf(c);if((!x.termsUsageForAutolinkFirstMapped||!F||E)&&r!=D){r=l?"":"g";r+=x.casesensitive?"":"i";r=new RegExp("(^|$|[-\\s,.?!:;@#%^\x26*()\\{\\}\\[\\]\\\\\\/*-+|'\"\x3c\x3e\\$\\xA2-\\xA5\\u058F\\u060B\\u09F2\\u09F3\\u09FB\\u0AF1\\u0BF9\\u0E3F\\u17DB\\u20A0-\\u20BD\\uA838\\uFDFC\\uFE69\\uFF04\\uFFE0\\uFFE1\\uFFE5\\uFFE6])("+
D+")(^|$|[-\\s,.?!:;@#%^\x26*()\\{\\}\\[\\]\\\\\\/*-+|'\"\x3c\x3e\\$\\xA2-\\xA5\\u058F\\u060B\\u09F2\\u09F3\\u09FB\\u0AF1\\u0BF9\\u0E3F\\u17DB\\u20A0-\\u20BD\\uA838\\uFDFC\\uFE69\\uFF04\\uFFE0\\uFFE1\\uFFE5\\uFFE6])",r);F=z;for(E=0;E<(l?1:2);E++)z=z.replace(r,function(b,c,k,h,l,m){b=/<span\b[^>]*>(?:(?!<\s*\s*span).)*$/gmi;l=m.substring(0,l+1);if(/<span/gmi.test(l)&&!b.test(l))return c+k+h;c=window.btoa(c+'\x3cspan class\x3d"dki-glossary-link autoLinked" data-term\x3d"'+x.term+'" data-id\x3d"'+x.glossaryid+
'" tabindex\x3d"1"\x3e'+k+"\x3c/span\x3e"+h);B.push(c);return"#|"+c+"|#"});F!=z&&l&&(x.termsUsageForAutolinkFirstMapped=!0,x.mappedElUsage||(x.mappedElUsage=[]),x.mappedElUsage.push(c),x.usedOnPages||(x.usedOnPages=[]),x.usedOnPages.push(h),m.push(x.glossaryid));z!=n.textContent&&(u=!0)}r=D}for(C=B.length-1;0<=C;C--)D=window.atob(B[C]),z=z.replace("#|"+B[C]+"|#",D);u&&(n.data=z)}}else n.childNodes.length&&p(n.childNodes)}},n=document.createElement("div");$(n).html(b);p(n.childNodes);var u="",k=function(b){if(b.nodeType==
Node.TEXT_NODE)u+=b.data;else{var c=b.nodeName,h=new RegExp("(\x3c"+c+"(?:.*?)\x3e)((?:.|\n)*)(\x3c\\/"+c+"\x3e)","gi"),h=h.exec(b.outerHTML),l="",m="";h?(l=h[1],m=h[3]):(h=new RegExp("(\x3c"+c+"(?:.*?)\x3e)","ig"),h=h.exec(b.outerHTML),l=h[1]);u+=l;$.each(b.childNodes,function(){k(this)});u+=m}};$.each(n.childNodes,function(){k(this)});return u};
DKI.RenderService.prototype.processCaptureTextForGlossaries=function(b,h,c){for(var l=b.config.sections,m=0;m<l.length;m++){for(var p in l[m])if("introduction"==p||"summary"==p||"testMeIntroduction"==p||"testMeSummary"==p)l[m][p]=this.processElementTextForGlossaries(l[m][p],h,c+"_s"+m);for(var n=l[m].steps,u=0;u<n.length;u++){for(p in n[u])if("instructionalText"==p||"narrationText"==p||"hintText"==p||"testMeFeedbackText"==p||"testInstructionText"==p)n[u][p]=this.processElementTextForGlossaries(n[u][p],
h,c+"_s"+m+"_step"+u);for(var k=n[u].markers,q=0;q<k.length;q++)k[q].text=this.processElementTextForGlossaries(k[q].text,h,c+"_s"+m+"_step"+u)}}return b};DKI.RenderService.prototype.renderTabsetTab=function(b,h,c){var l={typeConfig:this.state.typeConfig.tabset};return Handlebars.compile("{{\x3e renderTabsetTab element\x3delement index\x3dindex startUnopened\x3dfalse scope\x3dscope}}")({element:b,index:c,scope:l,typeConfig:this.state.typeConfig,parentOutline:h})};
DKI.RenderService.prototype.renderTabsetTabContent=function(b,h,c){var l={typeConfig:this.state.typeConfig.tabset};return Handlebars.compile("{{\x3e renderTabsetTabContent element\x3delement index\x3dindex startUnopened\x3dfalse scope\x3dscope}}")({element:b,index:c,scope:l,typeConfig:this.state.typeConfig,parentOutline:h})};DKI.outline={events:{pageSelected:"DKI.OUTLINE.PAGESELECTED",objectSelected:"DKI.OUTLINE.OBJECTSELECTED",moduleSelected:"DKI.OUTLINE.MODULESELECTED"}};
!function(){Handlebars.registerPartial("dki_course_outline.module",'\x3cli class\x3d"dki_course_outline-module {{#if parameters.hideFromOutline}}hide{{/if}}"\x3e{{#if @root.showModule}}\x3ca href\x3d"#" class\x3d"{{#if @root.config.forceSequential}}{{#if complete}}{{else}}disabled-element{{/if}}{{/if}} {{#if complete}}complete{{/if}}" data-loid\x3d"{{loid}}" tabindex\x3d"1"\x3e{{#if @root.config.showNumbering}}\x3cspan class\x3d"outline-numbering"\x3e{{math @index "+" 1}}\x3c/span\x3e{{/if}} {{{loname}}}\x3c/a\x3e{{/if}}\x3cul class\x3d"nav navmenu-nav"\x3e{{#each objects}}{{#if this.subeos.length}}{{\x3e dki_course_outline.object object\x3dthis oIndex\x3d@index mIndex\x3d../mIndex}}{{/if}}{{/each}}\x3c/ul\x3e\x3c/li\x3e');
Handlebars.registerPartial("dki_course_outline.object",'\x3cli class\x3d"dki_course_outline-object"\x3e\x3ca href\x3d"#" class\x3d"{{#if @root.config.forceSequential}}{{#if complete}}{{else}}disabled-element{{/if}}{{/if}} {{#if complete}}complete{{/if}}" data-objectid\x3d"{{objectid}}" tabindex\x3d"1"\x3e{{#if @root.config.showNumbering}}\x3cspan class\x3d"outline-numbering"\x3e{{#if @root.showModule}}{{math mIndex "+" 1}}.{{/if}}{{math @index "+" 1}}\x3c/span\x3e{{/if}} {{{title}}}\x3c/a\x3e\x3cul class\x3d"nav navmenu-nav"\x3e{{#if @root.config.showPages}}{{#each subeos}}{{\x3e dki_course_outline.subeo subeo\x3dthis oIndex\x3d../oIndex mIndex\x3d../mIndex sIndex\x3d@index}}{{/each}}{{/if}}\x3c/ul\x3e\x3c/li\x3e');
Handlebars.registerPartial("dki_course_outline.subeo",'\x3cli class\x3d"dki_course_outline-subeo {{#if page.parameters.hideFromOutline}}hide{{/if}}"\x3e\x3ca href\x3d"#" class\x3d"{{#if @root.config.forceSequential}}{{#if complete}}{{else}}disabled-element{{/if}}{{/if}} {{#if complete}}complete{{/if}}" data-subeoid\x3d"{{subeoid}} " data-pageid\x3d"{{page_id}}" tabindex\x3d"1"\x3e\x3cspan class\x3d"dki_course_outline-subeo-title"\x3e{{#if @root.config.showNumbering}}\x3cspan class\x3d"outline-numbering"\x3e{{#if @root.showModule}}{{math mIndex "+" 1}}.{{/if}}{{math oIndex "+" 1}}.{{math @index "+" 1}}\x3c/span\x3e{{/if}} {{{page.title}}}\x3c/span\x3e\x3ci class\x3d"fa fa-check"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/li\x3e');
Handlebars.registerHelper("dki_course_outline",function(b){if("undefined"!=typeof dataStorage){var h=DKI.applyIf(b.hash,{showNumbering:playerBehaviour.enablePageNumbering,forceSequential:playerBehaviour.forceSequential,showPages:!0,className:"",showModule:1<dataStorage.courseStructure.modules.length}),c=function(b){"undefined"==typeof b&&(b=$(".dk-outline-wrapper"));playerBehaviour.enablePageNumbering&&($(".outline-numbering",b).empty(),$(".dki_course_outline-module:not(.hide):not(.moduleInvalidated)",
b).each(function(b){var c=b+1;h.showModule&&$(this).find(".outline-numbering").html(c);$(this).find(".dki_course_outline-object:not(.hide)").each(function(b){var l=h.showModule?c+"."+(b+1):b+1;$(this).find(".outline-numbering").html(l);$(this).find(".dki_course_outline-subeo:not(.hide)").each(function(b){b=l+"."+(b+1);$(this).find(".outline-numbering").html(b)})})}))};b=Handlebars.compile('\x3cul class\x3d"nav navmenu-nav dk-outline-wrapper {{config.className}}"\x3e{{#each structure.modules}}{{\x3e dki_course_outline.module module\x3dthis mIndex\x3d@index}}{{/each}}\x3c/ul\x3e')({strings:DKI.strings,
config:h,structure:dataStorage.courseStructure,showModule:h.showModule});b=$(b);playerBehaviour.forceSequential&&(b.find(".dki_course_outline-object \x3e a:eq(0)").removeClass("disabled-element"),b.find(".dki_course_outline-subeo \x3e a:eq(0)").removeClass("disabled-element"),b.find(".dki_course_outline-module \x3e a:eq(0)").removeClass("disabled-element"));c(b);b=b[0].outerHTML;$(document).on(settings.clickEvent,".dki_course_outline-subeo \x3e a",function(){$(this).hasClass("disabled-element")||
($(document).trigger(DKI.outline.events.pageSelected,[$(this).data("pageId")]),player.navigation.ignoreSkipToContentFocus=!0,contentApi.jumpToSubeo($(this).data("subeoid"),!1))});$(document).on(settings.clickEvent,".dki_course_outline-object \x3e a",function(){$(this).hasClass("disabled-element")||($(document).trigger(DKI.outline.events.objectSelected,[this]),contentApi.jumpToLearningObject($(this).data("objectid"),!1))});$(document).on(settings.clickEvent,".dki_course_outline-module \x3e a",function(){$(this).hasClass("disabled-element")||
($(document).trigger(DKI.outline.events.moduleSelected,[this]),contentApi.jumpToModule({moduleID:$(this).data("loid")}))});$(document).on(DKI.ContentPage.events.started,function(b,c){$(".dki_course_outline-subeo a.current, .dki_course_outline-object a.current").removeClass("current");dataStorage.currentPage&&$(".dki_course_outline-subeo a[data-pageid\x3d'"+dataStorage.currentPage.page_id+"']").addClass("current");$(".dki_course_outline-object a[data-objectid\x3d'"+contentApi.getObjectID()+"']").addClass("current")});
$(document).on(DKI.ContentPage.events.started,function(b,c){$(".dki_course_outline-subeo a.current, .dki_course_outline-object a.current").removeClass("current");dataStorage.currentPage&&$(".dki_course_outline-subeo a[data-pageid\x3d'"+dataStorage.currentPage.page_id+"']").addClass("current");$(".dki_course_outline-object a[data-objectid\x3d'"+contentApi.getObjectID()+"']").addClass("current")});$(dataStorage).on(DKI.DataStorage.events.pageCompleted,function(b,c){$(".dki_course_outline-subeo a[data-pageid\x3d'"+
c+"']").removeClass("disabled-element");$(".dki_course_outline-subeo a[data-pageid\x3d'"+c+"']").closest(".dki_course_outline-object").find("\x3ea").removeClass("disabled-element");$(".dki_course_outline-subeo a[data-pageid\x3d'"+c+"']").closest(".dki_course_outline-module").find("\x3ea").removeClass("disabled-element");$(".dki_course_outline-subeo a[data-pageid\x3d'"+c+"']").addClass("complete")});$(dataStorage).on(DKI.DataStorage.events.objectCompleted,function(b,c){$(".dki_course_outline-object a[data-objectid\x3d'"+
c+"']").addClass("complete")});$(dataStorage).on(DKI.DataStorage.events.moduleCompleted,function(b,c){$(".dki_course_outline-module a[data-loid\x3d'"+c+"']").addClass("complete")});$(player).on(player.events.bypassForceSequential,function(){$(".dki_course_outline-object .disabled-element, .dki_course_outline-subeo .disabled-element").removeClass("disabled-element")});$(document).on(DKI.DataStorage.events.moduleInvalidated,function(b,h){$(".dki_course_outline-module a[data-loid\x3d'"+h+"']").closest(".dki_course_outline-module").addClass("hide");
c()});$(document).on(DKI.DataStorage.events.moduleRevalidated,function(b,h){$(".dki_course_outline-module a[data-loid\x3d'"+h+"']").closest(".dki_course_outline-module").removeClass("hide");c()});return b}})}();
!function(b,h,c,l){function m(b,k){var h,l,m=[],q=0;b&&b.isDefaultPrevented()||(b.preventDefault(),k=b&&b.data?b.data.options:k||{},h=k.$target||c(b.currentTarget),l=h.attr("data-fancybox")||"",l?(m=k.selector?c(k.selector):b.data?b.data.items:[],m=m.length?m.filter('[data-fancybox\x3d"'+l+'"]'):c('[data-fancybox\x3d"'+l+'"]'),q=m.index(h),0>q&&(q=0)):m=[h],c.fancybox.open(m,k,q))}if((b.console=b.console||{info:function(b){}},c)&&!c.fn.fancybox){var p={loop:!1,gutter:50,keyboard:!0,arrows:!0,infobar:!0,
smallBtn:"auto",toolbar:"auto",buttons:["zoom","thumbs","close"],idleTime:3,protect:!1,modal:!1,image:{preload:!1},ajax:{settings:{data:{fancybox:!0}}},iframe:{tpl:'\x3ciframe id\x3d"fancybox-frame{rnd}" name\x3d"fancybox-frame{rnd}" class\x3d"fancybox-iframe" frameborder\x3d"0" vspace\x3d"0" hspace\x3d"0" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency\x3d"true" src\x3d""\x3e\x3c/iframe\x3e',preload:!0,css:{},attr:{scrolling:"auto"}},defaultType:"image",animationEffect:"zoom",
animationDuration:366,zoomOpacity:"auto",transitionEffect:"fade",transitionDuration:366,slideClass:"",baseClass:"",baseTpl:'\x3cdiv class\x3d"fancybox-container" role\x3d"dialog" tabindex\x3d"-1"\x3e\x3cdiv class\x3d"fancybox-bg"\x3e\x3c/div\x3e\x3cdiv class\x3d"fancybox-inner"\x3e\x3cdiv class\x3d"fancybox-infobar"\x3e\x3cspan data-fancybox-index\x3e\x3c/span\x3e\x26nbsp;/\x26nbsp;\x3cspan data-fancybox-count\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"fancybox-toolbar"\x3e{{buttons}}\x3c/div\x3e\x3cdiv class\x3d"fancybox-navigation"\x3e{{arrows}}\x3c/div\x3e\x3cdiv class\x3d"fancybox-stage"\x3e\x3c/div\x3e\x3cdiv class\x3d"fancybox-caption"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
spinnerTpl:'\x3cdiv class\x3d"fancybox-loading"\x3e\x3c/div\x3e',errorTpl:'\x3cdiv class\x3d"fancybox-error"\x3e\x3cp\x3e{{ERROR}}\x3c/p\x3e\x3c/div\x3e',btnTpl:{download:'\x3ca download data-fancybox-download class\x3d"fancybox-button fancybox-button--download" title\x3d"{{DOWNLOAD}}" href\x3d"javascript:;"\x3e\x3csvg viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M13,16 L20,23 L27,16 M20,7 L20,23 M10,24 L10,28 L30,28 L30,24" /\x3e\x3c/svg\x3e\x3c/a\x3e',zoom:'\x3cbutton data-fancybox-zoom class\x3d"fancybox-button fancybox-button--zoom" title\x3d"{{ZOOM}}"\x3e\x3csvg viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M18,17 m-8,0 a8,8 0 1,0 16,0 a8,8 0 1,0 -16,0 M24,22 L31,29" /\x3e\x3c/svg\x3e\x3c/button\x3e',
close:'\x3cbutton data-fancybox-close class\x3d"fancybox-button fancybox-button--close" title\x3d"{{CLOSE}}"\x3e\x3csvg viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M10,10 L30,30 M30,10 L10,30" /\x3e\x3c/svg\x3e\x3c/button\x3e',smallBtn:'\x3cbutton data-fancybox-close class\x3d"fancybox-close-small" title\x3d"{{CLOSE}}"\x3e\x3csvg viewBox\x3d"0 0 32 32"\x3e\x3cpath d\x3d"M10,10 L22,22 M22,10 L10,22"\x3e\x3c/path\x3e\x3c/svg\x3e\x3c/button\x3e',arrowLeft:'\x3ca data-fancybox-prev class\x3d"fancybox-button fancybox-button--arrow_left" title\x3d"{{PREV}}" href\x3d"javascript:;"\x3e\x3csvg viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M18,12 L10,20 L18,28 M10,20 L30,20"\x3e\x3c/path\x3e\x3c/svg\x3e\x3c/a\x3e',
arrowRight:'\x3ca data-fancybox-next class\x3d"fancybox-button fancybox-button--arrow_right" title\x3d"{{NEXT}}" href\x3d"javascript:;"\x3e\x3csvg viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M10,20 L30,20 M22,12 L30,20 L22,28"\x3e\x3c/path\x3e\x3c/svg\x3e\x3c/a\x3e'},parentEl:"body",autoFocus:!1,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:4E3},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"},
wheel:"auto",onInit:c.noop,beforeLoad:c.noop,afterLoad:c.noop,beforeShow:c.noop,afterShow:c.noop,beforeClose:c.noop,afterClose:c.noop,onActivate:c.noop,onDeactivate:c.noop,clickContent:function(b,c){return"image"===b.type&&"zoom"},clickSlide:"close",clickOutside:"close",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{idleTime:!1,clickContent:function(b,c){return"image"===b.type&&"toggleControls"},clickSlide:function(b,c){return"image"===b.type?"toggleControls":"close"},dblclickContent:function(b,
c){return"image"===b.type&&"zoom"},dblclickSlide:function(b,c){return"image"===b.type&&"zoom"}},lang:"en",i18n:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. \x3cbr/\x3e Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails",DOWNLOAD:"Download",SHARE:"Share",ZOOM:"Zoom"},de:{CLOSE:"Schliessen",NEXT:"Weiter",PREV:"Zur\u00fcck",ERROR:"Die angeforderten Daten konnten nicht geladen werden. \x3cbr/\x3e Bitte versuchen Sie es sp\u00e4ter nochmal.",
PLAY_START:"Diaschau starten",PLAY_STOP:"Diaschau beenden",FULL_SCREEN:"Vollbild",THUMBS:"Vorschaubilder",DOWNLOAD:"Herunterladen",SHARE:"Teilen",ZOOM:"Ma\u00dfstab"}}},n=c(b),u=c(h),k=0,q=function(){return b.requestAnimationFrame||b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame||b.oRequestAnimationFrame||function(c){return b.setTimeout(c,1E3/60)}}(),v=function(){var b,c=h.createElement("fakeelement"),k={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",
WebkitTransition:"webkitTransitionEnd"};for(b in k)if(c.style[b]!==l)return k[b];return"transitionend"}(),y=function(b){return b&&b.length&&b[0].offsetHeight},z=function(b,k){var h=c.extend(!0,{},b,k);return c.each(k,function(b,k){c.isArray(k)&&(h[b]=k)}),h},A=function(b,l,m){this.opts=z({index:m},c.fancybox.defaults);c.isPlainObject(l)&&(this.opts=z(this.opts,l));c.fancybox.isMobile&&(this.opts=z(this.opts,this.opts.mobile));this.id=this.opts.id||++k;this.currIndex=parseInt(this.opts.index,10)||
0;this.prevPos=this.prevIndex=null;this.currPos=0;this.firstRun=!0;this.group=[];this.slides={};this.addContent(b);this.group.length&&(this.$lastFocus=c(h.activeElement).trigger("blur"),this.init())};c.extend(A.prototype,{init:function(){var k,m,q,n=this,v=n.group[n.currIndex].opts,p=c.fancybox.scrollbarWidth;c.fancybox.getInstance()||!1===v.hideScrollbar||(c("body").addClass("fancybox-active"),!c.fancybox.isMobile&&h.body.scrollHeight>b.innerHeight&&(p===l&&(k=c('\x3cdiv style\x3d"width:100px;height:100px;overflow:scroll;" /\x3e').appendTo("body"),
p=c.fancybox.scrollbarWidth=k[0].offsetWidth-k[0].clientWidth,k.remove()),c("head").append('\x3cstyle id\x3d"fancybox-style-noscroll" type\x3d"text/css"\x3e.compensate-for-scrollbar { margin-right: '+p+"px; }\x3c/style\x3e"),c("body").addClass("compensate-for-scrollbar")));q="";c.each(v.buttons,function(b,c){q+=v.btnTpl[c]||""});m=c(n.translate(n,v.baseTpl.replace("{{buttons}}",q).replace("{{arrows}}",v.btnTpl.arrowLeft+v.btnTpl.arrowRight))).attr("id","fancybox-container-"+n.id).addClass("fancybox-is-hidden").addClass(v.baseClass).data("FancyBox",
n).appendTo(v.parentEl);n.$refs={container:m};"bg inner infobar toolbar stage caption navigation".split(" ").forEach(function(b){n.$refs[b]=m.find(".fancybox-"+b)});n.trigger("onInit");n.activate();n.jumpTo(n.currIndex)},translate:function(b,c){var k=b.opts.i18n[b.opts.lang];return c.replace(/\{\{(\w+)\}\}/g,function(b,c){c=k[c];return c===l?b:c})},addContent:function(b){var k,h=this;b=c.makeArray(b);c.each(b,function(b,k){var m,r,q,n;b={};q={};c.isPlainObject(k)?(b=k,q=k.opts||k):"object"===c.type(k)&&
c(k).length?(m=c(k),q=m.data()||{},q=c.extend(!0,{},q,q.options),q.$orig=m,b.src=h.opts.src||q.src||m.attr("href"),b.type||b.src||(b.type="inline",b.src=k)):b={type:"html",src:k+""};b.opts=c.extend(!0,{},h.opts,q);c.isArray(q.buttons)&&(b.opts.buttons=q.buttons);m=b.type||b.opts.type;q=b.src||"";!m&&q&&((r=q.match(/\.(mp4|mov|ogv)((\?|#).*)?$/i))?(m="video",b.opts.videoFormat||(b.opts.videoFormat="video/"+("ogv"===r[1]?"ogg":r[1]))):q.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?
m="image":q.match(/\.(pdf)((\?|#).*)?$/i)?m="iframe":"#"===q.charAt(0)&&(m="inline"));m?b.type=m:h.trigger("objectNeedsType",b);b.contentType||(b.contentType=-1<c.inArray(b.type,["html","inline","ajax"])?"html":b.type);b.index=h.group.length;"auto"==b.opts.smallBtn&&(b.opts.smallBtn=-1<c.inArray(b.type,["html","inline","ajax"]));"auto"===b.opts.toolbar&&(b.opts.toolbar=!b.opts.smallBtn);b.opts.$trigger&&b.index===h.opts.index&&(b.opts.$thumb=b.opts.$trigger.find("img:first"));b.opts.$thumb&&b.opts.$thumb.length||
!b.opts.$orig||(b.opts.$thumb=b.opts.$orig.find("img:first"));"function"===c.type(b.opts.caption)&&(b.opts.caption=b.opts.caption.apply(k,[h,b]));"function"===c.type(h.opts.caption)&&(b.opts.caption=h.opts.caption.apply(k,[h,b]));b.opts.caption instanceof c||(b.opts.caption=b.opts.caption===l?"":b.opts.caption+"");"ajax"===b.type&&(n=q.split(/\s+/,2),1<n.length&&(b.src=n.shift(),b.opts.filter=n.shift()));b.opts.modal&&(b.opts=c.extend(!0,b.opts,{infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,
fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1}));h.group.push(b)});Object.keys(h.slides).length&&(h.updateControls(),k=h.Thumbs,k&&k.isActive&&(k.create(),k.focus()))},addEvents:function(){var k=this;k.removeEvents();k.$refs.container.on("click.fb-close","[data-fancybox-close]",function(b){b.stopPropagation();b.preventDefault();k.close(b)}).on("touchstart.fb-prev click.fb-prev","[data-fancybox-prev]",function(b){b.stopPropagation();
b.preventDefault();k.previous()}).on("touchstart.fb-next click.fb-next","[data-fancybox-next]",function(b){b.stopPropagation();b.preventDefault();k.next()}).on("click.fb","[data-fancybox-zoom]",function(b){k[k.isScaledDown()?"scaleToActual":"scaleToFit"]()});n.on("orientationchange.fb resize.fb",function(b){b&&b.originalEvent&&"resize"===b.originalEvent.type?q(function(){k.update()}):(k.$refs.stage.hide(),setTimeout(function(){k.$refs.stage.show();k.update()},c.fancybox.isMobile?600:250))});u.on("focusin.fb",
function(b){var k=c.fancybox?c.fancybox.getInstance():null;k.isClosing||!k.current||!k.current.opts.trapFocus||c(b.target).hasClass("fancybox-container")||c(b.target).is(h)||k&&"fixed"!==c(b.target).css("position")&&!k.$refs.container.has(b.target).length&&(b.stopPropagation(),k.focus())});u.on("keydown.fb",function(b){var h=k.current,l=b.keyCode||b.which;if(h&&h.opts.keyboard&&!(b.ctrlKey||b.altKey||b.shiftKey||c(b.target).is("input")||c(b.target).is("textarea")))return 8===l||27===l?(b.preventDefault(),
void k.close(b)):37===l||38===l?(b.preventDefault(),void k.previous()):39===l||40===l?(b.preventDefault(),void k.next()):void k.trigger("afterKeydown",b,l)});k.group[k.currIndex].opts.idleTime&&(k.idleSecondsCounter=0,u.on("mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle",function(b){k.idleSecondsCounter=0;k.isIdle&&k.showControls();k.isIdle=!1}),k.idleInterval=b.setInterval(function(){k.idleSecondsCounter++;k.idleSecondsCounter>=
k.group[k.currIndex].opts.idleTime&&!k.isDragging&&(k.isIdle=!0,k.idleSecondsCounter=0,k.hideControls())},1E3))},removeEvents:function(){n.off("orientationchange.fb resize.fb");u.off("focusin.fb keydown.fb .fb-idle");this.$refs.container.off(".fb-close .fb-prev .fb-next");this.idleInterval&&(b.clearInterval(this.idleInterval),this.idleInterval=null)},previous:function(b){return this.jumpTo(this.currPos-1,b)},next:function(b){return this.jumpTo(this.currPos+1,b)},jumpTo:function(b,k){var h,m,q,n,v,
p,z,u=this,A=u.group.length;if(!(u.isDragging||u.isClosing||u.isAnimating&&u.firstRun)){if(b=parseInt(b,10),m=u.current?u.current.opts.loop:u.opts.loop,!m&&(0>b||b>=A))return!1;if(h=u.firstRun=!Object.keys(u.slides).length,!(2>A&&!h&&u.isDragging)){if(n=u.current,u.prevIndex=u.currIndex,u.prevPos=u.currPos,q=u.createSlide(b),1<A&&((m||0<q.index)&&u.createSlide(b-1),(m||q.index<A-1)&&u.createSlide(b+1)),u.current=q,u.currIndex=q.index,u.currPos=q.pos,u.trigger("beforeShow",h),u.updateControls(),p=
c.fancybox.getTranslate(q.$slide),q.isMoved=(0!==p.left||0!==p.top)&&!q.$slide.hasClass("fancybox-animated"),q.forcedDuration=l,c.isNumeric(k)?q.forcedDuration=k:k=q.opts[h?"animationDuration":"transitionDuration"],k=parseInt(k,10),h)return q.opts.animationEffect&&k&&u.$refs.container.css("transition-duration",k+"ms"),u.$refs.container.removeClass("fancybox-is-hidden"),y(u.$refs.container),u.$refs.container.addClass("fancybox-is-open"),y(u.$refs.container),q.$slide.addClass("fancybox-slide--previous"),
u.loadSlide(q),q.$slide.removeClass("fancybox-slide--previous").addClass("fancybox-slide--current"),void u.preload("image");c.each(u.slides,function(b,k){c.fancybox.stop(k.$slide)});q.$slide.removeClass("fancybox-slide--next fancybox-slide--previous").addClass("fancybox-slide--current");q.isMoved?(v=Math.round(q.$slide.width()),c.each(u.slides,function(b,h){b=h.pos-q.pos;c.fancybox.animate(h.$slide,{top:0,left:b*v+b*h.opts.gutter},k,function(){h.$slide.removeAttr("style").removeClass("fancybox-slide--next fancybox-slide--previous");
h.pos===u.currPos&&(q.isMoved=!1,u.complete())})})):u.$refs.stage.children().removeAttr("style");q.isLoaded?u.revealContent(q):u.loadSlide(q);u.preload("image");n.pos!==q.pos&&(z="fancybox-slide--"+(n.pos>q.pos?"next":"previous"),n.$slide.removeClass("fancybox-slide--complete fancybox-slide--current fancybox-slide--next fancybox-slide--previous"),n.isComplete=!1,k&&(q.isMoved||q.opts.transitionEffect)&&(q.isMoved?n.$slide.addClass(z):(z="fancybox-animated "+z+" fancybox-fx-"+q.opts.transitionEffect,
c.fancybox.animate(n.$slide,z,k,function(){n.$slide.removeClass(z).removeAttr("style")}))))}}},createSlide:function(b){var k,h;return h=b%this.group.length,h=0>h?this.group.length+h:h,!this.slides[b]&&this.group[h]&&(k=c('\x3cdiv class\x3d"fancybox-slide"\x3e\x3c/div\x3e').appendTo(this.$refs.stage),this.slides[b]=c.extend(!0,{},this.group[h],{pos:b,$slide:k,isLoaded:!1}),this.updateSlide(this.slides[b])),this.slides[b]},scaleToActual:function(b,k,h){var m,q,n,v,p,z=this,y=z.current,u=y.$content,
A=c.fancybox.getTranslate(y.$slide).width,M=c.fancybox.getTranslate(y.$slide).height,H=y.width,aa=y.height;!z.isAnimating&&u&&"image"==y.type&&y.isLoaded&&!y.hasError&&(c.fancybox.stop(u),z.isAnimating=!0,b=b===l?.5*A:b,k=k===l?.5*M:k,m=c.fancybox.getTranslate(u),m.top-=c.fancybox.getTranslate(y.$slide).top,m.left-=c.fancybox.getTranslate(y.$slide).left,v=H/m.width,p=aa/m.height,q=.5*A-.5*H,n=.5*M-.5*aa,H>A&&(q=m.left*v-(b*v-b),0<q&&(q=0),q<A-H&&(q=A-H)),aa>M&&(n=m.top*p-(k*p-k),0<n&&(n=0),n<M-aa&&
(n=M-aa)),z.updateCursor(H,aa),c.fancybox.animate(u,{top:n,left:q,scaleX:v,scaleY:p},h||330,function(){z.isAnimating=!1}),z.SlideShow&&z.SlideShow.isActive&&z.SlideShow.stop())},scaleToFit:function(b){var k,h=this,l=h.current,m=l.$content;!h.isAnimating&&m&&"image"==l.type&&l.isLoaded&&!l.hasError&&(c.fancybox.stop(m),h.isAnimating=!0,k=h.getFitPos(l),h.updateCursor(k.width,k.height),c.fancybox.animate(m,{top:k.top,left:k.left,scaleX:k.width/m.width(),scaleY:k.height/m.height()},b||330,function(){h.isAnimating=
!1}))},getFitPos:function(b){var c,k,h,l,m,q=b.$content,n=b.width||b.opts.width,v=b.height||b.opts.height,p={};return!!(b.isLoaded&&q&&q.length)&&(l={top:parseInt(b.$slide.css("paddingTop"),10),right:parseInt(b.$slide.css("paddingRight"),10),bottom:parseInt(b.$slide.css("paddingBottom"),10),left:parseInt(b.$slide.css("paddingLeft"),10)},c=parseInt(this.$refs.stage.width(),10)-(l.left+l.right),k=parseInt(this.$refs.stage.height(),10)-(l.top+l.bottom),n&&v||(n=c,v=k),h=Math.min(1,c/n,k/v),n=Math.floor(h*
n),v=Math.floor(h*v),"image"===b.type?(p.top=Math.floor(.5*(k-v))+l.top,p.left=Math.floor(.5*(c-n))+l.left):"video"===b.contentType&&(m=b.opts.width&&b.opts.height?n/v:b.opts.ratio||16/9,v>n/m?v=n/m:n>v*m&&(n=v*m)),p.width=n,p.height=v,p)},update:function(){var b=this;c.each(b.slides,function(c,k){b.updateSlide(k)})},updateSlide:function(b,k){k=b&&b.$content;var h=b.width||b.opts.width,l=b.height||b.opts.height;k&&(h||l||"video"===b.contentType)&&!b.hasError&&(c.fancybox.stop(k),c.fancybox.setTranslate(k,
this.getFitPos(b)),b.pos===this.currPos&&(this.isAnimating=!1,this.updateCursor()));b.$slide.trigger("refresh");this.$refs.toolbar.toggleClass("compensate-for-scrollbar",b.$slide.get(0).scrollHeight>b.$slide.get(0).clientHeight);this.trigger("onUpdate",b)},centerSlide:function(b,k){var h,m;this.current&&(h=Math.round(b.$slide.width()),m=b.pos-this.current.pos,c.fancybox.animate(b.$slide,{top:0,left:m*h+m*b.opts.gutter,opacity:1},k===l?0:k,null,!1))},updateCursor:function(b,k){var h,l=this.current,
m=this.$refs.container.removeClass("fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-drag fancybox-can-zoomOut");l&&!this.isClosing&&(h=this.isZoomable(),m.toggleClass("fancybox-is-zoomable",h),c("[data-fancybox-zoom]").prop("disabled",!h),h&&("zoom"===l.opts.clickContent||c.isFunction(l.opts.clickContent)&&"zoom"===l.opts.clickContent(l))?this.isScaledDown(b,k)?m.addClass("fancybox-can-zoomIn"):l.opts.touch?m.addClass("fancybox-can-drag"):m.addClass("fancybox-can-zoomOut"):l.opts.touch&&"video"!==
l.contentType&&m.addClass("fancybox-can-drag"))},isZoomable:function(){var b,c=this.current;return!c||this.isClosing||"image"!==c.type||c.hasError||c.isLoaded&&(b=this.getFitPos(c),!(c.width>b.width||c.height>b.height))?!1:!0},isScaledDown:function(b,k){var h=!1,m=this.current,q=m.$content;return b!==l&&k!==l?h=b<m.width&&k<m.height:q&&(h=c.fancybox.getTranslate(q),h=h.width<m.width&&h.height<m.height),h},canPan:function(){var b,c=!1,k=this.current;return"image"===k.type&&(b=k.$content)&&!k.hasError&&
(c=this.getFitPos(k),c=1<Math.abs(b.width()-c.width)||1<Math.abs(b.height()-c.height)),c},loadSlide:function(b){var k,h,l,m=this;if(!b.isLoading&&!b.isLoaded){switch(b.isLoading=!0,m.trigger("beforeLoad",b),k=b.type,h=b.$slide,h.off("refresh").trigger("onReset").addClass(b.opts.slideClass),k){case "image":m.setImage(b);break;case "iframe":m.setIframe(b);break;case "html":m.setContent(b,b.src||b.content);break;case "video":m.setContent(b,'\x3cvideo class\x3d"fancybox-video" controls controlsList\x3d"nodownload"\x3e\x3csource src\x3d"'+
b.src+'" type\x3d"'+b.opts.videoFormat+"\"\x3eYour browser doesn't support HTML5 video\x3c/video");break;case "inline":c(b.src).length?m.setContent(b,c(b.src)):m.setError(b);break;case "ajax":m.showLoading(b);l=c.ajax(c.extend({},b.opts.ajax.settings,{url:b.src,success:function(c,k){"success"===k&&m.setContent(b,c)},error:function(c,k){c&&"abort"!==k&&m.setError(b)}}));h.one("onReset",function(){l.abort()});break;default:m.setError(b)}return!0}},setImage:function(k){var h,l,m,q,n=this,v=k.opts.srcset||
k.opts.image.srcset;if(k.timouts=setTimeout(function(){var b=k.$image;!k.isLoading||b&&b[0].complete||k.hasError||n.showLoading(k)},350),v){m=b.devicePixelRatio||1;q=b.innerWidth*m;l=v.split(",").map(function(b){var c={};return b.trim().split(/\s+/).forEach(function(b,k){var h=parseInt(b.substring(0,b.length-1),10);return 0===k?c.url=b:void(h&&(c.value=h,c.postfix=b[b.length-1]))}),c});l.sort(function(b,c){return b.value-c.value});for(var p=0;p<l.length;p++){var z=l[p];if("w"===z.postfix&&z.value>=
q||"x"===z.postfix&&z.value>=m){h=z;break}}!h&&l.length&&(h=l[l.length-1]);h&&(k.src=h.url,k.width&&k.height&&"w"==h.postfix&&(k.height=k.width/k.height*h.value,k.width=h.value),k.opts.srcset=v)}k.$content=c('\x3cdiv class\x3d"fancybox-content"\x3e\x3c/div\x3e').addClass("fancybox-is-hidden").appendTo(k.$slide.addClass("fancybox-slide--image"));h=k.opts.thumb||!(!k.opts.$thumb||!k.opts.$thumb.length)&&k.opts.$thumb.attr("src");!1!==k.opts.preload&&k.opts.width&&k.opts.height&&h&&(k.width=k.opts.width,
k.height=k.opts.height,k.$ghost=c("\x3cimg /\x3e").one("error",function(){c(this).remove();k.$ghost=null}).one("load",function(){n.afterLoad(k)}).addClass("fancybox-image").appendTo(k.$content).attr("src",h));n.setBigImage(k)},setBigImage:function(b){var k=this,h=c("\x3cimg /\x3e");b.$image=h.one("error",function(){k.setError(b)}).one("load",function(){var c;b.$ghost||(k.resolveImageSlideSize(b,this.naturalWidth,this.naturalHeight),k.afterLoad(b));b.timouts&&(clearTimeout(b.timouts),b.timouts=null);
k.isClosing||(b.opts.srcset&&(c=b.opts.sizes,c&&"auto"!==c||(c=(1<b.width/b.height&&1<n.width()/n.height()?"100":Math.round(b.width/b.height*100))+"vw"),h.attr("sizes",c).attr("srcset",b.opts.srcset)),b.$ghost&&setTimeout(function(){b.$ghost&&!k.isClosing&&b.$ghost.hide()},Math.min(300,Math.max(1E3,b.height/1600))),k.hideLoading(b))}).addClass("fancybox-image").attr("src",b.src).appendTo(b.$content);(h[0].complete||"complete"==h[0].readyState)&&h[0].naturalWidth&&h[0].naturalHeight?h.trigger("load"):
h[0].error&&h.trigger("error")},resolveImageSlideSize:function(b,c,k){var h=parseInt(b.opts.width,10),l=parseInt(b.opts.height,10);b.width=c;b.height=k;0<h&&(b.width=h,b.height=Math.floor(h*k/c));0<l&&(b.width=Math.floor(l*c/k),b.height=l)},setIframe:function(b){var k,h=this,m=b.opts.iframe,q=b.$slide;b.$content=c('\x3cdiv class\x3d"fancybox-content'+(m.preload?" fancybox-is-hidden":"")+'"\x3e\x3c/div\x3e').css(m.css).appendTo(q);q.addClass("fancybox-slide--"+b.contentType);b.$iframe=k=c(m.tpl.replace(/\{rnd\}/g,
(new Date).getTime())).attr(m.attr).appendTo(b.$content);m.preload?(h.showLoading(b),k.on("load.fb error.fb",function(c){this.isReady=1;b.$slide.trigger("refresh");h.afterLoad(b)}),q.on("refresh.fb",function(){var c,h,q=b.$content,n=m.css.width,v=m.css.height;if(1===k[0].isReady){try{c=k.contents(),h=c.find("body")}catch(p){}h&&h.length&&h.children().length&&(q.css({width:"",height:""}),n===l&&(n=Math.ceil(Math.max(h[0].clientWidth,h.outerWidth(!0)))),n&&q.width(n),v===l&&(v=Math.ceil(Math.max(h[0].clientHeight,
h.outerHeight(!0)))),v&&q.height(v));q.removeClass("fancybox-is-hidden")}})):this.afterLoad(b);k.attr("src",b.src);q.one("onReset",function(){try{c(this).find("iframe").hide().unbind().attr("src","//about:blank")}catch(k){}c(this).off("refresh.fb").empty();b.isLoaded=!1})},setContent:function(b,k){this.isClosing||(this.hideLoading(b),b.$content&&c.fancybox.stop(b.$content),b.$slide.empty(),k&&k.hasOwnProperty&&k instanceof c&&k.parent().length?(k.parent().parent(".fancybox-slide--inline").trigger("onReset"),
b.$placeholder=c("\x3cdiv\x3e").hide().insertAfter(k),k.css("display","inline-block")):b.hasError||("string"===c.type(k)&&(k=c("\x3cdiv\x3e").append(c.trim(k)).contents(),3===k[0].nodeType&&(k=c("\x3cdiv\x3e").html(k))),b.opts.filter&&(k=c("\x3cdiv\x3e").html(k).find(b.opts.filter))),b.$slide.one("onReset",function(){c(this).find("video,audio").trigger("pause");b.$placeholder&&(b.$placeholder.after(k.hide()).remove(),b.$placeholder=null);b.$smallBtn&&(b.$smallBtn.remove(),b.$smallBtn=null);b.hasError||
(c(this).empty(),b.isLoaded=!1)}),c(k).appendTo(b.$slide),c(k).is("video,audio")&&(c(k).addClass("fancybox-video"),c(k).wrap("\x3cdiv\x3e\x3c/div\x3e"),b.contentType="video",b.opts.width=b.opts.width||c(k).attr("width"),b.opts.height=b.opts.height||c(k).attr("height")),b.$content=b.$slide.children().filter("div,form,main,video,audio").first().addClass("fancybox-content"),b.$slide.addClass("fancybox-slide--"+b.contentType),this.afterLoad(b))},setError:function(b){b.hasError=!0;b.$slide.trigger("onReset").removeClass("fancybox-slide--"+
b.contentType).addClass("fancybox-slide--error");b.contentType="html";this.setContent(b,this.translate(b,b.opts.errorTpl));b.pos===this.currPos&&(this.isAnimating=!1)},showLoading:function(b){(b=b||this.current)&&!b.$spinner&&(b.$spinner=c(this.translate(this,this.opts.spinnerTpl)).appendTo(b.$slide))},hideLoading:function(b){(b=b||this.current)&&b.$spinner&&(b.$spinner.remove(),delete b.$spinner)},afterLoad:function(b){this.isClosing||(b.isLoading=!1,b.isLoaded=!0,this.trigger("afterLoad",b),this.hideLoading(b),
b.pos===this.currPos&&this.updateCursor(),!b.opts.smallBtn||b.$smallBtn&&b.$smallBtn.length||(b.$smallBtn=c(this.translate(b,b.opts.btnTpl.smallBtn)).prependTo(b.$content)),b.opts.protect&&b.$content&&!b.hasError&&(b.$content.on("contextmenu.fb",function(b){return 2==b.button&&b.preventDefault(),!0}),"image"===b.type&&c('\x3cdiv class\x3d"fancybox-spaceball"\x3e\x3c/div\x3e').appendTo(b.$content)),this.revealContent(b))},revealContent:function(b){var k,h,m,q,n=this,v=b.$slide,p=!1,z=!1;return k=b.opts[n.firstRun?
"animationEffect":"transitionEffect"],m=b.opts[n.firstRun?"animationDuration":"transitionDuration"],m=parseInt(b.forcedDuration===l?m:b.forcedDuration,10),b.pos===n.currPos&&(b.isComplete?k=!1:n.isAnimating=!0),!b.isMoved&&b.pos===n.currPos&&m||(k=!1),"zoom"===k&&(b.pos===n.currPos&&m&&"image"===b.type&&!b.hasError&&(z=n.getThumbPos(b))?p=n.getFitPos(b):k="fade"),"zoom"===k?(p.scaleX=p.width/z.width,p.scaleY=p.height/z.height,q=b.opts.zoomOpacity,"auto"==q&&(q=.1<Math.abs(b.width/b.height-z.width/
z.height)),q&&(z.opacity=.1,p.opacity=1),c.fancybox.setTranslate(b.$content.removeClass("fancybox-is-hidden"),z),y(b.$content),void c.fancybox.animate(b.$content,p,m,function(){n.isAnimating=!1;n.complete()})):(n.updateSlide(b),k?(c.fancybox.stop(v),h="fancybox-animated fancybox-slide--"+(b.pos>=n.prevPos?"next":"previous")+" fancybox-fx-"+k,v.removeAttr("style").removeClass("fancybox-slide--current fancybox-slide--next fancybox-slide--previous").addClass(h),b.$content.removeClass("fancybox-is-hidden"),
y(v),void c.fancybox.animate(v,"fancybox-slide--current",m,function(c){v.removeClass(h).removeAttr("style");b.pos===n.currPos&&n.complete()},!0)):(y(v),b.$content.removeClass("fancybox-is-hidden"),void(b.pos===n.currPos&&n.complete())))},getThumbPos:function(k){var l,m=!1,q=(k=k.opts.$thumb)&&k.length&&k[0].ownerDocument===h?k.offset():0,n=function(k){var h;k=k[0];for(var l=k.getBoundingClientRect(),m=[];null!==k.parentElement;)"hidden"!==c(k.parentElement).css("overflow")&&"auto"!==c(k.parentElement).css("overflow")||
m.push(k.parentElement.getBoundingClientRect()),k=k.parentElement;return h=m.every(function(b){var c=Math.min(l.bottom,b.bottom)-Math.max(l.top,b.top);return 0<Math.min(l.right,b.right)-Math.max(l.left,b.left)&&0<c}),h&&0<l.bottom&&0<l.right&&l.left<c(b).width()&&l.top<c(b).height()};return q&&n(k)&&(l=this.$refs.stage.offset(),m={top:q.top-l.top+parseFloat(k.css("border-top-width")||0),left:q.left-l.left+parseFloat(k.css("border-left-width")||0),width:k.width(),height:k.height(),scaleX:1,scaleY:1}),
m},complete:function(){var b=this,k=b.current,l={};!k.isMoved&&k.isLoaded&&(k.isComplete||(k.isComplete=!0,k.$slide.siblings().trigger("onReset"),b.preload("inline"),y(k.$slide),k.$slide.addClass("fancybox-slide--complete"),c.each(b.slides,function(k,h){h.pos>=b.currPos-1&&h.pos<=b.currPos+1?l[h.pos]=h:h&&(c.fancybox.stop(h.$slide),h.$slide.off().remove())}),b.slides=l),b.isAnimating=!1,b.updateCursor(),b.trigger("afterShow"),k.$slide.find("video,audio").filter(":visible:first").trigger("play"),(c(h.activeElement).is("[disabled]")||
k.opts.autoFocus&&"image"!=k.type&&"iframe"!==k.type)&&b.focus())},preload:function(b){var c=this.slides[this.currPos+1],k=this.slides[this.currPos-1];c&&c.type===b&&this.loadSlide(c);k&&k.type===b&&this.loadSlide(k)},focus:function(){var b,c=this.current;this.isClosing||c&&c.isComplete&&c.$content&&(b=c.$content.find("input[autofocus]:enabled:visible:first"),b.length||(b=c.$content.find("button,:input,[tabindex],a").filter(":enabled:visible:first")),b=b&&b.length?b:c.$content,b.trigger("focus"))},
activate:function(){var b=this;c(".fancybox-container").each(function(){var k=c(this).data("FancyBox");k&&k.id!==b.id&&!k.isClosing&&(k.trigger("onDeactivate"),k.removeEvents(),k.isVisible=!1)});b.isVisible=!0;(b.current||b.isIdle)&&(b.update(),b.updateControls());b.trigger("onActivate");b.addEvents()},close:function(b,k){var h,l,m,n,p,z,u,A=this,J=A.current,L=function(){A.cleanUp(b)};return!A.isClosing&&(A.isClosing=!0,!1===A.trigger("beforeClose",b)?(A.isClosing=!1,q(function(){A.update()}),!1):
(A.removeEvents(),J.timouts&&clearTimeout(J.timouts),m=J.$content,h=J.opts.animationEffect,l=c.isNumeric(k)?k:h?J.opts.animationDuration:0,J.$slide.off(v).removeClass("fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated"),J.$slide.siblings().trigger("onReset").remove(),l&&A.$refs.container.removeClass("fancybox-is-open").addClass("fancybox-is-closing"),A.hideLoading(J),A.hideControls(),A.updateCursor(),"zoom"!==h||!0!==b&&m&&l&&"image"===J.type&&!J.hasError&&(u=
A.getThumbPos(J))||(h="fade"),"zoom"===h?(c.fancybox.stop(m),n=c.fancybox.getTranslate(m),z={top:n.top,left:n.left,scaleX:n.width/u.width,scaleY:n.height/u.height,width:u.width,height:u.height},p=J.opts.zoomOpacity,"auto"==p&&(p=.1<Math.abs(J.width/J.height-u.width/u.height)),p&&(u.opacity=0),c.fancybox.setTranslate(m,z),y(m),c.fancybox.animate(m,u,l,L),!0):(h&&l?!0===b?setTimeout(L,l):c.fancybox.animate(J.$slide.removeClass("fancybox-slide--current"),"fancybox-animated fancybox-slide--previous fancybox-fx-"+
h,l,L):L(),!0)))},cleanUp:function(b){var k=c("body");this.current.$slide.trigger("onReset");this.$refs.container.empty().remove();this.trigger("afterClose",b);this.$lastFocus&&this.current.opts.backFocus&&this.$lastFocus.trigger("focus");this.current=null;(b=c.fancybox.getInstance())?b.activate():(k.removeClass("fancybox-active compensate-for-scrollbar"),c("#fancybox-style-noscroll").remove())},trigger:function(b,k){var h,l=Array.prototype.slice.call(arguments,1),m=k&&k.opts?k:this.current;return m?
l.unshift(m):m=this,l.unshift(this),c.isFunction(m.opts[b])&&(h=m.opts[b].apply(m,l)),!1===h?h:void("afterClose"!==b&&this.$refs?this.$refs.container.trigger(b+".fb",l):u.trigger(b+".fb",l))},updateControls:function(b){b=this.current;var c=b.index,k=b.opts.caption,h=this.$refs.container,l=this.$refs.caption;b.$slide.trigger("refresh");this.$caption=k&&k.length?l.html(k):null;this.isHiddenControls||this.isIdle||this.showControls();h.find("[data-fancybox-count]").html(this.group.length);h.find("[data-fancybox-index]").html(c+
1);h.find("[data-fancybox-prev]").toggleClass("disabled",!b.opts.loop&&0>=c);h.find("[data-fancybox-next]").toggleClass("disabled",!b.opts.loop&&c>=this.group.length-1);"image"===b.type?h.find("[data-fancybox-zoom]").show().end().find("[data-fancybox-download]").attr("href",b.opts.image.src||b.src).show():b.opts.toolbar&&h.find("[data-fancybox-download],[data-fancybox-zoom]").hide()},hideControls:function(){this.isHiddenControls=!0;this.$refs.container.removeClass("fancybox-show-infobar fancybox-show-toolbar fancybox-show-caption fancybox-show-nav")},
showControls:function(){var b=this.current?this.current.opts:this.opts,c=this.$refs.container;this.isHiddenControls=!1;this.idleSecondsCounter=0;c.toggleClass("fancybox-show-toolbar",!(!b.toolbar||!b.buttons)).toggleClass("fancybox-show-infobar",!!(b.infobar&&1<this.group.length)).toggleClass("fancybox-show-nav",!!(b.arrows&&1<this.group.length)).toggleClass("fancybox-is-modal",!!b.modal);this.$caption?c.addClass("fancybox-show-caption "):c.removeClass("fancybox-show-caption")},toggleControls:function(){this.isHiddenControls?
this.showControls():this.hideControls()}});c.fancybox={version:"3.3.5",defaults:p,getInstance:function(b){var k=c('.fancybox-container:not(".fancybox-is-closing"):last').data("FancyBox"),h=Array.prototype.slice.call(arguments,1);return k instanceof A&&("string"===c.type(b)?k[b].apply(k,h):"function"===c.type(b)&&b.apply(k,h),k)},open:function(b,c,k){return new A(b,c,k)},close:function(b){var c=this.getInstance();c&&(c.close(),!0===b&&this.close())},destroy:function(){this.close(!0);u.add("body").off("click.fb-start",
"**")},isMobile:h.createTouch!==l&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),use3d:function(){var c=h.createElement("div");return b.getComputedStyle&&b.getComputedStyle(c)&&b.getComputedStyle(c).getPropertyValue("transform")&&!(h.documentMode&&11>h.documentMode)}(),getTranslate:function(b){var c;return!(!b||!b.length)&&(c=b[0].getBoundingClientRect(),{top:c.top||0,left:c.left||0,width:c.width,height:c.height,opacity:parseFloat(b.css("opacity"))})},
setTranslate:function(b,c){var k="",h={};if(b&&c)return c.left===l&&c.top===l||(k=(c.left===l?b.position().left:c.left)+"px, "+(c.top===l?b.position().top:c.top)+"px",k=this.use3d?"translate3d("+k+", 0px)":"translate("+k+")"),c.scaleX!==l&&c.scaleY!==l&&(k=(k.length?k+" ":"")+"scale("+c.scaleX+", "+c.scaleY+")"),k.length&&(h.transform=k),c.opacity!==l&&(h.opacity=c.opacity),c.width!==l&&(h.width=c.width),c.height!==l&&(h.height=c.height),b.css(h)},animate:function(b,k,h,m,q){var n=!1;c.isFunction(h)&&
(m=h,h=null);c.isPlainObject(k)||b.removeAttr("style");c.fancybox.stop(b);b.on(v,function(h){(!h||!h.originalEvent||b.is(h.originalEvent.target)&&"z-index"!=h.originalEvent.propertyName)&&(c.fancybox.stop(b),n&&c.fancybox.setTranslate(b,n),c.isPlainObject(k)?!1===q&&b.removeAttr("style"):!0!==q&&b.removeClass(k),c.isFunction(m)&&m(h))});c.isNumeric(h)&&b.css("transition-duration",h+"ms");c.isPlainObject(k)?(k.scaleX!==l&&k.scaleY!==l&&(n=c.extend({},k,{width:b.width()*k.scaleX,height:b.height()*k.scaleY,
scaleX:1,scaleY:1}),delete k.width,delete k.height,b.parent().hasClass("fancybox-slide--image")&&b.parent().addClass("fancybox-is-scaling")),c.fancybox.setTranslate(b,k)):b.addClass(k);b.data("timer",setTimeout(function(){b.trigger("transitionend")},h+16))},stop:function(b){b&&b.length&&(clearTimeout(b.data("timer")),b.off("transitionend").css("transition-duration",""),b.parent().removeClass("fancybox-is-scaling"))}};c.fn.fancybox=function(b){var k;return b=b||{},k=b.selector||!1,k?c("body").off("click.fb-start",
k).on("click.fb-start",k,{options:b},m):this.off("click.fb-start").on("click.fb-start",{items:this,options:b},m),this};u.on("click.fb-start","[data-fancybox]",m);u.on("click.fb-start","[data-trigger]",function(b){m(b,{$target:c('[data-fancybox\x3d"'+c(b.currentTarget).attr("data-trigger")+'"]').eq(c(b.currentTarget).attr("data-index")||0),$trigger:c(this)})})}}(window,document,window.jQuery||jQuery);
(function(b){var h=function(c,h,p){if(c)return p=p||"","object"===b.type(p)&&(p=b.param(p,!0)),b.each(h,function(b,h){c=c.replace("$"+b,h||"")}),p.length&&(c+=(0<c.indexOf("?")?"\x26":"?")+p),c},c={youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"//www.youtube.com/embed/$4",
thumb:"//img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1,api:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size\x3dl"},gmap_place:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",
url:function(b){return"//maps.google."+b[2]+"/?ll\x3d"+(b[9]?b[9]+"\x26z\x3d"+Math.floor(b[10])+(b[12]?b[12].replace(/^\//,"\x26"):""):b[12]+"").replace(/\?/,"\x26")+"\x26output\x3d"+(b[12]&&0<b[12].indexOf("layer\x3dc")?"svembed":"embed")}},gmap_search:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(maps\/search\/)(.*)/i,type:"iframe",url:function(b){return"//maps.google."+b[2]+"/maps?q\x3d"+b[5].replace("query\x3d","q\x3d").replace("api\x3d1","")+"\x26output\x3dembed"}}};b(document).on("objectNeedsType.fb",
function(l,m,p){var n,u,k,q,v,y,z=p.src||"",A=!1;l=b.extend(!0,{},c,p.opts.media);b.each(l,function(c,l){if(u=z.match(l.matcher)){if(A=l.type,y=c,v={},l.paramPlace&&u[l.paramPlace]){q=u[l.paramPlace];"?"==q[0]&&(q=q.substring(1));q=q.split("\x26");for(var m=0;m<q.length;++m){var x=q[m].split("\x3d",2);2==x.length&&(v[x[0]]=decodeURIComponent(x[1].replace(/\+/g," ")))}}return k=b.extend(!0,{},l.params,p.opts[c],v),z="function"===b.type(l.url)?l.url.call(this,u,k,p):h(l.url,u,k),n="function"===b.type(l.thumb)?
l.thumb.call(this,u,k,p):h(l.thumb,u),"youtube"===c?z=z.replace(/&t=((\d+)m)?(\d+)s/,function(b,c,k,h){return"\x26start\x3d"+((k?60*parseInt(k,10):0)+parseInt(h,10))}):"vimeo"===c&&(z=z.replace("\x26%23","#")),!1}});A?(p.opts.thumb||p.opts.$thumb&&p.opts.$thumb.length||(p.opts.thumb=n),"iframe"===A&&(p.opts=b.extend(!0,p.opts,{iframe:{preload:!1,attr:{scrolling:"no"}}})),b.extend(p,{type:A,src:z,origSrc:p.src,contentSource:y,contentType:"image"===A?"image":"gmap_place"==y||"gmap_search"==y?"map":
"video"})):z&&(p.type=p.opts.defaultType)})})(window.jQuery||jQuery);
(function(b,h,c){var l=function(){return b.requestAnimationFrame||b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame||b.oRequestAnimationFrame||function(c){return b.setTimeout(c,1E3/60)}}(),m=function(){return b.cancelAnimationFrame||b.webkitCancelAnimationFrame||b.mozCancelAnimationFrame||b.oCancelAnimationFrame||function(c){b.clearTimeout(c)}}(),p=function(c){var k=[];c=c.originalEvent||c||b.e;c=c.touches&&c.touches.length?c.touches:c.changedTouches&&c.changedTouches.length?c.changedTouches:
[c];for(var h in c)c[h].pageX?k.push({x:c[h].pageX,y:c[h].pageY}):c[h].clientX&&k.push({x:c[h].clientX,y:c[h].clientY});return k},n=function(b,c,k){return c&&b?"x"===k?b.x-c.x:"y"===k?b.y-c.y:Math.sqrt(Math.pow(b.x-c.x,2)+Math.pow(b.y-c.y,2)):0},u=function(b){if(b.is('a,area,button,[role\x3d"button"],input,label,select,summary,textarea,video,audio')||c.isFunction(b.get(0).onclick)||b.data("selectable"))return!0;var k=0;b=b[0].attributes;for(var h=b.length;k<h;k++)if("data-fancybox-"===b[k].nodeName.substr(0,
14))return!0;return!1},k=function(c){for(var k;;){k=c.get(0);var h=b.getComputedStyle(k)["overflow-y"],l=b.getComputedStyle(k)["overflow-x"],l=("scroll"===l||"auto"===l)&&k.scrollWidth>k.clientWidth;if(k=("scroll"===h||"auto"===h)&&k.scrollHeight>k.clientHeight||l)break;if(c=c.parent(),!c.length||c.hasClass("fancybox-stage")||c.is("body"))break}return k},q=function(b){this.instance=b;this.$bg=b.$refs.bg;this.$stage=b.$refs.stage;this.$container=b.$refs.container;this.destroy();this.$container.on("touchstart.fb.touch mousedown.fb.touch",
c.proxy(this,"ontouchstart"))};q.prototype.destroy=function(){this.$container.off(".fb.touch")};q.prototype.ontouchstart=function(l){var m=c(l.target),q=this.instance,A=q.current,r=A.$content,B="touchstart"==l.type;if(B&&this.$container.off("mousedown.fb.touch"),!(l.originalEvent&&2==l.originalEvent.button||!m.length||u(m)||u(m.parent())||!m.is("img")&&l.originalEvent.clientX>m[0].clientWidth+m.offset().left)){if(!A||q.isAnimating||q.isClosing)return l.stopPropagation(),void l.preventDefault();if(this.realPoints=
this.startPoints=p(l),this.startPoints.length){if(l.stopPropagation(),this.startEvent=l,this.canTap=!0,this.$target=m,this.$content=r,this.opts=A.opts.touch,this.isPanning=!1,this.isSwiping=!1,this.isZooming=!1,this.isScrolling=!1,this.startTime=(new Date).getTime(),this.distanceX=this.distanceY=this.distance=0,this.canvasWidth=Math.round(A.$slide[0].clientWidth),this.canvasHeight=Math.round(A.$slide[0].clientHeight),this.contentLastPos=null,this.contentStartPos=c.fancybox.getTranslate(this.$content)||
{top:0,left:0},this.sliderStartPos=this.sliderLastPos||c.fancybox.getTranslate(A.$slide),this.stagePos=c.fancybox.getTranslate(q.$refs.stage),this.sliderStartPos.top-=this.stagePos.top,this.sliderStartPos.left-=this.stagePos.left,this.contentStartPos.top-=this.stagePos.top,this.contentStartPos.left-=this.stagePos.left,c(h).off(".fb.touch").on(B?"touchend.fb.touch touchcancel.fb.touch":"mouseup.fb.touch mouseleave.fb.touch",c.proxy(this,"ontouchend")).on(B?"touchmove.fb.touch":"mousemove.fb.touch",
c.proxy(this,"ontouchmove")),c.fancybox.isMobile&&h.addEventListener("scroll",this.onscroll,!0),!this.opts&&!q.canPan()||!m.is(this.$stage)&&!this.$stage.find(m).length)return void(m.is(".fancybox-image")&&l.preventDefault());c.fancybox.isMobile&&(k(m)||k(m.parent()))||l.preventDefault();(1===this.startPoints.length||A.hasError)&&(this.instance.canPan()?(c.fancybox.stop(this.$content),this.$content.css("transition-duration",""),this.isPanning=!0):this.isSwiping=!0,this.$container.addClass("fancybox-controls--isGrabbing"));
2===this.startPoints.length&&"image"===A.type&&(A.isLoaded||A.$ghost)&&(this.canTap=!1,this.isSwiping=!1,this.isPanning=!1,this.isZooming=!0,c.fancybox.stop(this.$content),this.$content.css("transition-duration",""),this.centerPointStartX=.5*(this.startPoints[0].x+this.startPoints[1].x)-c(b).scrollLeft(),this.centerPointStartY=.5*(this.startPoints[0].y+this.startPoints[1].y)-c(b).scrollTop(),this.percentageOfImageAtPinchPointX=(this.centerPointStartX-this.contentStartPos.left)/this.contentStartPos.width,
this.percentageOfImageAtPinchPointY=(this.centerPointStartY-this.contentStartPos.top)/this.contentStartPos.height,this.startDistanceBetweenFingers=n(this.startPoints[0],this.startPoints[1]))}}};q.prototype.onscroll=function(b){this.isScrolling=!0;h.removeEventListener("scroll",this.onscroll,!0)};q.prototype.ontouchmove=function(b){var k=c(b.target);return void 0!==b.originalEvent.buttons&&0===b.originalEvent.buttons?void this.ontouchend(b):this.isScrolling||!k.is(this.$stage)&&!this.$stage.find(k).length?
void(this.canTap=!1):(this.newPoints=p(b),void((this.opts||this.instance.canPan())&&this.newPoints.length&&this.newPoints.length&&(this.isSwiping&&!0===this.isSwiping||b.preventDefault(),this.distanceX=n(this.newPoints[0],this.startPoints[0],"x"),this.distanceY=n(this.newPoints[0],this.startPoints[0],"y"),this.distance=n(this.newPoints[0],this.startPoints[0]),0<this.distance&&(this.isSwiping?this.onSwipe(b):this.isPanning?this.onPan():this.isZooming&&this.onZoom()))))};q.prototype.onSwipe=function(h){var q,
n=this;h=n.isSwiping;var p=n.sliderStartPos.left||0;if(!0!==h)"x"==h&&(0<n.distanceX&&(2>n.instance.group.length||0===n.instance.current.index&&!n.instance.current.opts.loop)?p+=Math.pow(n.distanceX,.8):0>n.distanceX&&(2>n.instance.group.length||n.instance.current.index===n.instance.group.length-1&&!n.instance.current.opts.loop)?p-=Math.pow(-n.distanceX,.8):p+=n.distanceX),n.sliderLastPos={top:"x"==h?0:n.sliderStartPos.top+n.distanceY,left:p},n.requestId&&(m(n.requestId),n.requestId=null),n.requestId=
l(function(){n.sliderLastPos&&(c.each(n.instance.slides,function(b,k){b=k.pos-n.instance.currPos;c.fancybox.setTranslate(k.$slide,{top:n.sliderLastPos.top,left:n.sliderLastPos.left+b*n.canvasWidth+b*k.opts.gutter})}),n.$container.addClass("fancybox-is-sliding"))});else if(10<Math.abs(n.distance)){if(n.canTap=!1,2>n.instance.group.length&&n.opts.vertical?n.isSwiping="y":n.instance.isDragging||!1===n.opts.vertical||"auto"===n.opts.vertical&&800<c(b).width()?n.isSwiping="x":(q=Math.abs(180*Math.atan2(n.distanceY,
n.distanceX)/Math.PI),n.isSwiping=45<q&&135>q?"y":"x"),n.canTap=!1,"y"===n.isSwiping&&c.fancybox.isMobile&&(k(n.$target)||k(n.$target.parent())))return void(n.isScrolling=!0);n.instance.isDragging=n.isSwiping;n.startPoints=n.newPoints;c.each(n.instance.slides,function(b,k){c.fancybox.stop(k.$slide);k.$slide.css("transition-duration","");k.inTransition=!1;k.pos===n.instance.current.pos&&(n.sliderStartPos.left=c.fancybox.getTranslate(k.$slide).left-c.fancybox.getTranslate(n.instance.$refs.stage).left)});
n.instance.SlideShow&&n.instance.SlideShow.isActive&&n.instance.SlideShow.stop()}};q.prototype.onPan=function(){var b=this;return n(b.newPoints[0],b.realPoints[0])<(c.fancybox.isMobile?10:5)?void(b.startPoints=b.newPoints):(b.canTap=!1,b.contentLastPos=b.limitMovement(),b.requestId&&(m(b.requestId),b.requestId=null),void(b.requestId=l(function(){c.fancybox.setTranslate(b.$content,b.contentLastPos)})))};q.prototype.limitMovement=function(){var b,c,k,h,l,m,q=this.canvasWidth,n=this.canvasHeight,p=this.distanceX,
u=this.distanceY,E=this.contentStartPos,G=E.left,K=E.top,I=E.width,E=E.height;return l=I>q?G+p:G,m=K+u,b=Math.max(0,.5*q-.5*I),c=Math.max(0,.5*n-.5*E),k=Math.min(q-I,.5*q-.5*I),h=Math.min(n-E,.5*n-.5*E),0<p&&l>b&&(l=b-1+Math.pow(-b+G+p,.8)||0),0>p&&l<k&&(l=k+1-Math.pow(k-G-p,.8)||0),0<u&&m>c&&(m=c-1+Math.pow(-c+K+u,.8)||0),0>u&&m<h&&(m=h+1-Math.pow(h-K-u,.8)||0),{top:m,left:l}};q.prototype.limitPosition=function(b,c,k,h){var l=this.canvasWidth,m=this.canvasHeight;return k>l?(b=0<b?0:b,b=b<l-k?l-k:
b):b=Math.max(0,l/2-k/2),h>m?(c=0<c?0:c,c=c<m-h?m-h:c):c=Math.max(0,m/2-h/2),{top:c,left:b}};q.prototype.onZoom=function(){var k=this,h=k.contentStartPos,q=h.width,p=h.height,r=h.left,u=h.top,C=n(k.newPoints[0],k.newPoints[1])/k.startDistanceBetweenFingers,h=Math.floor(q*C),x=Math.floor(p*C),q=(q-h)*k.percentageOfImageAtPinchPointX,p=(p-x)*k.percentageOfImageAtPinchPointY,D=(k.newPoints[0].x+k.newPoints[1].x)/2-c(b).scrollLeft(),F=(k.newPoints[0].y+k.newPoints[1].y)/2-c(b).scrollTop(),r={top:u+(p+
(F-k.centerPointStartY)),left:r+(q+(D-k.centerPointStartX)),scaleX:C,scaleY:C};k.canTap=!1;k.newWidth=h;k.newHeight=x;k.contentLastPos=r;k.requestId&&(m(k.requestId),k.requestId=null);k.requestId=l(function(){c.fancybox.setTranslate(k.$content,k.contentLastPos)})};q.prototype.ontouchend=function(b){var k=Math.max((new Date).getTime()-this.startTime,1),l=this.isSwiping,q=this.isPanning,r=this.isZooming,n=this.isScrolling;return this.endPoints=p(b),this.$container.removeClass("fancybox-controls--isGrabbing"),
c(h).off(".fb.touch"),h.removeEventListener("scroll",this.onscroll,!0),this.requestId&&(m(this.requestId),this.requestId=null),this.isSwiping=!1,this.isPanning=!1,this.isZooming=!1,this.isScrolling=!1,this.instance.isDragging=!1,this.canTap?this.onTap(b):(this.speed=366,this.velocityX=this.distanceX/k*.5,this.velocityY=this.distanceY/k*.5,this.speedX=Math.max(.5*this.speed,Math.min(1.5*this.speed,1/Math.abs(this.velocityX)*this.speed)),void(q?this.endPanning():r?this.endZooming():this.endSwiping(l,
n)))};q.prototype.endSwiping=function(b,k){var h=!1,l=this.instance.group.length;this.sliderLastPos=null;"y"==b&&!k&&50<Math.abs(this.distanceY)?(c.fancybox.animate(this.instance.current.$slide,{top:this.sliderStartPos.top+this.distanceY+150*this.velocityY,opacity:0},200),h=this.instance.close(!0,200)):"x"==b&&50<this.distanceX&&1<l?h=this.instance.previous(this.speedX):"x"==b&&-50>this.distanceX&&1<l&&(h=this.instance.next(this.speedX));!1!==h||"x"!=b&&"y"!=b||(k||2>l?this.instance.centerSlide(this.instance.current,
150):this.instance.jumpTo(this.instance.current.index));this.$container.removeClass("fancybox-is-sliding")};q.prototype.endPanning=function(){var b,k,h;this.contentLastPos&&(!1===this.opts.momentum?(b=this.contentLastPos.left,k=this.contentLastPos.top):(b=this.contentLastPos.left+this.velocityX*this.speed,k=this.contentLastPos.top+this.velocityY*this.speed),h=this.limitPosition(b,k,this.contentStartPos.width,this.contentStartPos.height),h.width=this.contentStartPos.width,h.height=this.contentStartPos.height,
c.fancybox.animate(this.$content,h,330))};q.prototype.endZooming=function(){var b,k,h,l,m=this.instance.current,q=this.newWidth,n=this.newHeight;this.contentLastPos&&(b=this.contentLastPos.left,k=this.contentLastPos.top,l={top:k,left:b,width:q,height:n,scaleX:1,scaleY:1},c.fancybox.setTranslate(this.$content,l),q<this.canvasWidth&&n<this.canvasHeight?this.instance.scaleToFit(150):q>m.width||n>m.height?this.instance.scaleToActual(this.centerPointStartX,this.centerPointStartY,150):(h=this.limitPosition(b,
k,q,n),c.fancybox.setTranslate(this.$content,c.fancybox.getTranslate(this.$content)),c.fancybox.animate(this.$content,h,150)))};q.prototype.onTap=function(k){var h,l=this,m=c(k.target),q=l.instance,n=q.current,u=k&&p(k)||l.startPoints,x=u[0]?u[0].x-c(b).scrollLeft()-l.stagePos.left:0,D=u[0]?u[0].y-c(b).scrollTop()-l.stagePos.top:0,F=function(b){b=n.opts[b];if(c.isFunction(b)&&(b=b.apply(q,[n,k])),b)switch(b){case "close":q.close(l.startEvent);break;case "toggleControls":q.toggleControls(!0);break;
case "next":q.next();break;case "nextOrClose":1<q.group.length?q.next():q.close(l.startEvent);break;case "zoom":"image"==n.type&&(n.isLoaded||n.$ghost)&&(q.canPan()?q.scaleToFit():q.isScaledDown()?q.scaleToActual(x,D):2>q.group.length&&q.close(l.startEvent))}};if(!(k.originalEvent&&2==k.originalEvent.button||!m.is("img")&&x>m[0].clientWidth+m.offset().left)){if(m.is(".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container"))h="Outside";else if(m.is(".fancybox-slide"))h="Slide";else{if(!q.current.$content||
!q.current.$content.find(m).addBack().filter(m).length)return;h="Content"}if(l.tapped){if(clearTimeout(l.tapped),l.tapped=null,50<Math.abs(x-l.tapX)||50<Math.abs(D-l.tapY))return this;F("dblclick"+h)}else l.tapX=x,l.tapY=D,n.opts["dblclick"+h]&&n.opts["dblclick"+h]!==n.opts["click"+h]?l.tapped=setTimeout(function(){l.tapped=null;F("click"+h)},500):F("click"+h);return this}};c(h).on("onActivate.fb",function(b,c){c&&!c.Guestures&&(c.Guestures=new q(c))})})(window,document,window.jQuery||jQuery);
(function(b,h){h.extend(!0,h.fancybox.defaults,{btnTpl:{slideShow:'\x3cbutton data-fancybox-play class\x3d"fancybox-button fancybox-button--play" title\x3d"{{PLAY_START}}"\x3e\x3csvg viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M13,12 L27,20 L13,27 Z" /\x3e\x3cpath d\x3d"M15,10 v19 M23,10 v19" /\x3e\x3c/svg\x3e\x3c/button\x3e'},slideShow:{autoStart:!1,speed:3E3}});var c=function(b){this.instance=b;this.init()};h.extend(c.prototype,{timer:null,isActive:!1,$button:null,init:function(){var b=this;b.$button=
b.instance.$refs.toolbar.find("[data-fancybox-play]").on("click",function(){b.toggle()});(2>b.instance.group.length||!b.instance.group[b.instance.currIndex].opts.slideShow)&&b.$button.hide()},set:function(b){var c=this;c.instance&&c.instance.current&&(!0===b||c.instance.current.opts.loop||c.instance.currIndex<c.instance.group.length-1)?c.timer=setTimeout(function(){c.isActive&&c.instance.jumpTo((c.instance.currIndex+1)%c.instance.group.length)},c.instance.current.opts.slideShow.speed):(c.stop(),c.instance.idleSecondsCounter=
0,c.instance.showControls())},clear:function(){clearTimeout(this.timer);this.timer=null},start:function(){var b=this.instance.current;b&&(this.isActive=!0,this.$button.attr("title",b.opts.i18n[b.opts.lang].PLAY_STOP).removeClass("fancybox-button--play").addClass("fancybox-button--pause"),this.set(!0))},stop:function(){var b=this.instance.current;this.clear();this.$button.attr("title",b.opts.i18n[b.opts.lang].PLAY_START).removeClass("fancybox-button--pause").addClass("fancybox-button--play");this.isActive=
!1},toggle:function(){this.isActive?this.stop():this.start()}});h(b).on({"onInit.fb":function(b,h){h&&!h.SlideShow&&(h.SlideShow=new c(h))},"beforeShow.fb":function(b,c,h,n){b=c&&c.SlideShow;n?b&&h.opts.slideShow.autoStart&&b.start():b&&b.isActive&&b.clear()},"afterShow.fb":function(b,c,h){(b=c&&c.SlideShow)&&b.isActive&&b.set()},"afterKeydown.fb":function(c,m,p,n,u){c=m&&m.SlideShow;!c||!p.opts.slideShow||80!==u&&32!==u||h(b.activeElement).is("button,a,input")||(n.preventDefault(),c.toggle())},"beforeClose.fb onDeactivate.fb":function(b,
c){(b=c&&c.SlideShow)&&b.stop()}});h(b).on("visibilitychange",function(){var c=h.fancybox.getInstance();(c=c&&c.SlideShow)&&c.isActive&&(b.hidden?c.clear():c.set())})})(document,window.jQuery||jQuery);
(function(b,h){var c=function(){for(var c=["requestFullscreen exitFullscreen fullscreenElement fullscreenEnabled fullscreenchange fullscreenerror".split(" "),"webkitRequestFullscreen webkitExitFullscreen webkitFullscreenElement webkitFullscreenEnabled webkitfullscreenchange webkitfullscreenerror".split(" "),"webkitRequestFullScreen webkitCancelFullScreen webkitCurrentFullScreenElement webkitCancelFullScreen webkitfullscreenchange webkitfullscreenerror".split(" "),"mozRequestFullScreen mozCancelFullScreen mozFullScreenElement mozFullScreenEnabled mozfullscreenchange mozfullscreenerror".split(" "),
"msRequestFullscreen msExitFullscreen msFullscreenElement msFullscreenEnabled MSFullscreenChange MSFullscreenError".split(" ")],h={},l=0;l<c.length;l++){var u=c[l];if(u&&u[1]in b){for(l=0;l<u.length;l++)h[c[0][l]]=u[l];return h}}return!1}();if(!c)return void(h&&h.fancybox&&(h.fancybox.defaults.btnTpl.fullScreen=!1));var l={request:function(h){h=h||b.documentElement;h[c.requestFullscreen](h.ALLOW_KEYBOARD_INPUT)},exit:function(){b[c.exitFullscreen]()},toggle:function(c){c=c||b.documentElement;this.isFullscreen()?
this.exit():this.request(c)},isFullscreen:function(){return!!b[c.fullscreenElement]},enabled:function(){return!!b[c.fullscreenEnabled]}};h.extend(!0,h.fancybox.defaults,{btnTpl:{fullScreen:'\x3cbutton data-fancybox-fullscreen class\x3d"fancybox-button fancybox-button--fullscreen" title\x3d"{{FULL_SCREEN}}"\x3e\x3csvg viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M9,12 v16 h22 v-16 h-22 v8" /\x3e\x3c/svg\x3e\x3c/button\x3e'},fullScreen:{autoStart:!1}});h(b).on({"onInit.fb":function(b,c){var h;c&&c.group[c.currIndex].opts.fullScreen?
(h=c.$refs.container,h.on("click.fb-fullscreen","[data-fancybox-fullscreen]",function(b){b.stopPropagation();b.preventDefault();l.toggle()}),c.opts.fullScreen&&!0===c.opts.fullScreen.autoStart&&l.request(),c.FullScreen=l):c&&c.$refs.toolbar.find("[data-fancybox-fullscreen]").hide()},"afterKeydown.fb":function(b,c,h,l,k){c&&c.FullScreen&&70===k&&(l.preventDefault(),c.FullScreen.toggle())},"beforeClose.fb":function(b,c){c&&c.FullScreen&&c.$refs.container.hasClass("fancybox-is-fullscreen")&&l.exit()}});
h(b).on(c.fullscreenchange,function(){var b=l.isFullscreen(),c=h.fancybox.getInstance();c&&(c.current&&"image"===c.current.type&&c.isAnimating&&(c.current.$content.css("transition","none"),c.isAnimating=!1,c.update(!0,!0,0)),c.trigger("onFullscreenChange",b),c.$refs.container.toggleClass("fancybox-is-fullscreen",b))})})(document,window.jQuery||jQuery);
(function(b,h){h.fancybox.defaults=h.extend(!0,{btnTpl:{thumbs:'\x3cbutton data-fancybox-thumbs class\x3d"fancybox-button fancybox-button--thumbs" title\x3d"{{THUMBS}}"\x3e\x3csvg viewBox\x3d"0 0 120 120"\x3e\x3cpath d\x3d"M30,30 h14 v14 h-14 Z M50,30 h14 v14 h-14 Z M70,30 h14 v14 h-14 Z M30,50 h14 v14 h-14 Z M50,50 h14 v14 h-14 Z M70,50 h14 v14 h-14 Z M30,70 h14 v14 h-14 Z M50,70 h14 v14 h-14 Z M70,70 h14 v14 h-14 Z" /\x3e\x3c/svg\x3e\x3c/button\x3e'},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",
axis:"y"}},h.fancybox.defaults);var c=function(b){this.init(b)};h.extend(c.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,isActive:!1,init:function(b){var c,h,n=this;n.instance=b;b.Thumbs=n;n.opts=b.group[b.currIndex].opts.thumbs;c=b.group[0];c=c.opts.thumb||!(!c.opts.$thumb||!c.opts.$thumb.length)&&c.opts.$thumb.attr("src");1<b.group.length&&(h=b.group[1],h=h.opts.thumb||!(!h.opts.$thumb||!h.opts.$thumb.length)&&h.opts.$thumb.attr("src"));n.$button=b.$refs.toolbar.find("[data-fancybox-thumbs]");
n.opts&&c&&h&&c&&h?(n.$button.show().on("click",function(){n.toggle()}),n.isActive=!0):n.$button.hide()},create:function(){var b,c=this.instance,p=this.opts.parentEl,n=[];this.$grid||(this.$grid=h('\x3cdiv class\x3d"fancybox-thumbs fancybox-thumbs-'+this.opts.axis+'"\x3e\x3c/div\x3e').appendTo(c.$refs.container.find(p).addBack().filter(p)),this.$grid.on("click","li",function(){c.jumpTo(h(this).attr("data-index"))}));this.$list||(this.$list=h("\x3cul\x3e").appendTo(this.$grid));h.each(c.group,function(c,
k){(b=k.opts.thumb||(k.opts.$thumb?k.opts.$thumb.attr("src"):null))||"image"!==k.type||(b=k.src);n.push('\x3cli data-index\x3d"'+c+'" tabindex\x3d"0" class\x3d"fancybox-thumbs-loading"'+(b&&b.length?' style\x3d"background-image:url('+b+')" /\x3e':"")+"\x3e\x3c/li\x3e")});this.$list[0].innerHTML=n.join("");"x"===this.opts.axis&&this.$list.width(parseInt(this.$grid.css("padding-right"),10)+c.group.length*this.$list.children().eq(0).outerWidth(!0))},focus:function(b){var c,h,n=this.$list,u=this.$grid;
this.instance.current&&(c=n.children().removeClass("fancybox-thumbs-active").filter('[data-index\x3d"'+this.instance.current.index+'"]').addClass("fancybox-thumbs-active"),h=c.position(),"y"===this.opts.axis&&(0>h.top||h.top>n.height()-c.outerHeight())?n.stop().animate({scrollTop:n.scrollTop()+h.top},b):"x"===this.opts.axis&&(h.left<u.scrollLeft()||h.left>u.scrollLeft()+(u.width()-c.outerWidth()))&&n.parent().stop().animate({scrollLeft:h.left},b))},update:function(){this.instance.$refs.container.toggleClass("fancybox-show-thumbs",
this.isVisible);this.isVisible?(this.$grid||this.create(),this.instance.trigger("onThumbsShow"),this.focus(0)):this.$grid&&this.instance.trigger("onThumbsHide");this.instance.update()},hide:function(){this.isVisible=!1;this.update()},show:function(){this.isVisible=!0;this.update()},toggle:function(){this.isVisible=!this.isVisible;this.update()}});h(b).on({"onInit.fb":function(b,h){var p;h&&!h.Thumbs&&(p=new c(h),p.isActive&&!0===p.opts.autoStart&&p.show())},"beforeShow.fb":function(b,c,h,n){(b=c&&
c.Thumbs)&&b.isVisible&&b.focus(n?0:250)},"afterKeydown.fb":function(b,c,h,n,u){(b=c&&c.Thumbs)&&b.isActive&&71===u&&(n.preventDefault(),b.toggle())},"beforeClose.fb":function(b,c){(b=c&&c.Thumbs)&&b.isVisible&&!1!==b.opts.hideOnClose&&b.$grid.hide()}})})(document,window.jQuery||jQuery);
(function(b,h){function c(b){var c={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#39;","/":"\x26#x2F;","`":"\x26#x60;","\x3d":"\x26#x3D;"};return String(b).replace(/[&<>"'`=\/]/g,function(b){return c[b]})}h.extend(!0,h.fancybox.defaults,{btnTpl:{share:'\x3cbutton data-fancybox-share class\x3d"fancybox-button fancybox-button--share" title\x3d"{{SHARE}}"\x3e\x3csvg viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M6,30 C8,18 19,16 23,16 L23,16 L23,10 L33,20 L23,29 L23,24 C19,24 8,27 6,30 Z"\x3e\x3c/svg\x3e\x3c/button\x3e'},
share:{url:function(b,c){return!b.currentHash&&"inline"!==c.type&&"html"!==c.type&&(c.origSrc||c.src)||window.location},tpl:'\x3cdiv class\x3d"fancybox-share"\x3e\x3ch1\x3e{{SHARE}}\x3c/h1\x3e\x3cp\x3e\x3ca class\x3d"fancybox-share__button fancybox-share__button--fb" href\x3d"https://www.facebook.com/sharer/sharer.php?u\x3d{{url}}"\x3e\x3csvg viewBox\x3d"0 0 512 512" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath d\x3d"m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196" /\x3e\x3c/svg\x3e\x3cspan\x3eFacebook\x3c/span\x3e\x3c/a\x3e\x3ca class\x3d"fancybox-share__button fancybox-share__button--tw" href\x3d"https://twitter.com/intent/tweet?url\x3d{{url}}\x26text\x3d{{descr}}"\x3e\x3csvg viewBox\x3d"0 0 512 512" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath d\x3d"m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z" /\x3e\x3c/svg\x3e\x3cspan\x3eTwitter\x3c/span\x3e\x3c/a\x3e\x3ca class\x3d"fancybox-share__button fancybox-share__button--pt" href\x3d"https://www.pinterest.com/pin/create/button/?url\x3d{{url}}\x26description\x3d{{descr}}\x26media\x3d{{media}}"\x3e\x3csvg viewBox\x3d"0 0 512 512" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath d\x3d"m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z" fill\x3d"#fff"/\x3e\x3c/svg\x3e\x3cspan\x3ePinterest\x3c/span\x3e\x3c/a\x3e\x3c/p\x3e\x3cp\x3e\x3cinput class\x3d"fancybox-share__input" type\x3d"text" value\x3d"{{url_raw}}" /\x3e\x3c/p\x3e\x3c/div\x3e'}});
h(b).on("click","[data-fancybox-share]",function(){var b,m,p=h.fancybox.getInstance(),n=p.current||null;n&&("function"===h.type(n.opts.share.url)&&(b=n.opts.share.url.apply(n,[p,n])),m=n.opts.share.tpl.replace(/\{\{media\}\}/g,"image"===n.type?encodeURIComponent(n.src):"").replace(/\{\{url\}\}/g,encodeURIComponent(b)).replace(/\{\{url_raw\}\}/g,c(b)).replace(/\{\{descr\}\}/g,p.$caption?encodeURIComponent(p.$caption.text()):""),h.fancybox.open({src:p.translate(p,m),type:"html",opts:{animationEffect:!1,
afterLoad:function(b,c){p.$refs.container.one("beforeClose.fb",function(){b.close(null,0)});c.$content.find(".fancybox-share__links a").click(function(){return window.open(this.href,"Share","width\x3d550, height\x3d450"),!1})}}}))})})(document,window.jQuery||jQuery);
(function(b,h,c){function l(){var b=h.location.hash.substr(1),c=b.split("-"),k=1<c.length&&/^\+?\d+$/.test(c[c.length-1])?parseInt(c.pop(-1),10)||1:1,c=c.join("-");return{hash:b,index:1>k?1:k,gallery:c}}function m(b){""!==b.gallery&&c("[data-fancybox\x3d'"+c.escapeSelector(b.gallery)+"']").eq(b.index-1).trigger("click.fb-start")}function p(b){var c,k;return!!b&&(c=b.current?b.current.opts:b.opts,k=c.hash||(c.$orig?c.$orig.data("fancybox"):""),""!==k&&k)}c.escapeSelector||(c.escapeSelector=function(b){return(b+
"").replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,function(b,c){return c?"\x00"===b?"\ufffd":b.slice(0,-1)+"\\"+b.charCodeAt(b.length-1).toString(16)+" ":"\\"+b})});c(function(){!1!==c.fancybox.defaults.hash&&(c(b).on({"onInit.fb":function(b,c){var k,h;!1!==c.group[c.currIndex].opts.hash&&(k=l(),h=p(c),h&&k.gallery&&h==k.gallery&&(c.currIndex=k.index-1))},"beforeShow.fb":function(c,l,k,m){var v;k&&!1!==k.opts.hash&&(v=p(l),v&&(l.currentHash=v+(1<l.group.length?"-"+(k.index+1):""),h.location.hash!==
"#"+l.currentHash&&(l.origHash||(l.origHash=h.location.hash),l.hashTimer&&clearTimeout(l.hashTimer),l.hashTimer=setTimeout(function(){"replaceState"in h.history?(h.history[m?"pushState":"replaceState"]({},b.title,h.location.pathname+h.location.search+"#"+l.currentHash),m&&(l.hasCreatedHistory=!0)):h.location.hash=l.currentHash;l.hashTimer=null},300))))},"beforeClose.fb":function(c,l,k){!1!==k.opts.hash&&(p(l),l.currentHash&&l.hasCreatedHistory?h.history.back():l.currentHash&&("replaceState"in h.history?
h.history.replaceState({},b.title,h.location.pathname+h.location.search+(l.origHash||"")):h.location.hash=l.origHash),l.currentHash=null,clearTimeout(l.hashTimer))}}),c(h).on("hashchange.fb",function(){var b,h=l();c.each(c(".fancybox-container").get().reverse(),function(k,h){k=c(h).data("FancyBox");if(k.currentHash)return b=k,!1});b?!b.currentHash||b.currentHash===h.gallery+"-"+h.index||1===h.index&&b.currentHash==h.gallery||(b.currentHash=null,b.close()):""!==h.gallery&&m(h)}),setTimeout(function(){c.fancybox.getInstance()||
m(l())},50))})})(document,window,window.jQuery||jQuery);
(function(b,h){var c=(new Date).getTime();h(b).on({"onInit.fb":function(b,h,p){h.$refs.stage.on("mousewheel DOMMouseScroll wheel MozMousePixelScroll",function(b){var l=h.current,k=(new Date).getTime();2>h.group.length||!1===l.opts.wheel||"auto"===l.opts.wheel&&"image"!==l.type||(b.preventDefault(),b.stopPropagation(),l.$slide.hasClass("fancybox-animated")||(b=b.originalEvent||b,250>k-c||(c=k,h[0>(-b.deltaY||-b.deltaX||b.wheelDelta||-b.detail)?"next":"previous"]())))})}})})(document,window.jQuery||
jQuery);
!function(b,h){"function"==typeof define&&define.amd?define(["jquery"],function(b){return h(b)}):"object"==typeof exports?module.exports=h(require("jquery")):h(jQuery)}(this,function(b){function h(b){this.$container;this.constraints=null;this.__$tooltip;this.__init(b)}function c(c,h){var l=!0;return b.each(c,function(b,m){return void 0===h[b]||c[b]!==h[b]?(l=!1,!1):void 0}),l}function l(c){var h=c.attr("id");h&&n.window.document.getElementById(h);return b.contains(n.window.document.body,c[0])}var m=
{animation:"fade",animationDuration:350,content:null,contentAsHTML:!1,contentCloning:!1,debug:!0,delay:300,delayTouch:[300,500],functionInit:null,functionBefore:null,functionReady:null,functionAfter:null,functionFormat:null,IEmin:6,interactive:!1,multiple:!1,parent:null,plugins:["sideTip"],repositionOnScroll:!1,restoration:"none",selfDestruction:!0,theme:[],timer:0,trackerInterval:500,trackOrigin:!1,trackTooltip:!1,trigger:"hover",triggerClose:{click:!1,mouseleave:!1,originClick:!1,scroll:!1,tap:!1,
touchleave:!1},triggerOpen:{click:!1,mouseenter:!1,tap:!1,touchstart:!1},updateAnimation:"rotate",zIndex:9999999},p="undefined"!=typeof window?window:null,n={hasTouchCapability:!(!p||!("ontouchstart"in p||p.DocumentTouch&&p.document instanceof p.DocumentTouch||p.navigator.maxTouchPoints)),hasTransitions:function(){if(!p)return!1;var b=(p.document.body||p.document.documentElement).style,c="transition",h=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof b[c])return!0;for(var c=c.charAt(0).toUpperCase()+
c.substr(1),l=0;l<h.length;l++)if("string"==typeof b[h[l]+c])return!0;return!1}(),IE:!1,semVer:"4.2.5",window:p},u=function(){this.__$emitterPrivate=b({});this.__$emitterPublic=b({});this.__instancesLatestArr=[];this.__plugins={};this._env=n};u.prototype={__bridge:function(c,h,l){if(!h[l]){var m=function(){};m.prototype=c;var n=new m;n.__init&&n.__init(h);b.each(c,function(b,c){0!=b.indexOf("__")&&(h[b]||(h[b]=function(){return n[b].apply(n,Array.prototype.slice.apply(arguments))},h[b].bridged=n))});
h[l]=n}return this},__setWindow:function(b){return n.window=b,this},_getRuler:function(b){return new h(b)},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_plugin:function(c){if("string"==
typeof c){var h=null;return 0<c.indexOf(".")?h=this.__plugins[c]:b.each(this.__plugins,function(b,l){return l.name.substring(l.name.length-c.length-1)=="."+c?(h=l,!1):void 0}),h}if(0>c.name.indexOf("."))throw Error("Plugins must be namespaced");return this.__plugins[c.name]=c,c.core&&this.__bridge(c.core,this,c.name),this},_trigger:function(){var b=Array.prototype.slice.apply(arguments);return"string"==typeof b[0]&&(b[0]={type:b[0]}),this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,b),
this.__$emitterPublic.trigger.apply(this.__$emitterPublic,b),this},instances:function(c){var h=[];return b(c||".tooltipstered").each(function(){var c=b(this),k=c.data("tooltipster-ns");k&&b.each(k,function(b,k){h.push(c.data(k))})}),h},instancesLatest:function(){return this.__instancesLatestArr},off:function(){return this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),
this},one:function(){return this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},origins:function(c){return b((c?c+" ":"")+".tooltipstered").toArray()},setDefaults:function(c){return b.extend(m,c),this},triggerHandler:function(){return this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}};b.tooltipster=new u;b.Tooltipster=function(c,h){this.__callbacks={close:[],open:[]};this.__closingTime;this.__Content;
this.__contentBcr;this.__destroyed=!1;this.__$emitterPrivate=b({});this.__$emitterPublic=b({});this.__enabled=!0;this.__garbageCollector;this.__Geometry;this.__lastPosition;this.__namespace="tooltipster-"+Math.round(1E6*Math.random());this.__options;this.__$originParents;this.__pointerIsOverOrigin=!1;this.__previousThemes=[];this.__state="closed";this.__timeouts={close:[],open:null};this.__touchEvents=[];this.__tracker=null;this._$origin;this._$tooltip;this.__init(c,h)};b.Tooltipster.prototype={__init:function(c,
h){var l=this;if(l._$origin=b(c),l.__options=b.extend(!0,{},m,h),l.__optionsFormat(),!n.IE||n.IE>=l.__options.IEmin){c=null;if(void 0===l._$origin.data("tooltipster-initialTitle")&&(c=l._$origin.attr("title"),void 0===c&&(c=null),l._$origin.data("tooltipster-initialTitle",c)),null!==l.__options.content)l.__contentSet(l.__options.content);else{var p;(h=l._$origin.attr("data-tooltip-content"))&&(p=b(h));p&&p[0]?l.__contentSet(p.first()):l.__contentSet(c)}l._$origin.removeAttr("title").addClass("tooltipstered");
l.__prepareOrigin();l.__prepareGC();b.each(l.__options.plugins,function(b,c){l._plug(c)});n.hasTouchCapability&&b(n.window.document.body).on("touchmove."+l.__namespace+"-triggerOpen",function(b){l._touchRecordEvent(b)});l._on("created",function(){l.__prepareTooltip()})._on("repositioned",function(b){l.__lastPosition=b.position})}else l.__options.disabled=!0},__contentInsert:function(){var b=this._$tooltip.find(".tooltipster-content"),c=this.__Content;return this._trigger({type:"format",content:this.__Content,
format:function(b){c=b}}),this.__options.functionFormat&&(c=this.__options.functionFormat.call(this,this,{origin:this._$origin[0]},this.__Content)),"string"!=typeof c||this.__options.contentAsHTML?b.empty().append(c):b.text(c),this},__contentSet:function(c){return c instanceof b&&this.__options.contentCloning&&(c=c.clone(!0)),this.__Content=c,this._trigger({type:"updated",content:c}),this},__destroyError:function(){throw Error("This tooltip has been destroyed and cannot execute your method call.");
},__geometry:function(){var c=this._$origin,h=this._$origin.is("area");if(h)var l=this._$origin.parent().attr("name"),c=b('img[usemap\x3d"#'+l+'"]');var m=c[0].getBoundingClientRect(),p=b(n.window.document),u=b(n.window),l=c,r={available:{document:null,window:null},document:{size:{height:p.height(),width:p.width()}},window:{scroll:{left:n.window.scrollX||n.window.document.documentElement.scrollLeft,top:n.window.scrollY||n.window.document.documentElement.scrollTop},size:{height:u.height(),width:u.width()}},
origin:{fixedLineage:!1,offset:{},size:{height:m.bottom-m.top,width:m.right-m.left},usemapImage:h?c[0]:null,windowOffset:{bottom:m.bottom,left:m.left,right:m.right,top:m.top}}};if(h){var h=this._$origin.attr("shape"),B=this._$origin.attr("coords");if(B&&(B=B.split(","),b.map(B,function(b,c){B[c]=parseInt(b)})),"default"!=h)switch(h){case "circle":h=B[0];c=B[1];m=B[2];r.origin.size.height=2*m;r.origin.size.width=r.origin.size.height;r.origin.windowOffset.left+=h-m;r.origin.windowOffset.top+=c-m;break;
case "rect":h=B[0];c=B[1];m=B[2];r.origin.size.height=B[3]-c;r.origin.size.width=m-h;r.origin.windowOffset.left+=h;r.origin.windowOffset.top+=c;break;case "poly":for(var p=m=c=h=0,u="even",C=0;C<B.length;C++){var x=B[C];"even"==u?(x>m&&(m=x,0===C&&(h=m)),h>x&&(h=x),u="odd"):(x>p&&(p=x,1==C&&(c=p)),c>x&&(c=x),u="even")}r.origin.size.height=p-c;r.origin.size.width=m-h;r.origin.windowOffset.left+=h;r.origin.windowOffset.top+=c}}this._trigger({type:"geometry",edit:function(b){r.origin.size.height=b.height;
r.origin.windowOffset.left=b.left;r.origin.windowOffset.top=b.top;r.origin.size.width=b.width},geometry:{height:r.origin.size.height,left:r.origin.windowOffset.left,top:r.origin.windowOffset.top,width:r.origin.size.width}});r.origin.windowOffset.right=r.origin.windowOffset.left+r.origin.size.width;r.origin.windowOffset.bottom=r.origin.windowOffset.top+r.origin.size.height;r.origin.offset.left=r.origin.windowOffset.left+r.window.scroll.left;r.origin.offset.top=r.origin.windowOffset.top+r.window.scroll.top;
r.origin.offset.bottom=r.origin.offset.top+r.origin.size.height;r.origin.offset.right=r.origin.offset.left+r.origin.size.width;r.available.document={bottom:{height:r.document.size.height-r.origin.offset.bottom,width:r.document.size.width},left:{height:r.document.size.height,width:r.origin.offset.left},right:{height:r.document.size.height,width:r.document.size.width-r.origin.offset.right},top:{height:r.origin.offset.top,width:r.document.size.width}};for(r.available.window={bottom:{height:Math.max(r.window.size.height-
Math.max(r.origin.windowOffset.bottom,0),0),width:r.window.size.width},left:{height:r.window.size.height,width:Math.max(r.origin.windowOffset.left,0)},right:{height:r.window.size.height,width:Math.max(r.window.size.width-Math.max(r.origin.windowOffset.right,0),0)},top:{height:Math.max(r.origin.windowOffset.top,0),width:r.window.size.width}};"html"!=l[0].tagName.toLowerCase();){if("fixed"==l.css("position")){r.origin.fixedLineage=!0;break}l=l.parent()}return r},__optionsFormat:function(){return"number"==
typeof this.__options.animationDuration&&(this.__options.animationDuration=[this.__options.animationDuration,this.__options.animationDuration]),"number"==typeof this.__options.delay&&(this.__options.delay=[this.__options.delay,this.__options.delay]),"number"==typeof this.__options.delayTouch&&(this.__options.delayTouch=[this.__options.delayTouch,this.__options.delayTouch]),"string"==typeof this.__options.theme&&(this.__options.theme=[this.__options.theme]),null===this.__options.parent?this.__options.parent=
b(n.window.document.body):"string"==typeof this.__options.parent&&(this.__options.parent=b(this.__options.parent)),"hover"==this.__options.trigger?(this.__options.triggerOpen={mouseenter:!0,touchstart:!0},this.__options.triggerClose={mouseleave:!0,originClick:!0,touchleave:!0}):"click"==this.__options.trigger&&(this.__options.triggerOpen={click:!0,tap:!0},this.__options.triggerClose={click:!0,tap:!0}),this._trigger("options"),this},__prepareGC:function(){var c=this;return c.__options.selfDestruction?
c.__garbageCollector=setInterval(function(){var h=(new Date).getTime();c.__touchEvents=b.grep(c.__touchEvents,function(b,c){return 6E4<h-b.time});l(c._$origin)||c.close(function(){c.destroy()})},2E4):clearInterval(c.__garbageCollector),c},__prepareOrigin:function(){var b=this;if(b._$origin.off("."+b.__namespace+"-triggerOpen"),n.hasTouchCapability&&b._$origin.on("touchstart."+b.__namespace+"-triggerOpen touchend."+b.__namespace+"-triggerOpen touchcancel."+b.__namespace+"-triggerOpen",function(c){b._touchRecordEvent(c)}),
b.__options.triggerOpen.click||b.__options.triggerOpen.tap&&n.hasTouchCapability){var c="";b.__options.triggerOpen.click&&(c+="click."+b.__namespace+"-triggerOpen ");b.__options.triggerOpen.tap&&n.hasTouchCapability&&(c+="touchend."+b.__namespace+"-triggerOpen");b._$origin.on(c,function(c){b._touchIsMeaningfulEvent(c)&&b._open(c)})}if(b.__options.triggerOpen.mouseenter||b.__options.triggerOpen.touchstart&&n.hasTouchCapability)c="",b.__options.triggerOpen.mouseenter&&(c+="mouseenter."+b.__namespace+
"-triggerOpen "),b.__options.triggerOpen.touchstart&&n.hasTouchCapability&&(c+="touchstart."+b.__namespace+"-triggerOpen"),b._$origin.on(c,function(c){!b._touchIsTouchEvent(c)&&b._touchIsEmulatedEvent(c)||(b.__pointerIsOverOrigin=!0,b._openShortly(c))});if(b.__options.triggerClose.mouseleave||b.__options.triggerClose.touchleave&&n.hasTouchCapability)c="",b.__options.triggerClose.mouseleave&&(c+="mouseleave."+b.__namespace+"-triggerOpen "),b.__options.triggerClose.touchleave&&n.hasTouchCapability&&
(c+="touchend."+b.__namespace+"-triggerOpen touchcancel."+b.__namespace+"-triggerOpen"),b._$origin.on(c,function(c){b._touchIsMeaningfulEvent(c)&&(b.__pointerIsOverOrigin=!1)});return b},__prepareTooltip:function(){var c=this,h=c.__options.interactive?"auto":"";return c._$tooltip.attr("id",c.__namespace).css({"pointer-events":h,zIndex:c.__options.zIndex}),b.each(c.__previousThemes,function(b,h){c._$tooltip.removeClass(h)}),b.each(c.__options.theme,function(b,h){c._$tooltip.addClass(h)}),c.__previousThemes=
b.merge([],c.__options.theme),c},__scrollHandler:function(c){if(this.__options.triggerClose.scroll)this._close(c);else if(l(this._$origin)&&l(this._$tooltip)){var h=null;if(c.target===n.window.document)this.__Geometry.origin.fixedLineage||this.__options.repositionOnScroll&&this.reposition(c);else{var h=this.__geometry(),m=!1;("fixed"!=this._$origin.css("position")&&this.__$originParents.each(function(c,k){c=b(k);var l=c.css("overflow-x"),r=c.css("overflow-y");if("visible"!=l||"visible"!=r)if(k=k.getBoundingClientRect(),
"visible"!=l&&(h.origin.windowOffset.left<k.left||h.origin.windowOffset.right>k.right)||"visible"!=r&&(h.origin.windowOffset.top<k.top||h.origin.windowOffset.bottom>k.bottom))return m=!0,!1;return"fixed"==c.css("position")?!1:void 0}),m)?this._$tooltip.css("visibility","hidden"):(this._$tooltip.css("visibility","visible"),this.__options.repositionOnScroll)?this.reposition(c):this._$tooltip.css({left:this.__lastPosition.coord.left+(h.origin.offset.left-this.__Geometry.origin.offset.left),top:this.__lastPosition.coord.top+
(h.origin.offset.top-this.__Geometry.origin.offset.top)})}this._trigger({type:"scroll",event:c,geo:h})}return this},__stateSet:function(b){return this.__state=b,this._trigger({type:"state",state:b}),this},__timeoutsClear:function(){return clearTimeout(this.__timeouts.open),this.__timeouts.open=null,b.each(this.__timeouts.close,function(b,c){clearTimeout(c)}),this.__timeouts.close=[],this},__trackerStart:function(){var b=this,h=b._$tooltip.find(".tooltipster-content");return b.__options.trackTooltip&&
(b.__contentBcr=h[0].getBoundingClientRect()),b.__tracker=setInterval(function(){if(l(b._$origin)&&l(b._$tooltip)){if(b.__options.trackOrigin){var m=b.__geometry(),n=!1;c(m.origin.size,b.__Geometry.origin.size)&&(b.__Geometry.origin.fixedLineage?c(m.origin.windowOffset,b.__Geometry.origin.windowOffset)&&(n=!0):c(m.origin.offset,b.__Geometry.origin.offset)&&(n=!0));n||(b.__options.triggerClose.mouseleave?b._close():b.reposition())}b.__options.trackTooltip&&(m=h[0].getBoundingClientRect(),m.height===
b.__contentBcr.height&&m.width===b.__contentBcr.width||(b.reposition(),b.__contentBcr=m))}else b._close()},b.__options.trackerInterval),b},_close:function(c,h,l){var m=this,p=!0;if(m._trigger({type:"close",event:c,stop:function(){p=!1}}),p||l){h&&m.__callbacks.close.push(h);m.__callbacks.open=[];m.__timeoutsClear();var u=function(){b.each(m.__callbacks.close,function(b,h){h.call(m,m,{event:c,origin:m._$origin[0]})});m.__callbacks.close=[]};if("closed"!=m.__state){if(h=!0,l=(new Date).getTime()+m.__options.animationDuration[1],
"disappearing"==m.__state&&l>m.__closingTime&&0<m.__options.animationDuration[1]&&(h=!1),h)m.__closingTime=l,"disappearing"!=m.__state&&m.__stateSet("disappearing"),h=function(){clearInterval(m.__tracker);m._trigger({type:"closing",event:c});m._$tooltip.off("."+m.__namespace+"-triggerClose").removeClass("tooltipster-dying");b(n.window).off("."+m.__namespace+"-triggerClose");m.__$originParents.each(function(c,k){b(k).off("scroll."+m.__namespace+"-triggerClose")});m.__$originParents=null;b(n.window.document.body).off("."+
m.__namespace+"-triggerClose");m._$origin.off("."+m.__namespace+"-triggerClose");m._off("dismissable");m.__stateSet("closed");m._trigger({type:"after",event:c});m.__options.functionAfter&&m.__options.functionAfter.call(m,m,{event:c,origin:m._$origin[0]});u()},n.hasTransitions?(m._$tooltip.css({"-moz-animation-duration":m.__options.animationDuration[1]+"ms","-ms-animation-duration":m.__options.animationDuration[1]+"ms","-o-animation-duration":m.__options.animationDuration[1]+"ms","-webkit-animation-duration":m.__options.animationDuration[1]+
"ms","animation-duration":m.__options.animationDuration[1]+"ms","transition-duration":m.__options.animationDuration[1]+"ms"}),m._$tooltip.clearQueue().removeClass("tooltipster-show").addClass("tooltipster-dying"),0<m.__options.animationDuration[1]&&m._$tooltip.delay(m.__options.animationDuration[1]),m._$tooltip.queue(h)):m._$tooltip.stop().fadeOut(m.__options.animationDuration[1],h)}else u()}return m},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),
this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_open:function(c,h){var m=this;if(!m.__destroying&&l(m._$origin)&&m.__enabled){var p=!0;if("closed"==m.__state&&(m._trigger({type:"before",event:c,stop:function(){p=!1}}),p&&m.__options.functionBefore&&(p=m.__options.functionBefore.call(m,m,{event:c,
origin:m._$origin[0]}))),!1!==p&&null!==m.__Content){h&&m.__callbacks.open.push(h);m.__callbacks.close=[];m.__timeoutsClear();var z=function(){"stable"!=m.__state&&m.__stateSet("stable");b.each(m.__callbacks.open,function(b,c){c.call(m,m,{origin:m._$origin[0],tooltip:m._$tooltip[0]})});m.__callbacks.open=[]};if("closed"!==m.__state)h=0,"disappearing"===m.__state?(m.__stateSet("appearing"),n.hasTransitions?(m._$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-show"),0<m.__options.animationDuration[0]&&
m._$tooltip.delay(m.__options.animationDuration[0]),m._$tooltip.queue(z)):m._$tooltip.stop().fadeIn(z)):"stable"==m.__state&&z();else{if(m.__stateSet("appearing"),h=m.__options.animationDuration[0],m.__contentInsert(),m.reposition(c,!0),n.hasTransitions?(m._$tooltip.addClass("tooltipster-"+m.__options.animation).addClass("tooltipster-initial").css({"-moz-animation-duration":m.__options.animationDuration[0]+"ms","-ms-animation-duration":m.__options.animationDuration[0]+"ms","-o-animation-duration":m.__options.animationDuration[0]+
"ms","-webkit-animation-duration":m.__options.animationDuration[0]+"ms","animation-duration":m.__options.animationDuration[0]+"ms","transition-duration":m.__options.animationDuration[0]+"ms"}),setTimeout(function(){"closed"!=m.__state&&(m._$tooltip.addClass("tooltipster-show").removeClass("tooltipster-initial"),0<m.__options.animationDuration[0]&&m._$tooltip.delay(m.__options.animationDuration[0]),m._$tooltip.queue(z))},0)):m._$tooltip.css("display","none").fadeIn(m.__options.animationDuration[0],
z),m.__trackerStart(),b(n.window).on("resize."+m.__namespace+"-triggerClose",function(c){var k=b(document.activeElement);(k.is("input")||k.is("textarea"))&&b.contains(m._$tooltip[0],k[0])||m.reposition(c)}).on("scroll."+m.__namespace+"-triggerClose",function(b){m.__scrollHandler(b)}),m.__$originParents=m._$origin.parents(),m.__$originParents.each(function(c,k){b(k).on("scroll."+m.__namespace+"-triggerClose",function(b){m.__scrollHandler(b)})}),m.__options.triggerClose.mouseleave||m.__options.triggerClose.touchleave&&
n.hasTouchCapability){m._on("dismissable",function(b){b.dismissable?b.delay?(B=setTimeout(function(){m._close(b.event)},b.delay),m.__timeouts.close.push(B)):m._close(b):clearTimeout(B)});c=m._$origin;var u="",r="",B=null;m.__options.interactive&&(c=c.add(m._$tooltip));m.__options.triggerClose.mouseleave&&(u+="mouseenter."+m.__namespace+"-triggerClose ",r+="mouseleave."+m.__namespace+"-triggerClose ");m.__options.triggerClose.touchleave&&n.hasTouchCapability&&(u+="touchstart."+m.__namespace+"-triggerClose",
r+="touchend."+m.__namespace+"-triggerClose touchcancel."+m.__namespace+"-triggerClose");c.on(r,function(b){!m._touchIsTouchEvent(b)&&m._touchIsEmulatedEvent(b)||m._trigger({delay:("mouseleave"==b.type?m.__options.delay:m.__options.delayTouch)[1],dismissable:!0,event:b,type:"dismissable"})}).on(u,function(b){!m._touchIsTouchEvent(b)&&m._touchIsEmulatedEvent(b)||m._trigger({dismissable:!1,event:b,type:"dismissable"})})}m.__options.triggerClose.originClick&&m._$origin.on("click."+m.__namespace+"-triggerClose",
function(b){m._touchIsTouchEvent(b)||m._touchIsEmulatedEvent(b)||m._close(b)});(m.__options.triggerClose.click||m.__options.triggerClose.tap&&n.hasTouchCapability)&&setTimeout(function(){if("closed"!=m.__state){var c="",k=b(n.window.document.body);m.__options.triggerClose.click&&(c+="click."+m.__namespace+"-triggerClose ");m.__options.triggerClose.tap&&n.hasTouchCapability&&(c+="touchend."+m.__namespace+"-triggerClose");k.on(c,function(c){m._touchIsMeaningfulEvent(c)&&(m._touchRecordEvent(c),m.__options.interactive&&
b.contains(m._$tooltip[0],c.target)||m._close(c))});m.__options.triggerClose.tap&&n.hasTouchCapability&&k.on("touchstart."+m.__namespace+"-triggerClose",function(b){m._touchRecordEvent(b)})}},0);m._trigger("ready");m.__options.functionReady&&m.__options.functionReady.call(m,m,{origin:m._$origin[0],tooltip:m._$tooltip[0]})}0<m.__options.timer&&(B=setTimeout(function(){m._close()},m.__options.timer+h),m.__timeouts.close.push(B))}}return m},_openShortly:function(b){var c=this,h=!0;if("stable"!=c.__state&&
"appearing"!=c.__state&&!c.__timeouts.open&&(c._trigger({type:"start",event:b,stop:function(){h=!1}}),h)){var l=0==b.type.indexOf("touch")?c.__options.delayTouch:c.__options.delay;l[0]?c.__timeouts.open=setTimeout(function(){c.__timeouts.open=null;c.__pointerIsOverOrigin&&c._touchIsMeaningfulEvent(b)?(c._trigger("startend"),c._open(b)):c._trigger("startcancel")},l[0]):(c._trigger("startend"),c._open(b))}return c},_optionsExtract:function(c,h){var l=this,m=b.extend(!0,{},h),n=l.__options[c];return n||
(n={},b.each(h,function(b,c){c=l.__options[b];void 0!==c&&(n[b]=c)})),b.each(m,function(c,k){void 0!==n[c]&&("object"!=typeof k||k instanceof Array||null==k||"object"!=typeof n[c]||n[c]instanceof Array||null==n[c]?m[c]=n[c]:b.extend(m[c],n[c]))}),m},_plug:function(c){var h=b.tooltipster._plugin(c);if(!h)throw Error('The "'+c+'" plugin is not defined');return h.instance&&b.tooltipster.__bridge(h.instance,this,h.name),this},_touchIsEmulatedEvent:function(b){for(var c=!1,h=(new Date).getTime(),l=this.__touchEvents.length-
1;0<=l;l--){var m=this.__touchEvents[l];if(!(500>h-m.time))break;m.target===b.target&&(c=!0)}return c},_touchIsMeaningfulEvent:function(b){return this._touchIsTouchEvent(b)&&!this._touchSwiped(b.target)||!this._touchIsTouchEvent(b)&&!this._touchIsEmulatedEvent(b)},_touchIsTouchEvent:function(b){return 0==b.type.indexOf("touch")},_touchRecordEvent:function(b){return this._touchIsTouchEvent(b)&&(b.time=(new Date).getTime(),this.__touchEvents.push(b)),this},_touchSwiped:function(b){for(var c=!1,h=this.__touchEvents.length-
1;0<=h;h--){var l=this.__touchEvents[h];if("touchmove"==l.type){c=!0;break}if("touchstart"==l.type&&b===l.target)break}return c},_trigger:function(){var c=Array.prototype.slice.apply(arguments);return"string"==typeof c[0]&&(c[0]={type:c[0]}),c[0].instance=this,c[0].origin=this._$origin?this._$origin[0]:null,c[0].tooltip=this._$tooltip?this._$tooltip[0]:null,this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,c),b.tooltipster._trigger.apply(b.tooltipster,c),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,
c),this},_unplug:function(c){var h=this;if(h[c]){var l=b.tooltipster._plugin(c);l.instance&&b.each(l.instance,function(b,l){h[b]&&h[b].bridged===h[c]&&delete h[b]});h[c].__destroy&&h[c].__destroy();delete h[c]}return h},close:function(b){return this.__destroyed?this.__destroyError():this._close(null,b),this},content:function(b){var c=this;if(void 0===b)return c.__Content;if(c.__destroyed)c.__destroyError();else if(c.__contentSet(b),null!==c.__Content){if("closed"!==c.__state&&(c.__contentInsert(),
c.reposition(),c.__options.updateAnimation))if(n.hasTransitions){var h=c.__options.updateAnimation;c._$tooltip.addClass("tooltipster-update-"+h);setTimeout(function(){"closed"!=c.__state&&c._$tooltip.removeClass("tooltipster-update-"+h)},1E3)}else c._$tooltip.fadeTo(200,.5,function(){"closed"!=c.__state&&c._$tooltip.fadeTo(200,1)})}else c._close();return c},destroy:function(){var c=this;if(c.__destroyed)c.__destroyError();else{"closed"!=c.__state?c.option("animationDuration",0)._close(null,null,!0):
c.__timeoutsClear();c._trigger("destroy");c.__destroyed=!0;c._$origin.removeData(c.__namespace).off("."+c.__namespace+"-triggerOpen");b(n.window.document.body).off("."+c.__namespace+"-triggerOpen");var h=c._$origin.data("tooltipster-ns");h&&(1===h.length?(h=null,"previous"==c.__options.restoration?h=c._$origin.data("tooltipster-initialTitle"):"current"==c.__options.restoration&&(h="string"==typeof c.__Content?c.__Content:b("\x3cdiv\x3e\x3c/div\x3e").append(c.__Content).html()),h&&c._$origin.attr("title",
h),c._$origin.removeClass("tooltipstered"),c._$origin.removeData("tooltipster-ns").removeData("tooltipster-initialTitle")):(h=b.grep(h,function(b,h){return b!==c.__namespace}),c._$origin.data("tooltipster-ns",h)));c._trigger("destroyed");c._off();c.off();c.__Content=null;c.__$emitterPrivate=null;c.__$emitterPublic=null;c.__options.parent=null;c._$origin=null;c._$tooltip=null;b.tooltipster.__instancesLatestArr=b.grep(b.tooltipster.__instancesLatestArr,function(b,h){return c!==b});clearInterval(c.__garbageCollector)}return c},
disable:function(){return this.__destroyed?(this.__destroyError(),this):(this._close(),this.__enabled=!1,this)},elementOrigin:function(){return this.__destroyed?void this.__destroyError():this._$origin[0]},elementTooltip:function(){return this._$tooltip?this._$tooltip[0]:null},enable:function(){return this.__enabled=!0,this},hide:function(b){return this.close(b)},instance:function(){return this},off:function(){return this.__destroyed||this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),
this},on:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},open:function(b){return this.__destroyed?this.__destroyError():this._open(null,b),this},option:function(c,h){return void 0===h?this.__options[c]:(this.__destroyed?this.__destroyError():
(this.__options[c]=h,this.__optionsFormat(),0<=b.inArray(c,["trigger","triggerClose","triggerOpen"])&&this.__prepareOrigin(),"selfDestruction"===c&&this.__prepareGC()),this)},reposition:function(b,c){return this.__destroyed?this.__destroyError():"closed"!=this.__state&&l(this._$origin)&&(c||l(this._$tooltip))&&(c||this._$tooltip.detach(),this.__Geometry=this.__geometry(),this._trigger({type:"reposition",event:b,helper:{geo:this.__Geometry}})),this},show:function(b){return this.open(b)},status:function(){return{destroyed:this.__destroyed,
enabled:this.__enabled,open:"closed"!==this.__state,state:this.__state}},triggerHandler:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}};b.fn.tooltipster=function(){var c=Array.prototype.slice.apply(arguments);if(0===this.length)return this;if("string"==typeof c[0]){var h="#*$~\x26";return this.each(function(){var l=b(this).data("tooltipster-ns"),l=l?b(this).data(l[0]):null;if(!l)throw Error("You called Tooltipster's \""+
c[0]+'" method on an uninitialized element');if("function"!=typeof l[c[0]])throw Error('Unknown method "'+c[0]+'"');var m=l[c[0]](c[1],c[2]);return m!==l||"instance"===c[0]?(h=m,!1):void 0}),"#*$~\x26"!==h?h:this}b.tooltipster.__instancesLatestArr=[];var l=c[0]&&void 0!==c[0].multiple,n=l&&c[0].multiple||!l&&m.multiple;return this.each(function(){var h=!1,l=b(this),m=l.data("tooltipster-ns"),q=null;m?n&&(h=!0):h=!0;h&&(q=new b.Tooltipster(this,c[0]),m||(m=[]),m.push(q.__namespace),l.data("tooltipster-ns",
m),l.data(q.__namespace,q),q.__options.functionInit&&q.__options.functionInit.call(q,q,{origin:this}),q._trigger("init"));b.tooltipster.__instancesLatestArr.push(q)}),this};h.prototype={__init:function(c){this.__$tooltip=c;this.__$tooltip.css({left:0,overflow:"hidden",position:"absolute",top:0}).find(".tooltipster-content").css("overflow","auto");this.$container=b('\x3cdiv class\x3d"tooltipster-ruler"\x3e\x3c/div\x3e').append(this.__$tooltip).appendTo(n.window.document.body)},__forceRedraw:function(){var b=
this.__$tooltip.parent();this.__$tooltip.detach();this.__$tooltip.appendTo(b)},constrain:function(b,c){return this.constraints={width:b,height:c},this.__$tooltip.css({display:"block",height:"",overflow:"auto",width:b}),this},destroy:function(){this.__$tooltip.detach().find(".tooltipster-content").css({display:"",overflow:""});this.$container.remove()},free:function(){return this.constraints=null,this.__$tooltip.css({display:"",height:"",overflow:"visible",width:""}),this},measure:function(){this.__forceRedraw();
var b=this.__$tooltip[0].getBoundingClientRect(),c={size:{height:b.height||b.bottom-b.top,width:b.width||b.right-b.left}};if(this.constraints){var h=this.__$tooltip.find(".tooltipster-content"),l=this.__$tooltip.outerHeight(),m=h[0].getBoundingClientRect(),b=b.width<=this.constraints.width&&m.width>=h[0].scrollWidth-1;c.fits=l<=this.constraints.height&&b}return n.IE&&11>=n.IE&&c.size.width!==n.window.document.documentElement.clientWidth&&(c.size.width=Math.ceil(c.size.width)+1),c}};u=navigator.userAgent.toLowerCase();
-1!=u.indexOf("msie")?n.IE=parseInt(u.split("msie")[1]):-1!==u.toLowerCase().indexOf("trident")&&-1!==u.indexOf(" rv:11")?n.IE=11:-1!=u.toLowerCase().indexOf("edge/")&&(n.IE=parseInt(u.toLowerCase().split("edge/")[1]));return b.tooltipster._plugin({name:"tooltipster.sideTip",instance:{__defaults:function(){return{arrow:!0,distance:6,functionPosition:null,maxWidth:null,minIntersection:16,minWidth:0,position:null,side:"top",viewportAware:!0}},__init:function(b){var c=this;c.__instance=b;c.__namespace=
"tooltipster-sideTip-"+Math.round(1E6*Math.random());c.__previousState="closed";c.__options;c.__optionsFormat();c.__instance._on("state."+c.__namespace,function(b){"closed"==b.state?c.__close():"appearing"==b.state&&"closed"==c.__previousState&&c.__create();c.__previousState=b.state});c.__instance._on("options."+c.__namespace,function(){c.__optionsFormat()});c.__instance._on("reposition."+c.__namespace,function(b){c.__reposition(b.event,b.helper)})},__close:function(){this.__instance.content()instanceof
b&&this.__instance.content().detach();this.__instance._$tooltip.remove();this.__instance._$tooltip=null},__create:function(){var c=b('\x3cdiv class\x3d"tooltipster-base tooltipster-sidetip"\x3e\x3cdiv class\x3d"tooltipster-box"\x3e\x3cdiv class\x3d"tooltipster-content"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"tooltipster-arrow"\x3e\x3cdiv class\x3d"tooltipster-arrow-uncropped"\x3e\x3cdiv class\x3d"tooltipster-arrow-border"\x3e\x3c/div\x3e\x3cdiv class\x3d"tooltipster-arrow-background"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
this.__options.arrow||c.find(".tooltipster-box").css("margin",0).end().find(".tooltipster-arrow").hide();this.__options.minWidth&&c.css("min-width",this.__options.minWidth+"px");this.__options.maxWidth&&c.css("max-width",this.__options.maxWidth+"px");this.__instance._$tooltip=c;this.__instance._trigger("created")},__destroy:function(){this.__instance._off("."+self.__namespace)},__optionsFormat:function(){if(this.__options=this.__instance._optionsExtract("tooltipster.sideTip",this.__defaults()),this.__options.position&&
(this.__options.side=this.__options.position),"object"!=typeof this.__options.distance&&(this.__options.distance=[this.__options.distance]),4>this.__options.distance.length&&(void 0===this.__options.distance[1]&&(this.__options.distance[1]=this.__options.distance[0]),void 0===this.__options.distance[2]&&(this.__options.distance[2]=this.__options.distance[0]),void 0===this.__options.distance[3]&&(this.__options.distance[3]=this.__options.distance[1]),this.__options.distance={top:this.__options.distance[0],
right:this.__options.distance[1],bottom:this.__options.distance[2],left:this.__options.distance[3]}),"string"==typeof this.__options.side)this.__options.side=[this.__options.side,{top:"bottom",right:"left",bottom:"top",left:"right"}[this.__options.side]],"left"==this.__options.side[0]||"right"==this.__options.side[0]?this.__options.side.push("top","bottom"):this.__options.side.push("right","left");6===b.tooltipster._env.IE&&!0!==this.__options.arrow&&(this.__options.arrow=!1)},__reposition:function(c,
h){var l,m=this,n=m.__targetFind(h),p=[];m.__instance._$tooltip.detach();var r=m.__instance._$tooltip.clone(),u=b.tooltipster._getRuler(r),C=!1,x=m.__instance.option("animation");switch(x&&r.removeClass("tooltipster-"+x),b.each(["window","document"],function(l,v){var x=null;if(m.__instance._trigger({container:v,helper:h,satisfied:C,takeTest:function(b){x=b},results:p,type:"positionTest"}),1==x||0!=x&&0==C&&("window"!=v||m.__options.viewportAware))for(l=0;l<m.__options.side.length;l++){var D={horizontal:0,
vertical:0},F=m.__options.side[l];"top"==F||"bottom"==F?D.vertical=m.__options.distance[F]:D.horizontal=m.__options.distance[F];m.__sideChange(r,F);b.each(["natural","constrained"],function(b,l){if(x=null,m.__instance._trigger({container:v,event:c,helper:h,mode:l,results:p,satisfied:C,side:F,takeTest:function(b){x=b},type:"positionTest"}),1==x||0!=x&&0==C){b={container:v,distance:D,fits:null,mode:l,outerSize:null,side:F,size:null,target:n[F],whole:null};var r=("natural"==l?u.free():u.constrain(h.geo.available[v][F].width-
D.horizontal,h.geo.available[v][F].height-D.vertical)).measure();if(b.size=r.size,b.outerSize={height:r.size.height+D.vertical,width:r.size.width+D.horizontal},"natural"==l?h.geo.available[v][F].width>=b.outerSize.width&&h.geo.available[v][F].height>=b.outerSize.height?b.fits=!0:b.fits=!1:b.fits=r.fits,"window"==v&&(b.fits?"top"==F||"bottom"==F?b.whole=h.geo.origin.windowOffset.right>=m.__options.minIntersection&&h.geo.window.size.width-h.geo.origin.windowOffset.left>=m.__options.minIntersection:
b.whole=h.geo.origin.windowOffset.bottom>=m.__options.minIntersection&&h.geo.window.size.height-h.geo.origin.windowOffset.top>=m.__options.minIntersection:b.whole=!1),p.push(b),b.whole)C=!0;else if("natural"==b.mode&&(b.fits||b.size.width<=h.geo.available[v][F].width))return!1}})}}),m.__instance._trigger({edit:function(b){p=b},event:c,helper:h,results:p,type:"positionTested"}),p.sort(function(b,c){if(b.whole&&!c.whole)return-1;if(!b.whole&&c.whole)return 1;if(b.whole&&c.whole){var k=m.__options.side.indexOf(b.side);
c=m.__options.side.indexOf(c.side);return c>k?-1:k>c?1:"natural"==b.mode?-1:1}return b.fits&&!c.fits?-1:!b.fits&&c.fits?1:b.fits&&c.fits?(k=m.__options.side.indexOf(b.side),c=m.__options.side.indexOf(c.side),c>k?-1:k>c?1:"natural"==b.mode?-1:1):"document"==b.container&&"bottom"==b.side&&"natural"==b.mode?-1:1}),l=p[0],l.coord={},l.side){case "left":case "right":l.coord.top=Math.floor(l.target-l.size.height/2);break;case "bottom":case "top":l.coord.left=Math.floor(l.target-l.size.width/2)}switch(l.side){case "left":l.coord.left=
h.geo.origin.windowOffset.left-l.outerSize.width;break;case "right":l.coord.left=h.geo.origin.windowOffset.right+l.distance.horizontal;break;case "top":l.coord.top=h.geo.origin.windowOffset.top-l.outerSize.height;break;case "bottom":l.coord.top=h.geo.origin.windowOffset.bottom+l.distance.vertical}"window"==l.container?"top"==l.side||"bottom"==l.side?0>l.coord.left?0<=h.geo.origin.windowOffset.right-this.__options.minIntersection?l.coord.left=0:l.coord.left=h.geo.origin.windowOffset.right-this.__options.minIntersection-
1:l.coord.left>h.geo.window.size.width-l.size.width&&(h.geo.origin.windowOffset.left+this.__options.minIntersection<=h.geo.window.size.width?l.coord.left=h.geo.window.size.width-l.size.width:l.coord.left=h.geo.origin.windowOffset.left+this.__options.minIntersection+1-l.size.width):0>l.coord.top?0<=h.geo.origin.windowOffset.bottom-this.__options.minIntersection?l.coord.top=0:l.coord.top=h.geo.origin.windowOffset.bottom-this.__options.minIntersection-1:l.coord.top>h.geo.window.size.height-l.size.height&&
(h.geo.origin.windowOffset.top+this.__options.minIntersection<=h.geo.window.size.height?l.coord.top=h.geo.window.size.height-l.size.height:l.coord.top=h.geo.origin.windowOffset.top+this.__options.minIntersection+1-l.size.height):(l.coord.left>h.geo.window.size.width-l.size.width&&(l.coord.left=h.geo.window.size.width-l.size.width),0>l.coord.left&&(l.coord.left=0));m.__sideChange(r,l.side);h.tooltipClone=r[0];h.tooltipParent=m.__instance.option("parent").parent[0];h.mode=l.mode;h.whole=l.whole;h.origin=
m.__instance._$origin[0];h.tooltip=m.__instance._$tooltip[0];delete l.container;delete l.fits;delete l.mode;delete l.outerSize;delete l.whole;l.distance=l.distance.horizontal||l.distance.vertical;x=b.extend(!0,{},l);(m.__instance._trigger({edit:function(b){l=b},event:c,helper:h,position:x,type:"position"}),m.__options.functionPosition)&&(x=m.__options.functionPosition.call(m,m.__instance,h,x))&&(l=x);u.destroy();var D,F;"top"==l.side||"bottom"==l.side?(D={prop:"left",val:l.target-l.coord.left},F=
l.size.width-this.__options.minIntersection):(D={prop:"top",val:l.target-l.coord.top},F=l.size.height-this.__options.minIntersection);D.val<this.__options.minIntersection?D.val=this.__options.minIntersection:D.val>F&&(D.val=F);F=h.geo.origin.fixedLineage?h.geo.origin.windowOffset:{left:h.geo.origin.windowOffset.left+h.geo.window.scroll.left,top:h.geo.origin.windowOffset.top+h.geo.window.scroll.top};l.coord={left:F.left+(l.coord.left-h.geo.origin.windowOffset.left),top:F.top+(l.coord.top-h.geo.origin.windowOffset.top)};
m.__sideChange(m.__instance._$tooltip,l.side);h.geo.origin.fixedLineage?m.__instance._$tooltip.css("position","fixed"):m.__instance._$tooltip.css("position","");m.__instance._$tooltip.css({left:l.coord.left,top:l.coord.top,height:l.size.height,width:l.size.width}).find(".tooltipster-arrow").css({left:"",top:""}).css(D.prop,D.val);m.__instance._$tooltip.appendTo(m.__instance.option("parent"));m.__instance._trigger({type:"repositioned",event:c,position:l})},__sideChange:function(b,c){b.removeClass("tooltipster-bottom").removeClass("tooltipster-left").removeClass("tooltipster-right").removeClass("tooltipster-top").addClass("tooltipster-"+
c)},__targetFind:function(b){var c={},h=this.__instance._$origin[0].getClientRects();1<h.length&&1==this.__instance._$origin.css("opacity")&&(this.__instance._$origin.css("opacity",.99),h=this.__instance._$origin[0].getClientRects(),this.__instance._$origin.css("opacity",1));2>h.length?(c.top=Math.floor(b.geo.origin.windowOffset.left+b.geo.origin.size.width/2),c.bottom=c.top,c.left=Math.floor(b.geo.origin.windowOffset.top+b.geo.origin.size.height/2),c.right=c.left):(b=h[0],c.top=Math.floor(b.left+
(b.right-b.left)/2),b=2<h.length?h[Math.ceil(h.length/2)-1]:h[0],c.right=Math.floor(b.top+(b.bottom-b.top)/2),b=h[h.length-1],c.bottom=Math.floor(b.left+(b.right-b.left)/2),b=2<h.length?h[Math.ceil((h.length+1)/2)-1]:h[h.length-1],c.left=Math.floor(b.top+(b.bottom-b.top)/2));return c}}}),b});
!function(b){var h=function(){var b,c=document.createElement("fakeelement"),h={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(b in h)if(void 0!==c.style[b])return h[b]},c=function(c,h,p){this.setting={axis:"y",reverse:!1,trigger:"click",speed:500,forceHeight:!1,forceWidth:!1,autoSize:!0,front:".front",back:".back"};this.setting=b.extend(this.setting,h);"string"!=typeof h.axis||"x"!==h.axis.toLowerCase()&&"y"!==h.axis.toLowerCase()||
(this.setting.axis=h.axis.toLowerCase());"boolean"==typeof h.reverse&&(this.setting.reverse=h.reverse);"string"==typeof h.trigger&&(this.setting.trigger=h.trigger.toLowerCase());var n=parseInt(h.speed);isNaN(n)||(this.setting.speed=n);"boolean"==typeof h.forceHeight&&(this.setting.forceHeight=h.forceHeight);"boolean"==typeof h.forceWidth&&(this.setting.forceWidth=h.forceWidth);"boolean"==typeof h.autoSize&&(this.setting.autoSize=h.autoSize);("string"==typeof h.front||h.front instanceof b)&&(this.setting.front=
h.front);("string"==typeof h.back||h.back instanceof b)&&(this.setting.back=h.back);this.element=c;this.frontElement=this.getFrontElement();this.backElement=this.getBackElement();this.isFlipped=!1;this.init(p)};b.extend(c.prototype,{flipDone:function(b){var c=this;c.element.one(h(),function(){c.element.trigger("flip:done");"function"==typeof b&&b.call(c.element)})},flip:function(b){if(!this.isFlipped){this.isFlipped=!0;var c="rotate"+this.setting.axis;this.frontElement.css({transform:c+(this.setting.reverse?
"(-180deg)":"(180deg)"),"z-index":"0"});this.backElement.css({transform:c+"(0deg)","z-index":"1"});this.flipDone(b)}},unflip:function(b){if(this.isFlipped){this.isFlipped=!1;var c="rotate"+this.setting.axis;this.frontElement.css({transform:c+"(0deg)","z-index":"1"});this.backElement.css({transform:c+(this.setting.reverse?"(180deg)":"(-180deg)"),"z-index":"0"});this.flipDone(b)}},getFrontElement:function(){return this.setting.front instanceof b?this.setting.front:this.element.find(this.setting.front)},
getBackElement:function(){return this.setting.back instanceof b?this.setting.back:this.element.find(this.setting.back)},init:function(b){var c=this,h=c.frontElement.add(c.backElement),n="rotate"+c.setting.axis,u={perspective:2*c.element["outer"+("rotatex"===n?"Height":"Width")](),position:"relative"},n={transform:n+"("+(c.setting.reverse?"180deg":"-180deg")+")","z-index":"0",position:"relative"},k={"backface-visibility":"hidden","transform-style":"preserve-3d",position:"absolute","z-index":"1"};c.setting.forceHeight?
h.outerHeight(c.element.height()):c.setting.autoSize&&(k.height="100%");c.setting.forceWidth?h.outerWidth(c.element.width()):c.setting.autoSize&&(k.width="100%");(window.chrome||window.Intl&&Intl.v8BreakIterator)&&"CSS"in window&&(u["-webkit-transform-style"]="preserve-3d");h.css(k).find("*").css({"backface-visibility":"hidden"});c.element.css(u);c.backElement.css(n);setTimeout(function(){h.css({transition:"all "+(c.setting.speed/1E3||.5)+"s ease-out"});"function"==typeof b&&b.call(c.element)},20);
c.attachEvents()},clickHandler:function(c){c||(c=window.event);this.element.find(b(c.target).closest('button, a, input[type\x3d"submit"]')).length||(this.isFlipped?this.unflip():this.flip())},hoverHandler:function(){var c=this;c.element.off("mouseleave.flip");c.flip();setTimeout(function(){c.element.on("mouseleave.flip",b.proxy(c.unflip,c));c.element.is(":hover")||c.unflip()},c.setting.speed+150)},attachEvents:function(){"click"===this.setting.trigger?this.element.on(b.fn.tap?"tap.flip":"click.flip",
b.proxy(this.clickHandler,this)):"hover"===this.setting.trigger&&(this.element.on("mouseenter.flip",b.proxy(this.hoverHandler,this)),this.element.on("mouseleave.flip",b.proxy(this.unflip,this)))},flipChanged:function(b){this.element.trigger("flip:change");"function"==typeof b&&b.call(this.element)},changeSettings:function(b,c){var h=this,n=!1;if(void 0!==b.axis&&h.setting.axis!==b.axis.toLowerCase()&&(h.setting.axis=b.axis.toLowerCase(),n=!0),void 0!==b.reverse&&h.setting.reverse!==b.reverse&&(h.setting.reverse=
b.reverse,n=!0),n){var u=h.frontElement.add(h.backElement),k=u.css(["transition-property","transition-timing-function","transition-duration","transition-delay"]);u.css({transition:"none"});b="rotate"+h.setting.axis;h.isFlipped?h.frontElement.css({transform:b+(h.setting.reverse?"(-180deg)":"(180deg)"),"z-index":"0"}):h.backElement.css({transform:b+(h.setting.reverse?"(180deg)":"(-180deg)"),"z-index":"0"});setTimeout(function(){u.css(k);h.flipChanged(c)},0)}else h.flipChanged(c)}});b.fn.flip=function(h,
m){return"function"==typeof h&&(m=h),"string"==typeof h||"boolean"==typeof h?this.each(function(){var c=b(this).data("flip-model");"toggle"===h&&(h=!c.isFlipped);h?c.flip(m):c.unflip(m)}):this.each(function(){if(b(this).data("flip-model")){var p=b(this).data("flip-model");!h||void 0===h.axis&&void 0===h.reverse||p.changeSettings(h,m)}else b(this).data("flip-model",new c(b(this),h||{},m))}),this}}(jQuery);
!function(b){b.fn.captionjs=function(h){var c=b.extend({class_name:"captionjs",schema:!0,mode:"default",debug_mode:!1,force_dimensions:!0,is_responsive:!1,inherit_styles:!1},h||{}),l=function(b,c,h,l){h.jquery&&l.jquery&&(h.css(b,l.css(b)),l.css(b,c))};return this.each(function(){var h,p,n=b(this);h=n.data("caption")?n.data("caption"):n.attr("alt");var u=n.wrap('\x3cfigure class\x3d"'+c.class_name+" "+c.mode+'"/\x3e').after("\x3cfigcaption/\x3e").parent(),k=n.next("figcaption").html(h);n.data("link")?
k.wrapInner('\x3ca href\x3d"'+n.data("link")+'"/\x3e').children("a").css("padding","0").css("margin","0"):null;if(""===h&&k.remove(),c.force_dimensions){var q=u.clone().css({position:"absolute",left:"-9999px"}).appendTo("body");h=b("img",q).outerWidth();p=b("figcaption",q).css("width",h).css("clear","both").outerHeight();q.remove()}else h=n.outerWidth(),p=k.outerHeight();c.is_responsive&&(h="100%",n.width(h));c.inherit_styles&&("inline"==n.css("display")?u.css("display","inline-block"):l("display",
"block",u,n),"static"==n.css("position")?u.css("position","relative"):l("position","relative",u,n),l("clear","both",u,n),l("float","none",u,n),l("margin","0",u,n),n.css("padding","0"),l("left","auto",u,n),l("right","auto",u,n),l("top","auto",u,n),l("bottom","auto",u,n),l("z-index",n.css("z-index"),u,n));u.width(h);c.schema&&(u.attr({itemscope:"itemscope",itemtype:"http://schema.org/Photograph"}),k.attr("itemprop","name"),n.attr("itemprop","image"));"stacked"===c.mode&&k.css({"margin-bottom":"0",bottom:"0"});
"animated"===c.mode&&k.css({"margin-bottom":"0",bottom:-p});"hide"===c.mode&&k.css({"margin-bottom":p,bottom:-p})})}}(jQuery,window);
!function(b,h){"object"==typeof exports&&"undefined"!=typeof module?h(exports):"function"==typeof define&&define.amd?define(["exports"],h):h((b="undefined"!=typeof globalThis?globalThis:b||self).noUiSlider={})}(this,function(b){function h(b){return"object"==typeof b&&"function"==typeof b.to}function c(b){b.preventDefault()}function l(b){return"number"==typeof b&&!isNaN(b)&&isFinite(b)}function m(b,c,h){0<h&&(u(b,c),setTimeout(function(){k(b,c)},h))}function p(b){return Array.isArray(b)?b:[b]}function n(b){b=
(b=String(b)).split(".");return 1<b.length?b[1].length:0}function u(b,c){b.classList&&!/\s/.test(c)?b.classList.add(c):b.className+=" "+c}function k(b,c){b.classList&&!/\s/.test(c)?b.classList.remove(c):b.className=b.className.replace(new RegExp("(^|\\b)"+c.split(" ").join("|")+"(\\b|$)","gi")," ")}function q(b){var c=void 0!==window.pageXOffset,k="CSS1Compat"===(b.compatMode||"");return{x:c?window.pageXOffset:(k?b.documentElement:b.body).scrollLeft,y:c?window.pageYOffset:(k?b.documentElement:b.body).scrollTop}}
function v(b,c,k){return 100*c/(b[k+1]-b[k])}function y(b,c){for(var k=1;b>=c[k];)k+=1;return k}function z(b,c,k){this.xPct=[];this.xVal=[];this.xSteps=[];this.xNumSteps=[];this.xHighestCompleteStep=[];this.xSteps=[k||!1];this.xNumSteps=[!1];this.snap=c;var h=[];Object.keys(b).forEach(function(c){h.push([p(b[c]),c])});h.sort(function(b,c){return b[0][0]-c[0][0]});for(c=0;c<h.length;c++)this.handleEntryPoint(h[c][1],h[c][0]);this.xNumSteps=this.xSteps.slice(0);for(c=0;c<this.xNumSteps.length;c++)this.handleStepPoint(c,
this.xNumSteps[c])}function A(b,c){if(!l(c))throw Error("noUiSlider: 'step' is not numeric.");b.singleStep=c}function r(b,c){if(!l(c))throw Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");b.keyboardPageMultiplier=c}function B(b,c){if(!l(c))throw Error("noUiSlider: 'keyboardMultiplier' is not numeric.");b.keyboardMultiplier=c}function C(b,c){if(!l(c))throw Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");b.keyboardDefaultStep=c}function x(b,c){if("object"!=typeof c||Array.isArray(c))throw Error("noUiSlider: 'range' is not an object.");
if(void 0===c.min||void 0===c.max)throw Error("noUiSlider: Missing 'min' or 'max' in 'range'.");b.spectrum=new S(c,b.snap||!1,b.singleStep)}function D(b,c){if(c=p(c),!Array.isArray(c)||!c.length)throw Error("noUiSlider: 'start' option is incorrect.");b.handles=c.length;b.start=c}function F(b,c){if("boolean"!=typeof c)throw Error("noUiSlider: 'snap' option must be a boolean.");b.snap=c}function E(b,c){if("boolean"!=typeof c)throw Error("noUiSlider: 'animate' option must be a boolean.");b.animate=c}
function G(b,c){if("number"!=typeof c)throw Error("noUiSlider: 'animationDuration' option must be a number.");b.animationDuration=c}function K(b,c){var k,h=[!1];if("lower"===c?c=[!0,!1]:"upper"===c&&(c=[!1,!0]),!0===c||!1===c){for(k=1;k<b.handles;k++)h.push(c);h.push(!1)}else{if(!Array.isArray(c)||!c.length||c.length!==b.handles+1)throw Error("noUiSlider: 'connect' option doesn't match handle count.");h=c}b.connect=h}function I(b,c){switch(c){case "horizontal":b.ort=0;break;case "vertical":b.ort=
1;break;default:throw Error("noUiSlider: 'orientation' option is invalid.");}}function J(b,c){if(!l(c))throw Error("noUiSlider: 'margin' option must be numeric.");0!==c&&(b.margin=b.spectrum.getDistance(c))}function L(b,c){if(!l(c))throw Error("noUiSlider: 'limit' option must be numeric.");if(b.limit=b.spectrum.getDistance(c),!b.limit||2>b.handles)throw Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.");}function M(b,c){var k;if(!l(c)&&!Array.isArray(c))throw Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");
if(Array.isArray(c)&&2!==c.length&&!l(c[0])&&!l(c[1]))throw Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==c){Array.isArray(c)||(c=[c,c]);b.padding=[b.spectrum.getDistance(c[0]),b.spectrum.getDistance(c[1])];for(k=0;k<b.spectrum.xNumSteps.length-1;k++)if(0>b.padding[0][k]||0>b.padding[1][k])throw Error("noUiSlider: 'padding' option must be a positive number(s).");k=c[0]+c[1];c=b.spectrum.xVal[0];if(1<k/(b.spectrum.xVal[b.spectrum.xVal.length-1]-c))throw Error("noUiSlider: 'padding' option must not exceed 100% of the range.");
}}function H(b,c){switch(c){case "ltr":b.dir=0;break;case "rtl":b.dir=1;break;default:throw Error("noUiSlider: 'direction' option was not recognized.");}}function aa(b,c){if("string"!=typeof c)throw Error("noUiSlider: 'behaviour' must be a string containing options.");var k=0<=c.indexOf("tap"),h=0<=c.indexOf("drag"),l=0<=c.indexOf("fixed"),m=0<=c.indexOf("snap"),q=0<=c.indexOf("hover"),n=0<=c.indexOf("unconstrained"),r=0<=c.indexOf("drag-all");c=0<=c.indexOf("smooth-steps");if(l){if(2!==b.handles)throw Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");
J(b,b.start[1]-b.start[0])}if(n&&(b.margin||b.limit))throw Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");b.events={tap:k||m,drag:h,dragAll:r,smoothSteps:c,fixed:l,snap:m,hover:q,unconstrained:n}}function ca(b,c){if(!1!==c)if(!0===c||h(c)){b.tooltips=[];for(var k=0;k<b.handles;k++)b.tooltips.push(c)}else{if((c=p(c)).length!==b.handles)throw Error("noUiSlider: must pass a formatter for all handles.");c.forEach(function(b){if("boolean"!=typeof b&&!h(b))throw Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.");
});b.tooltips=c}}function T(b,c){if(c.length!==b.handles)throw Error("noUiSlider: must pass a attributes for all handles.");b.handleAttributes=c}function U(b,c){if(!h(c))throw Error("noUiSlider: 'ariaFormat' requires 'to' method.");b.ariaFormat=c}function Q(b,c){if(!h(k=c)||"function"!=typeof k.from)throw Error("noUiSlider: 'format' requires 'to' and 'from' methods.");var k;b.format=c}function X(b,c){if("boolean"!=typeof c)throw Error("noUiSlider: 'keyboardSupport' option must be a boolean.");b.keyboardSupport=
c}function O(b,c){b.documentElement=c}function N(b,c){if("string"!=typeof c&&!1!==c)throw Error("noUiSlider: 'cssPrefix' must be a string or `false`.");b.cssPrefix=c}function V(b,c){if("object"!=typeof c)throw Error("noUiSlider: 'cssClasses' must be an object.");"string"==typeof b.cssPrefix?(b.cssClasses={},Object.keys(c).forEach(function(k){b.cssClasses[k]=b.cssPrefix+c[k]})):b.cssClasses=c}function fa(b){var c={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:ja,format:ja},
k={step:{r:!1,t:A},keyboardPageMultiplier:{r:!1,t:r},keyboardMultiplier:{r:!1,t:B},keyboardDefaultStep:{r:!1,t:C},start:{r:!0,t:D},connect:{r:!0,t:K},direction:{r:!0,t:H},snap:{r:!1,t:F},animate:{r:!1,t:E},animationDuration:{r:!1,t:G},range:{r:!0,t:x},orientation:{r:!1,t:I},margin:{r:!1,t:J},limit:{r:!1,t:L},padding:{r:!1,t:M},behaviour:{r:!0,t:aa},ariaFormat:{r:!1,t:U},format:{r:!1,t:Q},tooltips:{r:!1,t:ca},keyboardSupport:{r:!0,t:X},documentElement:{r:!1,t:O},cssPrefix:{r:!0,t:N},cssClasses:{r:!0,
t:V},handleAttributes:{r:!1,t:T}},h={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:ia,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};b.format&&!b.ariaFormat&&(b.ariaFormat=b.format);Object.keys(k).forEach(function(l){if(null!=b[l]||void 0!==h[l])k[l].t(c,(null!=b[l]?b:h)[l]);else if(k[l].r)throw Error("noUiSlider: '"+l+"' is required.");});c.pips=b.pips;var l=document.createElement("div"),m=void 0!==l.style.msTransform,
l=void 0!==l.style.transform;c.transformRule=l?"transform":m?"msTransform":"webkitTransform";return c.style=[["left","top"],["right","bottom"]][c.dir][c.ort],c}function W(h,l,n){function r(b,c){var k=Ha.createElement("div");return c&&u(k,c),b.appendChild(k),k}function z(b,c){var k;b=r(b,l.cssClasses.origin);var h=r(b,l.cssClasses.handle);return r(h,l.cssClasses.touchArea),h.setAttribute("data-handle",String(c)),l.keyboardSupport&&(h.setAttribute("tabindex","0"),h.addEventListener("keydown",function(b){return function(b,
c){if(sa.hasAttribute("disabled")||x(c))return!1;var k=["Left","Right"],h=["Down","Up"],m=["PageDown","PageUp"],q=["Home","End"];l.dir&&!l.ort?k.reverse():l.ort&&!l.dir&&(h.reverse(),m.reverse());var r=b.key.replace("Arrow",""),n=r===m[0],p=r===m[1],m=r===h[0]||r===k[0]||n,h=r===h[1]||r===k[1]||p,k=r===q[0],q=r===q[1];if(!(m||h||k||q))return!0;if(b.preventDefault(),h||m){b=m?0:1;b=ca(c)[b];if(null===b)return!1;!1===b&&(b=ha.getDefaultStep(oa[c],m,l.keyboardDefaultStep));b*=p||n?l.keyboardPageMultiplier:
l.keyboardMultiplier;b=Math.max(b,1E-7);b=Ba[c]+b*(m?-1:1)}else b=q?l.spectrum.xVal[l.spectrum.xVal.length-1]:l.spectrum.xVal[0];return ta(c,ha.toStepping(b),!0,!0),O("slide",c),O("update",c),O("change",c),O("set",c),!1}(b,c)})),void 0!==l.handleAttributes&&(k=l.handleAttributes[c],Object.keys(k).forEach(function(b){h.setAttribute(b,k[b])})),h.setAttribute("role","slider"),h.setAttribute("aria-orientation",l.ort?"vertical":"horizontal"),0===c?u(h,l.cssClasses.handleLower):c===l.handles-1&&u(h,l.cssClasses.handleUpper),
b.handle=h,b}function v(b,c){return!(!l.tooltips||!l.tooltips[c])&&r(b.firstChild,l.cssClasses.tooltip)}function x(b){return T[b].hasAttribute("disabled")}function y(){ya&&(N("update"+ga.tooltips),ya.forEach(function(b){b&&b.parentElement.removeChild(b)}),ya=null)}function A(){y();ya=T.map(v);ja("update"+ga.tooltips,function(b,c,k){ya&&l.tooltips&&!1!==ya[c]&&(b=b[c],!0!==l.tooltips[c]&&(b=l.tooltips[c].to(k[c])),ya[c].innerHTML=b)})}function C(b,c){return b.map(function(b){return ha.fromStepping(c?
ha.getStep(b):b)})}function B(c){var k=function(c){if(c.mode===b.PipsMode.Range||c.mode===b.PipsMode.Steps)return ha.xVal;if(c.mode!==b.PipsMode.Count)return c.mode===b.PipsMode.Positions?C(c.values,c.stepped):c.mode===b.PipsMode.Values?c.stepped?c.values.map(function(b){return ha.fromStepping(ha.getStep(ha.toStepping(b)))}):c.values:[];if(2>c.values)throw Error("noUiSlider: 'values' (\x3e\x3d 2) required for mode 'count'.");for(var k=c.values-1,h=100/k,l=[];k--;)l[k]=k*h;return l.push(100),C(l,c.stepped)}(c),
h={},l=ha.xVal[0],m=ha.xVal[ha.xVal.length-1],q=!1,r=!1,n=0;return(k=k.slice().sort(function(b,c){return b-c}).filter(function(b){return!this[b]&&(this[b]=!0)},{}))[0]!==l&&(k.unshift(l),q=!0),k[k.length-1]!==m&&(k.push(m),r=!0),k.forEach(function(l,m){var p,z,v,x,y,u=k[m+1],A=c.mode===b.PipsMode.Steps,C=(C=A?ha.xNumSteps[m]:C)||u-l;void 0===u&&(u=l);for(C=Math.max(C,1E-7);l<=u;l=Number((l+C).toFixed(7))){x=(p=(z=ha.toStepping(l))-n)/(c.density||1);y=p/(x=Math.round(x));for(p=1;p<=x;p+=1)h[(v=n+p*
y).toFixed(5)]=[ha.fromStepping(v),0];x=-1<k.indexOf(l)?b.PipsType.LargeValue:A?b.PipsType.SmallValue:b.PipsType.NoValue;!m&&q&&l!==u&&(x=0);l===u&&r||(h[z.toFixed(5)]=[l,x]);n=z}}),h}function D(c,k,h){function m(b,c){var k=c===l.cssClasses.value;return c+" "+(k?v:x)[l.ort]+" "+(k?p:z)[b]}var q,n=Ha.createElement("div"),p=((q={})[b.PipsType.None]="",q[b.PipsType.NoValue]=l.cssClasses.valueNormal,q[b.PipsType.LargeValue]=l.cssClasses.valueLarge,q[b.PipsType.SmallValue]=l.cssClasses.valueSub,q),z=((q=
{})[b.PipsType.None]="",q[b.PipsType.NoValue]=l.cssClasses.markerNormal,q[b.PipsType.LargeValue]=l.cssClasses.markerLarge,q[b.PipsType.SmallValue]=l.cssClasses.markerSub,q),v=[l.cssClasses.valueHorizontal,l.cssClasses.valueVertical],x=[l.cssClasses.markerHorizontal,l.cssClasses.markerVertical];return u(n,l.cssClasses.pips),u(n,0===l.ort?l.cssClasses.pipsHorizontal:l.cssClasses.pipsVertical),Object.keys(c).forEach(function(q){var p,z,v;z=c[p=q][0];v=c[q][1];(v=k?k(z,v):v)!==b.PipsType.None&&((q=r(n,
!1)).className=m(v,l.cssClasses.marker),q.style[l.style]=p+"%",v>b.PipsType.NoValue&&((q=r(n,!1)).className=m(v,l.cssClasses.value),q.setAttribute("data-value",String(z)),q.style[l.style]=p+"%",q.innerHTML=String(h.to(z))))}),n}function E(){Oa&&(Oa.parentElement.removeChild(Oa),Oa=null)}function F(b){E();var c=B(b),k=b.filter;b=b.format||{to:function(b){return String(Math.round(b))}};return Oa=sa.appendChild(D(c,k,b))}function G(){var b=W.getBoundingClientRect(),c="offset"+["Width","Height"][l.ort];
return 0===l.ort?b.width||W[c]:b.height||W[c]}function K(b,c,k,h){function m(n){var r,p=function(b,c,k){var h=0===b.type.indexOf("touch"),l=0===b.type.indexOf("mouse"),m=0===b.type.indexOf("pointer"),n=0,r=0;0===b.type.indexOf("MSPointer")&&(m=!0);if("mousedown"===b.type&&!b.buttons&&!b.touches)return!1;if(h)if(h=function(c){c=c.target;return c===k||k.contains(c)||b.composed&&b.composedPath().shift()===k},"touchstart"===b.type){h=Array.prototype.filter.call(b.touches,h);if(1<h.length)return!1;n=h[0].pageX;
r=h[0].pageY}else{h=Array.prototype.find.call(b.changedTouches,h);if(!h)return!1;n=h.pageX;r=h.pageY}c=c||q(Ha);(l||m)&&(n=b.clientX+c.x,r=b.clientY+c.y);return b.pageOffset=c,b.points=[n,r],b.cursor=l||m,b}(n,h.pageOffset,h.target||c);return!!p&&!(sa.hasAttribute("disabled")&&!h.doNotReject)&&(r=sa,n=l.cssClasses.tap,!((r.classList?r.classList.contains(n):(new RegExp("\\b"+n+"\\b")).test(r.className))&&!h.doNotReject)&&!(b===Ga.start&&void 0!==p.buttons&&1<p.buttons)&&(!h.hover||!p.buttons)&&(fb||
p.preventDefault(),p.calcPoint=p.points[l.ort],void k(p,h)))}var n=[];return b.split(" ").forEach(function(b){c.addEventListener(b,m,!!fb&&{passive:!0});n.push([b,m])}),n}function J(b){var c,k,h=Math.max(Math.min(h=100*(b-(h=W,c=l.ort,k=h.getBoundingClientRect(),h=(b=h.ownerDocument).documentElement,b=q(b),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(b.x=0),c?k.top+b.y-h.clientTop:k.left+b.x-h.clientLeft))/G(),100),0);return l.dir?100-h:h}function I(b,c){"mouseout"===b.type&&"HTML"===b.target.nodeName&&
null===b.relatedTarget&&H(b,c)}function Q(b,c){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===b.buttons&&0!==c.buttonsProperty)return H(b,c);b=(l.dir?-1:1)*(b.calcPoint-c.startCalcPoint);ia(0<b,100*b/c.baseSize,c.locations,c.handleNumbers,c.connect)}function H(b,h){h.handle&&(k(h.handle,l.cssClasses.active),--gb);h.listeners.forEach(function(b){Ca.removeEventListener(b[0],b[1])});0===gb&&(k(sa,l.cssClasses.drag),za(),b.cursor&&(Ua.style.cursor="",Ua.removeEventListener("selectstart",c)));l.events.smoothSteps&&
(h.handleNumbers.forEach(function(b){ta(b,oa[b],!0,!0,!1,!1)}),h.handleNumbers.forEach(function(b){O("update",b)}));h.handleNumbers.forEach(function(b){O("change",b);O("set",b);O("end",b)})}function L(b,k){var h,m,q,n;k.handleNumbers.some(x)||(1===k.handleNumbers.length&&(n=T[k.handleNumbers[0]].children[0],gb+=1,u(n,l.cssClasses.active)),b.stopPropagation(),m=K(Ga.move,Ca,Q,{target:b.target,handle:n,connect:k.connect,listeners:h=[],startCalcPoint:b.calcPoint,baseSize:G(),pageOffset:b.pageOffset,
handleNumbers:k.handleNumbers,buttonsProperty:b.buttons,locations:oa.slice()}),q=K(Ga.end,Ca,H,{target:b.target,handle:n,listeners:h,doNotReject:!0,handleNumbers:k.handleNumbers}),n=K("mouseout",Ca,I,{target:b.target,handle:n,listeners:h,doNotReject:!0,handleNumbers:k.handleNumbers}),h.push.apply(h,m.concat(q,n)),b.cursor&&(Ua.style.cursor=getComputedStyle(b.target).cursor,1<T.length&&u(sa,l.cssClasses.drag),Ua.addEventListener("selectstart",c,!1)),k.handleNumbers.forEach(function(b){O("start",b)}))}
function M(b){b.stopPropagation();var c,k,h=J(b.calcPoint),q=(k=!(c=100),T.forEach(function(b,l){var m,q;x(l)||(m=oa[l],((q=Math.abs(m-h))<c||q<=c&&m<h||100===q&&100===c)&&(k=l,c=q))}),k);!1!==q&&(l.events.snap||m(sa,l.cssClasses.tap,l.animationDuration),ta(q,h,!0,!0),za(),O("slide",q,!0),O("update",q,!0),l.events.snap?L(b,{handleNumbers:[q]}):(O("change",q,!0),O("set",q,!0)))}function U(b){b=J(b.calcPoint);b=ha.getStep(b);var c=ha.fromStepping(b);Object.keys(pa).forEach(function(b){"hover"===b.split(".")[0]&&
pa[b].forEach(function(b){b.call(Ia,c)})})}function ja(b,c){pa[b]=pa[b]||[];pa[b].push(c);"update"===b.split(".")[0]&&T.forEach(function(b,c){O("update",c)})}function N(b){var c=b&&b.split(".")[0],k=c?b.substring(c.length):b;Object.keys(pa).forEach(function(b){var h=b.split(".")[0],l=b.substring(h.length);c&&c!==h||k&&k!==l||((h=l)!==ga.aria&&h!==ga.tooltips||k===l)&&delete pa[b]})}function O(b,c,k){Object.keys(pa).forEach(function(h){var m=h.split(".")[0];b===m&&pa[h].forEach(function(b){b.call(Ia,
Ba.map(l.format.to),c,Ba.slice(),k||!1,oa.slice(),Ia)})})}function Ma(b,c,k,h,m,q,n){var r;return 1<T.length&&!l.events.unconstrained&&(h&&0<c&&(r=ha.getAbsoluteDistance(b[c-1],l.margin,!1),k=Math.max(k,r)),m&&c<T.length-1&&(r=ha.getAbsoluteDistance(b[c+1],l.margin,!0),k=Math.min(k,r))),1<T.length&&l.limit&&(h&&0<c&&(r=ha.getAbsoluteDistance(b[c-1],l.limit,!1),k=Math.min(k,r)),m&&c<T.length-1&&(r=ha.getAbsoluteDistance(b[c+1],l.limit,!0),k=Math.max(k,r))),l.padding&&(0===c&&(r=ha.getAbsoluteDistance(0,
l.padding[0],!1),k=Math.max(k,r)),c===T.length-1&&(r=ha.getAbsoluteDistance(100,l.padding[1],!0),k=Math.min(k,r))),!((k=Math.max(Math.min(k=n?k:ha.getStep(k),100),0))===b[c]&&!q)&&k}function X(b,c){var k=l.ort;return(k?c:b)+", "+(k?b:c)}function ia(b,c,k,h,m){var q=k.slice(),n=h[0],r=l.events.smoothSteps,p=[!b,b],z=[b,!b];h=h.slice();b&&h.reverse();1<h.length?h.forEach(function(b,k){k=Ma(q,b,q[b]+c,p[k],z[k],!1,r);!1===k?c=0:(c=k-q[b],q[b]=k)}):p=z=[!0];var v=!1;h.forEach(function(b,h){v=ta(b,k[b]+
c,p[h],z[h],!1,r)||v});v&&(h.forEach(function(b){O("update",b);O("slide",b)}),null!=m&&O("drag",n))}function za(){va.forEach(function(b){var c=50<oa[b]?-1:1,c=3+(T.length+c*b);T[b].style.zIndex=String(c)})}function ta(b,c,k,h,m,q){return!1!==(c=m?c:Ma(oa,b,c,k,h,!1,q))&&(oa[b]=c,Ba[b]=ha.fromStepping(c),c="translate("+X((l.dir?100-c-0:c)-jb+"%","0")+")",T[b].style[l.transformRule]=c,aa(b),aa(b+1),!0)}function aa(b){var c,k;if(Z[b]){k=100;var h=c=(c=0)!==b?oa[b-1]:c;c=k=(k=b!==Z.length-1?oa[b]:k)-
c;c="translate("+X((l.dir?100-h-c:h)+"%","0")+")";k="scale("+X(k/100,"1")+")";Z[b].style[l.transformRule]=c+" "+k}}function V(b,c){return null===b||!1===b||void 0===b?oa[c]:("number"==typeof b&&(b=String(b)),!1===(b=!1!==(b=l.format.from(b))?ha.toStepping(b):b)||isNaN(b)?oa[c]:b)}function S(b,c,k){var h=p(b);b=void 0===oa[0];c=void 0===c||c;l.animate&&!b&&m(sa,l.cssClasses.tap,l.animationDuration);va.forEach(function(b){ta(b,V(h[b],b),!0,!1,k)});var q,r=1===va.length?0:1;for(b&&ha.hasNoSize()&&(k=
!0,oa[0]=0,1<va.length&&(q=100/(va.length-1),va.forEach(function(b){oa[b]=b*q})));r<va.length;++r)va.forEach(function(b){ta(b,oa[b],!0,!0,k)});za();va.forEach(function(b){O("update",b);null!==h[b]&&c&&O("set",b)})}function ba(b){if(void 0===b?0:b)return 1===Ba.length?Ba[0]:Ba.slice(0);b=Ba.map(l.format.to);return 1===b.length?b[0]:b}function ca(b){var c=oa[b],k=ha.getNearbySteps(c);b=Ba[b];var h=k.thisStep.step;if(l.snap)return[b-k.stepBefore.startValue||null,k.stepAfter.startValue-b||null];!1!==
h&&b+h>k.stepAfter.startValue&&(h=k.stepAfter.startValue-b);b=b>k.thisStep.startValue?k.thisStep.step:!1!==k.stepBefore.step&&b-k.stepBefore.highestStep;100===c?h=null:0===c&&(b=null);c=ha.countStepDecimals();return null!==h&&!1!==h&&(h=Number(h.toFixed(c))),[null!==b&&!1!==b?Number(b.toFixed(c)):b,h]}var W,T,Z,Oa,ya,Ja,Ga=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:
{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},fb=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var b=!1;try{var c=Object.defineProperty({},"passive",{get:function(){b=!0}});window.addEventListener("test",null,c)}catch(k){}return b}(),sa=h,ha=l.spectrum,Ba=[],oa=[],va=[],gb=0,pa={},Ha=h.ownerDocument,Ca=l.documentElement||Ha.documentElement,Ua=Ha.body,jb="rtl"===Ha.dir||1===l.ort?0:100;u(h=sa,l.cssClasses.target);0===l.dir?u(h,l.cssClasses.ltr):
u(h,l.cssClasses.rtl);0===l.ort?u(h,l.cssClasses.horizontal):u(h,l.cssClasses.vertical);u(h,"rtl"===getComputedStyle(h).direction?l.cssClasses.textDirectionRtl:l.cssClasses.textDirectionLtr);W=r(h,l.cssClasses.base);(function(b,c){var k=r(c,l.cssClasses.connects);T=[];(Z=[]).push(!!b[0]&&r(k,l.cssClasses.connect));for(var h=0;h<l.handles;h++)T.push(z(c,h)),va[h]=h,Z.push(!!b[h+1]&&r(k,l.cssClasses.connect))})(l.connect,W);(Ja=l.events).fixed||T.forEach(function(b,c){K(Ga.start,b.children[0],L,{handleNumbers:[c]})});
Ja.tap&&K(Ga.start,W,M,{});Ja.hover&&K(Ga.move,W,U,{hover:!0});Ja.drag&&Z.forEach(function(b,c){var k,h,m,q,r;!1!==b&&0!==c&&c!==Z.length-1&&(k=T[c-1],h=T[c],m=[b],q=[k,h],r=[c-1,c],u(b,l.cssClasses.draggable),Ja.fixed&&(m.push(k.children[0]),m.push(h.children[0])),Ja.dragAll&&(q=T,r=va),m.forEach(function(c){K(Ga.start,c,L,{handles:q,handleNumbers:r,connect:b})}))});S(l.start);l.pips&&F(l.pips);l.tooltips&&A();N("update"+ga.aria);ja("update"+ga.aria,function(b,c,k,h,m){va.forEach(function(b){var c=
T[b],h=Ma(oa,b,0,!0,!0,!0),q=Ma(oa,b,100,!0,!0,!0),r=m[b];b=String(l.ariaFormat.to(k[b]));h=ha.fromStepping(h).toFixed(1);q=ha.fromStepping(q).toFixed(1);r=ha.fromStepping(r).toFixed(1);c.children[0].setAttribute("aria-valuemin",h);c.children[0].setAttribute("aria-valuemax",q);c.children[0].setAttribute("aria-valuenow",r);c.children[0].setAttribute("aria-valuetext",b)})});var Ia={destroy:function(){N(ga.aria);N(ga.tooltips);for(Object.keys(l.cssClasses).forEach(function(b){k(sa,l.cssClasses[b])});sa.firstChild;)sa.removeChild(sa.firstChild);
delete sa.noUiSlider},steps:function(){return va.map(ca)},on:ja,off:N,get:ba,set:S,setHandle:function(b,c,k,h){if(!(0<=(b=Number(b))&&b<va.length))throw Error("noUiSlider: invalid handle number, got: "+b);ta(b,V(c,b),!0,!0,h);O("update",b);k&&O("set",b)},reset:function(b){S(l.start,b)},disable:function(b){null!=b?(T[b].setAttribute("disabled",""),T[b].handle.removeAttribute("tabindex")):(sa.setAttribute("disabled",""),T.forEach(function(b){b.handle.removeAttribute("tabindex")}))},enable:function(b){null!=
b?(T[b].removeAttribute("disabled"),T[b].handle.setAttribute("tabindex","0")):(sa.removeAttribute("disabled"),T.forEach(function(b){b.removeAttribute("disabled");b.handle.setAttribute("tabindex","0")}))},__moveHandles:function(b,c,k){ia(b,c,oa,k)},options:n,updateOptions:function(b,c){var k=ba(),h="margin limit padding range animate snap step format pips tooltips".split(" ");h.forEach(function(c){void 0!==b[c]&&(n[c]=b[c])});var m=fa(n);h.forEach(function(c){void 0!==b[c]&&(l[c]=m[c])});ha=m.spectrum;
l.margin=m.margin;l.limit=m.limit;l.padding=m.padding;l.pips?F(l.pips):E();(l.tooltips?A:y)();oa=[];S(null!=b.start?b.start:k,c)},target:sa,removePips:E,removeTooltips:y,getPositions:function(){return oa.slice()},getTooltips:function(){return ya},getOrigins:function(){return T},pips:F};return Ia}function Z(b,c){if(!b||!b.nodeName)throw Error("noUiSlider: create requires a single element, got: "+b);if(b.noUiSlider)throw Error("noUiSlider: Slider was already initialized.");c=W(b,fa(c),c);return b.noUiSlider=
c}b.PipsMode=void 0;(ba=b.PipsMode||(b.PipsMode={})).Range="range";ba.Steps="steps";ba.Positions="positions";ba.Count="count";ba.Values="values";b.PipsType=void 0;(ba=b.PipsType||(b.PipsType={}))[ba.None=-1]="None";ba[ba.NoValue=0]="NoValue";ba[ba.LargeValue=1]="LargeValue";ba[ba.SmallValue=2]="SmallValue";var S=(z.prototype.getDistance=function(b){for(var c=[],k=0;k<this.xNumSteps.length-1;k++)c[k]=v(this.xVal,b,k);return c},z.prototype.getAbsoluteDistance=function(b,c,k){var h=0;if(b<this.xPct[this.xPct.length-
1])for(;b>this.xPct[h+1];)h++;else b===this.xPct[this.xPct.length-1]&&(h=this.xPct.length-2);k||b!==this.xPct[h+1]||h++;for(var l,m=1,q=(c=null===c?[]:c)[h],r=0,n=0,p=0,z=k?(b-this.xPct[h])/(this.xPct[h+1]-this.xPct[h]):(this.xPct[h+1]-b)/(this.xPct[h+1]-this.xPct[h]);0<q;)l=this.xPct[h+1+p]-this.xPct[h+p],100<c[h+p]*m+100-100*z?(r=l*z,m=(q-100*z)/c[h+p],z=1):(r=c[h+p]*l/100*m,m=0),k?(n-=r,1<=this.xPct.length+p&&p--):(n+=r,1<=this.xPct.length-p&&p++),q=c[h+p]*m;return b+n},z.prototype.toStepping=
function(b){var c=this.xVal,k=this.xPct;if(b>=c.slice(-1)[0])b=100;else{var h=y(b,c),l=c[h-1],m=c[h],c=k[h-1],h=k[h];b=c+v(m=[l,m],0>m[0]?b+Math.abs(m[0]):b-m[0],0)/(100/(h-c))}return b},z.prototype.fromStepping=function(b){var c=this.xVal,k=this.xPct;if(100<=b)b=c.slice(-1)[0];else{var h=y(b,k),l=c[h-1],m=c[h],c=k[h-1],h=k[h];b=100/(h-c)*(b-c)*((m=[l,m])[1]-m[0])/100+m[0]}return b},z.prototype.getStep=function(b){var c=this.xPct,k=this.xSteps,h=this.snap;if(100!==b){var l=y(b,c),m=c[l-1],q=c[l];
b=h?(q-m)/2<b-m?q:m:k[l-1]?c[l-1]+(c=b-c[l-1],l=k[l-1],Math.round(c/l)*l):b}return b},z.prototype.getDefaultStep=function(b,c,k){var h=y(b,this.xPct);return(100===b||c&&b===this.xPct[h-1])&&(h=Math.max(h-1,1)),(this.xVal[h]-this.xVal[h-1])/k},z.prototype.getNearbySteps=function(b){b=y(b,this.xPct);return{stepBefore:{startValue:this.xVal[b-2],step:this.xNumSteps[b-2],highestStep:this.xHighestCompleteStep[b-2]},thisStep:{startValue:this.xVal[b-1],step:this.xNumSteps[b-1],highestStep:this.xHighestCompleteStep[b-
1]},stepAfter:{startValue:this.xVal[b],step:this.xNumSteps[b],highestStep:this.xHighestCompleteStep[b]}}},z.prototype.countStepDecimals=function(){var b=this.xNumSteps.map(n);return Math.max.apply(null,b)},z.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},z.prototype.convert=function(b){return this.getStep(this.toStepping(b))},z.prototype.handleEntryPoint=function(b,c){b="min"===b?0:"max"===b?100:parseFloat(b);if(!l(b)||!l(c[0]))throw Error("noUiSlider: 'range' value isn't numeric.");
this.xPct.push(b);this.xVal.push(c[0]);c=Number(c[1]);b?this.xSteps.push(!isNaN(c)&&c):isNaN(c)||(this.xSteps[0]=c);this.xHighestCompleteStep.push(0)},z.prototype.handleStepPoint=function(b,c){c&&(this.xVal[b]!==this.xVal[b+1]?(this.xSteps[b]=v([this.xVal[b],this.xVal[b+1]],c,0)/(100/(this.xPct[b+1]-this.xPct[b])),c=(this.xVal[b+1]-this.xVal[b])/this.xNumSteps[b],c=Math.ceil(Number(c.toFixed(3))-1),c=this.xVal[b]+this.xNumSteps[b]*c,this.xHighestCompleteStep[b]=c):this.xSteps[b]=this.xHighestCompleteStep[b]=
this.xVal[b])},z),ja={to:function(b){return void 0===b?"":b.toFixed(2)},from:Number},ia={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",
pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},ga={tooltips:".__tooltips",aria:".__aria"},ba={__spectrum:S,cssClasses:ia,create:Z};b.create=Z;b.cssClasses=
ia;b.default=ba;Object.defineProperty(b,"__esModule",{value:!0})});
jQuery(document).ready(function(b){function h(c,h){c.each(function(){b(this).offset().top<=b(window).scrollTop()+b(window).height()*h&&b(this).find(".cd-timeline-img").hasClass("is-hidden")&&b(this).find(".cd-timeline-img, .cd-timeline-content").removeClass("is-hidden").addClass("bounce-in")})}var c=b(".cd-timeline-block");(function(c,h){c.each(function(){b(this).offset().top>b(window).scrollTop()+b(window).height()*h&&b(this).find(".cd-timeline-img, .cd-timeline-content").addClass("is-hidden")})})(c,.8);
b(window).on("scroll",function(){window.requestAnimationFrame?window.requestAnimationFrame(function(){h(c,.8)}):setTimeout(function(){h(c,.8)},100)})});
(function(){for(var b=0,h=["ms","moz","webkit","o"],c=0;c<h.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[h[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[h[c]+"CancelAnimationFrame"]||window[h[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(c,h){var p=(new Date).getTime(),n=Math.max(0,16-(p-b));h=window.setTimeout(function(){c(p+n)},n);b=p+n;return h});window.cancelAnimationFrame||(window.cancelAnimationFrame=
function(b){clearTimeout(b)})})();
DKI.uri=DKI.apply({},{ComplexValueError:function(){var b=function(b){this.value=b;this.name="ComplexValueError";this.message="Could not encode complex value"};DKI.apply(b.prototype,{toString:function(){return[name,": ",message," ",value].join("")}});return b}(),encode:function(b){var h=[];DKI.iterate(b,function(b,h){if(DKI.isString(h))this.output.push(encodeURIComponent(b)+"\x3d"+encodeURIComponent(h));else if(DKI.isDate(h))this.output.push(encodeURIComponent(b)+"\x3d"+encodeURIComponent(h.toString()));
else if(DKI.isPrimitive(h))this.output.push(encodeURIComponent(b)+"\x3d"+h.toString());else throw new DKI.uri.ComplexValueError(h);},{output:h});return h.join("\x26")},decode:function(b){var h={};b=b.split("\x26");var c=b.length,l,m;for(l=0;l<c;l+=1)/=/.test(b[l])&&(m=b[l].split("\x3d"),h[m[0]]=m[1]);return h},decodeCurrentLocation:function(){return this.decode(window.location.search.replace(/^\?/,""))}});"undefined"==typeof DKI&&(DKI={});DKI.func||(DKI.func={});
DKI.func.debounce=function(b,h,c){var l,m=function(){var m=this,n=Array.prototype.slice.call(arguments);l?clearTimeout(l):c&&b.apply(m,n);l=setTimeout(function(){c||b.apply(m,n);l=null},h)};m.clear=function(){l&&clearTimeout(l)};return m};DKI.func.bind=function(b,h){return b.prototype.bind?b.bind(h):function(){b.apply(h,Array.prototype.slice.call(arguments))}};
DKI.func.Queue=function(){var b={},h={buildQueue:function(c){var h=b[c.name];h?c.id&&!~h.ids.indexOf(c.id)&&h.ids.push(c.id):b[c.name]={ids:c.id?[c.id]:[],callback:c.callback?c.callback:function(){}}},dequeue:function(c){var l=b[c.name];if(l){var m=l.ids.indexOf(c.id);~m&&l.ids.splice(m,1);h.checkQueue(c.name)}},checkQueue:function(c){var h=b[c];h&&0==h.ids.length&&(delete b[c],h.callback())},deleteQueue:function(c){return b[c]?(delete b[c],!0):!1}};return{queue:function(b){h.buildQueue(b)},dequeue:function(b){h.dequeue(b)},
getQueue:function(){return b},deleteQueue:function(b){return h.deleteQueue(b)}}};
DKI.func.imageLoader=function(b,h,c){c=c||function(){};b.css("opacity",0);var l=b.is("img")?b[0]:new Image,m=function(){b.addClass("imgLoadTransition");c({height:l.height,width:l.width});setTimeout(function(){b.removeClass("imgLoadTransition").css("opacity","")},500)};l.complete&&0!==l.naturalHeight?m():(l.onload=function(){b.is("img")||($(l).remove(),b.css({"background-image":"url('"+h+"')"}));requestAnimationFrame(function(){requestAnimationFrame(m)})},l.src=h)};
DKI.func.scrollWith=function(b,h,c){return function(){var l=null,m=DKI.applyIf(c,{offsetBottom:0,offsetTop:0,onWinResize:function(){}}),p={onScroll:function(){var c=-(h.offset().top-$(window).scrollTop()),l=h.offset().top-$(window).scrollTop()+h.outerHeight()-(b.outerHeight()+m.offsetBottom);0<l&&0>c?b.css("top",0):0<l&&0<c?b.css("top",c+m.offsetTop):b.css("top",$(window).scrollTop()-(h.offset().top+m.offsetTop)+l)},onWinResize:DKI.func.debounce(function(){m.onWinResize(m);p.onScroll()},30,!1)};return{start:function(){l||
(l=$(document).on("scroll",p.onScroll),$(window).on("resize",p.onWinResize),jQuery.inArray(h.css("position"),-1==["absolute","relative","fixed"])&&h.css("position","relative"),jQuery.inArray(b.css("position"),-1==["absolute","relative","fixed"])&&b.css("position","relative"))},stop:function(c){$(document).off("scroll",p.onScroll);$(window).off("resize",p.onWinResize);l=null;c&&b.css("top",0)}}}()};
DKI.courseStore=function(){var b=null,h={course:"course",module:"module",object:"object",page:"page",question:"question"},c=function(){return{complete:!1,completeCnt:0,nodeType:h.course,id:null,key:null,parentId:null,pageNote:null,transcript:null,childKeys:[],name:""}},l={},m=function(){return l[b]},p=function(b){return void 0===l[b]?null:l[b]};return{load:function(n){var u=n.testonly,k=h.course+n.courseid,q,v,y;l[k]=DKI.applyIf(DKI.apply({nodeType:h.course,key:k,parentId:k},n),new c);delete l[k].modules;
b=k;var z=function(b,c){if("placeholder"!=b.elementtype){if(""==b.title){if("htm"==b.elementtype||"table"==b.elementtype||"tab"==b.elementtype)b.title=b.meta;""==b.title&&(b.title="Untitled "+b.elementtype+" Element")}$(document).trigger(this.events.elementRegistered,[b,c]);for(var k=0;k<b.elements.length;k++)z.call(this,b.elements[k],c)}},A=function(b){for(var c=0;c<b.groups.length;c++){var k=b.groups[c];$(document).trigger(this.events.groupRegistered,[k]);for(var h=0;h<k.elements.length;h++)z.call(this,
k.elements[h],!0)}};for(q=0;q<n.modules.length;q++){var r=n.modules[q],B=h.module+r.loid;l[B]=DKI.applyIf(DKI.apply({nodeType:h.module,key:B,parentId:k,questionKeys:[]},r),new c);delete l[B].objects;l[k].childKeys.push(B);$(document).trigger(this.events.moduleRegistered,[r]);for(v=0;v<r.objects.length;v++){var C=r.objects[v],x=C.subeos,D=h.object+C.objectid;l[D]=DKI.applyIf(DKI.apply({nodeType:h.object,key:D,parentId:B},C),new c);delete l[D].pages;l[B].childKeys.push(D);$(document).trigger(this.events.loRegistered,
[C]);for(y=0;y<x.length;y++){var F=x[y],E=h.page+F.page.pageid;l[E]=DKI.applyIf(DKI.apply({nodeType:h.page,key:E,parentId:D,moduleKey:B},F),new c);l[D].childKeys.push(E);$(document).trigger(this.events.pageRegistered,[F.page]);for(E=0;E<F.page.groups.length;E++){var G=F.page.groups[E];$(document).trigger(this.events.groupRegistered,[G]);for(var K=0;K<G.elements.length;K++){var I=G.elements[K];z.call(this,I,F.subeoid?!1:!0)}}}if(0<C.subeos.length||u)for(y=0;y<C.questions.length;y++)x=C.questions[y],
F=h.question+x.id,l[F]=DKI.applyIf(DKI.apply({nodeType:h.question,key:F,parentId:D,pageId:x.pageid,transcript:""},x),new c),$(document).trigger(this.events.questionRegistered,[F]),l[B].questionKeys.push(F),l[D].childKeys.push(F);for(y=0;y<C.questions.length;y++)for(x=C.questions[y],F=h.question+x.id,E=0;E<x.page.groups.length;E++)for(G=x.page.groups[E],$(document).trigger(this.events.groupRegistered,[G]),K=0;K<G.elements.length;K++)I=G.elements[K],z.call(this,I,x.subeoid?!1:!0)}}n.header_primary_page&&
A.call(this,n.header_primary_page);n.footer_primary_page&&A.call(this,n.footer_primary_page);n.header_secondary_page&&A.call(this,n.header_secondary_page);n.footer_secondary_page&&A.call(this,n.footer_secondary_page);n.module_summary_page&&A.call(this,n.module_summary_page);n.course_summary_page&&A.call(this,n.course_summary_page);n.certificate_page&&A.call(this,n.certificate_page);for(q=0;q<n.resourcePages.length;q++)A.call(this,n.resourcePages[q]);$(document).trigger(this.events.courseRegistered,
[n]);$(player.dataStorage).on(DKI.DataStorage.events.pageCompleted,function(b,c){p(h.page+c).complete=!0});$(player.dataStorage).on(DKI.DataStorage.events.objectCompleted,function(b,c){p(h.object+c).complete=!0});$(player.dataStorage).on(DKI.DataStorage.events.moduleCompleted,function(b,c){p(h.module+c).complete=!0});$(player.dataStorage).on(DKI.DataStorage.events.courseCompleted,function(b){m().complete=!0});return!0},NodeType:h,get:p,set:function(b){l[b.key]=b;return l[b.key]},course:{get:m,set:function(c){l[b]=
c;return null}},module:{all:function(){var c=[],h;for(h in l[b].childKeys)c.push(l[l[b].childKeys[h]]);return c},get:function(b){return l[b].nodeType==h.module?l[b]:null},set:function(b){l[b.key]=b;return null}},object:{all:function(){var c=[],h;for(h in l[b].childKeys)for(var k in l[l[b].childKeys[h]].childKeys)c.push(l[l[l[b].childKeys[h]].childKeys[k]]);return c},get:function(b){return(b=l[b])&&b.nodeType==h.object?b:null},getForPage:function(c){for(var h in l[b].childKeys){var k=l[l[b].childKeys[h]],
m;for(m in k.childKeys){var p=l[k.childKeys[m]],y;for(y in p.childKeys)if(p.childKeys[y]==c)return p}}return null},set:function(b){l[b.key]=b;return null}},page:{all:function(){var c=[],h;for(h in l[b].childKeys){var k=l[l[b].childKeys[h]],m;for(m in k.childKeys){var p=l[k.childKeys[m]],y;for(y in p.childKeys)c.push(l[p.childKeys[y]])}}return c},get:function(b){return l[b].nodeType==h.page?l[b]:null},set:function(b){l[b.key]=b;return null}},store:l,events:{courseRegistered:"courseRegistered",moduleRegistered:"moduleRegistered",
loRegistered:"loRegistered",pageRegistered:"pageRegistered",elementRegistered:"elementRegistered",groupRegistered:"groupRegistered",questionRegistered:"questionRegistered"}}}();DKI||(DKI={});
DKI.ContentPage=function(){var b,h=$("#contentFrame");h.css("overflow-y");var c=/http:\/\/|https:\/\//i.test(window.location.href),l=function(){var k=!1,m=!1,n=!1,y=function(b,c,k,h){var l=[];h.data("bookmarks")&&(l=JSON.parse(unescape(h.data("bookmarks"))));var m="play";void 0!=DKI.strings.runtime.media_play&&(m=DKI.strings.runtime.media_play);var q='\x3cdiv id\x3d"'+b+'_container" class\x3d"jp-video" dir\x3d"ltr"\x3e\x3cdiv class\x3d"jp-type-single"\x3e\x3cdiv id\x3d"'+b+'_player" class\x3d"jp-video-player"\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-video-play" tabindex\x3d\'-1\'\x3e\x3ca class\x3d"jp-video-play-icon" title\x3d"'+
m+'"\x3e\x3c/a\x3e\x3c/div\x3e';k&&(q+='\x3cdiv class\x3d"playHeadBlocker"\x3e\x3c/div\x3e');q+='\x3cdiv class\x3d"jp-gui"\x3e';c||(q+='\x3cdiv class\x3d"jp-interface"\x3e\x3cdiv class\x3d"jp-progress"\x3e\x3cdiv class\x3d"jp-seek-bar"\x3e\x3cdiv class\x3d"jp-play-bar"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-controls-holder"\x3e\x3cdiv class\x3d"jp-controls '+(h.data("allowfullscreen")?"allowFs":"")+'"\x3e\x3cspan style\x3d\'width:0;height:0;\'\x3e\x3ca tabindex\x3d\'-1\' aria-hidden\x3d\'true\' class\x3d"" role\x3d"button"\x3e\x3c/a\x3e\x3c/span\x3e\x3cspan\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-play" role\x3d"button"\x3eplay\x3c/a\x3e\x3c/span\x3e\x3cspan\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-pause" role\x3d"button"\x3epause\x3c/a\x3e\x3c/span\x3e\x3cspan\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-mute" role\x3d"button"\x3emute\x3c/a\x3e\x3c/span\x3e\x3cspan\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-unmute" role\x3d"button"\x3eunmute\x3c/a\x3e\x3c/span\x3e',
""!=h.data("transcript")&&(q+='\x3cspan\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-transcript" role\x3d"button"\x3etranscript\x3c/a\x3e\x3c/span\x3e'),q+='\x3cspan class\x3d"jp-time" tabindex\x3d\'1\' \x3e\x3cdiv class\x3d"jp-current-time"\x3e\x3c/div\x3e\x3cdiv\x3e/\x3c/div\x3e\x3cdiv class\x3d"jp-duration"\x3e\x3c/div\x3e\x3c/span\x3e\x3cspan class\x3d"jp-cc"\x3e\x3ca tabindex\x3d\'1\' role\x3d"button" aria-label\x3d\''+DKI.strings.runtime.media_cc+'\'\x3e\x3ci class\x3d"fa fa-cc"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/span\x3e',
0<l.length&&(q+='\x3cspan class\x3d"jp-bm"\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-bookmark" role\x3d"button"\x3ebookmarks\x3c/a\x3e\x3c/span\x3e'),h.data("allowFullScreen")&&(q+='\x3cspan class\x3d"jp-fs"\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-full-screen" role\x3d"button"\x3efull screen\x3c/a\x3e\x3c/span\x3e\x3cspan class\x3d"jp-fs"\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-restore-screen" role\x3d"button"\x3erestore\x3c/a\x3e\x3c/span\x3e'),q+='\x3c/div\x3e\x3cdiv class\x3d"jp-volume-bar"\x3e\x3cdiv class\x3d"jp-volume-bar-value"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
0<l.length&&(q+='\x3cdiv class\x3d"bookmark-wrapper"\x3e',q+='\x3ci class\x3d"bookmark-close fa fa-times" tabindex\x3d"1" aria-label\x3d"'+DKI.strings.runtime.buttonLabelClose+'"\x3e\x3c/i\x3e',$.each(l,function(){q+='\x3cdiv tabindex\x3d"1" class\x3d"bookmark-item" data-time\x3d"'+this.time+'"\x3e'+this.label+"\x3c/div\x3e"}),q+="\x3c/div\x3e"),q+="\x3c/div\x3e");return q+="\x3c/div\x3e"},z=function(b,c,k,h){b='\x3cdiv id\x3d"'+b+'" class\x3d"jp-'+c;k&&(b+=" hideControls");b+='" dir\x3d"ltr"\x3e\x3cdiv class\x3d"jp-type-single"\x3e\x3cdiv class\x3d"jp-gui jp-interface"\x3e\x3cdiv class\x3d"jp-controls-holder"\x3e\x3cdiv class\x3d"jp-progress"\x3e\x3cdiv class\x3d"jp-seek-bar"\x3e\x3cdiv class\x3d"jp-play-bar"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-controls"\x3e\x3cspan style\x3d\'width:0;height:0;\'\x3e\x3ca tabindex\x3d\'-1\' aria-hidden\x3d\'true\' class\x3d"" role\x3d"button"\x3e\x3c/a\x3e\x3c/span\x3e\x3cspan\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-play" role\x3d"button"\x3eplay\x3c/a\x3e\x3c/span\x3e\x3cspan\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-pause" role\x3d"button"\x3epause\x3c/a\x3e\x3c/span\x3e';
"basic"!==c&&(b+='\x3cspan\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-mute" role\x3d"button"\x3emute\x3c/a\x3e\x3c/span\x3e\x3cspan\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-unmute" role\x3d"button"\x3eunmute\x3c/a\x3e\x3c/span\x3e',""!=h.data("transcript")&&(b+='\x3cspan\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-transcript" role\x3d"button"\x3etranscript\x3c/a\x3e\x3c/span\x3e'),b+="\x3cspan class\x3d'jp-cc'\x3e\x3ca tabindex\x3d'1' role\x3d\"button\" aria-label\x3d'"+DKI.strings.runtime.media_cc+'\'\x3e\x3ci class\x3d"fa fa-cc"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/span\x3e',
b+='\x3cspan class\x3d"jp-time jp-fs" tabindex\x3d\'1\'\x3e\x3cdiv class\x3d"jp-current-time"\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-time-slash"\x3e/\x3c/div\x3e\x3cdiv class\x3d"jp-duration"\x3e\x3c/div\x3e\x3c/span\x3e');return b+'\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-no-solution"\x3e\x3cspan\x3eThe media element failed to load.\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'},u=function(b){b.mediaCount===b.readyMediaCount&&(b.fireReady(),setTimeout(function(){b.repositionElements()},
250))},r=function(c,h,m){$(h.pageContainer).css("top","0");c.each(function(){var c=$(this).data("extension").toLowerCase(),q=h.getClaroElementById($(this).closest(".dki-authoring-element, .dki-authoring-element-element").data("id")),r={},y,C=$(this).closest(".dki-authoring-element, .dki-authoring-element-element"),B=!$(this).data("controls"),L=$(this).data("autoplay");y=$(this).data("playerskin")?"basic":"audio";var M=C.data("renderhidden");"mp4"==c.toLowerCase()?c="m4a":"ogg"==c.toLowerCase()&&(c=
"oga");r[c]=l.resolveMediaURL(h,$(this).data("src"));c={media:r,target:"dki-audio-closed-caption-container-"+h.page.pageid,options:{swfPath:settings.swfPath,cssSelectorAncestor:"#"+this.id+"_controls",ready:function(b){var c=$(this);if(b.jPlayer.flash.used)$(h.pageContainer).on(DKI.ContentPage.events.reset,function(b){c.on($.jPlayer.event.flashreset,function(b){c.jPlayer("pause",0);h.isMuted&&c.jPlayer("mute");c.trigger($.jPlayer.event.ready);c.unbind(b)})});c.jPlayer("setMedia",r);var k=this.parentNode;
$(".jp-seek-bar, .jp-play-bar",k).on("mousedown",function(b){c.jPlayer("pause");$(".jp-gui",k).addClass("forceShow");$(".jp-seek-bar, .jp-controls-holder, .jp-play-bar",k).on("mousemove",function(b){var h=$(".jp-seek-bar",k).offset().left,l=$(".jp-seek-bar",k).outerWidth();b.clientX+h<=l+2*h&&($(".jp-play-bar",k).css("width",(b.clientX-h)/(l/100)+"%"),c.jPlayer("playHead",(b.clientX-h)/(l/100)))});$(".jp-seek-bar, .jp-controls-holder, .jp-play-bar",k).on("mouseup",function(b){c.jPlayer("play");$(this).off("mouseup");
$(".jp-seek-bar, .jp-controls-holder, .jp-play-bar",k).off("mousemove");setTimeout(function(){$(".jp-gui",k).removeClass("forceShow")},700)})});$(".jp-transcript",k).on(h.settings.clickEvent,function(){contentApi.showPopup({html:q.asset_transcript,modal:!1,autoFocus:!0,returnFocus:this,popupType:{type:"pop",mod:"noModal",modal:!1},title:playerStrings.transcriptLabel})});h.isMuted&&c.jPlayer("mute");h.readyMediaCount+=1;u(h);c.unbind(b)},supplied:c,loop:!1,solution:m,preload:"auto",autohide:{restored:"true"===
$(this).data("controls")?!0:!1},muted:b.getAudioStatus()?!1:!0,volume:1,size:{width:0,height:0}}};k||n?(y=z(this.id+"_controls",y,B,C),$(this).after(y),$(this).jPlayer(c.options),$(this).data("renderhidden",M)):(M=$(".dki-media-link",this),M.parent().hasClass("dki-audio-basic")&&(M.parent().removeClass("dki-audio-basic"),M.addClass("dki-audio-basic")),h.readyMediaCount+=1,u(h));var M=$(this),H;"undefined"!==typeof dataStorage&&(H=dataStorage.store.assets[q.upload_id]);if(H&&H.closed_caption||window.player.isSinglePage&&
q.closed_caption_details)if(c=Popcorn.jplayer(M[0],c),C.find(".jp-audio").addClass("cc"),$(".jp-cc",C).on(h.settings.clickEvent,function(){l.audioCC.toggle()}),H=window.player.isSinglePage?l.resolveSubURL(h,{id:q.asset_src,closed_caption:q.closed_caption_details}):l.resolveSubURL(h,H),M="parse"+q.closed_caption.toUpperCase(),c[M])c[M](H);h.mediaPlayers[this.id]=$(this);p.registerMediaPlayer($(this),C,h);(1==q.narration&&""!=q.parent_element_id||L)&&h.autoPlayMedia.push($(this));C.data("mediaPlayer",
$(this));$(".dki-element-anchor",C).attr("aria-label");B||C.data("transcript")});$(h.pageContainer).css("top","")},B=function(k,r,z){var B;B=m||n&&c?function(c,k,m){c=$(this).closest(".dki-authoring-element, .dki-authoring-element-element");var q=r.getClaroElementById($(this).closest(".dki-authoring-element, .dki-authoring-element-element").data("id")),n=$(this).data("extension").toLowerCase(),z=$(this).closest(".dki-video-content-element"),v={},C=!$(this).data("controls"),B=q.parameters.config.hidePlayHead;
k=$(this).data("autoplay");var D=c.data("renderhidden"),F=$(this).data("allowfullscreen");"mediastream"==c.data("elementtype")&&(0==$(this).data("src").indexOf("rtmp")?n="rtmpv":(n=$(this).data("src").split("."),n=n[n.length-1]));""!=$(this).data("vimeo-id")&&settings.useStreamingVideo&&$(this).data("src",$(this).data("vimeo-src"));if("mp4"==n.toLowerCase()||"mov"==n.toLowerCase())n="m4v";v[n]=l.resolveMediaURL(r,$(this).data("src"));$(this).data("poster")&&(v.poster=$(this).data("poster"));B=y(this.id,
C,B,c);$(this).html(B);B=$("#"+this.id+"_player",this);F||$(this).addClass("no-fullscreen");var U={height:"100%"};dkiUA.ie&&(U.height=h.css("height"));$(this).data("allowupscale")||(settings.responsive?$(this).css({height:"initial",width:"initial"}):$(this).css({"max-height":$(this).data("height")+"px","max-width":$(this).data("width")+"px"}));m={media:v,options:{swfPath:settings.swfPath,cssSelectorAncestor:"#"+this.id+"_container",ready:function(b){var c=$(this);F||($(this).data().jPlayer.status.noFullScreen=
!0);if(b.jPlayer.flash.used)$(r.pageContainer).on(DKI.ContentPage.events.reset,function(b){c.on($.jPlayer.event.flashreset,function(b){c.jPlayer("pause",0);r.isMuted&&c.jPlayer("mute");c.trigger($.jPlayer.event.ready);c.unbind(b)})});z.on("mouseleave",function(b){$(this).find(".bookmark-wrapper").fadeOut()});z.on(r.settings.clickEvent,".bookmark-item",function(){c.jPlayer("play",$(this).data("time")/1E3)});$(this).find("video").attr("webkit-playsinline","");$(this).find("video").attr("playsinline",
"");C&&$(this).find("video")[0].removeAttribute("controls");$(this).bind($.jPlayer.event.pause,function(b){$(".jp-video-play",this.parentNode).css("display","")});$(this).bind($.jPlayer.event.play,function(b){$(".jp-video-play",this.parentNode).css("display","none")});(!dkiUA.iOS||C||14>dkiUA.iOSVersion)&&$(this).bind($.jPlayer.event.click,function(b){b.jPlayer.status.paused?$(this).jPlayer("play"):$(this).jPlayer("pause")});var k=this.parentNode;$(".jp-seek-bar, .jp-play-bar",k).on("mousedown",function(b){c.jPlayer("pause");
$(".jp-gui",k).addClass("forceShow");$(".jp-seek-bar, .jp-controls-holder, .jp-play-bar",k).on("mousemove",function(b){var h=$(".jp-seek-bar",k).offset().left,l=$(".jp-seek-bar",k).outerWidth(),m;m=$("body").css("transform");m=-1!==m.indexOf("matrix")?1/m.split("(")[1].split(")")[0].split(",")[0]:1;b.clientX+h<=l/m+2*h&&($(".jp-play-bar",k).css("width",(b.clientX-h)*m/(l/100)+"%"),c.jPlayer("playHead",(b.clientX-h)*m/(l/100)))});$(".jp-seek-bar, .jp-controls-holder, .jp-play-bar",k).on("mouseup",
function(b){c.jPlayer("play");$(this).off("mouseup");$(".jp-seek-bar, .jp-controls-holder, .jp-play-bar",k).off("mousemove");setTimeout(function(){$(".jp-gui",k).removeClass("forceShow")},700)})});$(".jp-transcript",k).on(r.settings.clickEvent,function(){contentApi.showPopup({html:q.asset_transcript,modal:!1,autoFocus:!0,returnFocus:this,popupType:{type:"pop",mod:"noModal",modal:!1},title:playerStrings.transcriptLabel})});$(".jp-cc",k).on(r.settings.clickEvent,function(){c.closest(".jp-video").toggleClass("showCC")});
$(".jp-bm",k).on(r.settings.clickEvent,function(){var b=c.closest(".jp-video").find(".bookmark-wrapper");b.is(":visible")?(b.fadeOut(),$(".jp-bm .jp-bookmark",k).get(0).focus()):b.fadeIn().find(".bookmark-item").get(0).focus()});$(".bookmark-close",k).on(r.settings.clickEvent,function(){c.closest(".jp-video").find(".bookmark-wrapper").fadeOut();$(".jp-bm .jp-bookmark",k).get(0).focus()});r.isMuted&&c.jPlayer("mute");r.readyMediaCount+=1;u(r);$(this).unbind(b);$(this).parent().append($(this).closest(".dki-authoring-content-wrapper").find(".dki-authoring-element-elements-wrapper").first().css("z-index",
2147483647).detach())},resize:function(b){b=$(this);b.closest(".jp-video").fullScreen(b.jPlayer("option","fullScreen"));b.closest(".dki-element-content").find(".subClass");b.jPlayer("option","fullScreen")?(b.closest(".dki-element-content").css("max-width","").css("max-height",""),$(this).closest(".dki-authoring-content-wrapper").find(".dki-authoring-element-element.dki-marker-element ").css("display","none")):(b.closest(".dki-element-content").data("allowupscale")||(b.closest(".dki-element-content").css("max-width",
b.closest(".dki-element-content").data("assetWidth")),b.closest(".dki-element-content").css("max-height",b.closest(".dki-element-content").data("assetHeight"))),$(this).closest(".dki-authoring-content-wrapper").find(".dki-authoring-element-element.dki-marker-element ").css("display","block"));dkiUA.isIE()&&($("html")[b.jPlayer("option","fullScreen")?"addClass":"removeClass"]("video-fullScreen"),b.closest(".dki-authoring-element")[b.jPlayer("option","fullScreen")?"addClass":"removeClass"]("video-fullScreen-element"));
r.scaleElementChildren(r.getClaroElementById(b.closest(".dki-authoring-element").data("id")))},supplied:n,loop:!1,solution:m,preload:"auto",backgroundColor:"transparent",wmode:"transparent",nativeVideoControls:settings.nativeVideoControls,size:{width:"100%",height:"100%"},sizeFull:U,autohide:{restored:!1,full:!1},muted:b.getAudioStatus()&&!c.data("disableAudio")?!1:!0,volume:c.data("disableAudio")?0:1,noFullScreen:{}}};var Q;"undefined"!==typeof dataStorage&&(Q=dataStorage.store.assets[q.upload_id]);
(Q&&Q.closed_caption&&"vtt"===Q.closed_caption.type.toLowerCase()||window.player.isSinglePage&&q.closed_caption_details&&"vtt"===q.closed_caption_details.type.toLowerCase())&&dkiUA.iOS&&(m.media.track=[{src:(window.player.isSinglePage?l.resolveSubURL(r,{id:q.asset_src,closed_caption:q.closed_caption_details}):l.resolveSubURL(r,Q)).replace(".txt",".vtt"),srclang:settings.course.courseLanguage,kind:"captions",def:q.parameters.config.closedCaptionOn}]);m=Popcorn.jplayer(B[0],m);if((Q&&Q.closed_caption||
window.player.isSinglePage&&q.closed_caption_details)&&!dkiUA.iOS){Q=window.player.isSinglePage?l.resolveSubURL(r,{id:q.asset_src,closed_caption:q.closed_caption_details}):l.resolveSubURL(r,Q);var v="parse"+q.closed_caption.toUpperCase(),X=B.closest(".jp-video");if(m[v]&&(m[v](Q),dkiUA.mobile)){var O=null;X.addClass("controls");uiTimeout=function(b){b="undefined"===typeof b?2500:b;O&&window.clearTimeout(O);O=setTimeout(function(){X.removeClass("controls")},b)};X.on("click",function(){$(this).addClass("controls");
uiTimeout(0)});B.bind($.jPlayer.event.pause,function(b){X.addClass("controls");window.clearTimeout(O)});B.bind($.jPlayer.event.play,function(b){uiTimeout(350)})}X.addClass("cc");q.parameters.config.closedCaptionOn&&X.addClass("showCC")}B.data("renderhidden",D);B.data("disableAudio",c.data("disableAudio"));(D=B.data("jPlayer"))&&D.status&&D.status.nativeVideoControls&&!C&&$(".jp-video-play",this).detach();r.mediaPlayers[this.id]=B;p.registerMediaPlayer(B,c,r);k&&$(this).isInViewport()&&r.autoPlayMedia.push(B);
B.bind($.jPlayer.event.ended,function(b){$(".jp-restore-screen",$(this).parents(".dki-authoring-element")).click()});c.data("mediaPlayer",B);$(".dki-element-anchor",c).attr("aria-label");C||(c.data("transcript"),c.data("allowfullscreen"))}:function(){var b=$(".dki-media-link",this);b.prop("href",$(this).data("src"));r.readyMediaCount+=1;u(r);return b};k.each(function(b,c){B.call(this,b,c,z)})},k=function(){var b=document.createElement("audio");return dkiUA.blackberry&&7>dkiUA.blackberryVersion||dkiUA.android&&
4>dkiUA.androidVersion&&!c||dkiUA.webOS?!1:b.canPlayType&&""!=b.canPlayType("audio/mpeg")?!0:!1}(),m=function(){var b=document.createElement("video");return dkiUA.blackberry&&7>dkiUA.blackberryVersion||dkiUA.android&&4>dkiUA.androidVersion&&!c?!1:b.canPlayType&&""!=b.canPlayType("video/mp4")?!0:!1}(),n=swfobject.hasFlashPlayerVersion("10.1.0");return{handleMedia:function(b){var c=$(".dki-video-content-element",b.pageContainer),k=$(".dki-audio-element .dki-element-content",b.pageContainer),h="html, flash";
dkiUA.isIE()&&11>dkiUA.ieVersion&&(h="flash");b.mediaCount=c.length+k.length;b.readyMediaCount=0;B(c,b,h);r(k,b,h);0===b.mediaCount&&b.fireReady()},resolveMediaURL:function(b,c){var k=/^rtmp:\/\/|^\//;/^https?:\/\/|^\//.test(c)||k.test(c)||(c=b.rootURL+c);return c},resolveSubURL:function(b,c){b=DKI.renderService.state.baseUrl;b+=DKI.renderService.state.renderEnvironment.export?"assets/captions/":"/content/authoringtooldb/captions/";b+=c.id;c.closed_caption.culture_code&&"default"!=c.closed_caption.culture_code&&
(b+="_"+c.closed_caption.culture_code);return b+".txt"},play:function(b,c,k){var h;"string"===typeof b&&(b=c.mediaPlayers[b]);h=function(h){c.started&&("undefined"!==typeof k?b.jPlayer("play",k):b.jPlayer("play"),b.unbind(h))};b.hasClass("dki-videoplaylist")?($(b).VideoPlaylist("selectFirst"),$(b).on("play",h)):("undefined"!==typeof k?b.jPlayer("play",k):b.jPlayer("play"),$(b).bind($.jPlayer.event.ready,h),$(b).bind($.jPlayer.event.flashreset,h))},pause:function(b,c){"string"===typeof b&&(b=c.mediaPlayers[b]);
b.jPlayer("pause")},canAutoplay:function(){return dkiUA.iOS||dkiUA.android||dkiUA.chrome?!1:!0},handleVideo:B,handleAudio:r,audioCC:{init:function(b){var c=$("style#audioCaptionPosition");if(!c.length){var k=$,h;$(b.pageContainer).offset();h=".dki-audio-closed-caption-container{"+("top: "+($(b.pageContainer).height()-75)+"px;left: 25px;")+"}";c=k("\x3cstyle\x3e\x3c/style\x3e",{id:"audioCaptionPosition",html:h});$("head").append(c)}var l=$("style#audioCaptionSize");l.length||(l=$("\x3cstyle\x3e\x3c/style\x3e",
{id:"audioCaptionSize",html:function(){var c=$(b.pageContainer).width(),c=c-2*parseInt($(".dki-audio-closed-caption-container").css("margin-left").split("px")[0]);return".dki-audio-closed-caption-container{"+("width: "+(c-50)+"px;")+"}"}()}),$("head").append(l));settings.responsive||($(".dki-audio-closed-caption-container",b.pageContainer).draggable({containment:b.pageContainer,scroll:!1,start:function(b,c){$(this).data("initialPageYOffset",document.documentElement.scrollTop)},drag:function(b,c){DKI.utility.dragFix(c)},
stop:function(b,k){c.html(".dki-audio-closed-caption-container{top: "+k.position.top+"px;left: "+k.position.left+"px;}");k.helper.css({top:"",left:""})}}),$(".dki-audio-closed-caption-container",b.pageContainer).resizable({handles:"e",stop:function(b,c){l.html(".dki-audio-closed-caption-container{width: "+c.helper.width()+"px;}");c.helper.css({width:"",height:""})}}))},show:function(b){$("html").addClass("showAudioCaptions")},hide:function(b){$("html").removeClass("showAudioCaptions")},toggle:function(b){$("html").toggleClass("showAudioCaptions")}}}}(),
m={setAudio:function(b,c){c.isMuted=!b;var h;if(!0===b)for(h in c.mediaPlayers)c.mediaPlayers[h].jPlayer("unmute");else for(h in c.mediaPlayers)c.mediaPlayers[h].jPlayer("mute")},pauseAll:function(b){var c;b.autoPaused=[];for(c in b.mediaPlayers){var h=c.replace("content_","");1==$("#"+h+"_wrapper").data("dontpause")||this.isPaused(b.mediaPlayers[c])||(b.mediaPlayers[c].jPlayer("pause"),b.autoPaused.push(c))}},resumeAll:function(b){var c;b.autoPaused||(b.autoPaused=[]);for(var h=0;h<b.autoPaused.length;h+=
1)c=b.autoPaused[h],b.mediaPlayers[c].jPlayer("play");b.autoPaused=[]},startAutoPlay:function(b){for(var c=b.autoPlayMedia.length,h=!1,m=!1,n=0;n<c;n+=1){var p=b.autoPlayMedia[n].closest(".dki-audio-element");!(!b.autoPlayMedia[n].data("renderhidden")&&$(b.autoPlayMedia[n]).isInViewport()&&b.autoPlayMedia[n].closest(".dki-authoring-element").is(":visible")||1==b.autoPlayMedia[n].data("narration")&&"undefined"==typeof p.data("parent_element_id")||1==b.autoPlayMedia[n].data("narration")&&"undefined"!=
typeof p.data("parent_element_id")&&$(b.autoPlayMedia[n]).isInViewport())||0!=b.autoPlayMedia[n].closest(".flipCardPanel.face:not(.active)").length||0!=b.autoPlayMedia[n].closest(".dki-panel-element.contentContainer:not(.is-selected)").length||0!=b.autoPlayMedia[n].closest(".panel:not(.expanded)").length||0!=b.autoPlayMedia[n].closest(".tab-pane:not(.active)").length||h&&!b.autoPlayMedia[n].data("disableAudio")||(navigator.userActivation.hasBeenActive?l.play(b.autoPlayMedia[n],b):m=!0,b.autoPlayMedia[n].data("disableAudio")||
(h=!0))}return m},stopAll:function(b){var c;b=b.mediaPlayers;for(c in b)b[c].data(),b.hasOwnProperty(c)&&(b[c].jPlayer("option","fullScreen",!1),b[c].data().jPlayer.status.paused||b[c].jPlayer("pause",0))},isPaused:function(b){return b.data().jPlayer.status.paused}},p={init:function(c,h,l){for(var m=0;m<c.length;m++)c[m].targetPages&&0<c[m].targetPages.length&&(c[m].targetPages=c[m].targetPages.filter(function(c){return b.checkPageExists(c)}),0==c[m].targetPages.length&&($("#"+c[m].elementId+"_wrapper").find("[data-textlinkid\x3d"+
c[m].textLinkId+"]").each(function(){$(this).replaceWith(function(){return $(this).html()})}),c[m].toDelete=!0));c=c.filter(function(b){return!b.toDelete});h.actions=c;$(h.pageContainer).undelegate();this.clearPageTimeouts(h);this.initElementsViewedActions(h);var n=this,m=$(".dki-authoring-element",h.pageContainer),p=dkiUA.android||dkiUA.iOS?"click":l;$(h.pageContainer).delegate(".dki-authoring-element label","click",function(b){b.stopPropagation();if($(this).closest(".dki-authoring-element").hasClass("dki-radioGroup-element"))return!1});
$(h.pageContainer).delegate(".dki-element-content, .dki-element-anchor:not(.dki-btn-element\x3e.dki-element-anchor), .dki-radioGroup-element label, .dki-image-element figcaption, .svgMask",p,function(b,c){"undefined"==typeof c&&(c={});var k=null;if(c.fromDataSet)return!1;if("LABEL"==this.nodeName.toUpperCase()){if($(this).data("ignoreClick")){$(this).data("ignoreClick",!1);return}k=$(this).find(".dki-authoring-element,.dki-authoring-element-element")}else{var k=$(this).closest(".dki-authoring-element,.dki-authoring-element-element"),
m=k.closest("label");m&&(m.data("ignoreClick",!0),setTimeout(function(){m.data("ignoreClick",!1)},1))}var r=$(this).closest(".dki-slider-element");if(r.length){if(r.data("ignoreClick"))return;r.data("ignoreClick",!0);setTimeout(function(){r.data("ignoreClick",!1)},1)}n.onMouseEvent.call(n,"click",k,h);"zoomRegion"===$(this).data("type")&&11>dkiUA.ieVersion&&dkiUA.isIE()&&($(this).hide().find("*").hide(),k=$(document.elementFromPoint(b.clientX,b.clientY)).closest(".dki-authoring-element"),$(this).show().find("*").show(),
k[0]&&k.trigger(l));b=$(this).closest(".dki-authoring-element-element").parent().closest(".stackable_element");var y=b.find("\x3e.dki-authoring-content-wrapper\x3e.dki-element-content");b.length&&0==y.find(this).length&&!y.is(this)&&y.trigger(p,{originalTarget:k});if(dkiUA.iOS&&(k.hasClass("dki-marker-element")||c.originalTarget&&c.originalTarget.hasClass("dki-marker-element")))return!1});$(h.pageContainer).delegate(".dki-slider-element .dki-element-content","tap",function(b){$(this).trigger("click")});
$(h.pageContainer).delegate(".dki-authoring-element a.dki-text-action-link",l,function(b){n.onTextActionLinkEvent.call(n,"click",this,h)});$(h.pageContainer).delegate(".dki-element-content, .dki-element-anchor","contextmenu",function(b){b=$(this).closest(".dki-authoring-element,.dki-authoring-element-element");if(0<n.onMouseEvent.call(n,"rightClick",b,h).length)return!1});$(h.pageContainer).delegate(".dki-authoring-element a.dki-text-action-link","contextmenu",function(b){if(0<n.onTextActionLinkEvent.call(n,
"rightClick",this,h).length)return!1});$(h.pageContainer).delegate(".dki-tabset-element .tabbable li\x3ea:not(.disabled), .dki-tabset-element .tabbable .panel-heading:not(.disabled) .panel-title\x3ea","click",function(b){if(b.target==this)$(this).find(".dki-element-content").trigger("click");else{n.onContentChangedEvent.call(n,this,h);var c=h.getClaroElementById($(this).closest(".dki-authoring-element").data("id"));b=$(this).closest(".tabbable");var k=$(this).data("idx"),l=k+"_"+c.id,l="tabContent_"+
k+"_"+c.id,m=$("#"+l);(!m.length||this.hash&&"#"+l!=this.hash)&&-1!=this.hash.indexOf("tabContent_"+k+"_")&&(l=this.hash,m=$(l));setTimeout(function(){$(".dki-contentCarousel-element",m).each(function(){$(this).find(".flickity").flickity("resize")});h.reCalculateMediaControls()},250);setTimeout(function(){h.repositionElements()},0);c.parameters.config.sequential&&(l="tabContent_"+(k+1)+"_"+c.id,c=b.find("a[href\x3d'#"+l+"']"),b=b.find("a[href\x3d'#collapse-"+l+"']"),c.attr("data-toggle","tab").removeClass("disabled"),
b.attr("data-toggle","collapse").closest(".panel-heading").removeClass("disabled"))}});$(h.pageContainer).on(settings.clickEvent,".dki-btn-element .dki-element-content.toggleable",function(b){$(this).toggleClass("active")});$(h.pageContainer).on(settings.clickEvent,".dki-btn-element .dki-element-content.stay-toggled",function(b){$(this).addClass("active")});$(h.pageContainer).delegate(".dki-contentCarousel-element .side-control",settings.clickEvent,function(b){b=$(this).siblings(".owl-carousel");
var c=$(this).hasClass("prev")?"prev":"next",k=b.data("owl.carousel");$(this).hasClass("topBottom")?(k.settings.animateIn="prev"==c?b.data("animate-in").replace("Up","Down").replace("Right","Left"):b.data("animate-in").replace("Down","Up").replace("Left","Right"),k.settings.animateOut="prev"==c?b.data("animate-out").replace("Up","Down").replace("Right","Left"):b.data("animate-out").replace("Down","Up").replace("Left","Right")):(k.settings.animateIn="prev"==c?b.data("animate-in").replace("Right","Left").replace("Up",
"Down"):b.data("animate-in").replace("Left","Right").replace("Down","Up"),k.settings.animateOut="prev"==c?b.data("animate-out").replace("Right","Left").replace("Up","Down"):b.data("animate-out").replace("Left","Right").replace("Down","Up"));b.trigger(c+".owl.carousel");return!1});var r=function(b){n.onMouseEvent.call(n,b.type,this,h)},u=function(b){var c=$(this).closest(".dki-authoring-element,.dki-authoring-element-element");n.onMouseEvent.call(n,b.type,c,h)};$(h.pageContainer).delegate(".dki-element-content, .dki-element-anchor",
"dblclick",u);$(h.pageContainer).delegate(".dki-element-content","mouseenter",u);$(h.pageContainer).delegate(".dki-element-content","mouseleave",u);m.on(DKI.ContentPage.events.elementDragStarted,r);m.on(DKI.ContentPage.events.elementDragStopped,r);m.on(DKI.ContentPage.events.elementDragDropped,r);m.on(DKI.ContentPage.events.elementDragReverted,r);m.on(DKI.ContentPage.events.elementDropDropped,r);m.on(DKI.ContentPage.events.elementDropOut,r);m.on(DKI.ContentPage.events.elementDropOver,r);m.on(DKI.ContentPage.events.shown,
function(){n.onDisplayEvent.call(n,"show",this,h)});m.on(DKI.ContentPage.events.hidden,function(){n.onDisplayEvent.call(n,"hide",this,h)});m=function(b){n.onTextActionLinkEvent.call(n,b.type,this,h)};$(h.pageContainer).delegate(".dki-authoring-element a.dki-text-action-link","dblclick",m);$(h.pageContainer).delegate(".dki-authoring-element a.dki-text-action-link","mouseenter",m);$(h.pageContainer).delegate(".dki-authoring-element a.dki-text-action-link","mouseleave",m);$(h.pageContainer).delegate(".dki-authoring-element",
"click",function(){$(document).trigger(DKI.ContentPage.events.rootElementClicked,{element:h.getClaroElementById($(this).data("id")),pageInstance:h})});this.setupDragDrop(h);this.setupLinkedElements(c,h.pageContainer,l);this.setupRollovers(h.pageContainer);h.mediaTimeUpdates={};this.checkBreakPointThreshold("breakpoint",h);this.checkDeviceAdaptation("device",h);return this},initElementsViewedActions:function(b){var c=this;b.queue.queue({name:"elementsViewed",callback:$.proxy(function(){c.onPageEvent("contentViewed",
b)},this)});var h=$(".dki-authoring-element:not(.dki-placeholder-element):not(.onlyShownByBreakpointActions):not(.hiddenByBreakpoint)",b.pageContainer);h.each(function(){b.queue.queue({name:"elementsViewed",id:$(this).data("id")})});h.off("contentViewed");h.on("contentViewed",function(){$(this).is(":visible")&&b.queue.dequeue({name:"elementsViewed",id:$(this).data("id")})})},registerElementViewed:function(b,c){(!settings.elementTypeConfig[$(b).data("elementtype")].navigateSubContent||"image"==$(b).data("elementtype")&&
0==$(b).find(".dki-marker-element").length)&&$(b).trigger("contentViewed");!$(b).data("viewed")&&$(b).is(":visible")&&($(b).data("viewed",!0),"placeholder"!=$(this).data("elementtype")&&$(document).trigger(DKI.ContentPage.events.elementContentViewed,{element:c.getClaroElementById($(b).data("id")),pageInstance:c}))},start:function(b){for(var c=this,h={},l=0;l<b.actions.length;l++)if(b.actions[l].pageId&&"time"==b.actions[l].trigger&&this.startPageTimer(b.actions[l],b),"variableSet"==b.actions[l].trigger){var m=
b.actions[l].parameters.trigger.variable.name;if(m&&!h[m]){var n=contentApi.getData(m);h[m]={name:m,oldValue:n,newValue:n}}}for(var r in h)c.onDataSetEvent.call(c,{name:h[r].name,oldValue:h[r].oldValue,newValue:h[r].newValue},b);var p=function(h,l){c.onDataSetEvent.call(c,l,b)};$(document).on(contentApi.events.dataSet,p);$(b.pageContainer).on(DKI.ContentPage.events.reset,function(){$(document).off(contentApi.events.dataSet,p)});$(".dki-inline-variable",b.pageContainer).each(function(){var b=$(this);
!player.isSinglePage&&dataStorage.getContentVariableMeta(b.data("variable-id"))&&dataStorage.getContentVariableMeta(b.data("variable-id")).isRadio?b.html(dataStorage.getContentVariableMeta(b.data("variable-id")).text):b.html(contentApi.getData(b.data("variable-id")))});$.each(b.actions,function(){var h=this;"listShowNext"==h.type&&($.each(h.targetElements,function(){$("#"+this+"_wrapper").addClass("isShowNextTarget").removeClass("hiddenUntilInView hiddenOnLoad hidden")}),c.actionHandlers.listReset(h,
b));"setVariable"==h.type&&h.parameters.fireOnce||(h.firedOnce=!1);if("scrolled_to_top"==h.trigger||"scrolled_mid"==h.trigger||"inview"==h.trigger){var l="100%";"scrolled_to_top"==h.trigger?l=$("#contentFrame").offset().top:"scrolled_mid"==h.trigger&&(l="50%");setTimeout(function(){if(h.pageId){var m=c.actionHandlers.getTargetSelector(h);b.wayPoints=b.wayPoints.concat($(m,b.pageContainer).waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,{handler:function(l){c.onScrollEvent.call(c,this,l,b,h.trigger)},
offset:l,context:$(b.pageContainer).closest(".fancybox-content")[0]||window})))}else if(h.textLinkId)b.wayPoints=b.wayPoints.concat($("#"+h.elementId+"_wrapper .dki-text-action-link[data-textlinkid\x3d'"+h.textLinkId+"']",b.pageContainer).waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,{handler:function(l){c.onTextLinkScrollEvent.call(c,this,l,b,h.trigger)},offset:l,context:$(b.pageContainer).closest(".fancybox-content")[0]||window})));else if(m=function(){b.wayPoints=b.wayPoints.concat($("#"+
h.elementId+"_wrapper",b.pageContainer).waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,{handler:function(l){c.onElementScrollEvent.call(c,this,l,b,h.trigger)},offset:l,context:$(b.pageContainer).closest(".fancybox-content")[0]||window})))},$("#"+h.elementId+"_wrapper",b.pageContainer).is(":visible"))m();else $("#"+h.elementId+"_wrapper",b.pageContainer).on(DKI.ContentPage.events.shown,m)},250)}else if("custom_scroll"==h.trigger){c.setReverseAction(h,b);var m=c.actionHandlers.getTargetSelector(h);
b.wayPoints=b.wayPoints.concat($(m,b.pageContainer).waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,{handler:function(l){"down"==l?($(m).velocity("finish"),"entrance"==h.type?$(m).addClass("hiddenUntilInView"):$(m).removeClass("hiddenUntilInView"),window.requestAnimationFrame(function(){c.actionHandlers[h.type](h,b)})):($(m).velocity("finish"),"entrance"==h.reverseAction.type?$(m).addClass("hiddenUntilInView"):$(m).removeClass("hiddenUntilInView"),window.requestAnimationFrame(function(){c.actionHandlers[h.reverseAction.type](h.reverseAction,
b)}))},offset:function(){return Waypoint.viewportHeight()*(h.parameters.offset/100)-$(m).height()/2},context:$(b.pageContainer).closest(".fancybox-content")[0]||window})))}});h=$(".dki-authoring-element:not(.dki-placeholder-element)",b.pageContainer);settings.responsive||h.each(function(){$(this).is(":visible")&&c.registerElementViewed(this,b)});setTimeout(function(){c.setupWaypoints(b)},100)},resetWaypoints:function(b){b.wayPointsLoadedStatus="";b.wayPoints.forEach(function(b){b.destroy()});b.wayPoints=
[]},setupWaypoints:function(b){if(b.wayPointsLoadedStatus)return!1;var c=function(c){setTimeout(function(){var h=new DKI.disabler({text:'\x3cdiv class\x3d"disabler-play"\x3e\x3c/div\x3e',onClick:function(b){b.hide();c.jPlayer("play")}});$(".disablerWrapper:visible").hide();h.show();$(document).on(DKI.ContentPage.events.started,function(c,l){l.page.id!=b.page.id&&h.hide()})},200)};b.wayPointsLoadedStatus="loading";b.wayPoints=b.wayPoints.concat($(".dki-element-content[data-autoplay\x3d'true']:not([data-narration\x3d'1'])",
b.pageContainer).waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,{handler:function(h){if(($(b.pageContainer).hasClass("current")||b.isStandalonePage)&&b.started){var l=b.mediaPlayers[this.element.id];"down"==h?l.jPlayer("pause"):l.closest(".dki-authoring-element").is(":visible")&&0==l.closest(".flipCardPanel.face:not(.active)").length&&0==l.closest(".dki-panel-element.contentContainer:not(.is-selected)").length&&0==l.closest(".panel:not(.expanded)").length&&0==l.closest(".tab-pane:not(.active)").length&&
(navigator.userActivation.hasBeenActive?l.jPlayer("play"):c(l))}},offset:function(){return $(this.element).height()>$(window).height()-$("#contentFrame").offset().top?$(window).height()-$(this.element).height()-$("#contentFrame").offset().top-10:$("#contentFrame").offset().top},context:$(b.pageContainer).closest(".fancybox-content")[0]||window})));b.wayPoints=b.wayPoints.concat($(".dki-element-content[data-autoplay\x3d'true']:not([data-narration\x3d'1'])",b.pageContainer).waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,
{handler:function(h){if(($(b.pageContainer).hasClass("current")||b.isStandalonePage)&&b.started){var l=b.mediaPlayers[this.element.id];"down"==h?l.closest(".dki-authoring-element").is(":visible")&&0==l.closest(".flipCardPanel.face:not(.active)").length&&0==l.closest(".dki-panel-element.contentContainer:not(.is-selected)").length&&0==l.closest(".panel:not(.expanded)").length&&0==l.closest(".tab-pane:not(.active)").length&&(navigator.userActivation.hasBeenActive?l.jPlayer("play"):c(l)):l.jPlayer("pause")}},
offset:"bottom-in-view",context:$(b.pageContainer).closest(".fancybox-content")[0]||window})));b.wayPoints=b.wayPoints.concat($(".navigatesSubContent",b.pageContainer).waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,{handler:function(h){var l=$(this.element);($(b.pageContainer).hasClass("current")||b.isStandalonePage)&&b.started&&!l.hasClass("scrolled-in-once")&&this.context.didScroll&&("down"==h&&("flipCard"==l.data("elementtype")?l.find(".face.active [data-narration\x3d1]:first:visible .dki-element-content").jPlayer("play",
0):(h=l.find("[data-narration\x3d1]:first:visible .dki-element-content"),h.length&&(navigator.userActivation.hasBeenActive?h.jPlayer("play"):c(h)))),l.addClass("scrolled-in-once"))},offset:"bottom-in-view",context:$(b.pageContainer).closest(".fancybox-content")[0]||window})));b.wayPoints=b.wayPoints.concat($(".dki-sticky-group",b.pageContainer).waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,{handler:function(c){if(($(b.pageContainer).hasClass("current")||b.isStandalonePage)&&"down"==c){var h=
this,l=$(h.element);h.disable();l.css({position:"fixed",left:l.offset().left,top:$("#contentFrame").offset().top,width:l.outerWidth(!0)});l.parent().waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,{handler:function(b){"up"==b&&(l.css({position:"",left:"",top:"",width:""}),setTimeout(function(){h.enable()},5),this.destroy())},offset:$("#contentFrame").offset().top}))}},offset:$("#contentFrame").offset().top,context:$(b.pageContainer).closest(".fancybox-content")[0]||window})));b.wayPoints=b.wayPoints.concat($(".dki-authoring-section.dki-bg-attach-fixed .dki-authoring-section-background",
b.pageContainer).waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,{handler:function(c){($(b.pageContainer).hasClass("current")||b.isStandalonePage)&&$(this.element).parent().toggleClass("top-in-view")},offset:"100%",context:$(b.pageContainer).closest(".fancybox-content")[0]||window})));b.wayPoints=b.wayPoints.concat($(".dki-authoring-section",b.pageContainer).waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,{handler:function(c){if($(b.pageContainer).hasClass("current")||b.isStandalonePage){var h=
$(this.element);h.toggleClass("bottom-in-view");$(".dki-sticky-group",this.element).each(function(){var b=$(this);if("down"==c){var k=b.position().left-b.parent().css("margin-left").split("px")[0]-b.parent().position().left,l=h.height()-$(window).height();b.css({position:"absolute",top:l,left:k})}else b.css({position:"fixed",left:b.offset().left,top:$("#contentFrame").offset().top,width:b.outerWidth(!0)})});$(".dki-authoring-element",h).each(function(){b.actionAPI.registerElementViewed(this,b)});
"down"==c&&$(document).trigger(DKI.ContentPage.events.sectionBottomInView,$(".dki-authoring-group",h).first().data("id"))}},offset:function(){return this.context.innerHeight()-this.adapter.outerHeight()+10},context:$(b.pageContainer).closest(".fancybox-content")[0]||window})));b.wayPointsLoadedStatus="loaded";return!0},setupDragDrop:function(b){$(".dki-authoring-element[data-is-draggable\x3dtrue][data-isquestionelement\x3dfalse]",b.pageContainer).each(function(){var c=$(this),h=!1;c.data("draggable-constrain-x")?
h="x":c.data("draggable-constrain-y")&&(h="y");h={revert:function(b){settings.responsive?$(this).data("draggable").originalPosition={top:0,left:0}:$(this).data("draggable").originalPosition={top:$(this).data("y"),left:$(this).data("x")};if(b)$(this).trigger(DKI.ContentPage.events.elementDragDropped);else if($(this).data("draggable-revert"))return $(this).data("reverted",!0),$(this).trigger(DKI.ContentPage.events.elementDragReverted),!0},start:function(b,c){$(this).parent().css("position","static");
$(this).data("reverted",!1);$(this).data("initialPageYOffset",document.documentElement.scrollTop);$(this).trigger(DKI.ContentPage.events.elementDragStarted);$(document).trigger(DKI.Events.TestQuestion.dragStarted)},drag:function(b,c){DKI.utility.dragFix(c)},stop:function(b,c){$(this).data("draggable-bring-to-front")&&($(this).data("reverted")?$(this).css("z-index",$(this).data("elementno")):$(this).css("z-index",1E5));$(this).trigger(DKI.ContentPage.events.elementDragStopped);$(document).trigger(DKI.Events.TestQuestion.dragStopped)},
disabled:!1,containment:DKI.utility.getDragContainment($(b.pageContainer),c.width(),c.height()),scroll:settings.responsive,axis:h};c.data("draggable-bring-to-front")&&(h.zIndex=1E5,h.stack=".dkiContentFrame.current .dki-authoring-element[data-is-droppable\x3dtrue][data-isquestionelement\x3dfalse],  .fancybox-content .dki-authoring-element[data-is-droppable\x3dtrue][data-isquestionelement\x3dfalse]");c.draggable(h);var l=DKI.func.debounce(function(){var h=DKI.utility.getDragContainment($(b.pageContainer),
c.width(),c.height());c.draggable("option","containment",h)},200,!1);if(b.isStandalonePage)b.fancyboxInstance.$refs.container.on("onUpdate.fb",l);else $(window).on("resize",function(){l()}),$(document).on(DKI.ContentPage.events.started,function(c,h){b.page.id==h.page.id&&(l(),$(b.pageContainer).one("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){l()}))})});$(".dki-authoring-element[data-is-droppable\x3dtrue][data-isquestionelement\x3dfalse]",b.pageContainer).droppable({accept:".dkiContentFrame.current .dki-authoring-element[data-is-draggable\x3dtrue][data-isquestionelement\x3dfalse], .fancybox-content .dki-authoring-element[data-is-draggable\x3dtrue][data-isquestionelement\x3dfalse]",
tolerance:"pointer",drop:function(b,c){if($(this).data("droppable-snap-to-center")){b=$(this).position();var h=settings.scale;!settings.responsive&&c.helper.closest(".fancybox-container").length&&(h*=settings.claroLightboxScaling);b.top/=h;b.left/=h;h=b.top+$(this).height()/2-c.draggable.height()/2;b=b.left+$(this).width()/2-c.draggable.width()/2;if(settings.responsive){b=$(this).offset();b.left+=$(this).width()/2;b.top+=$(this).height()/2;var k=c.draggable.offset();k.left+=c.draggable.width()/2;
k.top+=c.draggable.height()/2;h=c.position.top+(b.top-k.top);b=c.position.left+(b.left-k.left)}c.draggable.animate({top:h+"px",left:b+"px"},125);position={top:h,left:b}}$(this).trigger(DKI.ContentPage.events.elementDropDropped)},out:function(b,c){$(this).trigger(DKI.ContentPage.events.elementDropOut)},over:function(b,c){$(this).trigger(DKI.ContentPage.events.elementDropOver)},disabled:!1})},registerMediaPlayer:function(b,c,h){var m=this;$(b).bind($.jPlayer.event.play,function(b){var c=this.id.replace("content_",
"").replace("_player","");if(1!=$("#"+c+"_wrapper").data("disableAudio"))for(var k in h.mediaPlayers){var l=k.replace("content_","");l!=c&&(1==$("#"+l+"_wrapper").data("dontpause")||"video"==$("#"+l+"_wrapper").data("type")&&1==$("#"+l+"_wrapper").data("disableAudio")||h.mediaPlayers[k].jPlayer("pause"))}$("#content_"+c,h.pageContainer).find(".jp-video-play").removeClass("hidden");$("#content_"+c,h.pageContainer).find(".playHeadBlocker").remove();$(this).parent().find(".jp-controls .jp-pause")[0]&&
$(this).parent().find(".jp-controls .jp-pause")[0].focus({preventScroll:!0});m.onMediaPlay(c,h);k=$(this).data("loopingPlay");b=1E3*b.jPlayer.status.currentTime;600>b?($(document).trigger(DKI.ContentPage.events.media.started,[{pageContext:h,elementId:c,looping:k}]),m.onMediaStart(c,h),m.undoMediaActions.call(m,c,-2E3,h)):($(document).trigger(DKI.ContentPage.events.media.played,[{pageContext:h,elementId:c,looping:k}]),m.undoMediaActions.call(m,c,b,h));$(this).data("loopingPlay",!1)});$(b).bind($.jPlayer.event.pause,
function(b){var c=this.id.replace("content_","").replace("_player","");$(this).parent().find(".jp-controls .jp-play")[0]&&$(this).parent().find(".jp-controls .jp-play")[0].focus({preventScroll:!0});b.jPlayer.status.ended||$(document).trigger(DKI.ContentPage.events.media.paused,[{pageContext:h,elementId:c}]);m.onMediaPause(c,h)});$(b).bind($.jPlayer.event.ended,function(b){b=$(this).data("replayCount")||0;var c=this.id.replace("content_","").replace("_player","");$(document).trigger(DKI.ContentPage.events.media.ended,
[{pageContext:h,elementId:c,replayCount:b}]);m.onMediaEnd(c,h);$(this).data("replayCount",b+1);$($(this).closest(".dki-authoring-element")).data("loop")&&($(this).data("loopingPlay",!0),l.play($(this),h))});$(b).bind($.jPlayer.event.volumechange,function(b){var c=this.id.replace("content_","").replace("_player","");b.jPlayer.options.muted?($(this).parent().find(".jp-controls .jp-unmute")[0].focus({preventScroll:!0}),m.onMediaVolumeChange(c,"mute",h)):($(this).parent().find(".jp-controls .jp-mute")[0]&&
$(this).parent().find(".jp-controls .jp-mute")[0].focus({preventScroll:!0}),m.onMediaVolumeChange(c,"unmute",h))});$(b).bind($.jPlayer.event.timeupdate,function(b){var c=this.id.replace("content_","").replace("_player","");h.mediaTimeUpdates[c]||(h.mediaTimeUpdates[c]=0);b=1E3*b.jPlayer.status.currentTime;h.mediaTimeUpdates[c]=b;0<b&&(m.undoMediaActions(c,b,h),m.onTimeUpdate(b,c,h))});$(".dki-element-anchor",c).on("keypress",function(h){var l=b.data().jPlayer,m=l.status,l=l.options;32==h.which||13==
h.which?m.paused?b.jPlayer("play"):b.jPlayer("pause"):102==h.which&&c.data("allowfullscreen")?$(".jp-full-screen",c).click():27==h.which&&c.data("allowfullscreen")?$(".jp-restore-screen",c).click():116==h.which&&""!=c.data("transcript")?contentApi.showPopup({html:c.data("transcript"),returnFocus:b.find(".jp-transcript"),modal:!1,autoFocus:!0,title:playerStrings.transcriptLabel}):109==h.which?l.muted?b.jPlayer("unmute"):b.jPlayer("mute"):61==h.which||43==h.which?b.jPlayer("volume",l.volume+.1):45!=
h.which&&95!=h.which||b.jPlayer("volume",l.volume-.1)})},undoMediaActions:function(b,c,h){b=this.getActionsForMediaUndo(b,c,h);for(c=0;c<b.length;c++)this.actionHandlers.undoAction(b[c],h)},reset:function(b){this.clearPageTimeouts(b);for(var c=0;c<b.actions.length;c++)"setVariable"==b.actions[c].type&&b.actions[c].parameters.fireOnce||(b.actions[c].firedOnce=!1),"breakpoint"==b.actions[c].trigger&&(b.actions[c].hitBreakpoint=!1),"swapContent"==b.actions[c].type&&this.actionHandlers.undoAction(b.actions[c],
b);b.mediaTimeUpdates={};this.initElementsViewedActions(b)},startPageTimer:function(b,c){var h=this;c.pageTimeouts.push(setTimeout(function(){h.actionConditionsMet(b)&&(h.actionHandlers[b.type](b,c),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:c,action:b}]))},b.time))},clearPageTimeouts:function(b){if(b.pageTimeouts)for(var c=0;c<b.pageTimeouts.length;c++)clearTimeout(b.pageTimeouts[c]);b.pageTimeouts=[]},setReverseAction:function(b,c){var h=this,l=DKI.clone(b);switch(b.type){case "show":l.type=
"hide";break;case "hide":l.type="show";break;case "entrance":l.type="exit";break;case "exit":l.type="entrance";break;case "applyEffect":var m=b.parameters,n="moveBy"==m.effect||"moveTo"==m.effect?"left":"width",r="moveBy"==m.effect||"moveTo"==m.effect?"top":"height";if("moveBy"==m.effect||"resizeBy"==m.effect)l.parameters.effectOptions.to[n]=m.effectOptions.to[n].replace(/(\+|\-)/g,function(b){return"+"==b?"-":"+"}),l.parameters.effectOptions.to[r]=m.effectOptions.to[r].replace(/(\+|\-)/g,function(b){return"+"==
b?"-":"+"});else if("moveTo"==m.effect||"resizeTo"==m.effect){for(var p=[],u=0;u<b.targetElements.length;u++){var x=DKI.clone(l),D="moveTo"==m.effect?"x":"width",F="moveTo"==m.effect?"y":"height";x.parameters.effectOptions.to[n]=$("#"+b.targetElements[u]+"_wrapper").data(D);x.parameters.effectOptions.to[r]=$("#"+b.targetElements[u]+"_wrapper").data(F);settings.responsive&&"resizeTo"==m.effect&&(D=$("#"+b.targetElements[u]+"_wrapper"),F=100*(D.outerWidth(!0)/D.parent().width()),x.parameters.effectOptions.to[n]=
0<D.length&&""!=D[0].style.width?F:"",x.parameters.effectOptions.to[r]="");p.push(x)}for(u=0;u<b.targetGroups.length;u++)x=DKI.clone(l),D="moveTo"==m.effect?"x":"width",F="moveTo"==m.effect?"y":"height",x.parameters.effectOptions.to[n]=$("#group_"+b.targetGroups[u]).data(D),x.parameters.effectOptions.to[r]=$("#group_"+b.targetGroups[u]).data(F),settings.responsive&&"resizeTo"==m.effect&&(x.parameters.effectOptions.to[n]="",x.parameters.effectOptions.to[r]=""),p.push(x);l=p}else if("fadeTo"==m.effect){p=
[];for(u=0;u<b.targetElements.length;u++)x=DKI.clone(l),x.parameters.effectOptions.to.opacity=$("#"+b.targetElements[u]+"_wrapper").css("opacity"),p.push(x);l=p}else if("rotate"==m.effect){p=[];for(u=0;u<b.targetElements.length;u++)x=DKI.clone(l),x.parameters.effectOptions.to.degrees=$("#"+b.targetElements[u]+"_wrapper").css("rotate"),x.parameters.effectOptions.duration=0,p.push(x);l=p}else if("scaleTo"==m.effect){p=[];for(u=0;u<b.targetElements.length;u++)x=DKI.clone(l),m=$("#"+b.targetElements[u]+
"_wrapper").css("scale"),$.isArray(m)?(x.parameters.effectOptions.to.w=100*m[0],x.parameters.effectOptions.to.h=100*m[1]):(x.parameters.effectOptions.to.w=100*m,x.parameters.effectOptions.to.h=100*m),x.parameters.effectOptions.duration=0,p.push(x);l=p}else if("zoomTo"==m.effect){p=[];for(u=0;u<b.targetElements.length;u++)x=DKI.clone(l),m=$("#"+b.targetElements[u]+"_wrapper .dki-element-content").css("scale"),$.isArray(m)?(x.parameters.effectOptions.to.w=100*m[0],x.parameters.effectOptions.to.h=100*
m[1]):(x.parameters.effectOptions.to.w=100*m,x.parameters.effectOptions.to.h=100*m),x.parameters.effectOptions.duration=0,p.push(x);l=p}else if("panTo"==m.effect){p=[];for(u=0;u<b.targetElements.length;u++)x=DKI.clone(l),x.parameters.effectOptions.to.x=$("#"+b.targetElements[u]+"_wrapper .dki-element-content").css("x"),x.parameters.effectOptions.to.y=$("#"+b.targetElements[u]+"_wrapper .dki-element-content").css("y"),x.parameters.effectOptions.duration=0,p.push(x);l=p}else if("panAndZoom"==m.effect){p=
[];for(u=0;u<b.targetElements.length;u++)x=DKI.clone(l),x.parameters.effectOptions.to.x=$("#"+b.targetElements[u]+"_wrapper .dki-element-content").css("x"),x.parameters.effectOptions.to.y=$("#"+b.targetElements[u]+"_wrapper .dki-element-content").css("y"),m=$("#"+b.targetElements[u]+"_wrapper .dki-element-content").css("scale"),$.isArray(m)?(x.parameters.effectOptions.to.w=100*m[0],x.parameters.effectOptions.to.h=100*m[1]):(x.parameters.effectOptions.to.w=100*m,x.parameters.effectOptions.to.h=100*
m),x.parameters.effectOptions.duration=0,p.push(x);l=p}else"applyCSS"==m.effect&&(l=function(){var l=h.actionHandlers.getTargetSelector(b," .dki-element-content"," .dki-authoring-element .dki-element-content");$(l,c.pageContainer).each(function(){var c=$(this);c.attr("style",c.data("pre-action-style-"+b.id))})});break;case "swapContent":p=$("#content_"+b.targetElements[0]);if(l.target_assets)l.target_assets[0].fullAssetUrl=p.attr("src");else if(l.parameters.swapContent)l.parameters.swapContent=p.html();
else if(l.parameters.swapClass)switch(p.closest(".dki-authoring-element, .dki-authoring-element-element").data("elementtype")){case "panel":p=p.find(".panel").attr("class").match(/panel\-([^\s])+/);l.parameters.swapClass=p[0];break;case "speechBubble":pos=p.attr("class").match(/(top|bottom|left|right|top\-left|top\-right|bottom\-left|bottom\-right)(\s|$)/),shape=p.attr("class").match(/(triangle|thought)(\s|$)/),remCls=pos[0]?[pos[0].trim()]:[],shape[0]?remCls.push(shape[0].trim()):!1,l.parameters.swapClass=
remCls.join(" ")}break;case "api":switch(b.parameters.method){case "audioButtonOn":l.parameters.method="audioButtonOff";break;case "audioButtonOff":l.parameters.method="audioButtonOn";break;case "hideForward":l.parameters.method="showForward";break;case "hideBack":l.parameters.method="showBack";break;case "hideBoth":l.parameters.method="showBoth";break;case "showForward":l.parameters.method="hideForward";break;case "showBack":l.parameters.method="hideBack";break;case "showBoth":l.parameters.method=
"hideBoth";break;case "enableMenuButton":l.parameters.method="disableMenuButton";break;case "disableMenuButton":l.parameters.method="enableMenuButton"}break;case "listShowNext":l.type="listHideCurrent"}"custom_scroll"==b.trigger&&b.parameters.effectOptions&&b.parameters.effectOptions.direction&&("up"==b.parameters.effectOptions.direction?l.parameters.effectOptions.direction="down":"down"==b.parameters.effectOptions.direction?l.parameters.effectOptions.direction="up":"left"==b.parameters.effectOptions.direction?
l.parameters.effectOptions.direction="right":"right"==b.parameters.effectOptions.direction&&(l.parameters.effectOptions.direction="left"));b.reverseAction=l},checkBreakPointThreshold:function(b,c){b=this.getActionsForPageEvent(b,c,!0);for(var h=0;h<b.length;h++)if(c.started||-1!=$.inArray(b[h].type,["show","hide","toggle","applyEffect","swapContent"])){var l=window.innerWidth;if(b[h].hitBreakpoint&&l>b[h].parameters.breakpoint){if(DKI.isArray(b[h].reverseAction))for(l=0;l<b[h].reverseAction.length;l++)this.actionHandlers[b[h].reverseAction[l].type](b[h].reverseAction[l],
c),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:c,action:b[h].reverseAction}]);else DKI.isFunction(b[h].reverseAction)?b[h].reverseAction():(this.actionHandlers[b[h].reverseAction.type](b[h].reverseAction,c),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:c,action:b[h].reverseAction}]));b[h].hitBreakpoint=!1}else l<=b[h].parameters.breakpoint&&!b[h].hitBreakpoint&&(b[h].reverseAction||this.setReverseAction(b[h],c),this.actionHandlers[b[h].type](b[h],c),
$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:c,action:b[h]}]),b[h].hitBreakpoint=!0)}c.started&&($(".dki-iframe-element:visible, .dki-videoembed-element:visible, .dki-html-element:visible",c.pageContainer).each(function(){var b=$(this).find("iframe");if("about:blank"==b.attr("src")){var c=b.data("src");b.attr("src",c)}}),$(".dki-iframe-element:not(:visible), .dki-videoembed-element:not(:visible), .dki-html-element:not(:visible)").each(function(){var b=$(this).find("iframe");
if("about:blank"!=b.attr("src")){var c=b.attr("src");b.attr("data-src")||b.attr("data-src",c);b.attr("src","about:blank")}}))},checkDeviceAdaptation:function(b,c){var h=dkiUA.getUAProperties();b=this.getActionsForPageEvent(b,c,!0);for(var l=["platform","os","browser"],m=0;m<b.length;m++){var n=!1;if(b[m].parameters.devices){for(var r=b[m].parameters.devices,p=0;p<l.length&&(r=r[h[l[p]]],!(n=DKI.isObject(r)?r.enabled:r)&&"undefined"!=typeof r);p++);n&&(b[m].reverseAction||this.setReverseAction(b[m],
c),this.actionHandlers[b[m].type](b[m],c),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:c,action:b[m]}]))}}},onPageEvent:function(b,c){b=this.getActionsForPageEvent(b,c);for(var h=0;h<b.length;h++)if(player.isSinglePage||$(player.pageFrames.current).find("\x3e.pageElementsWrapper").data("pageid")==b[h].pageId||c.isStandalonePage&&$(c.pageContainer).is(":visible"))b[h].reverseAction||this.setReverseAction(b[h],c),this.actionHandlers[b[h].type](b[h],c),$(document).trigger(DKI.ContentPage.events.actionFired,
[{pageContext:c,action:b[h]}]);return b},onElementScrollEvent:function(b,c,h,l){if(h.started){b=this.getActionsForEvent(l,$(b.element).data("id"),h);for(c=0;c<b.length;c++)b[c].firedOnce?this.actionHandlers.undoAction(b[c],h):(this.actionHandlers[b[c].type](b[c],h),b[c].firedOnce=!0);return b}},onScrollEvent:function(b,c,h,l){if(h.started){b=this.getActionsForPageEvent(l,h,!1,$(b.element).data("id"));for(c=0;c<b.length;c++)b[c].firedOnce?this.actionHandlers.undoAction(b[c],h):(this.actionHandlers[b[c].type](b[c],
h),b[c].firedOnce=!0);return b}},onTextLinkScrollEvent:function(b,c,h,l){if(h.started){b=this.getTextLinkActionsForEvent(l,$(b.element),h);for(c=0;c<b.length;c++)b[c].firedOnce?this.actionHandlers.undoAction(b[c],h):(this.actionHandlers[b[c].type](b[c],h),b[c].firedOnce=!0);return b}},onElementQuestionSubmittedEvent:function(b,c,h){b=$(b);c=this.getActionsForEvent(c,b.data("id"),h);for(b=0;b<c.length;b++)this.actionHandlers[c[b].type](c[b],h),$(document).trigger("actionFired",[{pageContext:h,action:c[b]}]),
c[b].firedOnce=!0},undoElementQuestionSubmittedActions:function(b,c,h){b=$(b);c=this.getActionsForEvent(c,b.data("id"),h);for(b=0;b<c.length;b++)c[b].firedOnce&&this.actionHandlers.undoAction(c[b],h)},onElementCaptureAssessmentSubmittedEvent:function(b,c,h){b=$(b);c=this.getActionsForEvent(c,b.data("id"),h);for(b=0;b<c.length;b++)this.actionHandlers[c[b].type](c[b],h),$(document).trigger("actionFired",[{pageContext:h,action:c[b]}]),c[b].firedOnce=!0},onContentChangedEvent:function(b,c,h){var l=$(b),
m=l.data("id"),n=l.hasClass(".dki-authoring-element")?l:l.closest(".dki-authoring-element-element:not(.dki-panel-element), .dki-authoring-element"),r=!1,p=!1;b=[];var u=l.data("automaticSet");l.hasClass("dki-audio-element")||l.hasClass("dki-video-element")?n=l:l.hasClass("dki-marker-element")&&(n=l.closest(".dki-image-element"));switch(n.data("type")){case "tabset":l.attr("data-viewed",!0);n.find(".accordion-toggle[data-id\x3d"+l.data("id")+"]").attr("data-viewed",!0);r=n.data("tabsVisited")?n.data("tabsVisited"):
[];0>$.inArray(m,r)&&m&&r.push(m);n.data("tabsVisited",r);r=n.data("currentTab")!=m;p=n.data("tabsVisited").length===n.data("tabCount");r&&(n.data("currentTab",m),!n.is(":visible")||$("#content_"+n.data("id")).hasClass("accordionPanel")||h||setTimeout(function(){n.find("[data-narration\x3d'1'] .dki-element-content").jPlayer("stop");n.find(".active [data-narration\x3d'1'] .dki-element-content").jPlayer("play",0)},5));break;case "scenario":r=!0;l.data("ended")&&(p=!0);break;case "categoryCards":r=!0;
l.data("completed")&&(p=!0);break;case "flipCard":l.find(".face.active").attr("data-viewed",!0);r=!0;0==l.find(".face:not([data-viewed\x3d'true'])").length&&(l.attr("data-viewed",!0),p=!0,h||(n.find("[data-narration\x3d'1'] .dki-element-content").jPlayer("stop"),n.find(".active [data-narration\x3d'1'] .dki-element-content").jPlayer("play",0)));break;case "contentCarousel":l.attr("data-viewed",!0);r=!0;0==n.find(".dki-panel-element[data-parent_element_id\x3d'"+n.data("id")+"']:not([data-viewed\x3d'true'])").length&&
(p=!0);$(c.pageContainer).hasClass("current")&&n.isInViewport()&&setTimeout(function(){var b=n.find(".is-selected [data-narration\x3d'1'] .dki-element-content"),c=b.length?!b.data().jPlayer.status.paused:!1;n.closest(".dki-authoring-element.navigatesSubContent").find("[data-narration\x3d'1'] .dki-element-content").each(function(){n.find("[data-id\x3d"+$(this).data("id")+"]").length||$(this).data().jPlayer.status.paused||(c=!0)});!c&&!h&&n.is(":visible")&&navigator.userActivation.hasBeenActive&&(n.find("[data-narration\x3d'1'] .dki-element-content").jPlayer("stop"),
b.jPlayer("play",0))},300);break;case "timeline":l.find(".cd-timeline-block .cd-timeline-img.bounce-in").attr("data-viewed",!0);r=!0;0==l.find(".cd-timeline-block .cd-timeline-img:not([data-viewed\x3d'true'])").length&&(p=!0);break;case "radioGroup":l.find(".dki-element-content label.active").attr("data-viewed",!0);r=!0;0==l.find(".dki-element-content label:not([data-viewed\x3d'true'])").length&&(p=!0);break;case "capture":var m=l.find("img.capture-image").length,x=l.data("slidesViewed"),r=!0;m<=
x.length&&(p=!0);break;case "flashCardSet":r=!0;0==l.find(".dki-element-content .card:not([data-answered\x3d'true'])").length&&(p=!0);break;case "videoPlaylist":r=!0;l.find(".menu li.active").attr("data-viewed",!0);0==l.find(".menu li:not([data-viewed\x3d'true'])").length&&(p=!0);break;case "input":case "textbox":case "selection":case "slider":case "toggle":case "flipCardSet":r=!0;0==l.find(".face:not(.seen)").length&&(p=!0);break;case "image":l.attr("data-viewed",!0);r=!0;0==n.find(".dki-marker-element:not([data-viewed\x3d'true']):not(.onlyShownByBreakpointActions):not(.hiddenByBreakpoint)").length&&
(p=!0);break;case "video":l.attr("data-viewed",!0);r=!0;0==n.find(".dki-marker-element:not([data-viewed\x3d'true']):not(.onlyShownByBreakpointActions):not(.hiddenByBreakpoint)").length&&n.data("ended")&&(p=!0);break;case "matchCardSet":r=!0,m=c.getClaroElementById(m),l.data("flipState").success.length==m.elements.length&&(p=!0)}r&&(b=b.concat(this.getActionsForEvent("contentChanged",n.data("id"),c)),$(document).trigger(DKI.ContentPage.events.elementContentChanged,{element:c.getClaroElementById(n.data("id")),
pageInstance:c,setAutomatically:u}),u&&l.data("automaticSet",!1));r=n.find(".dki-authoring-element-element.navigatesSubContent:not(.dki-marker-element):not(.onlyShownByBreakpointActions):not(.hiddenByBreakpoint)");r.length&&r.each(function(){var b=$(this).hasClass("dki-image-element"),h=b&&$(this).find(".dki-marker-element:not(.onlyShownByBreakpointActions):not(.hiddenByBreakpoint)").length;$(this).data("allViewed")||!h&&b||(p=!1);$(this).find(".dki-marker-element:not(.onlyShownByBreakpointActions):not(.hiddenByBreakpoint)").each(function(){var b=
$(this),h=c.getClaroElementById(b.data("id")),k=$("#content_"+b.data("id"),b),l="hover";h.parameters.config.trigger&&(l=h.parameters.config.trigger);setTimeout(function(){""!=h.meta&&"custom"==l&&h.pageid==c.page.id&&$(c.pageContainer).hasClass("current")&&b.isInViewport()&&b.is(":visible")&&!b.hasClass("hiddenOnLoad")&&!b.hasClass("hiddenUntilInView")&&0==b.closest(".flipCardPanel.face:not(.active)").length?k.tooltipster("open"):"custom"==l&&k.tooltipster("close")},300)})});p&&!n.data("allViewed")&&
(n.data("allViewed",!0),b=b.concat(this.getActionsForEvent("allContentViewed",n.data("id"),c)),$(document).trigger(DKI.ContentPage.events.elementAllContentViewed,{element:c.getClaroElementById(n.data("id")),pageInstance:c,setAutomatically:u}),u&&l.data("automaticSet",!1),l.trigger("contentViewed"));for(l=0;l<b.length;l++)this.actionHandlers[b[l].type](b[l],c),$(document).trigger("actionFired",[{pageContext:c,action:b[l]}]);n.hasClass("dki-authoring-element-element")&&this.onContentChangedEvent.call(this,
n.parent(),c,h)},onTextActionLinkEvent:function(b,c,h){b=this.getTextLinkActionsForEvent(b,c,h);for(c=0;c<b.length;c++)b[c].reverseAction||this.setReverseAction(b[c],h),this.actionHandlers[b[c].type](b[c],h),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:h,action:b[c]}]);return b},onMouseEvent:function(b,c,h){b=this.getActionsForEvent(b,$(c).data("id"),h);for(c=0;c<b.length;c++)b[c].reverseAction||this.setReverseAction(b[c],h),this.actionHandlers[b[c].type](b[c],h),$(document).trigger(DKI.ContentPage.events.actionFired,
[{pageContext:h,action:b[c]}]);return b},onDisplayEvent:function(b,c,h){b=this.getActionsForEvent(b,$(c).data("id"),h);for(c=0;c<b.length;c++)b[c].reverseAction||this.setReverseAction(b[c],h),this.actionHandlers[b[c].type](b[c],h),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:h,action:b[c]}])},onTimeUpdate:function(b,c,h,l){b=this.getActionForMediaEvent("time",c,h,b);for(c=0;c<b.length;c++)b[c].reverseAction||this.setReverseAction(b[c],h),this.actionHandlers[b[c].type](b[c],
h),b[c].firedOnce=!0,$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:h,action:b[c]}])},onTimerTimeUpdate:function(b,c,h){b=this.getActionsForTimerTimeEvent("timer_time",c,h,b);for(c=0;c<b.length;c++){b[c].reverseAction||this.setReverseAction(b[c],h);var l=DKI.clone(b[c]);l.time=0;this.actionHandlers[b[c].type](l,h);b[c].firedOnce=!0;$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:h,action:b[c]}])}},onMediaStart:function(b,c,h){b=this.getActionForMediaEvent(h||
"start",b,c);for(h=0;h<b.length;h++)b[h].reverseAction||this.setReverseAction(b[h],c),this.actionHandlers[b[h].type](b[h],c),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:c,action:b[h]}])},onMediaEnd:function(b,c,h){h=this.getActionForMediaEvent(h||"end",b,c);for(var l=0;l<h.length;l++)h[l].reverseAction||this.setReverseAction(h[l],c),this.actionHandlers[h[l].type](h[l],c),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:c,action:h[l]}]);c.mediaTimeUpdates[b]=
0;$("#"+b+"_wrapper").attr("data-ended",!0);this.onContentChangedEvent.call(this,$("#"+b+"_wrapper"),c,!0)},onMediaPlay:function(b,c,h){b=this.getActionForMediaEvent(h||"play",b,c);for(h=0;h<b.length;h++)b[h].reverseAction||this.setReverseAction(b[h],c),this.actionHandlers[b[h].type](b[h],c),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:c,action:b[h]}])},onMediaPause:function(b,c,h){if(c.started)for(b=this.getActionForMediaEvent(h||"pause",b,c),h=0;h<b.length;h++)b[h].reverseAction||
this.setReverseAction(b[h],c),this.actionHandlers[b[h].type](b[h],c),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:c,action:b[h]}])},onMediaVolumeChange:function(b,c,h){b=this.getActionForMediaEvent(c,b,h);for(c=0;c<b.length;c++)b[c].reverseAction||this.setReverseAction(b[c],h),this.actionHandlers[b[c].type](b[c],h),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:h,action:b[c]}])},onDataSetEvent:function(b,c){var h=this.getActionsForPageEvent("variableSet",
c,!0);$(".dki-timer-element .dki-element-content[data-variable-id\x3d'"+b.name+"']",c.pageContainer).each(function(){var c=$(this).closest(".dki-timer-element"),h=c.data("timer");if(h&&0<=b.newValue&&b.newValue!=h.getCurrentTime()){var l=b.newValue;if(h.timer.factory.countdown){var m=h.timer.timeLimit;b.newValue>m&&(l=m)}h.setTime(l/1E3);m="MinuteCounter";36E5<=l&&(m="HourCounter");l!=b.newValue&&(h.restart(),b.newValue=l);h.timer.count=h.timer.factory.countdown?Math.round(1E3*(h.timer.factory.original-
l/1E3))/1E3:l/1E3;c.data("timer").loadClockFace(m,null,!0)}});setVariableText(b.name,b.newValue,c);var l=$(".dki-radialGauge-element .radial[data-variable-name\x3d'"+b.name+"'], .dki-radialGauge-element .radial[data-current\x3d'"+b.name+"']",c.pageContainer);if(l[0]){var m=l.closest(".dki-radialGauge-element");m.find(".radial").RadialGauge("setRotation",b.newValue,function(b,h){(b=c.getClaroElementById(m.data("id")))&&!isNaN(parseInt(b.parameters.config.current,10))&&(b.parameters.config.current=
h.state.current)})}l=$(".dki-selection-element .dki-element-content[data-variable-id\x3d'"+b.name+"']",c.pageContainer).find("li\x3ea[data-val\x3d'"+b.newValue+"']");l[0]&&l.trigger("click",{fromDataSet:!0});l=$(".dki-radioGroup-element .dki-element-content[data-variable-id\x3d'"+b.name+"']",c.pageContainer).find("label[data-index\x3d'"+b.newValue+"']");l[0]&&l.trigger("click",{fromDataSet:!0});l=$(".dki-toggle-element .dki-element-content[data-variable-id\x3d'"+b.name+"']",c.pageContainer).find("input");
l[0]&&l.prop("checked",b.newValue);$(".dki-slider-element .noUi-target.slider[data-variable-id\x3d'"+b.name+"']",c.pageContainer).each(function(){$(this).data("automaticSet",!0);this.noUiSlider.set(b.newValue)});$(".dki-tileCard-element .tileCard[data-variable-name\x3d'"+b.name+"']",c.pageContainer).each(function(){var c=$(this).closest(".dki-tileCard-element"),h=c.find(".tileCard").data("visitedIcon"),c=c.find(".dki-icon-element i"),l=c.data("class");b.newValue?c.addClass(h).removeClass(l):c.addClass(l).removeClass(h)});
b.name=="likedislike_"+contentApi.getData("sys.currentpage.id",!0)&&($(".dki-likedislike-element .dki-element-content i",c.pageContainer).disable(),"like"==b.newValue?$(".dki-likedislike-element .dki-element-content .fa-thumbs-up",c.pageContainer).addClass("toggled"):"dislike"==b.newValue&&$(".dki-likedislike-element .dki-element-content .fa-thumbs-down",c.pageContainer).addClass("toggled"));$(".dki-progress-element .progress[data-variable-name\x3d'"+b.name+"']",c.pageContainer).each(function(){var h=
b.newValue,l=$(this).closest(".dki-progress-element"),m=c.getClaroElementById(l.data("id"));l.find(".progress-bar").css(m.parameters.config.dim,h+"%");l.find(".progress-bar").attr("aria-valuenow",h);l.find(".progress-bar").attr("aria-valuetext",h+"%");l.find(".progress-bar-display, .sr-only").html(Math.floor(h)+"%")});$(".dki-progress-element .progress[data-max\x3d'"+b.name+"'], .dki-progress-element .progress[data-current\x3d'"+b.name+"'],.dki-radialGauge-element .radial[data-max\x3d'"+b.name+"'],.dki-radialGauge-element .radial[data-current\x3d'"+
b.name+"']",c.pageContainer).each(function(){var b=$(this).data("max"),h=$(this).data("current"),k=$(this).closest(".dki-progress-element, .dki-radialGauge-element"),l=c.getClaroElementById(k.data("id")),b=isNaN(parseInt(b,10))?contentApi.getData(b):parseInt(b,10),h=isNaN(parseInt(h,10))?contentApi.getData(h):parseInt(h,10),b=h/b*100;"radialGauge"==k.data("type")?$(this).RadialGauge("setRotation",b,function(b,c){isNaN(parseInt(l.parameters.config.current,10))||(l.parameters.config.current=c.state.current)}):
(k.find(".progress-bar").css(l.parameters.config.dim,b+"%"),k.find(".progress-bar").attr("aria-valuenow",b),k.find(".progress-bar").attr("aria-valuetext",b+"%"),k.find(".progress-bar-display, .sr-only").html(Math.floor(b)+"%"))});$(".dki-capture-element .capture[data-variable-name\x3d'"+b.name+"']",c.pageContainer).each(function(){if(b.cfg&&b.cfg.source&&b.cfg.source.attr("id")==$(this).closest(".dki-capture-element").attr("id"))return!1;$(this).closest(".dki-capture-element").capture("goToOverallStep",
[b.newValue])});for(l=0;l<h.length;l++)if(h[l].parameters.trigger.variable.name==b.name){var n=h[l].parameters.trigger.variable.value,r=$("\x3cdiv/\x3e").html(n);r.find(".dki-inline-variable-name").each(function(){$(this).html($(this).parent().data("variable-id")).prepend("{{").append("}}")});var r=r.text(),p=r.toString().indexOf("{{"),u=r.toString().indexOf("}}"),x=0,D=/([^\\]["])+/g;-1!=p||D.test(r.toString())||(r='"'+r+'"');"boolean"==typeof b.newValue?D.test(r)?r='"true"'==r:(r="true"==r.substr(0,
4),p=-1):"string"==typeof r&&(D.test(n)||(r='"'+n+'"'));for(;-1<p&&-1<u&&500>x;)n=r.substr(p+2,u-(p+2)),r=r.replace("{{"+n+"}}","contentApi.getData('"+n+"')"),p=r.indexOf("{{"),u=r.indexOf("}}"),x++;1==(new Function("data","return data.newValue "+(h[l].parameters.trigger.variable.condition||"\x3d\x3d")+" "+r+";"))(b)&&(h[l].reverseAction||this.setReverseAction(h[l],c),this.actionHandlers[h[l].type](h[l],c),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:c,action:h[l]}]))}},getActionsForEvent:function(b,
c,h){for(var l=[],m=0;m<h.actions.length;m++){var n=h.actions[m];n.trigger.toLowerCase()!=b.toLowerCase()||n.elementId!=c||n.textLinkId||this.actionConditionsMet(h.actions[m])&&l.push(h.actions[m])}return l},getTextLinkActionsForEvent:function(b,c,h){var l=[],m=$(c).data("textlinkid");c=$(c).closest(".dki-authoring-element,.dki-authoring-element-element").data("id");for(var n=0;n<h.actions.length;n++){var r=h.actions[n];r.elementId==c&&r.textLinkId==m&&r.trigger.toLowerCase()==b.toLowerCase()&&this.actionConditionsMet(h.actions[n])&&
l.push(h.actions[n])}return l},getActionForMediaEvent:function(b,c,h,l,m){m=[];for(var n=0;n<h.actions.length;n++)h.actions[n].trigger==b&&h.actions[n].elementId==c&&!h.actions[n].firedOnce&&this.actionConditionsMet(h.actions[n])&&(l?h.actions[n].time<=l+250&&m.push(h.actions[n]):m.push(h.actions[n]));return m},getActionsForTimerTimeEvent:function(b,c,h,l){for(var m=[],n=0;n<h.actions.length;n++)h.actions[n].trigger!=b||h.actions[n].elementId!=c||h.actions[n].firedOnce||this.actionConditionsMet(h.actions[n])&&
1E3*Math.round(h.actions[n].time/1E3)===l&&m.push(h.actions[n]);return m},getActionsForPageEvent:function(b,c,h,l,m){for(var n=[],r=0;r<c.actions.length;r++){var p=!1;l&&($.each(c.actions[r].targetElements,function(){if(this.toString()==l.toString())return p=!0,!1}),p||$.each(c.actions[r].targetGroups,function(){if(this.toString()==l.toString())return p=!0,!1}));c.actions[r].trigger.toLowerCase()!=b.toLowerCase()||!h&&c.actions[r].firedOnce&&c.actions[r].parameters.fireOnce||l&&!p||(m||this.actionConditionsMet(c.actions[r]))&&
n.push(c.actions[r])}return n},getActionsForMediaUndo:function(b,c,h){for(var l=[],m=h.actions.length-1;0<=m;m--)h.actions[m].elementId==b&&h.actions[m].firedOnce&&h.actions[m].time>c+250&&"time"==h.actions[m].trigger.toLowerCase()&&this.actionConditionsMet(h.actions[m])&&l.push(h.actions[m]);return l},getActionsTargettingElement:function(b,c){for(var h=[],l=0;l<c.actions.length;l++){var m=!1;$.each(c.actions[l].targetElements,function(){if(this.toString()==b.toString())return m=!0,!1});m&&h.push(c.actions[l])}return h},
actionConditionsMet:function(b){var c=!0;if("undefined"!==typeof b.parameters&&"undefined"!==typeof b.parameters.conditions&&""!=b.parameters.conditions){b=b.parameters.conditions;b=$("\x3cdiv/\x3e").html(b);b.find(".dki-inline-variable-name").each(function(){$(this).html($(this).parent().data("variable-id")).prepend("{{").append("}}")});b=b.text();for(var h=b.indexOf("{{"),l=b.indexOf("}}"),c=0;-1<h&&-1<l&&500>c;)h=b.substr(h+2,l-(h+2)),b=b.replace("{{"+h+"}}","contentApi.getData('"+h+"')"),h=b.indexOf("{{"),
l=b.indexOf("}}"),c++;c=eval(b)}return c},setupLinkedElements:function(c,h,l){for(var m=0;m<c.length;m++){c[m].elementId&&!c[m].textLinkId&&$("#"+c[m].elementId+"_wrapper:not(.dki-hotspot-element) .dki-element-content",h).css({cursor:"pointer"});for(var n=0;n<c[m].targetElements.length;n++)$("#"+c[m].targetElements[n]+"_wrapper",h).addClass("dki-event-target")}$("[data-actiontype\x3dpagelink]",h).each(function(){$(this).css({cursor:"pointer"});$(this).on(l,function(){if(b){var c=this;setTimeout(function(){b.jumpToSubeo($(c).data("actiontargets"))},
10)}})});$("[data-actiontype\x3dimagemap]",h).each(function(){var b=$(this).data("id");if(b=document.getElementById(b+"_imagemap"))for(var c=0;c<b.childNodes.length;c++)processHrefTarget($(b.childNodes[c]).data("hreftarget"),$(b.childNodes[c]).data("hidetargetonload"))})},setupRollovers:function(b){function c(l,m){var n=$("#content_"+l+"_rollover",b),q=$("#content_"+l,b),p="position top bottom left right width height".split(" "),x=function(){$("#"+l+"_wrapper",b).css("min-height","");$("#"+l+"_wrapper",
b).data("rolledover","false");settings.responsive&&$.effects.restore(q,p)},u=null,y=$("#"+l+"_wrapper",b).data("meta"),y=y.split(";");2<=y.length&&(u=y[1]);u&&""!==u&&"true"==$("#"+l+"_wrapper",b).data("rolledover")&&($.effects.save(q,p),q.css({top:n.css("top"),left:n.css("left"),width:n.width(),height:n.height()}),"none"!==u?m?($(".dki-image-root-reflected",$("#"+l+"_wrapper")).show(u,{},1E3,x),$(".dki-image-rollover-reflected",$("#"+l+"_wrapper")).hide(u,{},1E3,x)):(q.velocity("stop"),$("#content_"+
l+"_rollover",b).velocity("stop"),$("#content_"+l,b).velocity(h(u,!0),{duration:1E3,complete:function(){$(this).css("position","static");x()}}),$("#content_"+l+"_rollover",b).velocity(h(u,!1),{duration:1E3,display:null,complete:function(){$(this).hide().css("position","static");x()}})):(q.velocity("stop"),m?($(".dki-image-root-reflected",$("#"+l+"_wrapper")).show(),$(".dki-image-rollover-reflected",$("#"+l+"_wrapper")).hide()):($("#content_"+l,b).show(),$("#content_"+l,b).css("transform","translateX(0px)"),
$("#content_"+l,b).css("opacity","1"),$("#content_"+l+"_rollover",b).hide()),x()))}var h=function(b,c){var h;c?(c="Left","flip"==b&&(c="X"),h="In"):(c="Right","flip"==b&&(c="Y"),h="Out");c={fade:"transition.fade"+h,drop:"transition.slide"+c+"Big"+h,slide:"transition.slide"+c+h,bounce:"transition.bounce"+c+h,fly:"transition.bounce"+c+h,roll:"transition.perspective"+c+h,flip:"transition.flip"+("Left"==c||"Right"==c?"X":"Y")+h,zoom:"transition.expand"+h};return b=c[b]||c.fade},l=function(b,c){var h=
c.position().left;c=c.position().top;b.css({left:h+"px",top:c+"px"})};$(".dki-image-element .dki-element-content.hasRollover",b).on("mouseenter",function(){var c=$(this).closest(".dki-image-element"),m=c.data("id");if(c.data("rolloverassetid")&&(!c.data("rolledover")||"false"==c.data("rolledover"))){var n=null,q=c.data("meta"),q=q.split(";");1<=q.length&&(n=q[0]);var q=$("#"+m+"_wrapper",b).data("rolledover"),p=$(this).hasClass("cssFX-slctr-Reflect");$(".dki-image-root-reflected",$("#"+m+"_wrapper")).attr("data-id",
m);$(".dki-image-rollover-reflected",$("#"+m+"_wrapper")).attr("data-id",m);c.css("min-height",c.height()+"px");!n||"none"===n||q&&"false"!==q?q&&"false"!==q||($("#content_"+m,b).parent().css("position","initial"),p?($("#content_"+m+"_rollover",b).parent().show(),$("#content_"+m,b).parent().hide()):($("#content_"+m+"_rollover",b).css({width:$("#content_"+m,b).width()+"px",height:$("#content_"+m,b).height()+"px"}),l($("#content_"+m+"_rollover",b),$("#content_"+m,b)),$("#content_"+m+"_rollover",b).css({position:"static",
opacity:1}).show(),$("#content_"+m,b).hide()),$("#"+m+"_wrapper",b).data("rolledover","true")):($("#content_"+m+"_rollover",b).css({position:"static",width:$("#content_"+m,b).width()+"px",height:$("#content_"+m,b).height()+"px"}),p?($(".dki-image-rollover-reflected",$("#"+m+"_wrapper")).show(n,{},1E3,function(){settings.responsive&&$("#content_"+m+"_rollover",b).css("position","static")}),$(".dki-image-root-reflected",$("#"+m+"_wrapper")).hide(n,{},1E3)):(l($("#content_"+m+"_rollover",b),$("#content_"+
m,b)),$("#content_"+m+"_rollover",b).velocity(h(n,!0),{duration:1E3,complete:function(){$(this).css("position","static")}}),$("#content_"+m,b).velocity(h(n,!1),{duration:1E3,display:null,complete:function(){$(this).hide().css("position","static")}})),$("#"+m+"_wrapper",b).data("rolledover","true"))}});$(".dki-image-rollover-reflected",b).mouseout(function(){c($(this).closest(".dki-image-element").data("id"),!0)});$(".dki-image-rollover",b).mouseout(function(){c($(this).closest(".dki-image-element").data("id"),
!1)})},elementIsonlyShownByBreakpointActions:function(b,c){var h=function(b){return"show"==b.type},l=this.getActionsForPageEvent("breakpoint",c,!0,b,!0).filter(h);return l.length&&this.getActionsTargettingElement(b,c).filter(h).length==l.length?!0:!1},actionHandlers:{entrance:function(b,c){this.show.apply(this,arguments)},exit:function(b,c){this.hide.apply(this,arguments)},show:function(b,c){var h=0;"time"!=b.trigger&&(h=b.time);h={type:"show",effect:b.parameters.effect,targetElements:b.targetElements,
targetGroups:b.targetGroups,delay:h,action:b};b.parameters.effectOptions&&(h.effectOptions=b.parameters.effectOptions);this.doDisplayAction(h,c)},hide:function(b,c){var h=0;"time"!=b.trigger&&(h=b.time);h={type:"hide",effect:b.parameters.effect,targetElements:b.targetElements,targetGroups:b.targetGroups,delay:h,action:b};b.parameters.effectOptions&&(h.effectOptions=b.parameters.effectOptions);this.doDisplayAction(h,c)},toggle:function(b,c){var h=[],l=[];if(b.targetElements)for(var m=0;m<b.targetElements.length;m++)"none"===
$("#"+b.targetElements[m]+"_wrapper").css("display")||"hidden"===$("#"+b.targetElements[m]+"_wrapper").css("visibility")||$("#"+b.targetElements[m]+"_wrapper").hasClass("hiding")?(h.push(b.targetElements[m]),c.queue.dequeue({name:"elementsViewed",id:b.targetElements[m]})):l.push(b.targetElements[m]);var n=[],r=[];if(b.targetGroups)for(m=0;m<b.targetGroups.length;m++)"none"===$("#group_"+b.targetGroups[m]).css("display")||"hidden"===$("#group_"+b.targetGroups[m]).css("visibility")?n.push(b.targetGroups[m]):
r.push(b.targetGroups[m]);m=0;"time"!=b.trigger&&(m=b.time);h={type:"show",effect:b.parameters.showEffect,targetElements:h,targetGroups:n,delay:m,action:b};b.parameters.showEffectOptions&&(h.effectOptions=b.parameters.showEffectOptions);l={type:"hide",effect:b.parameters.hideEffect,targetElements:l,targetGroups:r,delay:m,action:b};b.parameters.hideEffectOptions&&(l.effectOptions=b.parameters.hideEffectOptions);this.doDisplayAction(h,c);this.doDisplayAction(l,c)},doDisplayAction:function(b,c,h){var m=
this,n=this.getTargetSelector(b,"[data-type!\x3d'zoomRegion']:not(.dki-list-element)"),p=$(this.getTargetSelector(b,".dki-list-element:not(.isShowNextTarget)",".dontincludegroups"),c.pageContainer),r=this.getTargetSelector(b,"[data-type\x3d'zoomRegion']"," .dki-zoomRegion-element"),u=this.getTargetSelector({targetGroups:b.targetGroups}),C=this.getTargetSelector(this.getTargetsToHide(b.action,c)),x=$(n,c.pageContainer),D=$(u,c.pageContainer);b.action.undo||(b.action.undo={});"toggle"==b.action.type&&
"show"==b.type?b.action.undo.showTargetSelector=n:"toggle"==b.action.type&&"hide"==b.type&&(b.action.undo.hideTargetSelector=n);b.action.undo.targetsToHideSelector=C;var F=function(){var h=$(this),m="show"===b.type?DKI.ContentPage.events.shown:DKI.ContentPage.events.hidden;"show"===b.type&&h.each(function(){$(this).hasClass("dki-authoring-element")&&c.actionAPI.registerElementViewed(this,c)});if(h.hasClass("dki-authoring-group"))settings.responsive||h.css({width:"",height:""}),h=$(".dki-authoring-element",
this),"show"==b.type&&(h=h.filter(":visible")),h.each(F);else{var n="content_"+h.data("id"),r=$("#"+n),p=c.getClaroElementById(h.data("id"));h.trigger(m,this);if("show"===b.type)settings.responsive&&(c.setMinHeight(),c.reCalculateMediaControls()),h.each(function(){var b=$(this),h="content_"+b.data("id"),k=$("#"+h),m=c.getClaroElementById(b.data("id"));k.data("autoplay")&&"flash"!=b.data("type")&&l.play(h,c);"marker"==b.data("type")?"custom"==m.parameters.config.trigger&&""!=m.meta&&k.tooltipster("open"):
"textbox"==b.data("type")||"freeFormOption"==b.data("type")?""!=m.parameters.config.variable_name&&k.val(contentApi.getData(m.parameters.config.variable_name)):"scenario"==b.data("type")&&(b.find(".dki-element-content").Scenario("sceneWindowResize"),b.find(".dki-element-content").Scenario("start"));if(m.elements){for(b=0;b<m.elements.length;b++)h=m.elements[b],"marker"==h.elementtype&&"custom"==h.parameters.config.trigger&&""!=h.meta&&$("#content_"+h.id).tooltipster("open");if(settings.responsive){var n=
function(b){var h=$("#"+b.id+"_wrapper",c.pageContainer);c.setLabelWrapperPosition(h);c.scaleElementChildren(b);h.find(".dki-authoring-element-element").css("visibility","")},r=function(b){settings.elementTypeConfig[b.elementtype].hasStackableElementElements?n(b):b.elements&&$.each(b.elements,function(){r(this)})};r(m)}}}),settings.elementTypeConfig[h.data("type")].navigateSubContent&&h.find(".dki-audio-element[data-narration\x3d1]:visible .dki-element-content").jPlayer("play",0);else if("hide"==
b.type){settings.responsive&&setTimeout(player.resetContentHeight,10);$(this).css({opacity:""});$("iframe",this).each(function(){$(this).attr("data-src")||$(this).attr("data-src",this.src);this.src="about:blank"});h.data("multimedia")&&"flash"!=h.data("type")&&l.pause(n,c);"marker"==h.data("type")&&"custom"==p.parameters.config.trigger&&""!=p.meta&&r.tooltipster("close");h.each(function(){"scenario"==$(this).data("type")&&$(this).find(".dki-element-content").Scenario("stop")});if(p.elements)for(m=
0;m<p.elements.length;m++)n=p.elements[m],"marker"==n.elementtype&&"custom"==n.parameters.config.trigger&&""!=n.meta&&$("#content_"+n.id).tooltipster("close");settings.elementTypeConfig[h.data("type")].navigateSubContent&&h.find(".dki-audio-element[data-narration\x3d1] .dki-element-content").jPlayer("stop",0)}}};""!==n?(u=function(){DKI.applyIf(b,{effectOptions:{duration:1E3,direction:""}},!0);var l=b.effectOptions.duration,u=function(b){b.trigger("match.resizeImmediate").find(".dki-matchCardSet-element").trigger("match.resizeImmediate");
b.find(".radial").RadialGauge("resize")},B=b.type;b.type="hide";$(C).addClass("hidden").each(function(){F.call(this)});b.type=B;"show"==b.type&&c.started&&$("iframe",n).each(function(){this.src=$(this).attr("data-src")});"hide"==b.type&&settings.responsive&&c.setMinHeight();"show"!=b.type||settings.responsive||x.each(function(){var l=$(this).find("#content_"+$(this).data("id")),n=function(b,c,h,k){var l=function(b,c,h){h=$(b).find("#content_"+$(b).data("id"));var k=$(b).find("\x3e .dki-authoring-content-wrapper");
$(b).css({visibility:"hidden",display:"block"});c-=h.find(".panel \x3e.panel-heading").first().outerHeight()+h.find(".panel \x3e.panel-footer").first().outerHeight()+2;c-=parseInt(k.css("padding-top").split("px")[0],10);c-=parseInt(k.css("padding-bottom").split("px")[0],10);var l=h.find(".panel-body");l.first().css({height:c,overflowY:"hidden"});var m=l.first().parent().css("overflow-y");l.first().parent().css("overflow-y","hidden");setTimeout(function(){$(b).css({visibility:"",display:""});l.first().css({overflowY:""});
l.first().parent().css("overflow-y",m)},0)};k?setTimeout(function(){l(b,c,h)},0):l(b,c,h)},r=function(l,r){if("panel"==$(l).data("type"))n(l,$(l).data("height"),r,!0);else if("contentCarousel"==$(l).data("type")){var p=$(l).css({visibility:"hidden",display:"block"}).height()-r.find("\x3e .flickity \x3e .flickity-page.dots").height();$(l).css({visibility:"",display:""});r.find("\x3e .flickity \x3e .flickity-viewport \x3e .flickity-slider \x3e .dki-panel-element").each(function(){n(l,p)});setTimeout(function(){r.find("\x3e .flickity \x3e .flickity-viewport \x3e .flickity-slider \x3e .dki-panel-element \x3e .dki-authoring-content-wrapper \x3e .dki-element-content \x3e .panel,\x3e .face \x3e .dki-panel-element \x3e .dki-authoring-content-wrapper \x3e .dki-element-content \x3e .panel").each(function(){var b=
$(this).find(".panel-body:first");b.css("height","auto");b.find("[data-type\x3dpanel]").each(function(){$(this).find("#content_"+$(this).data("id")).find(".panel-body").first().css({height:"auto",overflowY:"auto"})})});h||m.doDisplayAction(b,c,!0)},0)}else"flashCardSet"==$(l).data("type")?(p=$(l).css({visibility:"hidden",display:"block"}).height()-r.find("\x3e .flickity-carousel \x3e .flickity-page-dots").height(),$(l).find(".flickity-carousel").data("resize")(),$(l).css({visibility:"",display:""}),
r.find("\x3e .flickity-carousel \x3e .flickity-viewport, \x3e .flickity-carousel \x3e .flickity-viewport \x3e .flickity-slider \x3e .flashCardCont \x3e .card").each(function(){$(l).height(p)})):"flipCard"==$(l).data("type")?(p=$(l).data("height"),$(l).css({visibility:"",display:""}),r.find("\x3e .flip \x3e .face \x3e .contentContainer").each(function(){n(l,p)})):"tabset"==$(l).data("type")&&"horizontal"==c.getClaroElementById($(l).data("id")).parameters.config.orientatil&&(p=$(l).data("height")-r.find("\x3e .tabbable \x3e .nav").height(),
r.find("\x3e.tabbable \x3e .tab-content").css("height",p+"px"))};$(this).data("type")?r(this,l):$(this).find("[data-type]").not("[data-type] [data-type]").each(function(){var b=$(this).find("#content_"+$(this).data("id"));r(this,b)})});if(""==b.effect||"none"==b.effect)"show"==b.type?(x.add(p).removeClass("hiddenUntilInView").removeClass("hiddenOnLoad").removeClass("hidden"),u(x),x.each(F),c.resizeCarousels(x.find(".flip, .flickity")),c.resizeSvgs(),c.resizeSection(x.closest(".dki-authoring-section")),
c.resizeDropTargets(),c.resizeTabs(),x.find("img.dki-element-content").maskImage({preserveAspectRatio:settings.responsive?!1:"none"})):"exit"==b.action.type&&"custom_scroll"==b.action.trigger?x.addClass("hiddenUntilInView").each(F):x.add(p).addClass("hidden").each(F);else if(b.effect.match("text_","i"))b.effectOptions&&(x.removeClass("hiddenUntilInView").removeClass("hiddenOnLoad").removeClass("hidden"),x.find(".dki-element-content").textillate(b.effectOptions));else{if("blind"==b.effect||"clip"==
b.effect||"fold"==b.effect)b.effect="fade";var I=b.effectOptions.direction?DKI.capitalizeString(b.effectOptions.direction):"",B="In";"show"==b.type?"Left"==I?I="Right":"Right"==I&&(I="Left"):B="Out";var J={fade:"transition.fade"+B,drop:"transition.slide"+I+"Big"+B,slide:"transition.slide"+I+B,bounce:"transition.bounce"+I+B,fly:"transition.bounce"+I+B,roll:"transition.perspective"+I+B,flip:"transition.flip"+("Left"==I||"Right"==I?"X":"Y")+B,zoom2:"transition.expand"+B,swoop:"transition.swoop"+B,whirl:"transition.whirl"+
B,shrink:"transition.shrink"+B,expand:"transition.expand"+B},L=$([]);p.each(function(){jQuery.merge(L,$(this).find("ul.dki-element-content li"))});var M=function(){$(this).removeClass("showing");$(this).css({opacity:""});$.each($(this),function(){F.call($(this))})},B=function(){$(this).removeClass("hiding");"exit"==b.action.type&&"custom_scroll"==b.action.trigger?$(this).addClass("hiddenUntilInView"):$(this).addClass("hidden");$(this).css({opacity:""});$.each($(this),function(){F.call($(this))})};
if("show"==b.type){settings.responsive&&x.each(function(){"image"!=$(this).data("type")&&"video"!=$(this).data("type")||$(this).find(".dki-authoring-element-element").css("visibility","hidden")});if(J[b.effect])I=x.filter(".hiddenUntilInView, .hiddenOnLoad, .hidden, .hiding"),I.filter(".hiding").length&&(I.filter(".hiding").velocity("stop"),B.call(I)),function(c){c.addClass("showing");c.removeClass("hiddenUntilInView").removeClass("hiddenOnLoad").removeClass("hidden");u(c);c.velocity(J[b.effect],
{duration:l,display:null,complete:M})}(I),x.find("img.dki-element-content").maskImage(),x.filter(".dki-image-element").add(x.find(".dki-image-element")).each(function(){$(this).data("resizeMap")&&$(this).data("resizeMap")()}),p.filter(".hiddenUntilInView, .hiddenOnLoad, .hidden").removeClass("hiddenUntilInView").removeClass("hiddenOnLoad").removeClass("hidden"),L.velocity(J[b.effect],{duration:l,stagger:.5*l,display:null,complete:function(){$(this).css({opacity:""});F.call($(this).closest(".dki-authoring-element")[0])}});
else{var H=b.effectOptions?DKI.clone(b.effectOptions):{};"oldSlide"==b.effect&&(b.effect="slide",""!=I&&("left"==b.effectOptions.direction?H.direction="right":"right"==b.effectOptions.direction?H.direction="left":"up"==b.effectOptions.direction?H.direction="down":"down"==b.effectOptions.direction&&(H.direction="up")));settings.responsive||D.css({width:"100%",height:"100%"});x.filter(".hiddenUntilInView, .hiddenOnLoad, .hidden").css("display","none").removeClass("hiddenUntilInView").removeClass("hiddenOnLoad").removeClass("hidden").each(function(){u($(this));
$(this).show(b.effect,H,F)});p.filter(".hiddenUntilInView, .hiddenOnLoad, .hidden").removeClass("hiddenUntilInView").removeClass("hiddenOnLoad").removeClass("hidden").effect(b.effect,H,F)}c.resizeCarousels(x.find(".flip, .flickity"));c.resizeSection(x.closest(".dki-authoring-section"));settings.responsive&&$(n).closest(".dki-authoring-row.synchronize-heights").each(function(){synchonizeRowHeight($(this))})}else J[b.effect]?(I=x.filter(":not(.hiding):not(.hidden)"),I.addClass("hiding"),I.filter(".showing").length&&
(I.filter(".showing").velocity("stop"),M.call(I)),I.velocity(J[b.effect],{duration:l,display:null,complete:B}),L.velocity(J[b.effect],{duration:l,stagger:.5*l,display:null,complete:function(){"exit"==b.action.type&&"custom_scroll"==b.action.trigger?$(this).addClass("hiddenUntilInView"):$(this).addClass("hidden");F.call($(this).closest(".dki-authoring-element")[0])}})):(H=b.effectOptions?DKI.clone(b.effectOptions):{},"oldSlide"==b.effect&&(b.effect="slide"),settings.responsive||D.css({width:"100%",
height:"100%"}),x.hide(b.effect,H,function(){"exit"==b.action.type&&"custom_scroll"==b.action.trigger?$(this).addClass("hiddenUntilInView"):$(this).addClass("hidden");$(this).css("display","");$.each($(this),function(){F.call($(this))})}),p.hide(b.effect,H,function(){"exit"==b.action.type&&"custom_scroll"==b.action.trigger?$(this).addClass("hiddenUntilInView"):$(this).addClass("hidden");$(this).css("display","");$.each($(this),function(){F.call($(this))})}))}0<$(r,c.pageContainer).length&&("show"==
b.type?$(r,c.pageContainer).show().each(function(){var b=this;contentApi.zoomToElement($(this).data("id"),c,l,function(){F.call(b)})}):contentApi.zoomOut(c,l,function(){$(r,c.pageContainer).hide().each(function(){F.call(this)})}));x.trigger(DKI.ContentPage.events.shown);x.hasClass("dki-authoring-group")&&x.find(".dki-authoring-element").trigger(DKI.ContentPage.events.shown)},0==b.delay&&player.settings.forSnapshot?(b.effectOptions.duration=0,u()):c.pageTimeouts.push(setTimeout(u,b.delay))):""!==C&&
($(C).hide(),b.action.undo.targetsToHideSelector=C)},applyEffect:function(c,h){var l=this,m=0,n;"time"!=c.trigger&&(m=c.time);n=this.getTargetSelector(c,""," .dki-authoring-element");if(""!==n){if("moveTo"==c.parameters.effect||"moveBy"==c.parameters.effect){c.undo={targets:{}};for(var p=0;p<c.targetElements.length;p++)c.undo.targets[c.targetElements[p]]={left:$("#"+c.targetElements[p]+"_wrapper",h.pageContainer).css("left").split("px")[0],top:$("#"+c.targetElements[p]+"_wrapper",h.pageContainer).css("top").split("px")[0]}}else if("resizeTo"==
c.parameters.effect||"resizeBy"==c.parameters.effect)for(c.undo={targets:{}},p=0;p<c.targetElements.length;p++)c.undo.targets[c.targetElements[p]]={width:0<$("#"+c.targetElements[p]+"_wrapper",h.pageContainer).css("width").length?$("#"+c.targetElements[p]+"_wrapper",h.pageContainer).css("width").split("px")[0]:0,height:0<$("#"+c.targetElements[p]+"_wrapper",h.pageContainer).css("width").length?$("#"+c.targetElements[p]+"_wrapper",h.pageContainer).css("height").split("px")[0]:0};p=function(){var m=
void 0!=c.parameters.effectOptions.duration?c.parameters.effectOptions.duration:1E3,p=function(c){try{return $(c).is("span")?b.getData($(c).data("variable-id"),!0):c}catch(h){return c}};c.parameters&&c.parameters.effect&&"pulsate"==c.parameters.effect&&(c.parameters.effect="pulse");if(c.parameters&&c.parameters.effectOptions)if("moveTo"==c.parameters.effect||"moveBy"==c.parameters.effect){var m=l.getTargetSelector({targetElements:c.targetElements}),u=DKI.clone(c.parameters.effectOptions);u.to.left=
p(u.to.left);u.to.top=p(u.to.top);$(m).effect(c.parameters.effect,u,function(){"zoomRegion"==$(this).data("type")&&contentApi.zoomToElement($(this).data("id"))});for(m=0;m<c.targetGroups.length;m++){u=$("#group_"+c.targetGroups[m]).find(".dki-authoring-element");if("moveTo"==c.parameters.effect){for(var x=parseInt(u[0].style.top),y=parseInt(u[0].style.left),A=1;A<u.length;A++)var E=$(u[A]).position(),x=Math.min(x,E.top),y=Math.min(y,E.left);x={top:"+\x3d"+(p(c.parameters.effectOptions.to.top)-x),
left:"+\x3d"+(p(c.parameters.effectOptions.to.left)-y)}}else x={top:p(c.parameters.effectOptions.to.top),left:p(c.parameters.effectOptions.to.left)};$(u).effect("moveBy",{to:x})}}else if("resizeTo"==c.parameters.effect)$(n).effect(c.parameters.effect,c.parameters.effectOptions);else if("fadeTo"==c.parameters.effect)m=DKI.clone(c.parameters.effectOptions),m.to.opacity=p(c.parameters.effectOptions.to.opacity)/100,$(n).find(".dki-authoring-content-wrapper").effect(c.parameters.effect,m);else if("rotate"==
c.parameters.effect){var G={rotateZ:p(c.parameters.effectOptions.to.degrees)};$(n).velocity(G,{duration:m})}else"scaleTo"==c.parameters.effect?(G={scaleX:p(c.parameters.effectOptions.to.w)/100,scaleY:p(c.parameters.effectOptions.to.h)/100},$(n).velocity(G,{duration:m})):"panTo"==c.parameters.effect?(G={translateX:p(c.parameters.effectOptions.to.x),translateY:p(c.parameters.effectOptions.to.y)},$(n).css("overflow","hidden"),$(".dki-element-content",n).velocity(G,{duration:m})):"zoomTo"==c.parameters.effect?
(G={scaleX:p(c.parameters.effectOptions.to.w)/100,scaleY:p(c.parameters.effectOptions.to.h)/100},$(n).css("overflow","hidden"),$(".dki-element-content",n).velocity(G,{duration:m})):"panAndZoom"==c.parameters.effect?(G={translateX:p(c.parameters.effectOptions.to.x),translateY:p(c.parameters.effectOptions.to.y),scaleX:p(c.parameters.effectOptions.to.w)/100,scaleY:p(c.parameters.effectOptions.to.h)/100},$(n).css("overflow","hidden"),$(".dki-element-content",n).velocity(G,{duration:m})):"flip"==c.parameters.effect?
(G={rotateX:"360deg"},$(n).velocity(G,{duration:m})):"applyCSS"==c.parameters.effect?(G={},p=c.parameters.effectOptions.to.css.split(";"),$.each(p,function(){var b=this.split(":");b[0]&&b[1]&&(G[$.trim(b[0])]=$.trim(b[1]))}),n=l.getTargetSelector(c," .dki-element-content"," .dki-authoring-element .dki-element-content"),$(n,h.pageContainer).each(function(){var b=$(this);b.data("pre-action-style-"+c.id,b.attr("style"))}),p=$(n,h.pageContainer),p.animate(G,{duration:m})):(p=$(n,h.pageContainer),p.velocity("callout."+
c.parameters.effect,{duration:m}));else p=$(n,h.pageContainer),p.velocity("callout."+c.parameters.effect,{duration:m})};"time"==c.trigger&&0==c.time&&player.settings.forSnapshot?(c.parameters.effectOptions.duration=0,p()):h.pageTimeouts.push(setTimeout(p,m))}},http:function(c,h){if(-1<c.parameters.url.indexOf("mailto:"))window.open(c.parameters.url);else if(c.parameters.target&&"modal"===c.parameters.target)b.openModal(c.parameters.url);else{if(c.parameters.target&&"window"===c.parameters.target){if(playerBehaviour.removeWebLinks)return!1;
c=window.open(c.parameters.url,"_blank","location\x3d0,width\x3d"+$(window).width()+",height\x3d"+$(window).height())}else c=window.open(c.parameters.url);c.focus()}},asset:function(c,h){c.parameters&&c.parameters.target&&"modal"===c.parameters.target?b.openModal(settings.assetURL+c.target_assets[0].filename):window.open(settings.assetURL+c.target_assets[0].filename,"_blank","location\x3d0,width\x3d"+$(window).width()+",height\x3d"+$(window).height())},showPopup:function(b,c){var h=0;"time"!=b.trigger&&
(h=b.time);var l=window.pageYOffset,m=function(){contentApi.showPopup({title:b.parameters.popup.title,html:b.parameters.popup.content,effect:b.parameters.effect,style:b.parameters.popup.style,autoFocus:!0,popupType:b.parameters.popup.type,zIndex:c.getZIndex()+1100,returnFocus:function(){var b=null;$("body").hasClass("show-focus-outlines")&&(b=document.activeElement);return b}(),id:b.id,domStyles:dkiUA.iOS&&dkiUA.safari?"position:absolute; top:"+l+"px":""})};"undefined"!=typeof scormInterface&&dkiUA.iOS&&
dkiUA.safari?scormInterface.process("getPageYOffset",[],function(b){0==l&&(l=b);c.pageTimeouts.push(setTimeout(m,h))}):c.pageTimeouts.push(setTimeout(m,h))},lightBox:function(b,c){var h=0;"time"!=b.trigger&&(h=b.time);b.target_assets&&0<b.target_assets.length&&c.pageTimeouts.push(setTimeout(function(){var c=[];$.each(b.target_assets,function(){c.push($("\x3cimg/\x3e",{attr:{src:settings.assetURL+this.filename}}))});if(c[0]){c[0].on("load",function(){var b=!0;$.fancybox.open(c,{animationEffect:!1,
padding:0,smallBtn:!1,buttons:["close"],margin:[20,60,20,60],scrolling:dkiUA.isIE()?"visible":"auto",lang:"en",i18n:{en:{CLOSE:DKI.strings.runtime.buttonLabelClose,NEXT:DKI.strings.runtime.buttonLabelNext,PREV:DKI.strings.index.previousButtonLabel}},baseTpl:'\x3cdiv class\x3d"fancybox-container"\x3e\x3cdiv class\x3d"fancybox-bg"\x3e\x3c/div\x3e\x3cdiv class\x3d"fancybox-inner"\x3e\x3cdiv class\x3d"fancybox-infobar"\x3e\x3cspan data-fancybox-index\x3e\x3c/span\x3e\x26nbsp;/\x26nbsp;\x3cspan data-fancybox-count\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"fancybox-toolbar"\x3e{{buttons}}\x3c/div\x3e\x3cdiv class\x3d"fancybox-navigation"\x3e{{arrows}}\x3c/div\x3e\x3cdiv class\x3d"fancybox-stage"\x3e\x3c/div\x3e\x3cdiv class\x3d"fancybox-caption"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
btnTpl:{close:'\x3cbutton tabindex\x3d"1" aria-label\x3d"{{CLOSE}}" data-fancybox-close class\x3d"fancybox-button fancybox-button--close" title\x3d"{{CLOSE}}" style\x3d"opacity:1 !important;"\x3e\x3csvg tabindex\x3d"-1" aria-hidden\x3d"true" viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M10,10 L30,30 M30,10 L10,30" /\x3e\x3c/svg\x3e\x3c/button\x3e',arrowLeft:'\x3cbutton tabindex\x3d"1" type\x3d"button" aria-label\x3d"{{PREV}}" data-fancybox-prev class\x3d"fancybox-button fancybox-button--arrow_left" title\x3d"{{PREV}}" href\x3d"javascript:;"\x3e\x3csvg tabindex\x3d"-1" aria-hidden\x3d"true" viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M18,12 L10,20 L18,28 M10,20 L30,20"\x3e\x3c/path\x3e\x3c/svg\x3e\x3c/button\x3e',
arrowRight:'\x3cbutton tabindex\x3d"1" type\x3d"button" aria-label\x3d"{{NEXT}}" data-fancybox-next class\x3d"fancybox-button fancybox-button--arrow_right" title\x3d"{{NEXT}}" href\x3d"javascript:;"\x3e\x3csvg tabindex\x3d"-1" aria-hidden\x3d"true" viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M10,20 L30,20 M22,12 L30,20 L22,28"\x3e\x3c/path\x3e\x3c/svg\x3e\x3c/button\x3e'},afterLoad:function(b,c){this.$slide.closest(".fancybox-inner").find(".fancybox-infobar").attr("aria-hidden",!0);this.$slide.closest(".fancybox-container").attr("aria-label",
"Popup")},afterShow:function(c){if(b){var h=c.current.$slide.closest(".fancybox-inner");h.find("*[tabindex\x3d'1']").first()[0].focus();b=!1}h=c.current.$slide.closest(".fancybox-inner");c=h.find(".fancybox-button");h=c.filter(".disabled");DKI.makeFocusable(c,!0);DKI.makeFocusable(h,!1);DKI.enforceFocus(this.$slide.closest(".fancybox-inner"))},beforeShow:function(b,h,k){for(b=0;b<c.length;b++)settings.responsive||c[b].css("max-width","100%"),c[b].width(c[b].outerWidth(!0)||"")}})});var h=$("\x3cdiv/\x3e",
{style:{position:"absolute",top:"-10000px",left:"-10000px",visibility:"hidden"}}).append(c[0]);$("body").append(h)}},h))},lightBoxOld:function(b,c){var h=0;"time"!=b.trigger&&(h=b.time);var m=this.getTargetSelector(b);""!==m&&c.pageTimeouts.push(setTimeout(function(){var b=[];$(m).each(function(h,k){h=$(k);k=h.clone();for(var l=k.find("*"),m=0;m<l.length;m++){var n=$(l[m]);n.prop("id",n.prop("id")+"_lightbox")}k.prop("id",k.prop("id")+"_lightbox");l={"min-width":"150px","max-width":$(c.pageContainer).outerWidth(!0)-
30+"px",position:"static",display:"inline-block",visibility:"visible",height:"",width:"",cursor:"",opacity:""};k.css(l);k.find("map, .dki-image-rollover").detach();$.each(k.find("img"),function(b){$(this).css({position:"static",opacity:"",display:"inline-block"});$(this).attr("usemap")&&$(this).attr("usemap","")});$.each(k.find("iframe"),function(b){"about:blank"==$(this).attr("src")&&$(this).data("src")&&$(this).attr("src",$(this).data("src"))});k.attr("id","");h.data("isrichtext")&&(l["overflow-y"]=
"auto");b.push(k)});$.fancybox.open(b,{openEffect:"none",closeEffect:"none",nextEffect:"none",prevEffect:"none",padding:0,margin:[20,60,20,60],scrolling:dkiUA.isIE()?"visible":"auto",afterLoad:function(b,c){c.$content.is("iframe")&&c.$content.attr("src",c.$content.data("src"));c=b.slides[b.prevIndex];b.currIndex!=b.prevIndex&&c&&c.$content.is("iframe")&&c.$content.attr("src","about:blank")},afterShow:function(b,h){h.$content.hasClass("dki-video-element")?l.handleVideo(h.$content.find(".dki-video-content-element"),
c):h.$content.hasClass("dki-audio-element")&&(b=h.$content.find("div[data-elementType\x3d'audio']"),h.$content.css("height","100%"),b.siblings(".jp-audio, .jp-basic").detach(),l.handleAudio(b,c))},beforeShow:function(){for(var c=0;c<b.length;c++)settings.responsive&&b[c].data("isrichtext")?b[c].css("width","100%"):b[c].width(b[c].outerWidth(!0)||"")}})},h))},api:function(c,h){var l=0;"time"!=c.trigger&&(l=c.time);var m=function(){var l=c.parameters.methodConfig?DKI.clone(c.parameters.methodConfig):
{};l.pageInstance=h;if("jumpToElement"==c.parameters.method&&c.targetElements[0])l.elementId=c.targetElements[0];else if("jumpToPage"==c.parameters.method&&c.targetPages[0])l.pageID=c.targetPages[0],l.markComplete=!0,"undefined"!=typeof c.parameters.markComplete&&(l.markComplete=c.parameters.markComplete);else if("backToTop"==c.parameters.method)l=h.pageContainer;else if("changePublishFilter"==c.parameters.method||"changePublishTag"==c.parameters.method)c.parameters.method="changePublishFilter",l.publishFilterId=
!l.type||"none"!=l.type[0]&&"all"!=l.type[0]?(c.targetFilters||[]).join(","):l.type[0];b[c.parameters.method](l)};0==l?m():h.pageTimeouts.push(setTimeout(m,l))},sendXAPIStatement:function(c,h){var l=0,m={response:{process:function(c){if(dataStorage){var h=dataStorage.getContentVariableMeta(c);return(h?h.text:b.getData(c,!0))+""}return null}},success:{process:function(c){return b.getData(c,!0)}},score:{process:function(c){return b.getData(c,!0)}}};"time"!=c.trigger&&(l=c.time);var n=DKI.clone(c.parameters.statement);
c=function(){n.result&&($.each(n.result,function(b,c){var h=n.result;$(c).is("span")?(c=$(c).data("variable-id"),c=m[b].process(c)):c=isNaN(c)?c.match(/^(true|false)$/i)?"true"===c:c:parseFloat(c,10);h[b]=c}),"undefined"==typeof n.result.score||DKI.utility.isObject(n.result.score)||(n.result.score={scaled:n.result.score/100}));b.sendXAPIStatement(n)};0==l?c():h.pageTimeouts.push(setTimeout(c,l))},setVariable:function(c,h){if((c.parameters.fireOnce||c.parameters.fireOncePerPage)&&c.firedOnce)return null;
var l=0;"time"!=c.trigger&&(l=c.time);c.firedOnce=!0;for(var m=0;m<h.actions.length;m++)h.actions[m].id==c.id&&(h.actions[m].firedOnce=!0);if("undefined"!=typeof dataStorage&&dataStorage.currentPage)for(m=0;m<dataStorage.currentPage.page.actions.length;m++)dataStorage.currentPage.page.actions[m].id==c.id&&(dataStorage.currentPage.page.actions[m].firedOnce=!0);h.pageTimeouts.push(setTimeout(function(){var h=c.parameters.variable,l=h.name,m=h.value,m=$("\x3cdiv/\x3e").html(m.toString());m.find(".dki-inline-variable-name").each(function(){var b=
"contentApi.getData('"+$(this).parent().data("variable-id")+"')";$(this).html(b).prepend("{{").append("}}")});m.find(".dki-inline-function-name").each(function(){$(this).prepend("{{").append("}}")});var m=m.text(),n=m.toString().indexOf("{{"),p=m.toString().indexOf("}}"),q=0,u=/([^\\]["])+/g;for(-1!=n||"string"!=h.type||u.test(m.toString())||(m='"'+m+'"');-1<n&&-1<p&&500>q;)n=m.substr(n+2,p-(n+2)),m=m.replace("{{"+n+"}}",n),n=m.indexOf("{{"),p=m.indexOf("}}"),q++;m="number"==h.type?(new Function("contentAPI",
" var oldValue \x3d contentAPI.getData('"+h.name+"'); if(!oldValue){ oldValue \x3d 0; } return oldValue "+h.operator+" "+m+";"))(b):eval(m);b.setData(l,m)},l))},playMedia:function(b,c){var h=0;"time"!=b.trigger&&(h=b.time);c.pageTimeouts.push(setTimeout(function(){for(var h=0;h<b.targetElements.length;h++){var l=c.mediaPlayers["content_"+b.targetElements[h]],m=b.parameters;l?(m&&"undefined"!==typeof m.startTime?l.jPlayer("play",m.startTime/1E3):l.jPlayer("play"),b.parameters&&"undefined"!==typeof m.endTime&&
(b.firedOnce=!0,$(l).bind($.jPlayer.event.timeupdate,function(c){b.firedOnce&&1E3*c.jPlayer.status.currentTime>b.parameters.endTime&&(l.jPlayer("pause"),b.firedOnce=!1)}))):(m=c.getClaroElementById(b.targetElements[h]),"timer"==m.elementtype&&(m=$("#"+m.elementid+"_wrapper",c.pageContainer),m[0]&&m.data("timer")&&(m.data("timer").running||m.data("timer").start())))}},h))},replayMedia:function(b,c){var h=0;"time"!=b.trigger&&(h=b.time);c.pageTimeouts.push(setTimeout(function(){for(var h=0;h<b.targetElements.length;h++){var m=
c.mediaPlayers["content_"+b.targetElements[h]];m?l.play(m,c,0):(m=c.getClaroElementById(b.targetElements[h]),"timer"==m.elementtype&&(m=$("#"+m.elementid+"_wrapper",c.pageContainer),m[0]&&m.data("timer")&&m.data("timer").restart()))}},h))},pauseMedia:function(b,c){var h=0;"time"!=b.trigger&&(h=b.time);c.pageTimeouts.push(setTimeout(function(){for(var h=0;h<b.targetElements.length;h++){var l=c.mediaPlayers["content_"+b.targetElements[h]];l?(l.jPlayer("pause"),b.parameters&&b.parameters.hidePlayHead&&
$("#content_"+b.targetElements[h],c.pageContainer).find(".jp-video-play").addClass("hidden").after($('\x3cdiv class\x3d"playHeadBlocker proxy"\x3e\x3c/div\x3e'))):(l=c.getClaroElementById(b.targetElements[h]),"timer"==l.elementtype&&(l=$("#"+l.elementid+"_wrapper",c.pageContainer),l[0]&&l.data("timer")&&l.data("timer").running&&l.data("timer").stop()))}},h))},toggleMedia:function(b,c){var h=0;"time"!=b.trigger&&(h=b.time);c.pageTimeouts.push(setTimeout(function(){for(var h=0;h<b.targetElements.length;h++){var l=
c.mediaPlayers["content_"+b.targetElements[h]];l?l.data().jPlayer.status.paused?l.jPlayer("play"):l.jPlayer("pause"):(l=c.getClaroElementById(b.targetElements[h]),"timer"==l.elementtype&&(l=$("#"+l.elementid+"_wrapper",c.pageContainer),l[0]&&l.data("timer")&&l.data("timer").toggle()))}},h))},showCC:function(b,c){var h=0;"time"!=b.trigger&&(h=b.time);c.pageTimeouts.push(setTimeout(function(){for(var h=0;h<b.targetElements.length;h++)c.mediaPlayers["content_"+b.targetElements[h]].closest(".jp-video").addClass("showCC")},
h))},hideCC:function(b,c){var h=0;"time"!=b.trigger&&(h=b.time);c.pageTimeouts.push(setTimeout(function(){for(var h=0;h<b.targetElements.length;h++)c.mediaPlayers["content_"+b.targetElements[h]].closest(".jp-video").removeClass("showCC")},h))},toggleCC:function(b,c){var h=0;"time"!=b.trigger&&(h=b.time);c.pageTimeouts.push(setTimeout(function(){for(var h=0;h<b.targetElements.length;h++)c.mediaPlayers["content_"+b.targetElements[h]].closest(".jp-video").toggleClass("showCC")},h))},lightboxPage:function(b,
c){var h=document.activeElement,l=0;"time"!=b.trigger&&(l=b.time);c.pageTimeouts.push(setTimeout(function(){var c=!1;1<b.targetPages.length&&(c=!0);player.showPage(b.targetPages,h,c,0)},l))},undoAction:function(b,c){var h=this;if("show"==b.type||"hide"==b.type||"entrance"==b.type||"exit"==b.type){var l=this.getTargetSelector(b);"show"==b.type||"entrance"==b.type?$(l,c.pageContainer).addClass("hidden"):$(l,c.pageContainer).removeClass("hidden");$(b.undo.targetsToHideSelector,c.pageContainer).removeClass("hidden")}else if("toggle"==
b.type)$(b.undo.showTargetSelector,c.pageContainer).addClass("hidden"),$(b.undo.hideTargetSelector,c.pageContainer).removeClass("hidden"),$(b.undo.targetsToHideSelector,c.pageContainer).removeClass("hidden");else if("applyEffect"==b.type)if("moveTo"==b.parameters.effect||"moveBy"==b.parameters.effect)$.each(b.undo.targets,function(h){$("#"+h+"_wrapper",c.pageContainer).effect(b.parameters.effect,{duration:0,to:{left:this.left,top:this.top}})});else if("resizeTo"==b.parameters.effect||"resizeBy"==
b.parameters.effect)$.each(b.undo.targets,function(h){$("#"+h+"_wrapper",c.pageContainer).effect(b.parameters.effect,{duration:0,to:{width:this.width,height:this.height}})});else if(b.reverseAction)if($.isArray(b.reverseAction))$.each(b.reverseAction,function(b){h[this.type](this,c)});else h[b.reverseAction.type](b.reverseAction,c);"swapContent"==b.type&&b.originalContent&&(l=$("#content_"+b.targetElements[0],c.pageContainer),b.target_assets?(l.attr("src",b.originalContent),l.attr("data-src",b.originalContent),
l.maskImage({preserveAspectRatio:settings.responsive?!1:"none"})):b.parameters.swapClass?(l=element.find(".panel"),cls=l.attr("class").match(/panel\-([^\s])+/),l.removeClass(cls[0]).addClass(b.originalContent)):l.html(b.originalContent));b.firedOnce=!1},listEffect:function(b,c,h){},listShowNext:function(b,c){var h=$("#content_"+b.targetElements[0]);c.getClaroElementById(b.targetElements[0]);var h=h.find("li:not(.shown)").first(),l=b.parameters;if(""==l.effect||"none"==l.effect)h.addClass("shown"),
l.effectOptions.duration=600;else{var m=l.effectOptions.direction?DKI.capitalizeString(l.effectOptions.direction):"";directions={Right:["Right","Left"],Left:["Left","Right"],Up:["Up","Down"],Down:["Down","Up"]};l.alternate&&m&&(m=directions[m][h.index()%2]);var m="transition."+l.effect+m+"In",n={duration:l.effectOptions.duration,display:null};h.addClass("shown").velocity(m,n)}l.animateAll&&h[0]&&setTimeout(function(){p.actionHandlers.listShowNext(b,c)},.75*l.effectOptions.duration)},listReset:function(b,
c){$("#"+b.targetElements[0]+"_wrapper").find("ul li.shown").removeClass("shown").velocity("stop")},capture:function(b,c){$.each(b.targetElements,function(h,l){if("switch"==b.parameters.method){if(h=c.getClaroElementById(l)){var m=b.parameters.switch.split("_");h.parameters.config.type=m[0];h.parameters.config.mode=m[1];m=DKI.renderService.renderContent(h,{page:c.page});""!=m&&(l=$("#"+l+"_wrapper",c.pageContainer),l.capture("destroy"),l.data("cap",""),l.find(".dki-element-content").replaceWith(m),
c.processElement(h),l.capture("setWaypoints"),c.resize())}}else $("#"+l+"_wrapper").capture(b.parameters.method)})},getTargetSelector:function(b,c,h){void 0==c&&(c="");void 0==h&&(h="");var l="";if(b.targetElements)for(var m=0;m<b.targetElements.length;m++)l+="#"+b.targetElements[m]+"_wrapper"+c+",";if(b.targetGroups)for(m=0;m<b.targetGroups.length;m++)l="applyEffect"==b.type?l+("#group_"+b.targetGroups[m]+h+c+","):l+("#group_"+b.targetGroups[m]+h+",");""!==l&&(l=l.substring(0,l.length-1));return l},
getTargetsToHide:function(b,c){var h={targetElements:[],targetGroups:[]};if(b.parameters&&b.parameters.hideOthers){for(var l=0;l<c.actions.length;l++)if(("show"===c.actions[l].type||"toggle"===c.actions[l].type)&&c.actions[l].id!==b.id&&!c.actions[l].pageId){for(var m=0;m<c.actions[l].targetElements.length;m++)if(1!=$("#"+c.actions[l].targetElements[m]+"_wrapper").data("donthide")){for(var n=!1,r=0;r<b.targetElements.length;r++)b.targetElements[r]==c.actions[l].targetElements[m]&&(n=!0);!n&&$("#"+
c.actions[l].targetElements[m]+"_wrapper",c.pageContainer).is(":visible")&&h.targetElements.push(c.actions[l].targetElements[m])}for(m=0;m<c.actions[l].targetGroups.length;m++){n=!1;for(r=0;r<b.targetGroups.length;r++)b.targetGroups[r]==c.actions[l].targetGroups[m]&&(n=!0);!n&&$("#group_"+c.actions[l].targetGroups[m],c.pageContainer).is(":visible")&&h.targetGroups.push(c.actions[l].targetGroups[m])}}$(".dki-imagemap-target",c.pageContainer).each(function(){if(1!=$(this).data("donthide")){for(var c=
!1,l=0;l<b.targetElements.length;l++)b.targetElements[l]==$(this).data("id")&&(c=!0);!c&&$(this).is(":visible")&&h.targetElements.push($(this).data("id"))}})}return h},swapContent:function(b,c){var h=this,l=0;"time"!=b.trigger&&(l=b.time);var m=function(){h.performSwap(b,c)};0==l?m():c.pageTimeouts.push(setTimeout(m,l))},performSwap:function(b,c){var h=$("#content_"+b.targetElements[0]),l=function(){var c=0;b.target_assets&&!b.parameters.swapContent?c=1:b.parameters.swapClass&&(c=2);switch(c){case 0:c=
b.parameters.swapContent;c=$("\x3cdiv\x3e").html(c);c.find(".dki-inline-variable").each(function(){var b=$(this);b.text(contentApi.getData(b.data("variable-id")))});c=c.html();b.originalContent||(b.originalContent=h.html());h.html(c);h.attr("data-meta",c);break;case 1:c=b.target_assets[0].fullAssetUrl?b.target_assets[0].fullAssetUrl:settings.assetURL+b.target_assets[0].filename;b.originalContent||(b.originalContent=h.attr("src"));h.attr("src",c);h.attr("data-src",c);h.maskImage({preserveAspectRatio:settings.responsive?
!1:"none"});break;case 2:var l=h.closest(".dki-authoring-element, .dki-authoring-element-element").data("elementtype"),c=b.parameters.swapClass;switch(l){case "panel":panel=h.find(".panel");cls=panel.attr("class").match(/panel\-([^\s])+/);panel.removeClass(cls[0]).addClass(c);break;case "speechBubble":var m=h.attr("class").match(/(top|bottom|left|right|top\-left|top\-right|bottom\-left|bottom\-right)(\s|$)/),l=h.attr("class").match(/(triangle|thought)(\s|$)/),m=m[0]?[m[0].trim()]:[];l[0]?m.push(l[0].trim()):
!1;h.removeClass(m.join(" ")).addClass(c)}}};b.parameters.effect&&""!=b.parameters.effect?("drop"==b.parameters.effect&&(b.parameters.effectOptions.direction="down"),h.hide("oldSlide"===b.parameters.effect?"slide":b.parameters.effect,b.parameters.effectOptions,function(){l();h.show("oldSlide"===b.parameters.effect?"slide":b.parameters.effect,b.parameters.effectOptions)})):l()}}},n={init:function(b){},loadShapes:function(b){var c=this;$(".dki-shape-element",b.pageContainer).each(function(){var h=this.style.display;
$(this).css({opacity:0,display:"block"});c.renderShapes(this,b);$(this).css({opacity:$(this).data("opacity"),display:h})})},loadHtmlShapes:function(b){$(".dki-shape-element",b.pageContainer).each(this.renderShapeHtml)},renderShapeHtml:function(){var b=$(this),c=b.data("shapetype");if("rect"==c||"hline"==c||"vline"==c||"circle"==c||"ellipse"==c){var h=b.data("id"),l="";""!=b.data("title")&&(l="title\x3d'"+b.data("title")+"'");var m="solid";"."==b.data("bordertype")?m="dotted":"-"==b.data("bordertype")&&
(m="dashed");var n="";if("rect"==c){var c=b.data("width")-2*parseInt(b.data("linethickness")),r=b.data("height")-2*parseInt(b.data("linethickness")),n=n+("width:"+c+"px;")+("height:"+r+"px;")+("border:"+b.data("linethickness")+"px "+m+" "+b.data("linecolour")+";"),n=n+("background-color:"+b.data("fillcolour")+";");1==b.data("roundedcorners")&&(n+="-moz-border-radius: 15px; -webkit-border-radius: 15px;\tborder-radius: 15px;")}else if("hline"==c)n+="height:"+b.data("linethickness")+"px;",n+="width:"+
b.data("width")+"px;",n+="border-top:"+b.data("linethickness")+"px "+m+" "+b.data("linecolour")+";";else if("vline"==c)n+="width:"+b.data("linethickness")+"px;",n+="height:"+b.data("height")+"px;",n+="border-left:"+b.data("linethickness")+"px "+m+" "+b.data("linecolour")+";";else if("circle"==c||"ellipse"==c)c=b.data("width")-2*parseInt(b.data("linethickness")),r=b.data("height")-2*parseInt(b.data("linethickness")),n=n+("width:"+c+"px;")+("height:"+r+"px;")+("background-color:"+b.data("fillcolour")+
";"),n+="border:"+b.data("linethickness")+"px "+m+" "+b.data("linecolour")+";",m=b.data("width")>b.data("height")?parseInt(b.data("width"))/2+"px":parseInt(b.data("height"))/2+"px",n+="-moz-border-radius: "+m+"; -webkit-border-radius:"+m+";border-radius: "+m+";";c=m="";1==b.data("rollover")&&(m=m+" onmouseover\x3d'"+('this.style.backgroundColor \x3d "'+b.data("rollovercolour")+'";'),m+='this.style.borderColor \x3d "'+b.data("strokerollover")+'";',m+="' ",c=c+" onmouseout\x3d'"+('this.style.backgroundColor \x3d "'+
b.data("fillcolour")+'";'),c+='this.style.borderColor \x3d "'+b.data("linecolour")+'";',c+="' ");$("#"+h+"_content_wrapper").append("\x3cdiv class\x3d'dki-element-overlay'\x3e\x3c/div\x3e\x3cdiv "+l+" id\x3d'content_"+h+"' class\x3d'"+b.data("cssclass")+"' style\x3d'"+n+"' "+m+c+"\x3e\x3c/div\x3e")}},renderShapes:function(b,c){$(b).data("sourceHtml")?$(b).html($(b).data("sourceHtml")):$(b).data("sourceHtml",$(b).html());var h="null"===b.getAttribute("data-fillcolour")?null:b.getAttribute("data-fillcolour"),
l="null"===b.getAttribute("data-fillgradient")?null:b.getAttribute("data-fillgradient"),m,n,r=1,p=1,u=b.getAttribute("data-lineColour");n=null==b.getAttribute("data-rollovercolour")||"none"==b.getAttribute("data-rollovercolour")?b.getAttribute("data-fillcolour"):b.getAttribute("data-rollovercolour");var x=null==b.getAttribute("data-rollovergradient")||"null"==b.getAttribute("data-rollovergradient")?b.getAttribute("data-fillgradient"):b.getAttribute("data-rollovergradient"),D=null==b.getAttribute("data-strokerollover")||
"none"==b.getAttribute("data-strokerollover")?b.getAttribute("data-linecolour"):b.getAttribute("data-strokerollover"),F={},E=b.getAttribute("data-linethickness"),G=parseInt(b.getAttribute("data-width"))-E,K=parseInt(b.getAttribute("data-height"))-E,I=b.getAttribute("data-shapeType").split(":");c=$("#content_"+b.getAttribute("data-id"),c.pageContainer)[0];c=Raphael(c,0,0,"100%","100%");c.canvas.style.height=b.getAttribute("data-height")+"px";c.canvas.style.width=b.getAttribute("data-width")+"px";c.canvas.style.filter=
"inherit";c.canvas.style.display="block";c.width=b.getAttribute("data-height");c.height=b.getAttribute("data-width");c.canvas.id="content_"+b.getAttribute("data-id");if("transparent"===l||null===h)l=h,r=0;"1"==b.getAttribute("data-filltype")?h=b.getAttribute("data-colourAngle")+"-"+b.getAttribute("data-fillcolour")+"-"+l+":"+b.getAttribute("data-stopPoint"):"2"==b.getAttribute("data-filltype")&&(h="r("+b.getAttribute("data-radialx")+","+b.getAttribute("data-radialy")+")"+b.getAttribute("data-fillcolour")+
":"+b.getAttribute("data-stopPoint")+"-"+l);h="transparent"==h?"":h;if("transparent"===x||null===n)x=n,p=0;"0"==b.getAttribute("data-filltype")?m=n:"1"==b.getAttribute("data-filltype")?m=b.getAttribute("data-colourAngle")+"-"+n+":"+b.getAttribute("data-stopPoint")+"-"+x:"2"==b.getAttribute("data-filltype")&&(m="r("+b.getAttribute("data-radialx")+","+b.getAttribute("data-radialy")+")"+n+":"+b.getAttribute("data-stopPoint")+"-"+x);m="transparent"==m?"":m;u="transparent"==b.getAttribute("data-lineColour")?
"":b.getAttribute("data-lineColour");l={fill:h,stroke:u,"stroke-width":E,"stroke-dasharray":b.getAttribute("data-borderType"),"fill-opacity":r};dkiUA.ie&&8>=dkiUA.ieVersion&&(l.opacity=b.getAttribute("data-opacity")/100);switch(I[0]){case "rect":l.r="true"==b.getAttribute("data-roundedCorners")?15:0;F=c.rect(E/2,E/2,G,K);break;case "circle":F=c.circle(K/2+E/2,K/2+E/2,K/2);break;case "ellipse":F=c.ellipse(G/2+E/2,K/2+E/2,G/2,K/2);break;case "vline":G=parseInt(E);F=c.path("M"+G/2+",0 L"+G/2+","+(K+
G));break;case "hline":K=parseInt(E),F=c.path("M0,"+K/2+" L"+(G+K)+","+K/2)}F.attr(l);F.node.style.filter="inherit";"true"==b.getAttribute("data-rollover")&&($(b).mouseover(function(b){F.attr({fill:m,stroke:D,"fill-opacity":p})}),$(b).mouseout(function(b){F.attr({fill:h,stroke:u,"fill-opacity":r})}))},canRenderShapes:function(){return dkiUA.android?2.3<dkiUA.androidVersion:dkiUA.blackberry?6<dkiUA.blackberryVersion:dkiUA.webOS?!1:!0}},u=function(c){var h=this;this.mediaPlayers={};this.autoPlayMedia=
[];this.wayPoints=[];this.actions=c.actions;this.page=c.page;this.rootURL=c.player.rootURL;this.settings=c.player.settings;this.readyMediaCount=this.mediaCount=0;this.readyFired=!1;this.objectTags=[];this.started=!1;this.startTime=0;this.isMuted=!c.player.audio;this.queue=new DKI.func.Queue;this.elements={};this.getClaroElementById=function(b){for(var c=function(b,h){if(b.elements)for(var k=0;k<b.elements.length;k++){if(b.elements[k].id==h)return b.elements[k];if(b.elements[k].elements&&(ret=c(b.elements[k],
h)))return ret}return null},k=0;k<h.page.groups.length;k++)if(ret=c(h.page.groups[k],b))return ret};this.getGroupById=function(b){for(var c=0;c<h.page.groups.length;c++)if(h.page.groups[c].id==b)return h.page.groups[c]};this.pageContainer="string"==typeof c.containerEl?document.getElementById(c.containerEl):c.containerEl;this.renderPage();b||(b=c.contentAPI);this.markElementsonlyShownByBreakpointActions();l.handleMedia(this);n.init(this);l.audioCC.init(this);this.actionAPI=p.init(DKI.clone(c.actions),
this,this.settings.clickEvent);this.flagBreakpointElements();this.processElement=function(c,h){var k=this,l=$("#"+c.id+"_wrapper",k.pageContainer),m=l[0],n=l.find(".dki-authoring-content-wrapper").first(),p=$("#content_"+l.data("id"),m),q=l.find(".dki-element-anchor:first"),u=q.data("tabindex"),z=l.find("i.dki-element-content");h=h||function(){};var v=function(b,c,k){b.data("start_class",b.attr("class"));b.data("start_style",b.attr("style"));b.data("elementLoaded",!0);b.trigger("elementLoaded");c.data("start_class",
c.attr("class"));c.data("start_style",c.attr("style"));k.data("start_class",k.attr("class"));k.data("start_style",k.attr("style"));"multipleChoiceQuestion"==b.data("type")&&k.find(".dki-element-content").each(function(){$(this).data("start_class",$(this).attr("class"))});h(b)};l.data("elementLoaded",!1);$("iframe",m).each(function(){$(m).attr("data-src")||$(m).attr("data-src",m.src);m.src="about:blank"});var y=function(b){var c=$(b).closest(".dki-authoring-row.synchronize-heights"),h=$(b).closest(".dki-contentCarousel-element"),
k=$(b).find(".dki-tabset-element .dki-element-content \x3e .tabbable");if(0!=c.length||0!=h.length||0!=k.length)var l=0,m=setInterval(function(){l++;try{synchonizeRowHeight(c),h.each(function(){var b=$(this).find(".flickity");b&&b.flickity("resize")}),k.each(function(){$(this).data("dki.responsiveTabs").checkResize()})}catch(b){}24<=l&&clearInterval(m)},15)};l.data("accessibility-tabable")&&($("object.dki-element-content, iframe.dki-element-content, textarea.dki-element-content, map area, .dki-element-content iframe:first, .dki-element-content object:first, img.dki-element-content",
m).each(function(){this.tabIndex=-1}),l.hasClass("dki-table-element")||l.hasClass("dki-htm-element"))&&(DKI.makeFocusable(p,!1),DKI.makeFocusable($("table, a, .dki-glossary-link, .dki-citation-link sup.refSup",p),!1));if("html"==l.data("type")&&p.hasClass("adaptive")){var A=function(){try{var b=p[0].contentDocument,c=$(b.getElementsByTagName("html")),h=$(b.getElementsByTagName("body")),k=h.height()/h.width()*100,l=c.height()/c.width()*100;n.css("padding-bottom",(k>l?k:l)+"%")}catch(m){}};p.on("load",
function(){"about:blank"==this.src?l.data("resizeInterval")&&(clearInterval(l.data("resizeInterval")),l.data("resizeInterval",null)):l.data("resizeInterval",setInterval(A,100))})}"table"==l.data("type")&&c.parameters.config.sort.enabled&&requirejs(["tablesort"],function(){l.find("table").tablesorter()});if("btn"==l.data("type"))if(p.removeClass("btn-arrow-small"),p.removeClass("btn-arrow-medium"),p.removeClass("btn-arrow-large"),"btn-arrow-right"!=c.parameters.config.shape&&"btn-arrow-left"!=c.parameters.config.shape||
setTimeout(function(){22>p.height()?p.addClass("btn-arrow-small"):22<=p.height()&&50>p.height()?p.addClass("btn-arrow-medium"):p.addClass("btn-arrow-large")},100),"custom"==c.parameters.config.class_name){if("btn-arrow-right"==c.parameters.config.shape||"btn-arrow-left"==c.parameters.config.shape)p[0].style.setProperty("--boxAfterBackColor",c.parameters.config.colors.default.border),p[0].style.setProperty("--boxBeforeBackColor",c.parameters.config.colors.default.background);p.on("mouseenter",function(){p.css({color:c.parameters.config.colors.hover.foreground,
"border-color":c.parameters.config.colors.hover.border,"background-color":c.parameters.config.colors.hover.background});if("btn-arrow-right"==c.parameters.config.shape||"btn-arrow-left"==c.parameters.config.shape)p[0].style.setProperty("--boxAfterBackColor",c.parameters.config.colors.hover.border),p[0].style.setProperty("--boxBeforeBackColor",c.parameters.config.colors.hover.background)});p.on("mouseleave",function(){var b=c.parameters.config.colors.default.foreground,h=c.parameters.config.colors.default.border,
k=c.parameters.config.colors.default.background;p.hasClass("active")&&(b=c.parameters.config.colors.hover.foreground,h=c.parameters.config.colors.hover.border,k=c.parameters.config.colors.hover.background);p.css({color:b,"border-color":h,"background-color":k});if("btn-arrow-right"==c.parameters.config.shape||"btn-arrow-left"==c.parameters.config.shape)p[0].style.setProperty("--boxAfterBackColor",h),p[0].style.setProperty("--boxBeforeBackColor",k)})}else"advanced"==c.parameters.config.class_name&&
(p.on("mouseenter",function(){""!=c.parameters.config.hoverCSS&&p.attr("style",c.parameters.config.hoverCSS)}),p.on("mouseleave",function(){p.attr("style",c.parameters.config.backgroundCSS)}));"shape"==l.data("type")&&("custom"==c.parameters.config.class_name?(p.on("mouseenter",function(){var b={};c.parameters.config.colors.hover.border&&(b.stroke=c.parameters.config.colors.hover.border);c.parameters.config.colors.hover.background&&(b.fill=c.parameters.config.colors.hover.background);p.find(".shape \x3e svg \x3e *").css(b)}),
p.on("mouseleave",function(){p.find(".shape \x3e svg \x3e *").css({stroke:c.parameters.config.colors.default.border,fill:c.parameters.config.colors.default.background})})):"advanced"==c.parameters.config.class_name&&(p.on("mouseenter",function(){""!=c.parameters.config.hoverCSS&&p.find(".custom-shape-fill").attr("style",c.parameters.config.hoverCSS)}),p.on("mouseleave",function(){p.find(".custom-shape-fill").attr("style",c.parameters.config.backgroundCSS)})));if("multipleChoiceQuestion"==l.data("type")||
"trueFalseQuestion"==l.data("type")||"multiplePulldownQuestion"==l.data("type")||"fillInTheBlanksQuestion"==l.data("type")||"clickTheWordQuestion"==l.data("type")||"dragTheWordQuestion"==l.data("type")||"imageMap"==l.data("type")||"matchingQuestion"==l.data("type")||"sequencingQuestion"==l.data("type"))if(requirejs(["questionElement"],function(){var b=function(b,h){$(document).trigger(DKI.ContentPage.events.questionElementSubmitted,{element:c,status:b,result:h,type:l.data("type")});k.actionAPI.onElementQuestionSubmittedEvent.call(k.actionAPI,
l,"INLINE_QUESTION_"+b,k)};p.QuestionElement({outline:c,accessible:c.parameters.accessibility.tabable,clickEvent:settings.clickEvent,contentPage:k,feedback:c.parameters.config.useProjectDefault?settings.course.parameters.questionFeedback:c.parameters.config.feedback,responsive:settings.course.responsive,passingMark:100,strings:{correct:DKI.strings.doc["Feedback all correct"],incorrect:DKI.strings.doc["Feedback all incorrect"],partial:DKI.strings.doc["Feedback partial"],tstchoicesLabel1:DKI.strings.runtime.tstchoicesLabel1,
tstchoicesLabel2:DKI.strings.runtime.tstchoicesLabel2,showResult:DKI.strings.doc["Test answer header"],showGiven:DKI.strings.doc["Feedback table submission"],confirmQuestionNoSelection:DKI.strings.runtime.confirmQuestionNoSelection,submit:DKI.strings.runtime.buttonLabelSubmit}}).on(QuestionElementEvents.attempted,function(c,h){b("ATTEMPT",h)}).on(QuestionElementEvents.submitted,function(c,h){b("SUBMITTED",h)}).on(QuestionElementEvents.correct,function(c,h){b("CORRECT",h)}).on(QuestionElementEvents.partiallyCorrect,
function(c,h){b("PARTIALLY_CORRECT",h)}).on(QuestionElementEvents.attemptPartiallyCorrect,function(c,h){b("ATTEMPT_PARTIALLY_CORRECT",h)}).on(QuestionElementEvents.incorrect,function(c,h){b("INCORRECT",h)}).on(QuestionElementEvents.attemptIncorrect,function(c,h){b("ATTEMPT_INCORRECT",h)}).on(QuestionElementEvents.retry,function(b,c){k.actionAPI.onElementQuestionSubmittedEvent.call(k.actionAPI,l,"INLINE_QUESTION_RETRIED",k)});v(l,n,p)}),"imageMap"!=l.data("type")&&"matchingQuestion"!=l.data("type")&&
"sequencingQuestion"!=l.data("type"))return!1;if("tabset"==l.data("type")){var H=c.elements.length;"accordion"===c.parameters.config.orientation&&(c.parameters.config.collapseDisplayed=["lg","md","sm","xs"]);l.find("#content_"+l.data("id")+".dki-element-content \x3e .tabbable").ResponsiveTabs(c.parameters.config).on("shown.bs.tab",function(b){b.target&&($(b.target).closest("ul.nav").find("li \x3e a").attr("aria-selected","false").attr("tabindex","-1"),$(b.target).attr("aria-selected","true"),$(b.target).attr("tabindex",
"1"))});l.on("click","ul.nav \x3e li.active \x3e a",function(){$(this).trigger("shown.bs.tab")});l.find("ul.nav \x3e li \x3e a").on("keydown",function(b){var h=l.find("li.active"),k=!1;switch(b.key){case "ArrowLeft":k=h.prev().find("\x3e a");0==k.length&&(k=l.find("ul.nav \x3e li:last-child \x3e a"));break;case "ArrowRight":k=h.next().find("\x3e a");0==k.length&&(k=l.find("ul.nav \x3e li:first-child \x3e a"));break;case "Home":k=l.find("ul.nav \x3e li:first-child \x3e a");break;case "End":k=l.find("ul.nav \x3e li:last-child \x3e a");
break;case "ArrowUp":if("vertical"==c.parameters.config.orientation||"vertical-right"==c.parameters.config.orientation)k=h.prev().find("\x3e a"),0==k.length&&(k=l.find("ul.nav \x3e li:last-child \x3e a"));break;case "ArrowDown":if("vertical"==c.parameters.config.orientation||"vertical-right"==c.parameters.config.orientation)k=h.next().find("\x3e a"),0==k.length&&(k=l.find("ul.nav \x3e li:first-child \x3e a"))}if(k)return k.trigger("click").focus(),b.stopPropagation(),b.preventDefault(),!1});l.find(".panel-group \x3e .panel \x3e .panel-heading \x3e .panel-title \x3e a").on("keydown",
function(b){var c=$(this),h=!1;switch(b.key){case "Home":h=l.find(".panel-group \x3e .panel:first-child \x3e .panel-heading \x3e .panel-title \x3e a");break;case "End":h=l.find(".panel-group \x3e .panel:last-child \x3e .panel-heading \x3e .panel-title \x3e a");break;case "ArrowUp":h=c.closest(".panel").prev().find("\x3e .panel-heading \x3e .panel-title \x3e a");0==h.length&&(h=l.find(".panel-group \x3e .panel:last-child \x3e .panel-heading \x3e .panel-title \x3e a"));break;case "ArrowDown":h=c.closest(".panel").next().find("\x3e .panel-heading \x3e .panel-title \x3e a"),
0==h.length&&(h=l.find(".panel-group \x3e .panel:first-child \x3e .panel-heading \x3e .panel-title \x3e a"))}if(h)return h.focus(),b.stopPropagation(),b.preventDefault(),!1});l.find("#content_"+l.data("id")+".dki-element-content \x3e .tabbable").on("shown.bs.tab",function(){$(this).find("\x3e .tab-content \x3e .tab-pane img.dki-element-content").maskImage({preserveAspectRatio:settings.responsive?!1:"none"});$.each(k.getClaroElementById($(this).find("\x3e ul \x3e li.active").data("id")).elements,function(){k.setLabelWrapperPosition($("#"+
this.id+"_wrapper"));k.scaleElementChildren(this)})});l.data("tabCount",H);l.data("tabsVisited",[]);0<H&&!c.parameters.config.startUnopened&&(H=l.find(".tabbable li\x3ea[data-id\x3d'"+c.elements[0].id+"']").data("automaticSet",!0),l.data("currentTab",c.elements[0].id),k.actionAPI.onContentChangedEvent.call(k.actionAPI,H,k));var aa=l.find(".nav").height(),H=c.parameters.config.verticalMaxHeight;settings.responsive?$(".tab-pane[data-for\x3d"+l.data("id")+"]",l).each(function(){var b=$(this).css("width",
"100%");b.height()>aa&&(aa=b.height());$(this).css("width","")}):"horizontal"!=c.parameters.config.orientation&&"horizontal-bottom"!=c.parameters.config.orientation||l.find("#content_"+l.data("id")+" \x3e.tabbable \x3e .tab-content").css("height",c.height-aa+"px");c.parameters.config.normalizeHeight&&(("vertical"==c.parameters.config.orientation||"vertical-right"==c.parameters.config.orientation)&&""!=H&&aa>DKI.getViewPortHeight(H)?(l.addClass("verticalMax"),l.find(".tab-content \x3e .tab-pane").addClass("dki-vpMinHeight-"+
H),l.find(".tab-content \x3e .tab-pane").addClass("dki-vpMaxHeight-"+H)):(l.removeClass("verticalMax"),l.find(".tab-content").css("min-height",aa)));c.parameters.config.sequential&&(H="[data-idx\x3d'0']",c.parameters.config.startUnopened||(H+=",[data-idx\x3d'1']"),l.find("a[data-for\x3d"+l.data("id")+"]:not("+H+")").each(function(){$(this).attr("data-toggle","");$(this).hasClass("accordion-toggle")?$(this).closest(".panel-heading").addClass("disabled"):$(this).addClass("disabled")}));l.on("shown.bs.tab",
function(b){$(this).find($(b.target).attr("href")+".tab-pane").find("iframe").each(function(){$(this).attr("src",$(this).data("src"))})});l.on("hide.bs.tab",function(b){$(this).find($(b.target).attr("href")+".tab-pane").find("iframe").each(function(){$(this).data("src",$(this).attr("src"));$(this).attr("src","")})});l.delegate(".panel-collapse","hide.bs.collapse",function(b){$(this).closest(".panel").removeClass("expanded");$(this).find("iframe").each(function(){$(this).data("src",$(this).attr("src"));
$(this).attr("src","")});$(this).find(".dki-audio-element[data-narration\x3d1] .dki-element-content").jPlayer("stop");y(this);b.stopPropagation()});l.delegate(".panel-collapse","show.bs.collapse",function(b){$(this).closest(".panel").addClass("expanded");$(this).find("iframe").each(function(){$(this).attr("src",$(this).data("src"))});$(this).closest(".dkiContentFrame").hasClass("current")&&$(this).find(".dki-audio-element[data-narration\x3d1] .dki-element-content").jPlayer("play",0);y(this);setTimeout(function(){k.reCalculateMediaControls()},
360);b.stopPropagation()})}else if("image"==l.data("type")){p.data("assetwidth");l.data("original_src",p.data("src"));""!=c.parameters.config.caption.text&&(H={mode:c.parameters.config.caption.mode},settings.responsive&&(H.is_responsive=!0),p.data("caption",c.parameters.config.caption.text),p.captionjs(H),l.find("figure").css("width","100%").css("height","100%"));var ca=function(){var b=c.parameters.config.filters,h=p.data("assetwidth"),l=p.data("src"),m="",n={};if(0!=b.brightness||0!=b.contrast){var q=
{};0!=b.brightness&&(q.brightness=b.brightness);0!=b.contrast&&(q.contrast=b.contrast);m="brightness";n=q}0!=b.grayscale&&(m="desaturate",n={average:!0});0!=b.invert&&(m="invert");if(0!=b.saturation||0!=b.hueRotate||0!=b.lightness)q={},0!=b.saturation&&(q.saturation=b.saturation),0!=b.hueRotate&&(q.hue=b.hueRotate),0!=b.lightness&&(q.lightness=b.lightness),m="hsl",n=q;0!=b.sepia&&(m="sepia");0!=b.blur&&(m="sepia",n={amount:b.blur});b.flipH&&(m="fliph");b.flipV&&(m="flipv");0!=b.sharpness&&(m="sharpen",
n={amount:b.sharpness});0!=b.mosaic&&(m="mosaic",n={blockSize:b.mosaic});b.solarize&&(m="solarize");0!=b.posterize&&(m="posterize",n={levels:b.posterize});if(0!=b.glow.amount||0!=b.glow.radius)m="glow",n=b.glow;if(0!=b.noise.amount||0!=b.noise.strength||b.noise.mono)m="noise",n=b.noise;p.data("mask",c.parameters.config.svg_mask);p.data("assetWidth",h);p.data("src",l);m&&requirejs(["pixastic"],function(){p=$(Pixastic.process(p[0],m,n))});p.is("img")||k.queue.dequeue({name:"loadFinished",id:p.attr("id")})};
p.on("load",function(){ca();k.scaleElementChildren(c)});p[0].complete&&ca();H=l.find("map");H.length&&H.find("area").each(function(){$(this).data("coords",this.coords)});""!=c.parameters.config.svg_mask.type&&(p.addClass("masked"),p.data("mask",c.parameters.config.svg_mask))}else if("panel"==l.data("type"))l.on("show.bs.collapse",function(b){p.find("\x3e.panel").addClass("expanded");y(this);setTimeout(function(){k.reCalculateMediaControls()},360);b.stopPropagation()}),l.on("hide.bs.collapse",function(b){p.find("\x3e.panel").removeClass("expanded");
y(this);b.stopPropagation()}),settings.responsive||n.find(".panel-body").css({height:n.height()-(n.find(".panel \x3e.panel-heading").first().outerHeight()+n.find(".panel \x3e.panel-footer").first().outerHeight()+2)});else{if("contentCarousel"==l.data("type"))return requireFns.getFlickity(function(){var b=DKI.clone(c.parameters.config),h=b.responsive.cfg;h&&($.each(h,function(b){h[settings.flowBreakpoints[b].from]=this;delete h[b]}),b.responsive=h);b=DKI.apply(b,c.parameters.config.navigation.cfg);
flickConfig={prevNextButtons:b.navigation&&"none"!=b.navigation.type,cellAlign:b.center?"center":"left",adaptiveHeight:!1,pageDots:b.dots,wrapAround:b.loop,autoPlay:b.autoplay,setGallerySize:settings.responsive||c.parent_element_id};$("html").hasClass("rtl")&&(flickConfig.rightToLeft=!0);flickConfig.autoPlay&&(l.find(".flickity").addClass("flickity_autoPlay"),flickConfig.autoPlay=!1);l.find(".flickity").flickity(flickConfig).attr("tabindex","-1");$(l.find(".flickity").data("flickity").selectedCell.element).attr("data-viewed",
!0);l.find(".flickity").on("select.flickity",function(b){$(this).find(" \x3e ol .dot.is-selected").attr("data-visited",!0);l.find(".flickity-slider \x3e .dki-panel-element \x3e .dki-authoring-content-wrapper \x3e .dki-element-content").attr("aria-selected",!1);k.actionAPI.onContentChangedEvent.call(k.actionAPI,$(this).data("flickity").selectedCell.element,k);$($(this).data("flickity").selectedCell.element).find("\x3e .dki-authoring-content-wrapper \x3e .dki-element-content").attr("aria-selected",
!0);$.each(k.getClaroElementById($($(this).data("flickity").selectedCell.element).data("id")).elements,function(){k.setLabelWrapperPosition($("#"+this.id+"_wrapper"));k.scaleElementChildren(this)})});l.find(".flickity-slider \x3e .dki-panel-element").each(function(b){$(this).data("flickity-index",b)});l.find(".flickity-slider \x3e .dki-panel-element").on("keydown",function(c){if(9==c.keyCode){var h=$(this).data("flickity-index");c.shiftKey?h--:h++;l.find(".flickity").flickity("select",h,b.loop,!0)}});
l.find(".flickity").on("dragStart.flickity",function(b){$(document).trigger(DKI.ContentPage.events.elementSwipeStart)});l.find(".flickity").on("dragEnd.flickity",function(b){$(document).trigger(DKI.ContentPage.events.elementSwipeEnd)});l.find(".flickity *[tabindex]").attr("tabindex","-1").data("tabindex","-1");l.find(".flickity .dki-authoring-element, .flickity .dki-authoring-element-element").data("accessibility-tabable",!1);l.find(".flickity .dki-panel-element .dki-authoring-element .dki-element-content, .flickity .dki-panel-element .dki-authoring-element-element .dki-element-content, .flickity .dki-authoring-element-element .dki-element-anchor").data("tabindex",
"-1").attr({tabindex:"-1",focusable:!1});l.find(".flickity-prev-next-button").attr("tabindex","-1").removeAttr("aria-label");l.find(".flickity-prev-next-button svg").attr({tabindex:"-1",focusable:!1});l.find(".flickity-viewport").attr({role:"table"});l.find(".flickity-slider").attr({role:"row"});l.find(".flickity-slider \x3e .dki-panel-element \x3e .dki-authoring-content-wrapper \x3e .dki-element-content").attr({tabindex:"1","accessibility-tabable":!0,"aria-role":"cell"});l.find("\x3e .dki-authoring-content-wrapper \x3e .dki-element-content").attr("aria-busy",
!1);v(l,n,p)}),!1;if("flipCard"==l.data("type")){var T=c.parameters.config,H=!1;l.hasClass("hiddenOnLoad")&&(H=!0,l.removeClass("hiddenOnLoad"));var U=function(b){b=$(this).find(".face:not(.active)");$(this).find(".face.active").find(".dki-video-element, .dki-audio-element").each(function(){var b=k.mediaPlayers["content_"+$(this).data("id")];b&&b.jPlayer("pause")});$(this).find(".face").removeClass("active");b.addClass("active");k.actionAPI.onContentChangedEvent.call(k.actionAPI,l,k)};if(dkiUA.edge){var Q=
l.find(".face");Q.css({"z-index":"1",height:"100%",width:"100%"});Q.filter(".front").addClass("active").css({visibility:"visible",position:"relative"});Q.filter(".back").css({visibility:"hidden",position:"absolute"});Q.on("click",function(){var b=l.find(".face:not(.active)"),c=l.find(".face.active");b.css({visibility:"visible",position:"relative"}).attr("tabindex",1);c.css({visibility:"hidden",position:"absolute"}).attr("tabindex",-1);U.call(l)})}else l.find(".flip").flip({trigger:l.data("fliptrigger")||
"click"});H&&l.addClass("hiddenOnLoad");l.find(".front.face").attr("data-viewed",!0);l.find(".flip").on("flip:done",U);if(dkiUA.iOS)l.find(".flip").on("click","video,audio",function(b){b.stopPropagation();return!1})}else if("flipCardSet"==l.data("type"))l.find(".flip").flip({trigger:c.parameters.config.trigger}),l.find(".flip").on("flip:done",function(b){$(this).data("from-reset")?($(this).find(".front").addClass("seen").addClass("active"),$(this).find(".back").removeClass("seen").removeClass("active"),
$(this).data("from-reset",!1)):(b=$(this).find(".face:not(.seen)"),b.addClass("seen"),b=$(this).find(".face:not(.active)"),$(this).find(".face").removeClass("active"),b.addClass("active"),k.actionAPI.onContentChangedEvent.call(k.actionAPI,l,k))}),l.data("DKFlipCardSet",{reset:function(){l.data("allViewed",!1);l.find(".flip").data("from-reset",!0).flip(!1)}});else{if("flashCardSet"==l.data("type"))return requireFns.getFlickity(function(){var b={cellAlign:"center",adaptiveHeight:!1,imagesLoaded:!0,
pageDots:c.parameters.config.showDots,prevNextButtons:c.parameters.config.prevNextButtons},h=p.find(".flickity-carousel");h.flickity(b);DKI.makeFocusable(h,!1);DKI.makeFocusable(h.find(".flickity-prev-next-button"),!0);var m=h.data("flickity");h.data("resize",function(){m.slides.forEach(function(b){$(b.cells[0].element).find(".card").css("height","auto")});var b=Math.max.apply(Math,m.slides.map(function(b){return $(b.cells[0].element).height()}));m.slides.forEach(function(c){$(c.cells[0].element).find(".card").css("height",
b)});h.flickity("resize")});h.on("select.flickity",function(b){b=m.selectedCell.element;var c=$(this).find(".flashCardCont[tabindex\x3d'1']"),h=c.find("*[tabindex], *[aria-hidden]");DKI.makeFocusable(c,!1);DKI.makeFocusable(h,!1);DKI.makeFocusable($(b),!0);DKI.makeFocusable($(b).find("*[tabindex], *[aria-hidden]"),!0)});h.on("settle.flickity",function(){var b=m.selectedCell.element;b&&b.focus()});h.on("dragStart.flickity",function(b){$(document).trigger(DKI.ContentPage.events.elementSwipeStart)});
h.on("dragEnd.flickity",function(b){$(document).trigger(DKI.ContentPage.events.elementSwipeEnd)});h.on("keydown",function(b){if(37==b.which||39==b.which)return $(this).flickity(37==b.which?"previous":"next"),!1});l.data("reset",$.proxy(function(){this.find(".flashCardCont").attr("data-visited",!1).attr("data-viewed",!1);this.find(".dki-element-content").removeClass("finalScore").find(".flickity-carousel").flickity("select",0,!1,!0);this.find(".flickity-carousel").off("select.flickity.one");this.find(".flickity-page-dots .dot").attr("data-visited",
"false");this.find(".card").each(function(){$(this).removeClass("correct incorrect").attr("data-answered",!1).find(".imgOverlay .fa").removeClass("fa-times fa-check");$(this).find(".resultText").html("");$(this).find(".btn").removeClass("disabled next").html("Submit");$(this).find("input").val("").attr("readonly",!1);$(this).data("score",null)})},l));h.find(".card").each(function(b,n){var q=function(b){return(c.parameters.config.caseSensitive?b:b.toLowerCase()).split("/,")},u=function(b,h){b=c.parameters.config.caseSensitive?
b:b.toLowerCase();return{correct:-1<$.inArray(b,h),answers:h}},v=c.elements[b],z=this;$(this).on(settings.clickEvent,".btn",function(){var b=this,n=function(){$(b).addClass("disabled").removeClass("next").html(DKI.strings.runtime.buttonLabelSubmit)};if(!$(b).hasClass("disabled")){if($(b).hasClass("next"))h.flickity("next");else{var y=$(b).siblings("input").first().val().trim(),w=u(y,q(v.txt));$(z).attr("data-answered",!0);h.find(".flickity-page-dots .is-selected").attr("data-visited","true");k.actionAPI.onContentChangedEvent.call(k.actionAPI,
l,k);c.parameters.config.showCardFeedback&&($(z).find(".resultText").html(w.answers.join(", ")),$(z).removeClass("correct incorrect").addClass(w.correct?"correct":"incorrect").find(".imgOverlay .fa").removeClass("fa-times fa-check").addClass("fa-"+(w.correct?"check":"times")));$(z).data("score",w);$(z).attr("data-givenAnswer",y);$(z).find(".resultText").html(w.answers.join(", "));$(b).addClass("next").html(DKI.strings.index.nextButtonLabel);$(b).siblings("input").attr("readonly",!0);h.one("select.flickity.one",
n);$(document).trigger(DKI.ContentPage.events.flashCardSubmitted,{outline:v,score:w.correct?1:0,response:c.parameters.config.caseSensitive?y:y.toLowerCase(),correctResponse:q(v.txt)})}m.cells.length-1==m.selectedIndex&&(h.off("select.flickity.one"),n());y=p.find(".card");if(0==y.filter(":not([data-answered\x3d'true'])").length&&c.parameters.config.showFinalFeedback){var w=y.length,A=0,B="",D=Handlebars.compile("\x3cdiv class\x3d'cardScore {{#if correct}}correct{{else}}incorrect{{/if}}'\x3e\x3cdiv tabindex\x3d'1' aria-label\x3d'{{el.title}}'class\x3d'cardInfo flex'\x3e\x3cdiv tabindex\x3d'1'class\x3d'fa fa-{{#if correct}}check{{else}}times{{/if}}' aria-label\x3d'{{#if correct}}{{pass}}{{else}}{{fail}}{{/if}}'\x3e\x3c/div\x3e\x3cdiv class\x3d'scoreItemImg' style\x3d\"background-image: url('{{getAssetUrl id\x3del.upload_id folderId\x3del.asset_uploadfolderid extension\x3del.asset_extension}}')\"\x3e\x3c/div\x3e\x3cdiv class\x3d'flex flexCol inline'\x3e\x3cdiv tabindex\x3d'1'\x3e{{{el.meta}}}\x3c/div\x3e{{#if givenAnswer}}\x3cdiv tabindex\x3d'1' class\x3d'answered'\x3e{{givenAnswer}}\x3c/div\x3e{{/if}}\x3c/div\x3e\x3c/div\x3e{{#unless correct}}\x3cdiv tabindex\x3d'1'style\x3d'padding-left:38px'\x3e{{correctString}} {{correctAnswers}}\x3c/div\x3e{{/unless}}\x3c/div\x3e"),
n=Handlebars.compile("\x3cdiv class\x3d'flashCard_feedback'\x3e\x3cdiv class\x3d'feedback_container flex flexCol'\x3e\x3cdiv tabindex\x3d'1' class\x3d'feedback_header'\x3e\x3cdiv class\x3d'flex totalScore'\x3e\x3cdiv class\x3d'flashcard_score'\x3e{{score}}%\x3c/div\x3e\x3cdiv class\x3d'flaschard_description flexAuto'\x3e{{description}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'feedback_cards flexAuto'\x3e{{{cards}}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e");y.each(function(b,h){b=c.elements[b];
$(this).data("score").correct&&(A+=1);B+=D({correctAnswers:b.txt.split("/,").join(", "),el:b,correct:$(this).data("score").correct,givenAnswer:$(this).data("givenAnswer"),correctString:DKI.strings.doc["Correct choice label"],fail:DKI.strings.runtime.failText,pass:DKI.strings.runtime.passText})});A=Math.round(A/w*100);y="Feedback all correct";0==A?y="Feedback all incorrect":100!==A&&(y="Feedback partial");DKI.PopupPanel.show({modal:!0,style:"flash_card_feedback",title:v.title,html:n({outline:v,score:A,
cards:B,description:DKI.strings.doc[y]}),popupType:{type:"pop",mod:""},onHide:function(){var b=l.find(".flashCardCont.is-selected");b[0]&&b[0].focus()}});$(".popup.flash_card_feedback").addClass("finalScore")}}});$(this).find("input").on("keydown",function(b){13==b.which&&$(this).siblings(".btn").first().trigger("click");b.stopPropagation()})});h.data("resize")();v(l,n,p)}),!1;if("matchCardSet"==l.data("type")){l.on("match.reset",function(){l.data("flipState",{elFlipped:!1,flipTries:0,score:0,success:[]});
l.find(".flipSet").removeClass("locked").find(".flip.flipped").flip(!1).removeClass("flipped matched")});var X=function(b,c,h){tpl=Handlebars.compile("{{#unless content}}\x3cdiv class\x3d'matchCard'\x3e\x3c/div\x3e{{else}}\x3cdiv tabindex\x3d'1'\x3e{{{content}}}\x3c/div\x3e{{/unless}}\x3cdiv class\x3d'match_description'\x3e{{{description}}}\x3c/div\x3e");p=c.find(".back\x3e *");isImage=p.hasClass("setImage");DKI.PopupPanel.show({modal:!0,style:"match_feedback",title:b.txt||"placeholder",html:tpl({description:b.meta||
"Placeholder",content:isImage?"":p.html()}),popupType:{type:"pop",mod:""},onHide:function(){var b=c.siblings(void 0==h.score?":not(.matched)":"").first();b[0]&&b.find(".face[tabindex\x3d1]")[0].focus()}});b=$(".popup.match_feedback");b.find(".matchCard").append(p.clone());b.find("h1")[0].focus()};l.on("match.resizeImmediate",function(){var b=$(this).find(".cardsContainer"),c=b.find(".flip"),h=b.parent().width(),k=c[0]?$(c[0]).outerWidth(!0):0;if(k){var l=c.toArray().reduce(function(b,l,m){return 0==
c.length%(m+1)&&k*(m+1)<h?m+1:b},1),m=1,n=1,p=[],r=[];c.each(function(b,c){m>l&&(p.push(r),r=[],m=1,n+=1);dkiUA.isIE()&&$(this).css({"-ms-grid-column":m.toString(),"-ms-grid-row":n.toString()});$(this).uniqueId();r.push($(this));m+=1});p.push(r);for(var q="",u=0;u<l;u++)q+="auto ";b.css({"grid-template-columns":q.trim(),"-ms-grid-columns":q.trim()});$(this).data("flipState").layout=p}});l.on("match.resize",DKI.func.debounce(function(){l.trigger("match.resizeImmediate")},50,!1));l.trigger("match.reset");
l.on("keyup",function(b){if(37==b.which||38==b.which||39==b.which||40==b.which){var c=l.find(".face:focus")[0]?l.find(".face:focus"):l.find(".flip.active, .flip.flipped").first().find(".face[tabindex\x3d'1']");if(c[0]){var h=l.data("flipState").layout;switch(b.which){case 37:var k="col",m=-1;break;case 39:k="col";m=1;break;case 38:k="row";m=-1;break;case 40:k="row",m=1}var n=function(b){O=[];if("col"==b)for(var c in h)O=O.concat(h[c]);else for(var k in h[0])for(var l=0;l<h.length;l++)O.push(h[l][k]);
l=0;return $(O).map(function(){this.data("index",l);l+=1;return this.toArray()})};b=function(b,c,h){var k;c=n(c);var l=h=h.data("index");do k=l+b,l=0>k?c.length-1:k==c.length?0:k,k=$(c[l]).hasClass("matched")||$(c[l]).hasClass("flipped")?!1:$(c[l]);while(l!=h&&!k);return k}(m,k,c.parent());b[0]&&b.find(".face[tabindex\x3d'1']")[0].focus()}else c[0].focus();return!1}});var O=l.find(".flip");O.on("click",function(b){var h=l.data("flipState");if($(this).hasClass("flipped")||$(this).parent().hasClass("locked"))return b.stopImmediatePropagation(),
!1;b=k.getClaroElementById($(this).data("id"));$(this).find(".face.back span")[b.elements[0].upload_id?"addClass":"removeClass"]("hidden");$(this).addClass("flipped");if(h.elFlipped){$(this).parent().addClass("locked");var m=l.find(".flipped[data-id\x3d'"+h.elFlipped+"']").add(this);h.flipTries+=1;if($(this).data("id")!=h.elFlipped)$(this).one("flip:done",function(){setTimeout($.proxy(function(){m.flip(!1).removeClass("flipped");$(this).parent().removeClass("locked");$(this).one("flip:done",function(){$(this).find(".front")[0].focus()})},
this),500)});else{h.success.push(h.elFlipped);$(this).one("flip:done",function(){m.addClass("matched");k.actionAPI.onContentChangedEvent.call(k.actionAPI,l,k)});$(this).parent().removeClass("locked");var n=null;$.each(c.elements,function(){if(this.id===h.elFlipped)return n=this,!1});n&&n.txt&&c.parameters.config.showFeedback&&X(n,$(this),h)}h.success.length==c.elements.length&&(h.score=c.elements.length/h.flipTries*100);h.elFlipped=!1}else h.elFlipped=$(this).data("id")});O.flip({trigger:"click"}).on("flip:done",
function(){if(!l.data("fromFirstVisibleFlip")){var b=k.getClaroElementById($(this).data("id")),c=b.elements[0].upload_id?b.elements[0].asset_title:b.elements[0].meta,h=this,m=$(this).find(".face").attr({tabindex:"-1","aria-hidden":"true"}).filter($(this).hasClass("flipped")?".back":".front");m.attr({tabindex:"1","aria-hidden":"false"});m.hasClass("back")&&setTimeout(function(){$(h).find(".face.back span").html(c);m[0].focus()},10)}})}else if("tileCard"==l.data("type"))l.on(settings.clickEvent,function(){""!=
c.parameters.config.variable_name&&contentApi.setData(c.parameters.config.variable_name,!0)});else if("slider"==l.data("type")){T=DKI.clone(c.parameters.config.noUISlider);T.behaviour=c.parameters.config.snap?"tap":"none";""!=c.parameters.config.pipsJSON?T.pips=JSON.parse(c.parameters.config.pipsJSON):!1;var N=l.find(".slider")[0],V=l.find(".sliderLabel");T.pips&&(T.pips.filter=function(b,c){return 1!=c&&b%T.step?0:1});if(playerBehaviour.enableSwiping)l.on("pointerup pointerdown",function(b){b.stopPropagation()});
!player.isSinglePage&&dataStorage.getContentVariable(c.parameters.config.variable_name)&&(T.start=dataStorage.getContentVariable(c.parameters.config.variable_name));noUiSlider.create(N,T);T.disabled&&l.find(".slider")[0].setAttribute("disabled",!0);$(N).on("keyup",function(b){var h=parseFloat(this.noUiSlider.get()),k=c.parameters.config.noUISlider.step;switch(b.keyCode){case 39:h="ltr"==c.parameters.config.noUISlider.direction?h+k:h-k;break;case 37:h="ltr"==c.parameters.config.noUISlider.direction?
h-k:h+k;break;case 38:h+=k;break;case 40:h-=k;break;case 33:h+=10*k;break;case 34:h-=10*k}this.noUiSlider.set(h)});var fa=!0;N.noUiSlider.on("update",function(){var b=parseFloat(this.get());V.text(b);$(N).attr("aria-valuenow",b);fa?(fa=!1,l.find(".dki-element-content").data("current-value",b)):contentApi.setData(c.parameters.config.variable_name,parseFloat(this.get()))});N.noUiSlider.on("change",function(){var b=l.find(".dki-element-content").data("current-value"),c=parseFloat(this.get());b!=c&&(l.find(".dki-element-content").data("current-value",
c),k.actionAPI.onContentChangedEvent.call(k.actionAPI,l.find(".slider")[0],k))})}else if("toggle"==l.data("type")){var W=function(b,c){contentApi.setData(b,c)},Z=l.find('input[type\x3d"checkbox"]');null==contentApi.getData(c.parameters.config.variable_name)?W(c.parameters.config.variable_name,Z.checked()):W(c.parameters.config.variable_name,contentApi.getData(c.parameters.config.variable_name));Z.on("change",function(){var b=$(this).checked();l.find("label").attr("aria-checked",b);W(c.parameters.config.variable_name,
b);k.actionAPI.onContentChangedEvent.call(k.actionAPI,this,k)})}else if("selection"==l.data("type")){var W=function(b,c,h,l){l||contentApi.setData(b,h,!1,!1,{text:c});setVariableText(b,c,k);setVariableText(b+"_text",c,k)},S=function(){var b=c.parameters.config.variable_name,h=b.split(",");if(1<h.length)for(var k=0;k<h.length;k++)if(-1==h[k].indexOf("_text")){b=h[k];break}return b},Z=l.find("select"),ja=Z[0]?Z.checked():1,ia=Z[0]?Z.find("option:selected").text():l.find("ul.dropdown-menu li:first").text();
l.find(".dki-element-content").data("val",ja);null==contentApi.getData(S())&&W(S(),ia,ja);$(document).on(DKI.ContentPage.events.started,function(b,h){c.pageid==h.page.id&&(ja=Z[0]?Z.checked():l.find(".dki-element-content").data("val"),ia=Z[0]?Z.find("option:selected").text():l.find("button .selectedCont").text(),W(S(),ia,ja))});if(Z[0])Z.on("change",function(){var b=$(this).val(),c=$(this).find("option:selected").text();W(S(),c,b);k.actionAPI.onContentChangedEvent.call(k.actionAPI,this,k)});else{var H=
l.find("button"),ga=null;1<H.length?(Q=l.data("id")+"_selectionBtn",H.filter(":not(.dropdown-toggle)").attr("id",Q),ga=H.filter(".dropdown-toggle").attr("tabindex",u).attr("aria-labelledby",Q)):ga=H.attr("tabindex",u);l.find(".dropdown-menu li\x3ea").attr("tabindex",u);l.find(".dropdown-menu li\x3ea").on("keyup",function(b){if(32==b.which||13==b.which)$(this).trigger("click"),b.preventDefault(),b.stopPropagation()});l.find(".dropdown-menu li\x3ea").on("click",function(b,c){b=l.find(".dki-element-content").data("val");
var h=$(this).data("val"),m=$(this).text();b!=h&&(l.find("button .selectedCont").html($(this).html()),l.find(".dki-element-content").data("val",h),W(S(),m,h,c),k.actionAPI.onContentChangedEvent.call(k.actionAPI,this,k),ga.focus())});H=l.find(".dropdown-menu");Q=$(".pageElementsWrapper");l.offset().top+l.outerHeight()+H.outerHeight()>Q.innerHeight()&&H.parent().addClass("dropup");l.find(".dropdown-menu li\x3ea").each(function(){$(this).attr("aria-label",$(this).text()).attr("role","listItem")});H.attr("role",
"menu")}}else if("radioGroup"==l.data("type")){W=function(b,c,h,l){l||contentApi.setData(b,h,!1,!1,{text:c,isRadio:!0});setVariableText(b,c,k);setVariableText(b+"_text",c,k)};S=function(){var b=c.parameters.config.variable_name,h=b.split(",");if(1<h.length)for(var k=0;k<h.length;k++)if(-1==h[k].indexOf("_text")){b=h[k];break}return b};if(c.parameters.config.sequential){var H=l.find("input:checked"),ba=H.nextAll("input").first();"bs"==c.parameters.config.type&&(ba=H.parent().next().find("input"));
Q=l.find("input:not(:checked)").prop("disabled",!0);l.find("label:not([for\x3d'"+H.attr("id")+"'])").addClass("disabled");ba.prop("disabled",!1);l.find("label[for\x3d'"+ba.attr("id")+"']").addClass("disabled");H[0]||(H=Q.first(),H.prop("disabled",!1),l.find("label[for\x3d'"+H.attr("id")+"']").removeClass("disabled"));l.find("input").on("change",function(){ba="bs"==c.parameters.config.type?$(this).parent().next().find("input"):$(this).nextAll("input").first();ba[0]&&(ba.prop("disabled",!1),l.find("label[for\x3d'"+
ba.attr("id")+"']").removeClass("disabled"))})}l.find("input:checked").length&&(ja=l.find("input:checked").val(),H=l.find("input:checked").attr("id"),ia=l.find(".dki-element-content label[for\x3d"+H+"]").html(),H=S(),W(H,ia,ja));l.find(".dki-element-content label").on("click",function(b,c){if(!$(this).hasClass("disabled")){var h=l.find(".dki-element-content").data("selected-index");b=$(".dki-element-content",this).html();var m=$(this).parent().find("\x3elabel").index(this)+1;h!=m&&(l.find(".dki-element-content").data("selected-index",
m),$(this).closest(".dki-element-content").find("label").removeClass("active"),$(this).addClass("active"),h=S(),W(h,b,m,c),k.actionAPI.onContentChangedEvent.call(k.actionAPI,l,k))}});l.find(".dki-element-content input").change(function(){var b=$(this).parent().find("label[for\x3d'"+$(this).attr("id")+"']");b.hasClass("active")||b.trigger("click")})}else if("progress"!=l.data("type")&&"callout"!=l.data("type"))if("radialGauge"==l.data("type"))l.data("outline",c),p=l.find(".radial"),p.RadialGauge({parentSelector:".dki-authoring-content-wrapper",
startingPosition:c.parameters.config.startingPos,showText:""==c.meta&&"hidden"!==c.parameters.config.textClass?!1:c.meta,current:function(){return c.parameters.config.current}}),p.RadialGauge("resize"),p.on(DKI.ContentPage.events.shown,function(){p.RadialGauge("shown")});else if("jumbotron"!=l.data("type"))if("speechBubble"==l.data("type")&&!l.hasClass("dki-authoring-element-element")&&settings.responsive)p.find(".dki-element-text").fontFlex(c.parameters.config.font.min,c.parameters.config.font.max,
50);else if("likedislike"==l.data("type"))p.find("i").on(settings.clickEvent,function(){if(!$(this).isDisabled()){p.find("i").removeClass("toggled").disable();$(this).addClass("toggled");var b={id:"http://activitystrea.ms/schema/1.0/like",display:{"en-US":"liked"}};$(this).hasClass("fa-thumbs-down")&&(b={id:"http://activitystrea.ms/schema/1.0/dislike",display:{"en-US":"disliked"}});contentApi.sendAnalyticsStatement({verb:b,object:{id:settings.activityRootURL+"page/"+(settings.useExternalIdsForScorm?
contentApi.getData("sys.currentpage.external_id",!0):contentApi.getData("sys.currentpage.id",!0)),definition:{name:{"en-US":contentApi.getData("sys.currentpage.title",!0)},description:{"en-US":contentApi.getData("sys.currentpage.description",!0)}},objectType:"Activity"}});contentApi.setData("likedislike_"+contentApi.getData("sys.currentpage.id",!0),$(this).hasClass("fa-thumbs-up")?"like":"dislike",!0)}});else if("svg"==l.data("type")||"shape"==l.data("type")){if("shape"==l.data("type")&&""===c.meta.trim())return requirejs(["raphael"],
function(b){Raphael=b;b=Raphael(p.find(".shape")[0],0,0,"100%","100%");$(b.canvas).attr("height",c.height+"px");$(b.canvas).attr("width",c.width+"px");b.height=c.height;b.width=c.width;var h={"stroke-width":c.parameters.config.borderThickness?c.parameters.config.borderThickness:0,"stroke-dasharray":c.parameters.config.border,stroke:c.parameters.background.stroke?"transparent"==c.parameters.background.stroke?"":c.parameters.background.stroke:"",fill:c.parameters.background.color?"transparent"==c.parameters.background.color?
"":c.parameters.background.color:"","fill-opacity":""!==c.parameters.background.transparency?1-c.parameters.background.transparency/100:1,"stroke-opacity":""!==c.parameters.background.transparency?1-c.parameters.background.transparency/100:1},k=c.parameters.config.borderThickness?c.parameters.config.borderThickness:0;switch(c.parameters.config.type){case "rect":var m=b.rect(k/2,k/2,c.width-k,c.height-k,c.parameters.config.roundedCorners?5:0);break;case "circle":m=b.circle(c.height/2,c.height/2,(c.height-
k)/2);break;case "ellipse":m=b.ellipse(c.width/2,c.height/2,(c.width-k)/2,(c.height-k)/2);break;case "vline":m=c.parameters.config.borderThickness;m=b.path("M"+m/2+",0 L"+m/2+","+(c.height+parseInt(c.parameters.config.borderThickness)));break;case "hline":m=c.parameters.config.borderThickness,m=b.path("M0,"+m/2+" L"+(c.width+parseInt(c.parameters.config.borderThickness))+","+m/2)}m.attr(h);p.find("svg").attr("focusable","false");v(l,n,p)}),!1;if("svg"==l.data("type")&&""===c.meta.trim()&&0!=settings.course.legacy)return requirejs(["raphael"],
function(b){Raphael=b;b=Raphael(p.find(".shape")[0],0,0,"100%","100%");DKI.renderService.state.typeConfig[c.elementtype].renderRules[settings.responsive?"flow":"claro"].useDimensions?($(b.canvas).attr("height",c.height+"px"),$(b.canvas).attr("width",c.width+"px"),b.height=c.height,b.width=c.width):($(b.canvas).attr("height","100%"),$(b.canvas).attr("width","100%"),b.height="100%",b.width="100%");var h=c.parameters.config.atts;h.fill=c.parameters.background.color?"transparent"==c.parameters.background.color?
"":c.parameters.background.color:"";h.stroke=c.parameters.background.stroke?"transparent"==c.parameters.background.stroke?"":c.parameters.background.stroke:"";h["fill-opacity"]=""!==c.parameters.background.transparency?1-c.parameters.background.transparency/100:1;h["stroke-opacity"]=""!==c.parameters.background.transparency?1-c.parameters.background.transparency/100:1;h["stroke-linejoin"]="round";for(var k=c.parameters.config.paths,m=b.set(),q=0;q<k.length;q++){var u=k[q],z=b[u.type],y=DKI.apply(DKI.clone(h),
u.atts);m.push(z.apply(b,u.args).attr(y))}h=m.getBBox();k=(c.parameters.config.atts?c.parameters.config.atts["stroke-width"]:0)/2;q=settings.responsive?p.outerWidth():c.width;m=(settings.responsive?q/(h.width/h.height):c.height)/h.height;q/=h.width;h.x-=k/q;h.y-=k/m;h.width+=2*k/q;h.height+=2*k/m;b.setViewBox(h.x,h.y,h.width,h.height);b.canvas.setAttribute("preserveAspectRatio","none");p.find("path, circle, rect").attr("vector-effect","non-scaling-stroke");p.find("svg").attr("focusable","false");
v(l,n,p)}),!1;p.find("svg").attr("focusable","false")}}}if("textbox"==c.elementtype||"freeFormOption"==c.elementtype||"input"==c.elementtype)if(H="input"==c.elementtype?"input":"textarea",$(H,l).attr("tabIndex",u),""!=c.parameters.config.variable_name&&(W=function(b,c){contentApi.setData(b,c)},l.on("change keyup input",H,function(){W(c.parameters.config.variable_name,this.value)}),l.on("blur",H,function(){contentApi.setData(c.parameters.config.variable_name,this.value)})),l.on("keypress",function(b){b.stopPropagation()}),
"input"==c.elementtype||"textbox"==c.elementtype)l.on("change",H,function(b,c){k.actionAPI.onContentChangedEvent.call(k.actionAPI,this,k)});if("marker"==c.elementtype){var u="fade",qa="top",H="hover",ma="dark";c.parameters.config&&(c.parameters.config.position&&(qa=c.parameters.config.position),c.parameters.config.animation&&(u=c.parameters.config.animation),c.parameters.config.trigger&&(H=c.parameters.config.trigger),c.parameters.config.theme&&(ma=c.parameters.config.theme));q.on("focus",function(){z.trigger("mouseover")});
q.on("blur",function(){z.trigger("mouseout")});if("click"==H)q.on("click",function(){z.trigger("click")});q.attr("role","button");z.attr("data-position",qa);l.on("click",function(){l.addClass("clickedOnce")});if(""!=c.meta){q.attr("aria-haspopup","dialog");c.meta=DKI.renderService.parseElementDataImagesInMeta(c);var La=function(b){b.find("img").each(function(){for(var h=$(this).data("id"),k=0;k<c.parameters.config.elements_assets.length;k++)if(c.parameters.config.elements_assets[k].uploadid.toLowerCase()==
h.toLowerCase()){if(""==this.style.width&&""==this.style.height)$(this).css("width",c.parameters.config.elements_assets[k].w),$(this).css("height",c.parameters.config.elements_assets[k].h),changed=!0;else if(""==this.style.width&&0>this.style.height.indexOf("%"))h=$(this).height()/c.parameters.config.elements_assets[k].h,$(this).css("width",c.parameters.config.elements_assets[k].w*h);else if(""==this.style.height)if(0>this.style.width.indexOf("%")){var l=$(this).width(),h=l/c.parameters.config.elements_assets[k].w;
$(this).css("height",c.parameters.config.elements_assets[k].h*h)}else h=parseInt(this.style.width.split("%")[0])/100,l=b.width()*h,h=l/c.parameters.config.elements_assets[k].w,$(this).css("height",c.parameters.config.elements_assets[k].h*h),$(this).css("width",l);break}})};p.tooltipster({content:c.meta,contentAsHTML:!0,functionReady:function(b,h){var m=$(h.tooltip),n=m.parent();La(m);(function(){m.remove();m.attr("role","alert");m.attr("aria-live","polite");$(document).trigger(DKI.ContentPage.events.markerTriggered,
{element:c});setTimeout(function(){m.appendTo(n);b.reposition()},100)})();(-1<ma.indexOf("branded")||"tooltipster-punk"==ma)&&m.append($("\x3cdiv/\x3e",{"class":"tooltip-branding",css:{"background-color":p.css("background-color")}}));k.actionAPI.onContentChangedEvent.call(k.actionAPI,l,k);b.on("close",function(){m.attr("aria-hidden","true")});h=k.getZIndex()+999;this._$tooltip.style("z-index",h)},functionPosition:function(b,c,h){if(b=qa.split("-")[1]){var k=c.tooltipClone.getBoundingClientRect(),
l=0;switch(b){case "left":l=c.geo.origin.offset.left-k.width+c.geo.origin.size.width+15;break;case "right":l=c.geo.origin.offset.left-15}h.coord.left=l}1!=settings.scale&&(c=h.coord.top/settings.scale,b=h.target/settings.scale,h.coord.left/=settings.scale,h.coord.top=c,h.target=b);return h},maxWidth:400,side:[qa.split("-")[0]],animation:u,trigger:H,theme:ma,trackOrigin:!0,restoration:"none"})}else k.actionAPI.onContentChangedEvent.call(k.actionAPI,l,k)}else if("capture"==c.elementtype){switch(c.parameters.config.type){case "showMe":var ua=
"showMe",Ea=[ua];break;case "tryMe":ua="tryMe";Ea=[ua];break;case "testMe":ua="testMe";Ea=["tryMe","testMe"];break;default:ua=""}l.data("cap")&&l.capture("destroy");l.data("slidesViewed",l.data("slidesViewed")?l.data("slidesViewed"):[]);l.on("click",".dki-glossary-link",function(){l.find(".capture").hasClass("capture-fullscreen-overflow")?(DKI.glossary.showPopup.call(this,[e],$(this).closest(".dki-capture-element")),l.data("cap").setPause(!0)):DKI.glossary.showPopup.call(this,[e]);return!1});if(c.parameters.config.showModes){var ra=
c.parameters.config.mode;l.find(".picksbarContainer li").on("click",function(){if($(this).hasClass("disabled-element"))return!1;var b=DKI.clone(c),h=$(this).data("captureType");if("testMe"==h)var m="Challenge"==ra?"Challenge":"Practice";b.parameters.config.type=h;b.parameters.config.mode=m;m=DKI.renderService.renderContent(b,{page:k.page});""!=m&&(l.capture("destroy"),l.data("cap",""),l.find(".dki-element-content").replaceWith(m),"tryMe"!=h&&"testMe"!=h||l.find(".picksbarContainer li:not(.active)").disable(),
k.processElement(b),l.capture("setWaypoints"),k.resize())})}if(ua){var P,w;c.asset_parameters.config.overallAudioFileName&&(P=c.asset_parameters.config.overallAudioFileName,w=DKI.renderService.getAssetUrl({id:c.upload_id,folderId:c.asset_uploadfolderid,extension:""})+"/"+P);var cb=function(){var h={container:l.find(".capture-project-container"),iconPath:DKI.renderService.state.renderEnvironment.export?"./css/images":"../player/css/capture/images",sections:c.asset_parameters.config.sections,stepDuration:c.asset_parameters.config.stepDuration,
fileName:P,m4aTag:w,audioSprite:c.asset_parameters.config.audioSprite,performAudioFetch:!1,panAndZoom:c.asset_parameters.config.panAndZoom,uaSniffer:dkiUA,STRINGS:{INCORRECT_ATTEMPT:DKI.strings.doc["Feedback incorrect attempt"],CORRECT:DKI.strings.doc["Correct choice label"],CONTINUE:DKI.strings.endMod.learningLinkLabel,INCORRECT:DKI.strings.capture.incorrectAnswer,SHOW_HINT:DKI.strings.capture.showHint,FEEDBACK_STEP_LABEL:DKI.strings.capture.step,FEEDBACK_FEEDBACK_LABEL:DKI.strings.capture.feedback,
PLAY:DKI.strings.runtime.media_play,OK:DKI.strings.capture.ok,NEXT:DKI.strings.runtime.buttonLabelNext,FINISH:DKI.strings.capture.finish,RESTART_TEXT:DKI.strings.capture.restart,FEEDBACK_TYPED_YOU_TYPED:DKI.strings.capture.youTyped}};h.sections.forEach(function(b){DKI.isDefined(b.numberOfSteps)||(b.numberOfSteps=b.steps.length)});"testMe"==c.parameters.config.type&&c.parameters.config.mode&&(h.mode=c.parameters.config.mode);l.data("cap",new window[ua](h));c.parameters.config.showModes&&l.find(".picksbarContainer li").enable();
h=l.find(".capture-project-container");h.on("tryMe.stepChanged showMe.stepChanged",function(b,h){b=$(this).closest(".dki-capture-element");var l=b.data("slidesViewed");~$.inArray(h.y,l)||(l.push(h.y),k.actionAPI.onContentChangedEvent.call(k.actionAPI,b,k));c.parameters.config.variable_name&&contentApi.setData(c.parameters.config.variable_name,h.y,!1,!1,!1,{source:b});"showMe"==c.parameters.config.type&&b.find(".carousel-inner .item").attr("tab-index","-1").filter(".active").attr("tab-index","1")});
if("testMe"==c.parameters.config.type)h.on([testMe.EVENT.CORRECT,testMe.EVENT.INCORRECT].join(" "),function(b,h){b={element:c,assessment:h.assessment,section:h.testMe.getCurrentSectionFromOverallStep(h.testMe.getOverallStep()),stepIdx:h.testMe.getCurrentStepFromOverallStep(h.testMe.getOverallStep()),step:h.testMe.getCurrentStepObj()};DKI.isDefined(b.step.hotSpot)&&(b.hotspot=h.testMe.getHotspotForCurrentStep(!0));$(document).trigger(DKI.ContentPage.events.captureTestmeStepSubmitted,b)}),h.on(testMe.EVENT.COMPLETE,
function(b,h){$(document).trigger(DKI.ContentPage.events.captureTestmeSubmitted,{outline:c,score:h.score,testMe:h.testMe})});else if(h.on("tryMe.play",function(b,h){$(document).trigger(DKI.ContentPage.events.captureElementInteracted,{event:"start",el:c})}),h.on("tryMe.pause",function(b,h){$(document).trigger(DKI.ContentPage.events.captureElementInteracted,{event:"pause",el:c})}),h.on("tryMe.restart",function(b,h){$(document).trigger(DKI.ContentPage.events.captureElementInteracted,{event:"restart",
el:c})}),h.on("tryMe.stepChanged",function(b,h){$(document).trigger(DKI.ContentPage.events.captureElementInteracted,{event:"stepChanged",el:c})}),h.on("showMe.ended tryMe.ended",function(b,h){$(document).trigger(DKI.ContentPage.events.captureElementInteracted,{event:"ended",el:c})}),h.on("showMe.play",function(b,h){$(document).trigger(DKI.ContentPage.events.captureElementInteracted,{event:"play",el:c})}),h.on("showMe.pause",function(b,h){$(document).trigger(DKI.ContentPage.events.captureElementInteracted,
{event:"pause",el:c})}),"tryMe"==c.parameters.config.type)h.on("tryMe.ended",function(c,h){c=h.getAssessment();c=c=100*Math.min(c.steps.length/c.total.clicks,1);h=b.getCoursePassMark();null!==h&&(c>=h?l.trigger("capture_submitted",["CORRECT"]):l.trigger("capture_submitted",["INCORRECT"]),k.actionAPI.onElementCaptureAssessmentSubmittedEvent.call(k.actionAPI,this.closest(".dki-capture-element"),"CAPTURE_"+(c>=h?"CORRECT":"INCORRECT"),k))});v(l,n,p)};requirejs(["captureUtils"],function(){var b=function(c){requirejs([Ea[c]],
c==Ea.length-1?cb:function(){b(c+1)})};b(0)});return!1}l.data("cap",function(){l.on("click","a[href^\x3d'#']",function(){l.capture("goToScene",[$(this).attr("href")]);return!1});var b=[];return{setWaypoints:$.proxy(function(){var h="captureGuide_"+$(this).data("id"),m=this;k.queue.deleteQueue(h);var n=function(){var h=$(".step",l).waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,{handler:function(b){if("down"==b){b=$(this.element).closest(".stepsContainer").find("div:not(.row) .step").index(this.element)+
1;var h=m.data("slidesViewed");~$.inArray(b,h)||(h.push(b),k.actionAPI.onContentChangedEvent.call(k.actionAPI,m,k));c.parameters.config.variable_name&&contentApi.setData(c.parameters.config.variable_name,b,!1,!0)}},offset:"70%",context:$(k.pageContainer).closest(".fancybox-content")[0]||window}));b=h;this.wayPoints=this.wayPoints.concat(h)};k.queue.queue({name:h,callback:$.proxy(n,k)});var p=!1;$("img",l).each(function(){if(!$(this).attr("src")&&!$(this).data("src"))return!0;$(this).prop("complete")||
(p=!0,$(this).uniqueId(),k.queue.queue({name:h,id:$(this).attr("id")}),$(this).on("load error",function(){k.queue.dequeue({name:h,id:$(this).attr("id")})}))});p||n.call(k)},l),destroy:$.proxy(function(){$.each(b,function(){this.destroy()})},l)}}())}else{if("timer"==l.data("type"))return requirejs(["flipclock"],function(){var b=!0,h=DKI.applyIf({callbacks:{start:function(){var b=q();h.countdown&&b+1E3==this.timeLimit||1E3>=b?k.actionAPI.onMediaStart.call(k.actionAPI,l.data("id"),k,"timer_start"):k.actionAPI.onMediaPlay.call(k.actionAPI,
l.data("id"),k,"timer_play")},stop:function(){if(!b){var c=q();h.countdown&&0==c||!h.countdown&&c>=this.timeLimit?k.actionAPI.onMediaEnd.call(k.actionAPI,l.data("id"),k,"timer_end"):k.actionAPI.onMediaPause.call(k.actionAPI,l.data("id"),k,"timer_pause")}},interval:function(b,m,n){b=q();!h.countdown&&this.timeLimit<=b?this.stop():h.countdown&&0>=b&&(b=0,this.stop());k.actionAPI.onTimerTimeUpdate.call(k.actionAPI,b,l.data("id"),k);c.parameters.config.variable_name&&contentApi.setData(c.parameters.config.variable_name,
b)}}},c.parameters.config.clockCfg),m=l.find(".dki-element-content").FlipClock(0,h),q=$.proxy(function(){return h.countdown?this.timeLimit-this.getElapsed():this.getElapsed()},m.timer);m.getCurrentTime=q;l.data("timer",m);pI=k;m.restart=function(){var b=this,h=this.running;this.stop(function(){b.running=h;b.reset();c.parameters.config.variable_name&&contentApi.setData(c.parameters.config.variable_name,b.getCurrentTime())},!0)};m.toggle=function(){this.running?this.stop():this.start()};b=!1;v(l,n,
p)}),!1;if("videoPlaylist"==c.elementtype)return requirejs(["videoPlaylist"],function(){p.VideoPlaylist({completion:"undefined"!==typeof dataStorage?dataStorage.completion.elements:{},outline:c,type:c.parameters.config.type,responsive:settings.course.responsive,autoPlay:c.parameters.config.autoPlay,listeners:{play:function(){this.videoInterface.getUrl($.proxy(function(b){"undefined"!==typeof dataStorage&&dataStorage.saveElementCompletion(this.getCompletion());$(document).trigger(DKI.ContentPage.events.media.played,
{elementId:this.videoInterface.outline.id,url:b})},this))},pause:function(){this.videoInterface.getUrl($.proxy(function(b){"undefined"!==typeof dataStorage&&dataStorage.saveElementCompletion(this.getCompletion());$(document).trigger(DKI.ContentPage.events.media.paused,{elementId:this.videoInterface.outline.id,url:b})},this))},end:function(){this.videoInterface.getUrl($.proxy(function(b){"undefined"!==typeof dataStorage&&dataStorage.saveElementCompletion(this.getCompletion());$(document).trigger(DKI.ContentPage.events.media.ended,
{elementId:this.videoInterface.outline.id,url:b})},this))},start:function(){this.videoInterface.getUrl($.proxy(function(b){"undefined"!==typeof dataStorage&&dataStorage.saveElementCompletion(this.getCompletion());$(document).trigger(DKI.ContentPage.events.media.started,{elementId:this.videoInterface.outline.id,url:b})},this))},videoLoaded:function(){k.actionAPI.onContentChangedEvent.call(k.actionAPI,l,k)}}});c.parameters.config.autoPlay&&p.isInViewport()&&k.autoPlayMedia.push(p);v(l,n,p)}),!1;if("scenario"==
c.elementtype)return requirejs(["scenario"],function(){p.Scenario({accessible:!(dkiUA.android||dkiUA.iOS),outline:c,responsive:settings.responsive,characterBaseUrl:DKI.renderService.state.renderEnvironment.export?"assets":settings.baseUrl+"content/authoringtooldb/assetCollections",backgroundAsset:DKI.renderService.getAssetUrl({id:c.background_asset_id,folderId:c.background_asset_uploadfolderid,extension:c.background_asset_extension}),strings:{audioPlay:DKI.strings.runtime.media_play,audioStop:DKI.strings.runtime.media_pause,
scenarioStart:DKI.strings.runtime["theme start"],continue:DKI.strings.endTest.learningLinkLabel}}).on("scenario.optionSelected",function(b,c){$(document).trigger(DKI.ContentPage.events.scenarioOptionSelected,c);k.actionAPI.onContentChangedEvent.call(k.actionAPI,l,k)}).on("scenario.continue",function(b,c){}).on("scenario.end",function(b,c){l.data("ended",!0);$(document).trigger(DKI.ContentPage.events.scenarioEnded,c);k.actionAPI.onContentChangedEvent.call(k.actionAPI,l,k)}).on("scenario.score",function(b,
h){(b=c.parameters.config.variable_name)&&contentApi.setData(b,h.score)});v(l,n,p)}),!1;if("categoryCards"==c.elementtype){var Ya=c.parameters.config.showFeedback;p.CategoryCards({outline:c,accessible:c.parameters.accessibility.tabable&&!(dkiUA.android||dkiUA.iOS),responsive:settings.responsive,retries:c.parameters.config.attempts,feedback:settings.responsive&&Ya?c.parameters.config.useProjectDefault?settings.course.parameters.questionFeedback:c.parameters.config.feedback:"",strings:{scoreLabel:DKI.strings.endMod.testingStatusLabel}}).on("answered",
function(b,c){$(document).trigger(DKI.ContentPage.events.categoryCard.answered,c);k.actionAPI.onContentChangedEvent.call(k.actionAPI,l,k)}).on("completed",function(b,h){c.parameters.config.variable_name&&contentApi&&contentApi.setData(c.parameters.config.variable_name,h);if(Ya){b=c.parameters.config.useProjectDefault?settings.course.parameters.questionFeedback:c.parameters.config.feedback;switch(h){case 100:b=b.correct;var m="success";break;case 0:b=b.incorrect;m="danger";break;default:b=b.partial,
m="warning"}p.CategoryCards("getxAPICompleteData",function(b){$(document).trigger(DKI.ContentPage.events.categoryCard.completed,{xAPIData:b,score:h})});b&&!settings.responsive&&DKI.PopupPanel.show({modal:!0,style:m,title:"",html:b,popupType:{type:"pop",mod:""},onHide:function(){var b=[];b[0]&&b[0].focus()}})}l.data("completed",!0);k.actionAPI.onContentChangedEvent.call(k.actionAPI,l,k);v(l,n,p)}).on(CategoryCardEvents.onAttempt,function(b,c){k.actionAPI.onElementQuestionSubmittedEvent.call(k.actionAPI,
l,"INLINE_QUESTION_ATTEMPT",k)}).on(CategoryCardEvents.onSubmitted,function(b,c){k.actionAPI.onElementQuestionSubmittedEvent.call(k.actionAPI,l,"INLINE_QUESTION_SUBMITTED",k)}).on(CategoryCardEvents.onCorrect,function(b,c){k.actionAPI.onElementQuestionSubmittedEvent.call(k.actionAPI,l,"INLINE_QUESTION_CORRECT",k)}).on(CategoryCardEvents.onPartialCorrect,function(b,c){k.actionAPI.onElementQuestionSubmittedEvent.call(k.actionAPI,l,"INLINE_QUESTION_PARTIALLY_CORRECT",k)}).on(CategoryCardEvents.onAttemptPartialCorrect,
function(b,c){k.actionAPI.onElementQuestionSubmittedEvent.call(k.actionAPI,l,"INLINE_QUESTION_ATTEMPT_PARTIALLY_CORRECT",k)}).on(CategoryCardEvents.onIncorrect,function(b,c){k.actionAPI.onElementQuestionSubmittedEvent.call(k.actionAPI,l,"INLINE_QUESTION_INCORRECT",k)}).on(CategoryCardEvents.onAttemptIncorrect,function(b,c){k.actionAPI.onElementQuestionSubmittedEvent.call(k.actionAPI,l,"INLINE_QUESTION_ATTEMPT_INCORRECT",k)}).on(CategoryCardEvents.onRetry,function(b,c){k.actionAPI.onElementQuestionSubmittedEvent.call(k.actionAPI,
l,"INLINE_QUESTION_RETRIED",k)});p.CategoryCards("start")}}if("imageMap"==c.elementtype)return requirejs(["imageMap"],function(){if(!settings.imageMapColourCorrect){var b=$("\x3cdiv class\x3d'marker correct' style\x3d'visibility:none;'\x3e\x3c/div\x3e").appendTo(p.parent());settings.imageMapColourCorrect=b.css("background-color");b.remove()}settings.imageMapColourIncorrect||(b=$("\x3cdiv class\x3d'marker incorrect' style\x3d'visibility:none;'\x3e\x3c/div\x3e").appendTo(p.parent()),settings.imageMapColourIncorrect=
b.css("background-color"),b.remove());var h=function(){p.ImageMap({outline:c,mapFillColour:{correct:settings.imageMapColourCorrect.replace("rgb","rgba").replace(")",", 0.3)"),incorrect:settings.imageMapColourIncorrect.replace("rgb","rgba").replace(")",", 0.3)")},mapStrokeColour:{correct:settings.imageMapColourCorrect,incorrect:settings.imageMapColourIncorrect},autoPosition:settings.responsive,strings:{next:DKI.strings.index.nextButtonLabel,previous:DKI.strings.index.previousButtonLabel,finish:DKI.strings.endMod.learningLinkLabel,
correct:DKI.strings.doc["Correct choice label"].replace(/(\s)*\:(\s)*/,""),incorrect:DKI.strings.doc["Feedback incorrect attempt"]}});k.setLabelWrapperPosition(l);v(l,n,p)};if(p.find("img").prop("complete"))h();else p.find("img").on("load",function(){h()})}),!1;if("matchingQuestion"==c.elementtype)return requirejs(["matchingQuestion"],function(){requireFns.getFlickity(function(){p.MatchingQuestion({outline:c,accessible:!0,strings:{next:DKI.strings.index.nextButtonLabel,previous:DKI.strings.index.previousButtonLabel,
finish:DKI.strings.endMod.learningLinkLabel,correct:DKI.strings.doc["Correct choice label"].replace(/(\s)*\:(\s)*/,""),incorrect:DKI.strings.doc["Feedback incorrect attempt"]}});v(l,n,p)})}),!1;if("sequencingQuestion"==c.elementtype)return requirejs(["sequencingQuestion"],function(){p.SequencingQuestion({outline:c,strings:{next:DKI.strings.index.nextButtonLabel,previous:DKI.strings.index.previousButtonLabel,finish:DKI.strings.endMod.learningLinkLabel,correct:DKI.strings.doc["Correct choice label"].replace(/(\s)*\:(\s)*/,
""),incorrect:DKI.strings.doc["Feedback incorrect attempt"]}});v(l,n,p)}),!1;settings.enablePlugins&&""!=c.parameters.plugin.fn&&(T={element:c,wrapper:l,content:p},c.parameters.plugin.extraContent&&$.each(c.parameters.plugin.extraContent,function(b,c){eval(c.processFn);processFn(T)}),p[c.parameters.plugin.fn]($.parseJSON(c.parameters.plugin.config)));"imageGallery"==l.data("type")&&$(".dki-element-content",m).owlCarousel($.parseJSON(c.parameters.config.options));if(0<l.find(".owl-carousel").length)l.find(".owl-carousel").on("initialized.owl.carousel resized.owl.carousel",
this.resizeCarousels);v(l,n,p)};var m=function(){$(".dki-authoring-element",$(h.pageContainer).find(".pageElementsWrapper:not(.design-layout)")).each(function(){var b=this,c=function(b){h.processElement(b,function(){if(DKI.renderService.state.typeConfig[b.elementtype].fullDomSubElements)for(var h=0;h<b.elements.length;h++)c(b.elements[h])})},k=h.getClaroElementById($(this).data("id"));c(k);$(this).find(".dki-citation-link sup.refSup").on(settings.clickEvent,function(b){DKI.reference.showReference(b.target.parentNode);
return!1});$(this).find(".dki-glossary-link").on(settings.clickEvent,function(b){DKI.glossary.clearTermsUsageForAutolinkFirstMapped();$(this).closest(".capture").length&&$(this).closest(".capture").hasClass("capture-fullscreen-overflow")?DKI.glossary.showPopup.call(this,[b],$(this).closest(".dki-capture-element")):DKI.glossary.showPopup.call(this,[b]);return!1});$(this).off(DKI.ContentPage.events.elementReviewClicked).on(DKI.ContentPage.events.elementReviewClicked,function(b,c){$(document).trigger(DKI.ContentPage.events[c.type||
"elementReview"],{outline:h.getClaroElementById($(this).data("id")),domEl:$(this),extraContent:c.extraContent||""})});$(this).find(".element-feedback .comment").off(settings.clickEvent).on(settings.clickEvent,function(){$(b).trigger(DKI.ContentPage.events.elementReviewClicked,{type:"elementReview"});return!1});$(this).find(".element-feedback .new").off(settings.clickEvent).on(settings.clickEvent,function(c,h){$(b).trigger(DKI.ContentPage.events.elementReviewClicked,{type:"elementReviewComment",extraContent:h});
return!1});$(this).find(".element-feedback .accessibility").off(settings.clickEvent).on(settings.clickEvent,function(){$(b).trigger(DKI.ContentPage.events.elementAccessibilityClicked,{outline:h.getClaroElementById($(this).closest(".dki-authoring-element").data("id")),domEl:$(this)});return!1})})};if(this.readyFired)m();else $(document).one(DKI.ContentPage.events.afterReady,m);$(this.pageContainer).on("mouseenter",".dki-citation-link sup.refSup",function(b){DKI.reference.hoverReference(b.target.parentNode,
!0)});$(this.pageContainer).on("mouseleave",".dki-citation-link sup.refSup",function(b){0==$(b.relatedTarget).parents("#referencePopup").length&&DKI.reference.hoverReference(b.target.parentNode,!1)});$(this.pageContainer).on("focus",".tableFocusCatcher",function(b){var c=$("[tabindex\x3d1]",this.pageContainer),h=c.index(this);c.index(b.relatedTarget)<h?c.eq(h+1).focus():c.eq(h-1).focus()});$(".dki-videoembed-element object, .dki-chart-element object, .dki-flash-element object",this.pageContainer).each(function(){if(dkiUA.ie)b=
{parentNode:this.parentNode,objTag:$(this.parentNode).html()},$(this).detach();else var b={parentNode:this.parentNode,objTag:$(this).detach()};h.objectTags.push(b)});$(".dki-authoring-element[data-rotation!\x3d'0'], .dki-authoring-element-element[data-rotation!\x3d'0']",this.pageContainer).each(function(){$(this).find(".dki-authoring-content-wrapper:first").velocity({rotateZ:$(this).data("rotation")+"deg"},0)});c.player.behaviour&&c.player.behaviour.suppressAltTags&&$(".dki-authoring-element *[alt!\x3d''], .dki-authoring-element *[title!\x3d'']",
this.pageContainer).each(function(){var b=$(this);b.hasClass("dki-element-anchor")||b.removeAttr("alt").removeAttr("title")});for(var u in DKI.ContentPage.events)$(this.pageContainer).off(DKI.ContentPage.events[u]);this.settings.scrolling&&($(this.pageContainer).on(DKI.ContentPage.events.shown,function(){h.resize()}),$(this.pageContainer).on(DKI.ContentPage.events.hidden,function(){h.resize()}));$(".dki-authoring-group",this.pageContainer).each(function(){var b=$(this),c=h.getGroupById(b.data("id"));
b.data("start_class",b.attr("class"));b.data("start_style",b.attr("style"));if(settings.enablePlugins&&""!=c.parameters.plugin.fn)b[c.parameters.plugin.fn]($.parseJSON(c.parameters.plugin.config))});$(document).on("click",".tooltipster-capture .dki-glossary-link",function(){$(this).closest(".capture").length&&$(this).closest(".capture").hasClass("capture-fullscreen-overflow")?(DKI.glossary.showPopup.call(this,[e],$(this).closest(".dki-capture-element")),$(this).closest(".dki-capture-element").data("cap").setPause(!0)):
DKI.glossary.showPopup.call(this,[e]);return!1});$(".dki-text-tooltip",this.pageContainer).each(function(){var b=$(this);DKI.makeFocusable(b,!0);b.tooltipster({functionReady:function(c,h){c=$(h.tooltip);b.attr("aria-haspopup","dialog").attr("role","link").attr("aria-describedby",c.attr("id"));c.attr("role","tooltip");c.append($("\x3cdiv/\x3e",{"class":"tooltip-branding",css:{"background-color":b.css("color")}}))},functionPosition:function(b,c,h){1!=settings.scale&&(b=h.coord.top/settings.scale,c=
h.target/settings.scale,h.coord.left/=settings.scale,h.coord.top=b,h.target=c);return h},content:$("\x3cdiv/\x3e").html(b.data("tooltip-text")).text(),contentAsHTML:!0,trackOrigin:!0,theme:"tooltipster-branded-big",trigger:"custom",maxWidth:400,distance:15});var c=!1,h=function(){b.tooltipster("open");c=!0},k=function(){b.tooltipster("close");c=!1};b.click(function(b){h()});b.hover(h,k);b.focus(function(b){c||h()});b.blur(function(b){k()});b.keydown(function(b){c&&27==b.keyCode&&k()})});var z=0,A=
$(this.pageContainer).find("img").on("load error",function(){z++;z==A&&(h.resizeSections(),h.resizeCarousels(),h.resizeTabs())}).length;setTimeout(function(){z!=A&&(h.resizeSections(),h.resizeTabs())},1E3);dkiUA.mobile||this.fireReady();h.resizeSections();h.resizeSvgs();h.resizeTabs()};u.prototype.renderPage=function(){DKI.glossary.clearTermsUsageForAutolinkFirstMapped();$(this.pageContainer).html(DKI.renderService.renderPage(this.page,this.settings.course))};u.prototype.setMinHeight=function(b,c){b=
b?b:this.pageContainer;c=c?c:$(b).height();$(b).css("min-height","").css("min-height",c)};u.prototype.setAudio=function(b){m.setAudio(b,this)};u.prototype.pauseAll=function(){m.pauseAll(this)};u.prototype.resumeAll=function(){m.resumeAll(this)};u.prototype.resize=function(){$(document).trigger(DKI.ContentPage.events.resize,this.getScrollHeight())};u.prototype.getScrollHeight=function(){var b=this.settings.courseHeight;$(".dki-authoring-element",this.pageContainer).each(function(){var c=$(this);c.is(":visible")&&
(c=c.position().top+c.height(),c>b&&(b=c))});return b};u.prototype.start=function(b,c){var h=function(){var b=this,h=!1;if($(b.pageContainer).find(".pageElementsWrapper").data("pageid")==this.page.id){b.started=!0;b.startTime=(new Date).getTime();b.resize();this.queue.queue({name:"loadFinished",callback:$.proxy(function(){$(document).trigger(DKI.ContentPage.events.loadFinished,b)},this)},b.page.id);var k=window.setTimeout(function(){b.showLoader()},200);$(document).on(DKI.ContentPage.events.loadFinished,
function(){clearTimeout(k);b.hideLoader();var c=0;$("html").hasClass("csstransitions")&&(c=b.getPageTransitionTime());var h=!1;(player.isSinglePage||$(b.pageContainer).hasClass("current")&&b.page.id==dataStorage.currentPage.page.id)&&setTimeout(function(){$.each(b.autoPlayMedia,function(b,c){if(c.hasClass("dki-videoplaylist"))c.on("play",function(){h=!1});else c.bind($.jPlayer.event.play,function(){h=!1})});h=m.startAutoPlay(b);setTimeout(function(){if(h){var c=new DKI.disabler({text:'\x3cdiv class\x3d"disabler-play"\x3e\x3c/div\x3e',
onClick:function(c){c.hide();m.startAutoPlay(b)}}),k=function(){c.hide()};$.each(b.autoPlayMedia,function(b,h){if(h.hasClass("dki-videoplaylist"))h.on("play",function(){c.hide()});else h.bind($.jPlayer.event.play,k)});$(".disablerWrapper:visible").hide();c.show();$(document).on(DKI.ContentPage.events.started,function(c,h){h.page.id!=b.page.id&&k()})}},750);b.setAudio(player.audio)},c)});b=this;p.start(b);var l=function(c,h){var k=$("#content_"+c.data("id"),c);c.first(".dki-authoring-content-wrapper");
var l=c.find(".dki-element-anchor:first"),m=b.getClaroElementById(c.data("id")),n=!c.hasClass("dki-contentCarousel-element")&&0<c.closest(".dki-contentCarousel-element").length,p=n?-1:l.data("tabindex")||-1;$("iframe",c).each(function(){$(this).attr("data-src")||$(this).attr("data-src",this.src);c.is(":visible")?this.src=$(this).attr("data-src"):this.src="about:blank"});c.data("accessibility-tabable")&&$("object.dki-element-content, iframe.dki-element-content, textarea.dki-element-content, map area, .dki-element-content iframe:first, .dki-element-content object:first, img.dki-element-content#content_"+
c.data("id")+", .btn.dki-element-content",c).each(function(){DKI.makeFocusable($(this),p)});if(c.hasClass("dki-tab-element")||c.hasClass("dki-table-element")||c.hasClass("dki-htm-element")||c.hasClass("dki-plainText-element")||c.hasClass("dki-tab-element")&&dkiUA.ie||c.hasClass("dki-panelHeader-element")||c.hasClass("dki-panelFooter-element")||c.hasClass("dki-questionBody-element")||c.hasClass("dki-questionOpening-element")||c.hasClass("dki-tileCardTitle-element")||c.hasClass("dki-tileCardSubtitle-element"))c.hasClass("dki-panelHeader-element")||
c.hasClass("dki-tab-element")||(n?(k.attr({tabindex:p,"aria-hidden":"false"}),k.find(".dki-element-content").attr({"aria-hidden":"false"})):(DKI.makeFocusable(k,p),k.find("table.table").attr({"aria-hidden":"false"}))),$("a, .dki-glossary-link, .dki-citation-link sup.refSup, img",k).each(function(){DKI.makeFocusable($(this),p)}),$(".dki-glossary-link, .dki-citation-link sup.refSup",k).each(function(){$(this).attr({role:"button","aria-haspopup":"dialog"})});""==m.parameters.accessibility.text&&(n?l.attr({tabindex:"-1",
"aria-hidden":"false"}):DKI.makeFocusable(l,!1));if(c.hasClass("dki-tab-element")||c.hasClass("dki-panelHeader-element")||c.hasClass("dki-panelFooter-element"))l.removeAttr("tabindex"),l.removeAttr("aria-hidden");m.parameters.accessibility.tabable&&!n&&("speechBubble"==m.elementtype||"label"==m.elementtype?DKI.makeFocusable(k,!0):"marker"==m.elementtype&&DKI.makeFocusable(l,!0));if("image"==m.elementtype){for(var r="",q=0;q<m.elements.length;q++)"label"==m.elements[q].elementtype&&(""!=r&&(r+=" "),
r+="content_"+m.elements[q].id);k.attr("aria-labelledby",r);m.parameters.accessibility.tabable?n?k.attr({"aria-hidden":"false",alt:""!=m.txt?m.txt:null}):DKI.makeFocusable(k,!0):(DKI.makeFocusable(k,!1),k.attr("alt",null))}"svg"==m.elementtype&&(m.parameters.accessibility.tabable||n||(DKI.makeFocusable(k,!1),DKI.makeFocusable(l,!1)),DKI.makeFocusable(k.find("svg, svg *"),!1));m.parameters.accessibility.tabable&&!n&&""==m.parameters.accessibility.text.toString().trim()&&"marker"!=m.elementtype&&"tab"!=
m.elementtype&&"btn"==m.elementtype&&(DKI.makeFocusable(l,!1),DKI.makeFocusable(k,!0));"zoomRegion"==c.data("type")&&c.is(":visible")&&contentApi.zoomToElement(c.data("id"),b,0);"textbox"!=m.elementtype&&"freeFormOption"!=m.elementtype||""==m.parameters.config.variable_name||(k.val(contentApi.getData(m.parameters.config.variable_name)),k.attr("data-variable-id",m.parameters.config.variable_name));"likedislike"==m.elementtype&&(k.find("i").removeClass("toggled").enable(),n=contentApi.getData("likedislike_"+
contentApi.getData("sys.currentpage.id",!0),!0),"like"==n?(k.find(".fa-thumbs-up").addClass("toggled"),k.find("i").disable()):"dislike"==n&&(k.find(".fa-thumbs-down").addClass("toggled"),k.find("i").disable()));"input"==m.elementtype&&""!=m.parameters.config.variable_name&&(q=k.find("input"),q.val(contentApi.getData(m.parameters.config.variable_name)),q.attr("data-variable-id",m.parameters.config.variable_name));if("radioGroup"==m.elementtype){DKI.makeFocusable($("input",k),p);for(var n=function(c,
h,k,l){l||contentApi.setData(c,k,!1,!0,{text:h});setVariableText(c,h,b);setVariableText(c+"_text",h,b)},r="",q=m.parameters.config.variable_name,u=q.split(","),q=0;q<u.length;q++)if(-1==u[q].indexOf("_text")){r=u[q];break}""!=r&&(q=k.find("input[value\x3d'"+contentApi.getData(r)+"']"),u=k.find("label[for\x3d'"+q.attr("id")+"']"),q.prop("checked",!0),u.addClass("active"),k.attr("data-variable-id",r));k.find("input:checked").length&&""!=r&&(u=contentApi.getData(r),q=k.find("input[value\x3d'"+contentApi.getData(r)+
"']"),q=k.find("label[for\x3d'"+q.attr("id")+"']")[0].innerText,n(r,q,u))}"toggle"==m.elementtype&&(""==m.meta&&DKI.makeFocusable(l,!1),$("label",k).attr("role","checkbox").attr("aria-checked",!1),DKI.makeFocusable($("label",k),p),""!=m.parameters.config.variable_name&&(k.find("input").prop("checked",contentApi.getData(m.parameters.config.variable_name)),k.attr("data-variable-id",m.parameters.config.variable_name),$("label",k).attr("aria-checked",contentApi.getData(m.parameters.config.variable_name))));
if("selection"==m.elementtype){r="";q=m.parameters.config.variable_name;u=q.split(",");for(q=0;q<u.length;q++)if(-1==u[q].indexOf("_text")){r=u[q];break}""!=r&&(q=contentApi.getData(r),k.find("button .selectedCont").html(k.find("li a[data-val\x3d'"+q+"']").html()),k.data("val",q),k.attr("data-variable-id",r))}"marker"==c.data("type")&&(n="hover",m.parameters.config&&m.parameters.config.trigger&&(n=m.parameters.config.trigger),""==m.meta||"custom"!=n||!c.is(":visible")||c.hasClass("hiddenOnLoad")||
c.hasClass("hiddenUntilInView")||0!=c.closest(".flipCardPanel.face:not(.active)").length||k.tooltipster("open"));if("progress"==c.data("type")||"radialGauge"==c.data("type")){var r=m.parameters.config.max,n=m.parameters.config.current,r="string"==typeof r?contentApi.getData(r):parseInt(r,10),n="string"==typeof n?contentApi.getData(n):parseInt(n,10),z=n/r*100,z=parseFloat(z.toFixed(2),10);"radialGauge"==c.data("type")?c.find(".radial").data("dki.RadialGauge")?c.find(".radial").RadialGauge("setRotation",
z,function(b,c){isNaN(parseInt(m.parameters.config.current,10))||(m.parameters.config.current=c.state.current);contentApi.setData(m.parameters.config.variable_name,z)}):b.processElement(c):(DKI.makeFocusable(k,p),c.find(".progress-bar").css(m.parameters.config.dim,z+"%"),c.find(".progress-bar").attr("aria-valuenow",z),c.find(".progress-bar").attr("aria-valuetext",z+"%"),c.find(".progress-bar-display, .sr-only").html(Math.floor(z)+"%"))}"contentCarousel"==c.data("type")&&(k.attr({tabindex:"-1","aria-hidden":"false"}),
c.find(".flickity-slider\x3e.dki-panel-element\x3e.dki-authoring-content-wrapper\x3e.dki-element-content").attr({tabindex:p,"aria-hidden":"false"}),c.find(".flickity").attr({tabindex:-1,"aria-hidden":"false"}),DKI.makeFocusable(c.find(".element-feedback"),!1),c.find(".flickity.flickity_autoPlay").flickity("playPlayer"));"timeline"==c.data("type")&&(m.parameters.config.enableEntrance?b.wayPoints=b.wayPoints.concat($(".cd-timeline-block",c).waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,{handler:function(h){"down"==
h?($(this.element).find(".cd-timeline-img, .cd-timeline-content").removeClass("is-hidden").addClass("bounce-in"),b.actionAPI.onContentChangedEvent.call(b.actionAPI,c,b)):$(this.element).find(".cd-timeline-img, .cd-timeline-content").addClass("is-hidden").removeClass("bounce-in")},offset:"90%",context:c.closest(".fancybox-content")[0]||window}))):b.actionAPI.onContentChangedEvent.call(b.actionAPI,c,b));"capture"==c.data("type")&&(c.data("slidesViewed",[]),c.capture("setWaypoints"));"timer"==c.data("type")&&
(n=m.parameters.config.timeLimit,n="string"===typeof n?contentApi.getData(n):parseInt(n,10),c.data("timer").timer.timeLimit=n,c.data("timer").setTime(m.parameters.config.clockCfg.countdown?n/1E3:0),r="MinuteCounter",36E5<=n&&(r="HourCounter"),c.data("timer").loadClockFace(r,null,!0,!0),m.parameters.config.clockCfg.countdown&&(c.data("timer").timer.factory.original=n/1E3),m.parameters.config.autoStart&&c.data("timer").start());"matchCardSet"==c.data("type")&&(c.find(".match_hidden").removeClass("match_hidden"),
c.trigger("match.resizeImmediate"),m.parameters.config.startShown&&(c.data("fromFirstVisibleFlip",!0),c.find(".match_manual_start").addClass("show center nobg").attr("aria-hidden",!1).find(".match_manual_start_container").html("\x3cdiv role\x3d'button' tabindex\x3d'1' class\x3d'btn btn-primary start' style\x3d'font-size:1.3em; padding: 20px; border-radius: 3px;'\x3eStart\x3c/div\x3e"),c.find(".match_manual_start_container").StayInView({scrollParent:c.find(".match_manual_start")}),c.find(".cardsContainer").attr("aria-hidden",
!0).find(".front").attr("tabindex","-1"),c.find(".flipSet").addClass("locked delayStart").one("click",".start",$.proxy(function(){var b=$(this).find(".flip");c.find(".match_manual_start").attr("aria-hidden",!0).removeClass("show center nobg").find(".match_manual_start_container").html("").StayInView("destroy");b.flip(!0);setTimeout(function(){b.one("flip:done",function(h,k){c.data("fromFirstVisibleFlip")&&(DKI.makeFocusable($(this).find(".front"),!0),$(this).is(b.last())&&(c.find(".cardsContainer").attr("aria-hidden",
!1),setTimeout(function(){b.first().find(".front")[0].focus()},0),c.data("fromFirstVisibleFlip",!1)))}).flip(!1);c.find(".flipSet").removeClass("locked")},3E3)},c))));"flashCardSet"==c.data("type")&&c.find(".flickity-carousel").data("resize")();"videoPlaylist"==c.data("type")&&c.find(".dki-element-content").VideoPlaylist("sizeVideo");"scenario"==c.data("type")&&c.is(":visible")&&(c.find(".dki-element-content").Scenario("sceneWindowResize"),c.find(".dki-element-content").Scenario("start"));"list"==
c.data("type")&&(DKI.makeFocusable(k,p).attr({role:"list"}),DKI.makeFocusable(l,""!=m.parameters.accessibility.text),$("li",k).attr("role","listitem"));"slider"==c.data("type")&&($(".sliderLabel",k).attr("id",c.attr("id")+"_sliderLabel"),DKI.makeFocusable($(".slider",k),p).attr({role:"slider","aria-valuemin":m.parameters.config.noUISlider.range.min,"aria-valuemax":m.parameters.config.noUISlider.range.max,"aria-valuenow":m.parameters.config.noUISlider.start,"aria-labelledby":c.attr("id")+"_sliderLabel"}));
"hotspot"==m.elementtype&&l.attr("role","button");"tileCard"==m.elementtype&&(l=contentApi.getData(m.parameters.config.variable_name),n=c.find(".tileCard").data("visitedIcon"),r=c.find(".dki-icon-element i"),q=r.data("class"),l?r.addClass(n).removeClass(q):r.addClass(q).removeClass(n));"categoryCards"==m.elementtype&&k.CategoryCards("elementStart");"multipleChoiceQuestion"!=m.elementtype&&"trueFalseQuestion"!=m.elementtype&&"multiplePulldownQuestion"!=m.elementtype&&"fillInTheBlanksQuestion"!=m.elementtype&&
"clickTheWordQuestion"!=m.elementtype&&"dragTheWordQuestion"!=m.elementtype&&"matchingQuestion"!=m.elementtype&&"sequencingQuestion"!=m.elementtype&&"imageMap"!=m.elementtype||k.QuestionElement("elementStart");b.scaleElementChildren(m);h&&b.queue.dequeue({name:"loadFinished",id:c.attr("id")+"_element"})};$(".pageElementsWrapper:not(.design-layout) .dki-authoring-element, .pageElementsWrapper:not(.design-layout) .dki-authoring-element-element",b.pageContainer).each(function(){var c=$(this);c.data("elementLoaded")?
l(c):(h=!0,b.queue.queue({name:"loadFinished",id:$(this).attr("id")+"_element"}),c.off("elementLoaded").on("elementLoaded",function(){l(c,!0)}))});DKI.makeFocusable($(this.pageContainer).find(".dki-flipCard-element .dki-element-content *[tabindex]:not(.flipCardPanel)"),!1).data("tabindex","-1");DKI.makeFocusable($(this.pageContainer).find(".dki-flipCard-element .dki-element-content a"),!1);$(this.pageContainer).find("a.accordion-toggle div.dki-element-anchor").attr({tabindex:"-1","aria-hidden":"false"});
$(this.pageContainer).find("a.accordion-toggle .dki-tab-element .dki-element-content").attr({tabindex:"-1","aria-hidden":"false"});$(this.pageContainer).find(".panel-collapse").attr("aria-label"," ");for(var u=0;u<b.objectTags.length;u+=1)dkiUA.ie?$(b.objectTags[u].parentNode).html(b.objectTags[u].objTag):b.objectTags[u].objTag.appendTo(b.objectTags[u].parentNode);$(".dki-image-element[data-extension\x3d'gif'] img",this.pageContainer).each(function(){this.src=$(this).attr("data-src")+"?rand\x3d"+
Math.floor(500*Math.random())});dkiUA.iOS&&$(this.pageContainer).find(".dki-video-element .dki-element-content[data-autoplay\x3d'true'] video").attr("autoplay","");dkiUA.ie&&8>=dkiUA.ieVersion&&n.init(b);$("img",b.pageContainer).each(function(){if(!$(this).attr("src")&&!$(this).data("src"))return!0;$(this).prop("complete")||(h=!0,$(this).uniqueId(),b.queue.queue({name:"loadFinished",id:$(this).attr("id")}),$(this).on("load error",function(){b.queue.dequeue({name:"loadFinished",id:$(this).attr("id")})}))});
dkiUA.iOS||$("video",b.pageContainer).each(function(){$(this).uniqueId();3>this.readyState&&(h=!0,b.queue.queue({name:"loadFinished",id:$(this).attr("id")}),$(this).on("canplay",function(){b.queue.dequeue({name:"loadFinished",id:$(this).attr("id")})}))});h||$(document).trigger(DKI.ContentPage.events.loadFinished,b);p.checkBreakPointThreshold("breakpoint",b);p.checkDeviceAdaptation("device",b);b.resizeSections();b.reCalculateMediaControls();b.resizeSvgs();b.resizeCarousels();b.resizeTabs();b.resizeDropTargets();
b.resizeSelectionDropdowns();b.repositionMultiplePulldownQuestion();c||$(document).trigger(DKI.ContentPage.events.started,b)}};this.isStandalonePage||contentApi.hideAllPopups(!0);var u=this,z=0;b?z=b:$("html").hasClass("csstransitions")&&(z=this.getPageTransitionTime());z+=settings.pageStartDelay;$(u.pageContainer).css("transition-duration",z+"ms").removeClass($(u.pageContainer).data("current_player_background")).addClass(u.page.parameters.player_background).data("current_player_background",u.page.parameters.player_background);
0==u.autoPlayMedia.length||l.canAutoplay()?setTimeout(function(){h.call(u)},z):h.call(u);settings.responsive&&($(".pageElementsWrapper .dki-image-element img",u.pageContainer).on("load error",function(){var b=$(this).closest(".dki-image-element");u.setLabelWrapperPosition(b);var c=b.data("resizeMap",$.proxy(function(){var c=this.find("map");if(c.length){var h=c.data("asset-width"),k=b.find("img").width(),l=1-(h-k)/h;c.find("area").each(function(){for(var b=$(this).data("coords").split(","),c=0;c<
b.length;c++)b[c]=parseInt(b[c],10)*l;this.coords=b.join(",")})}},b)).data("resizeMap");"function"===typeof c&&c()}).each(function(){this.complete&&$(this).load()}),$(".pageElementsWrapper .dki-video-element",u.pageContainer).each(function(){u.setLabelWrapperPosition($(this))}))};u.prototype.reset=function(b){b=DKI.applyIf(b?b:{},{timeout:0});var c=this;$(".dki-marker-element",c.pageContainer).each(function(){var b=$(this);if("marker"==b.data("type")&&""!=b.data("meta")){var c=b.find(".dki-element-content"),
h=c.tooltipster("option","animation");c.tooltipster("option","animation",!1).tooltipster("close",function(){c.tooltipster("option","animation",h)})}});$(".dki-text-tooltip",c.pageContainer).tooltipster("close");var h=function(){if($(c.pageContainer).find(".pageElementsWrapper").data("pageid")==c.page.id){c.started=!1;c.startTime=0;m.stopAll(c);this.contentPage&&this.contentPage.randomizeOptions&&this.contentPage.randomizeOptions();var b=$(".dki-authoring-element,.dki-authoring-element-element",c.pageContainer);
$(c.pageContainer).trigger(DKI.ContentPage.events.reset);p.reset(c);$(".dki-authoring-group",c.pageContainer).each(function(){var b=$(this);c.getGroupById(b.data("id"));b.attr("class",b.data("start_class"));b.attr("style",b.data("start_style"))});b.each(function(){var b=$(this),h=b.first(".dki-authoring-content-wrapper"),k=$("#content_"+b.data("id"),this),l=c.getClaroElementById(b.data("id"));b.stop(!0,!0);b.removeAttr("data-viewed");c.settings.responsive||(b.css("left",b.data("x")+"px"),b.css("top",
b.data("y")+"px"));$("iframe",this).each(function(){$(this).attr("data-src")||$(this).attr("data-src",this.src);this.src="about:blank"});$("object.dki-element-content, iframe.dki-element-content, textarea.dki-element-content, map area, .dki-element-content iframe:first, .dki-element-content object:first, img.dki-element-content, .btn.dki-element-content",this).each(function(){this.tabIndex=-1});"html"==$(this).data("type")&&k.hasClass("adaptive")&&$(this).data("resizeInterval")&&(clearInterval($(this).data("resizeInterval")),
$(this).data("resizeInterval",null));if("multipleChoiceQuestion"==$(this).data("type")||"trueFalseQuestion"==$(this).data("type")||"multiplePulldownQuestion"==$(this).data("type")||"fillInTheBlanksQuestion"==$(this).data("type")||"clickTheWordQuestion"==$(this).data("type")||"dragTheWordQuestion"==$(this).data("type")||"sequencingQuestion"==$(this).data("type")||"imageMap"==$(this).data("type")||"matchingQuestion"==$(this).data("type"))$(this).find("#content_"+$(this).data("id")).QuestionElement("reset"),
l.parameters.config.variable_name&&contentApi.setData(l.parameters.config.variable_name,0);"categoryCards"==$(this).data("type")&&($(this).find("#content_"+$(this).data("id")).CategoryCards("reset"),l.parameters.config.variable_name&&contentApi.setData(l.parameters.config.variable_name,0));if("slider"==$(this).data("type")){var m=$(".slider",this);m[0]&&(!player.isSinglePage&&dataStorage.getContentVariable(m.data("variable-id"))?(m.data("automaticSet",!0),m[0].noUiSlider.set(dataStorage.getContentVariable(m.data("variable-id")))):
(m.data("automaticSet",!0),m[0].noUiSlider.set(l.parameters.config.noUISlider.start)))}"contentCarousel"==b.data("type")&&(b.find(".flickity.flickity_autoPlay").flickity("stopPlayer"),b.find(".flickity").flickity("selectCell",0));"timer"==b.data("type")&&b.data("timer").stop(function(){b.data("timer").reset()});"matchCardSet"==b.data("type")&&b.trigger("match.reset");"flipCardSet"==b.data("type")&&b.data("DKFlipCardSet").reset();"scenario"==$(this).data("type")&&$(this).find(".dki-element-content").Scenario("reset");
"tabset"==$(this).data("type")&&(l=c.getClaroElementById($(b).data("id")),"accordion"==l.parameters.config.orientation?(l.parameters.config.startUnopened||b.find(".panel-group\x3e.panel:first").addClass("expanded").find(".panel-collapse").trigger("show.bs.collapse").addClass("in"),b.find(".panel-group\x3e.panel"+(l.parameters.config.startUnopened?"":":not(:first)")+":not(.tabset-add)").removeClass("expanded").find(".panel-collapse").removeClass("in").trigger("hide.bs.collapse")):b.find(".nav \x3e li:first \x3ea").trigger("click.bs.tab.data-api"));
b.attr("class",b.data("start_class"));b.attr("style",b.data("start_style"));b.data("allViewed",!1);b.data("slidesViewed")&&b.data("slidesViewed",[]);"capture"==$(this).data("type")&&$(this).capture("reset",[!0]);"flashCardSet"==$(this).data("type")&&$(this).data("reset")&&$(this).data("reset")();h.attr("class",h.data("start_class"));h.attr("style",h.data("start_style"));k.attr("class",k.data("start_class"));k.attr("style",k.data("start_style"))});p.checkBreakPointThreshold("breakpoint",c);p.checkDeviceAdaptation("device",
c);$(".dki-videoembed-element object, .dki-chart-element object, .dki-flash-element object",c.pageContainer).each(function(){$(this).detach()});dkiUA.iOS&&$(this.pageContainer).find(".dki-video-element .dki-element-content[data-autoplay\x3d'true'] video").removeAttr("autoplay");contentApi.zoomOut(c,0);c.actionAPI.resetWaypoints(c);c.readyFired=!1;c.fireReady()}};0<b.timeout?setTimeout(h,b.timeout):h()};u.prototype.scaleElementChildren=function(b){if(!settings.responsive)return!1;var c=this;if(settings.responsive&&
("video"==b.elementtype||"image"==b.elementtype)){var h=function(b,h){h=b.find("#content_"+b.data("id"));var k=h.width()/h.data("assetwidth");h.parent(".dki-authoring-content-wrapper");parseInt(b.data("y"),10);parseInt(b.data("x"),10);b.find(".dki-authoring-element-elements-wrapper").css({transform:"scale("+k+")","transform-origin":"top left",display:"block"});b.data("scaleRatio",k);b.find(".dki-authoring-element-element").each(function(){var b=c.getClaroElementById($(this).data("id"));if("speechBubble"==
b.elementtype){var h=$(this).data("sb_fontSize")?$(this).data("sb_fontSize"):parseInt($(this).css("font-size").split("px")[0],10),l=h*k;l&&(l=l<b.parameters.config.font.min?b.parameters.config.font.min:l>b.parameters.config.font.max?b.parameters.config.font.max:0,$(this).data("sb_fontSize",h),l?$(this).css("font-size",1/k*l):$(this).css("font-size",""))}"label"==b.elementtype&&(h=parseFloat($(this).find(".dki-element-text").css("font-size"),10),l=h*k,10>l?(h=10/l,$(this).css("transform","scale("+
h+")"),$(this).css("transform-origin","top left")):$(this).css("transform",""),$(this).hasClass("labelResponded")?b.parameters.config.icon.onLeft||($(this).data("oldLeft",parseInt($(this).css("left"))),h=$(this).data("oldLeft")+(b.width-$(this).outerWidth()),$(this).css("left",h)):b.parameters.config.icon.onLeft||$(this).css("left",$(this).data("oldLeft")));"marker"==b.elementtype&&(h=1/k,$(this).css("transform","scale("+h+")"),$(this).css("transform-origin","top left"))})},l=function(b){var k=$(".dki-authoring-element[data-id\x3d"+
b.id+"]",c.pageContainer);0==k.length&&(k=$(".dki-authoring-element-element[data-id\x3d"+b.id+"]",c.pageContainer));"video"==b.elementtype&&(300>k.width()?k.find(".jp-video").removeClass("vid-md vid-lg").addClass("vid-sm"):600>k.width()?k.find(".jp-video").removeClass("vid-sm vid-lg").addClass("vid-md"):k.find(".jp-video").removeClass("vid-sm vid-md").addClass("vid-lg"));for(var m=0;m<b.elements.length;m++){var n=$("#"+b.elements[m].id+"_wrapper");if(("marker"==b.elements[m].elementtype||"label"==
b.elements[m].elementtype||"speechBubble"==b.elements[m].elementtype||"image"==b.elements[m].elementtype||"hotspot"==b.elements[m].elementtype)&&"label"==b.elements[m].elementtype&&"none"!=b.elements[m].parameters.config.response){n.hasClass("tooltipstered")||n.tooltipster({content:b.elements[m].meta,contentAsHTML:!0,trigger:"click",maxWidth:400,theme:"tooltipster-branded-big",functionReady:function(b,c){$(c.tooltip).append($("\x3cdiv/\x3e",{"class":"tooltip-branding",css:{"background-color":content.find(".iconContainer i").css("background-color")}}))}});
var p=settings.flowBreakpoints[b.elements[m].parameters.config.response].to;$(window).width()<=p?n.tooltipster("enable").addClass("labelResponded"):n.tooltipster("disable").removeClass("labelResponded")}h(k,b.elements[m]);b.elements[m].elements&&l(b.elements[m])}};l(b)}};u.prototype.isPaused=m.isPaused;u.prototype.fireReady=function(){this.readyFired||(this.readyFired=!0,settings.responsive&&$(".dki-authoring-element",this.pageContainer).each(function(){var b=$(this).position();$(this).data("x",b.left).data("y",
b.top)}),$(document).trigger(DKI.ContentPage.events.ready,[this.page,this.pageContainer]),$(document).trigger(DKI.ContentPage.events.afterReady,[this.page,this.pageContainer,this]))};u.prototype.resizeCarousels=function(b){b=b?b:$(".flickity, .flip",this.pageContainer);b.each(function(){var b=$(this),c=b.data("vertical-alignment");b.find(".panel-collapse.collapse:not(.in)").css({height:"auto",display:"block",visibility:"hidden"});var h=b.find("\x3e .flickity-viewport \x3e .flickity-slider \x3e .dki-panel-element \x3e .dki-authoring-content-wrapper \x3e .dki-element-content \x3e .panel,\x3e .face \x3e .dki-panel-element \x3e .dki-authoring-content-wrapper \x3e .dki-element-content \x3e .panel");
h.css({"padding-top":"","padding-bottom":""});h.find(".panel-body").css({"padding-top":"","padding-bottom":""});b.hasClass("flickity")&&b.data("flickity")&&b.flickity("resize");var k=h.map(function(){return $(this).outerHeight()}),l=Math.max.apply(null,k);h.each(function(){var b=$(this).find(".panel-body:first"),h=b.css("height"),k=l-b.css("height","").outerHeight();$("body").hasClass("responsive")||b.css("height",h);0<k&&("top"==c?b.css({"padding-top":"","padding-bottom":parseInt(b.css("padding-bottom").split("px")[0],
10)+k}):"bottom"==c?b.css({"padding-bottom":"","padding-top":parseInt(b.css("padding-bottom").split("px")[0],10)+k}):b.css({"padding-top":parseInt(b.css("padding-top").split("px")[0],10)+k/2,"padding-bottom":parseInt(b.css("padding-bottom").split("px")[0],10)+k/2}))});b.find(".panel-collapse.collapse:not(.in)").css({height:"0px",display:"",visibility:""})})};u.prototype.resizeSvgs=function(){dkiUA.isIE()&&settings.responsive&&$(".dki-svg-element svg",this.pageContainer).each(function(){var b=this.attributes.viewBox.value.split(" "),
b=b[3]/b[2],c=$(this).width();$(this).height(c*b)})};u.prototype.resizeTabs=function(){var b=this;settings.responsive&&$($(".dki-tabset-element",this.pageContainer).get().reverse()).each(function(){var c=$(this),h=b.getClaroElementById(c.data("id"));if(h.parameters.config.normalizeHeight){var l=c.find(".nav").outerHeight(),m=h.parameters.config.verticalMaxHeight;$(".tab-pane",c).each(function(){var b=$(this).css("width","100%");b.outerHeight()>l&&(l=b.outerHeight());b.css("width","")});("vertical"==
h.parameters.config.orientation||"vertical-right"==h.parameters.config.orientation)&&""!=m&&l>DKI.getViewPortHeight(m)?(c.addClass("verticalMax"),c.find(".tab-content \x3e .tab-pane").addClass("dki-vpMinHeight-"+m),c.find(".tab-content \x3e .tab-pane").addClass("dki-vpMaxHeight-"+m)):(c.removeClass("verticalMax"),c.find(".tab-content").css("min-height",l))}})};u.prototype.resizeDropTargets=function(){$("div.dropTarget[data-height]",this.pageContainer).each(function(){var b=$(this);b.style("min-height",
b.width()*b.data("height")/100+"px");if("undefined"!=typeof b.data("align")){b.css({"padding-top":""});var c=parseInt(b.css("padding-top").split("px")[0],10),h=b.find(".dropTargetTextWrapper").height(),l=parseInt(b.data("align"),10)/100,c=(b.height()-h)*l+c+"px";b.css("padding-top",c)}})};u.prototype.resizeSelectionDropdowns=function(){var b=this;$(".dki-selection-element",this.pageContainer).each(function(){var c=$(this);c.find(".dropdown-menu").style("max-width",$(b.pageContainer).width()-c.offset().left-
15+"px")})};u.prototype.resizeSection=function(b){b=$(b);if(b.hasClass("dki-section-height")){b.css({"padding-top":""});var c=parseInt(b.css("padding-top").split("px")[0],10);if(!b.hasClass("super-section")){var h=b.height(),l=0;b.find(".dki-authoring-row").each(function(){l+=$(this).height()});var m=parseInt(b.data("vertical-align"),10)/100;b.css("padding-top",(h-l)*m+c+"px")}}else b.css({"padding-top":""})};u.prototype.resizeSections=function(){var b=this;$(".dki-iframe-element",this.pageContainer).each(function(){var b=
$(this),c=b.data("height")/b.data("width")*100;b.find(".dki-authoring-content-wrapper").css("padding-bottom",c+"%")});var c=dkiUA.isIE()?"*":"[data-vertical-align\x3d'25'],.dki-authoring-section[data-vertical-align\x3d'75']";$(".dki-authoring-row.synchronize-heights",this.pageContainer).each(function(){var b=$(this);synchonizeRowHeight(b)});$(".dki-authoring-section",this.pageContainer).each(function(){var h=$(this);h.is(c)&&b.resizeSection(this);h.hasClass("has-top-decoration")&&h.prev().addClass("before-decoration");
h.hasClass("has-bottom-decoration")&&h.next().addClass("after-decoration");h.is(".super-section")&&(h.width(),h.find(".dki-authoring-group").each(function(){var b=$(this),c=b.find(".dki-authoring-group-elements-wrapper"),k=[{elements:[],tallest_height:0}],l=b.width(),m=0;c.css({"padding-top":"","padding-bottom":""});b.find(".dki-authoring-element").each(function(){var b=$(this);m+=b.width();m>l&&(k.push({elements:[],tallest_height:0}),m=b.width());b.height()>k[k.length-1].tallest_height&&(k[k.length-
1].tallest_height=b.height());k[k.length-1].elements.push(b)});var n=0;$.each(k,function(){n+=this.tallest_height});var b=parseInt(h.data("vertical-align"),10)/100,b=(h.height()-n)*b,p=h.height()-n-b;c.css({"padding-top":b+"px","padding-bottom":p+"px"})}))});$(".dki-image-element img.dki-element-content, .dki-image-element canvas.dki-element-content",this.pageContainer).maskImage({preserveAspectRatio:settings.responsive?!1:"none"});$(".dki-contentCarousel-element",this.pageContainer).each(function(){$(this).flickity&&
$(this).find(".flickity-enabled").flickity("resize")})};u.prototype.onWindowScroll=function(b){var c=b?b.scrollTop:window.pageYOffset;$(".bg-parallax",this.pageContainer).each(function(){var b=.25*(c-$(this).offset().top);$(this).css("background-position-y",b)});$(".bg-parallaxer",this.pageContainer).each(function(){var b=.5*(c-$(this).offset().top);$(this).css("background-position-y",b)});$(".bg-parallaxest",this.pageContainer).each(function(){var b=.814*(c-$(this).offset().top);$(this).css("background-position-y",
b)})};u.prototype.setLabelWrapperPosition=function(b){var c=function(c,h){var l=b.data("id"),l=b.find("#content_"+l).width(),m=$("#"+b.data("id")+"_content_wrapper"),n="0%",p=0,q=0,u=parseFloat(b.find(".dki-authoring-content-wrapper").css("padding-left"),10),v=parseFloat(b.find(".dki-authoring-content-wrapper").css("padding-right"),10);parseFloat(b.find(".dki-authoring-content-wrapper").css("padding-bottom"),10);var E=parseFloat(b.find(".dki-authoring-content-wrapper").css("padding-top"),10),G="video"==
b.data("type");h&&(n="calc(0% + "+u+"px)");G&&(q=-1*E);m.hasClass("align-left")?G&&(p-=u):m.hasClass("align-center")?(n="50%",p=G?-1*(l/2+u):(l+u+v)/2*-1):m.hasClass("align-right")&&(n="100%",h&&(n="calc(100% - "+u+"px)"),p=G?-1*(l+u):-1*(l+u+v));c.css({top:q,left:n,"margin-left":p})};if("image"==b.data("type")||"video"==b.data("type"))c(b.find(".dki-authoring-element-elements-wrapper"));else{var h=this;(c=h.getClaroElementById(b.find(".dki-authoring-element-element").data("id")))&&c.elements&&$.each(c.elements,
function(){h.setLabelWrapperPosition($("#"+this.id+"_wrapper"));h.scaleElementChildren(this)})}};u.prototype.setTabsetTabSize=function(b){dkiUA.isIE()&&(b=b.find(".dki_chevron_tab \x3e ul.nav \x3e li"),resizeChevronTab=function(b,c){var h=$(b).find("a").first(),k=Math.min($(b).height(),$(b).width())/4.75;h.css("padding-left",k-10);h.css("padding-right",k+5);1>c&&resizeChevronTab(b,c+1)},b.each(function(){$(this).find("a").first().css({"padding-left":"","padding-right":""});resizeChevronTab(this,0)}))};
u.prototype.repositionMultiplePulldownQuestion=function(){if(settings.responsive){var b=$('.pageElementsWrapper .dki-authoring-element[data-elementtype\x3d"multiplePulldownQuestion"]',this.pageContainer),c=b.length;b.each(function(){$(this).css("z-index",c);c--})}};u.prototype.repositionElements=function(){var b=this;$(".dki-authoring-element",this.pageContainer).each(function(){var c=function(c){c=$(c);var h=b.getClaroElementById(c.data("id"));"radialGauge"==c.data("type")&&c.find(".radial").RadialGauge("resize");
if("image"==c.data("type")||"video"==c.data("type"))b.setLabelWrapperPosition(c),"image"==c.data("type")&&c.data("resizeMap")&&c.data("resizeMap")();"imageMap"==c.data("type")&&b.setLabelWrapperPosition(c);if("selection"==c.data("type")){var l=c.find(".dropdown-menu");c.offset().top+c.outerHeight()+l.outerHeight()>$(b.pageContainer).innerHeight()?l.parent().addClass("dropup"):l.parent().removeClass("dropup")}"matchCardSet"==c.data("type")&&c.trigger("match.resize");"tabset"==c.data("type")&&b.setTabsetTabSize(c);
b.scaleElementChildren(h)};c(this);$.each($(this).find(".dki-authoring-element-element"),function(){c(this)})});this.repositionMultiplePulldownQuestion()};u.prototype.onWindowResize=function(){var b=this;p.checkBreakPointThreshold("breakpoint",this);this.repositionElements();$(".pageBackground:visible",this.pageContainer).each(function(){var b=$(this).data("forPage"),b=$("#"+b,this.pageContainer).width();$(this).width(b)});this.resizeSvgs();this.resizeSections();this.resizeCarousels();this.resizeDropTargets();
this.reCalculateMediaControls();this.resizeSelectionDropdowns();this.resizeTabs();this.flagBreakpointElements();setTimeout(function(){b.resizeCarousels();b.resizeTabs()},250)};u.prototype.reCalculateMediaControls=function(){settings.responsive&&($(".dki-audio-element",this.pageContainer).each(function(){var b=$(this).width();143>b?($(this).find(".jp-time").css("display","none"),$(this).find(".jp-mute").css("display","none")):230>b?($(this).find(".jp-duration").css("display","none"),$(this).find(".jp-time-slash").css("display",
"none"),$(this).find(".jp-mute").css("display","none")):($(this).find(".jp-time").css("display",""),$(this).find(".jp-duration").css("display",""),$(this).find(".jp-time-slash").css("display",""),$(this).find(".jp-mute").css("display",""))}),$(".dki-video-element",this.pageContainer).each(function(){var b=$(this).width();200>b?($(this).find(".jp-time").css("display","none"),$(this).find(".jp-transcript").css("display","none"),$(this).find(".jp-cc").css("display","none"),$(this).find(".subClass").css("display",
"none")):(300>b?$(this).find(".jp-time").css("display","none"):$(this).find(".jp-time").css("display",""),$(this).find(".jp-transcript").css("display",""),$(this).find(".jp-cc").css("display",""),$(this).find(".subClass").css("display",""))}))};u.prototype.getPageTransitionTime=function(){var b=$(".dkiContentFrame.current").css("transition-duration").toLowerCase();return-1<b.indexOf("ms")?parseFloat(b):1E3*parseFloat(b)};u.prototype.destroy=function(){$.each(this.wayPoints,function(){this.destroy()});
$(".dki-capture-element",this.pageContainer).each(function(){$(this).capture("destroy")});$(".dki-matchCardSet-element .match_feedback_container.dki-stayInView",this.pageContainer).each(function(){$(this).StayInView("destroy")});$(".dki-scenario-element .dki-element-content",this.pageContainer).each(function(){$(this).Scenario("destroy")});$(".dki-categoryCards-element .dki-element-content",this.pageContainer).each(function(){$(this).CategoryCards("destroy")});$(".dki-multipleChoiceQuestion-element .dki-element-content,.dki-trieFalseQuestion-element .dki-element-content,.dki-multiplePulldown-element .dki-element-content, .dki-clickTheWord-element .dki-element-content",
this.pageContainer).each(function(){$(this).CategoryCards("destroy")})};u.prototype.showLoader=function(){var b=$(this.pageContainer).find(".pageLoader"),c=window.outerHeight/2-$("#navbar_header").outerHeight()-15;b[0]||(b=$("\x3cdiv class\x3d'pageLoader disabler disablerWrapper' style\x3d'cursor:default;'\x3e\x3cdiv class\x3d'disabler spinner' style\x3d'display:block;top:"+c+"px'\x3e\x3c/div\x3e\x3c/div\x3e").appendTo(this.pageContainer));b.show()};u.prototype.hideLoader=function(){var b=$(this.pageContainer).find(".pageLoader");
b[0]&&b.hide()};u.prototype.getZIndex=function(){return 0};u.prototype.jumpToGroup=function(b,c){var h=$(".dki-authoring-group[data-id\x3d'"+b+"']",this.pageContainer);h[0]&&("undefined"==typeof c?h.velocity("scroll"):setTimeout(function(){h.velocity("scroll")},c))};u.prototype.getNarrationPlayer=function(){var b=$(".dki-authoring-element.dki-audio-element[data-narration\x3d1]",this.pageContainer);return b.length&&(b=this.mediaPlayers["content_"+b.data("id")])?b:null};u.prototype.pauseNarration=function(){var b=
this.getNarrationPlayer();b&&b.jPlayer("pause")};u.prototype.playNarration=function(){var b=this.getNarrationPlayer();b&&b.jPlayer("play")};u.prototype.muteNarration=function(){var b=this.getNarrationPlayer();b&&b.jPlayer("mute")};u.prototype.unmuteNarration=function(){var b=this.getNarrationPlayer();b&&b.jPlayer("unmute")};u.prototype.replayNarration=function(){var b=this.getNarrationPlayer();b&&l.play(b,this,0)};u.prototype.markElementsonlyShownByBreakpointActions=function(){var b=this;$(".dki-authoring-element:not(.dki-placeholder-element), .dki-authoring-element-element:not(.dki-placeholder-element)",
this.pageContainer).each(function(){var c=$(this).data("id");p.elementIsonlyShownByBreakpointActions(c,b)&&$(this).addClass("onlyShownByBreakpointActions")})};u.prototype.flagBreakpointElements=function(){var b=$(".dki-authoring-element:not(.dki-placeholder-element), .dki-authoring-element-element:not(.dki-placeholder-element)",this.pageContainer).filter(".hidden-lg, .hidden-md, .hidden-sm, .hidden-xs"),c=window.innerWidth;b.removeClass("hiddenByBreakpoint");b.each(function(){($(this).hasClass("hidden-lg")&&
1200<=c||$(this).hasClass("hidden-md")&&992<=c&&1199>=c||$(this).hasClass("hidden-sm")&&768<=c&&991>=c||$(this).hasClass("hidden-xs")&&767>=c)&&$(this).addClass("hiddenByBreakpoint")})};return u}();
DKI.ContentPage.events={resize:"PAGE_RESIZE",shown:"ELEMENT_SHOWN",hidden:"ELEMENT_HIDDEN",reset:"PAGE_RESET",ready:"PAGE_READY",afterReady:"AFTER_PAGE_READY",loadFinished:"PAGE_LOADED",started:"PAGE_STARTED",elementDragStarted:"ELEMENT_DRAG_STARTED",elementDragStopped:"ELEMENT_DRAG_STOPPED",elementDragReverted:"ELEMENT_DRAG_REVERTED",elementDragDropped:"ELEMENT_DRAG_DROPPED",elementDropOut:"ELEMENT_DROP_OUT",elementDropOver:"ELEMENT_DROP_OVER",elementDropDropped:"ELEMENT_DROP_DROPPED",elementContentChanged:"ELEMENT_CONTENT_CHANGED",
elementContentViewed:"ELEMENT_CONTENT_VIEWED",elementAllContentViewed:"ELEMENT_ALL_CONTENT_VIEWED",questionElementSubmitted:"ELEMENT_QUESTION_SUBMITTED",questionElementFeedbackShown:"ELEMENT_QUESTION_FEEDBACK_SHOWN",markerTriggered:"ELEMENT_MARKER_TRIGGERED",actionFired:"actionFired",media:{started:"PAGE_MEDIA_STARTED",ended:"PAGE_MEDIA_ENDED",paused:"PAGE_MEDIA_PAUSED",played:"PAGE_MEDIA_PLAYED"},elementSwipeStart:"ELEMENTSWIPESTART",elementSwipeEnd:"ELEMENTSWIPEEND",elementReviewClicked:"ELEMENTREVIEWCLICKED",
elementReview:"ELEMENTREVIEW",elementReviewComment:"ELEMENTREVIEWCOMMENT",rootElementClicked:"ROOTELEMENTCLICKED",elementAccessibilityClicked:"ELEMENTACCESSIBILITYCLICKED",captureElementInteracted:"CAPTUREELEMENTINTERACTED",captureTestmeStepSubmitted:"CAPTURETESTMESTEPSUBMITTED",captureTestmeSubmitted:"CAPTURETESTMESUBMITTED",flashCardSubmitted:"FLASHCARDSUBMITTED",flashCardSetSubmitted:"FLASHCARDSETSUBMITTED",sectionBottomInView:"SECTIONBOTTOMINVIEW",scenarioOptionSelected:"SCENARIOOPTIONSELECTED",
scenarioEnded:"SCENARIOENDED",categoryCard:{completed:"CATEGORYCARDCOMPLETED",answered:"CATEGORYCARDANSWERED"}};DKI.applyIf(DKI.ContentPage,{waypointDefaults:{}});DKI.StandalonePage=function(b){var h=this;this.isStandalonePage=!0;b.fancyboxInstance&&(this.fancyboxInstance=b.fancyboxInstance);this.groups=b.page.groups;this.parameters=b.page.parameters;this.superClass=DKI.ContentPage;this.superClass.apply(this,[b]);$(this.pageContainer).find(".pageElementsWrapper").on("scroll",function(){h.onWindowScroll($(this))})};
DKI.StandalonePage.prototype=Object.create(DKI.ContentPage.prototype);DKI.StandalonePage.prototype.resize=function(){};DKI.StandalonePage.prototype.getPageTransitionTime=function(){return 0};DKI.StandalonePage.prototype.renderPage=function(){$(this.pageContainer).html(DKI.renderService.renderPage(this.page,this.settings.course,!0))};
DKI.StandalonePage.prototype.setMinHeight=function(){var b=$(this.pageContainer).find(".pageElementsWrapper")[0];this.superClass.prototype.setMinHeight.apply(this,[b,b.scrollHeight])};DKI.StandalonePage.prototype.getZIndex=function(){return parseInt($(this.pageContainer).closest(".fancybox-container").css("z-index"),10)};
function showElement(b,h){null!=b&&void 0!=b&&""!=b&&(b=b.split(","),player.contentPage.current.actionAPI.actionHandlers.show({id:null,targetElements:b,trigger:"click",parameters:{effect:h,effectOptions:{direction:"",duration:1E3}}},player.contentPage.current))}
function setVariableText(b,h,c){$(".dki-inline-variable[data-variable-id\x3d'"+b+"']",c.pageContainer).html(h);$("textarea.dki-element-content[data-variable-id\x3d'"+b+"']",c.pageContainer).val(h);$(".dki-input-element input[data-variable-id\x3d'"+b+"']",c.pageContainer).val(h)}
function hideElement(b,h){null!=b&&void 0!=b&&""!=b&&(b=b.split(","),player.contentPage.current.actionAPI.actionHandlers.hide({id:null,targetElements:b,trigger:"click",parameters:{effect:h,effectOptions:{direction:"",duration:1E3}}},player.contentPage.current))}
function showHideElement(b,h,c){null!=b&&void 0!=b&&""!=b&&(b=b.split(","),player.contentPage.current.actionAPI.actionHandlers.toggle({id:null,targetElements:b,trigger:"click",parameters:{showEffect:h,hideEffect:c,showEffectOptions:{direction:"",duration:1E3},hideEffectOptions:{direction:"",duration:1E3}}},player.contentPage.current))}
function processHrefTarget(b,h){try{b=b.toString();var c=b.split(",");for(h=0;h<c.length;h++){var l=c[h];$("#"+l+"_wrapper").addClass("dki-event-target");$("#"+l+"_wrapper").addClass("dki-imagemap-target");$("#"+l+"_wrapper").data("eventtargets",b)}}catch(m){l=b,$("#"+l+"_wrapper").addClass("dki-event-target"),$("#"+l+"_wrapper").addClass("dki-imagemap-target"),$("#"+l+"_wrapper").data("eventtargets",b)}}
function hideAllEventElements(){$(".dki-imagemap-target").addClass("hidden");$(document).trigger("imageMapFired",{message:"All image map targets hidden."})}function processHttpEvent(b){b=$(b).data("href");window.open(b,"hrefWindow","");$(document).trigger("imageMapFired",{message:"'"+b+"' was opened in a new window"})}
function synchonizeRowHeight(b){var h=b.width(),c=[{groups:[],tallest_height:0}],l=0;b.find("\x3e .dki-authoring-group").each(function(){var b=$(this);b.find(".dki-authoring-group-elements-wrapper").css({"padding-top":"","padding-bottom":""});l+=b.width();l>h&&(c.push({groups:[],tallest_height:0}),l=b.width());b.height()>c[c.length-1].tallest_height&&(c[c.length-1].tallest_height=b.height());c[c.length-1].groups.push(b)});$.each(c,function(){var c=this;$.each(c.groups,function(){var h=parseInt(b.data("vertical-align"),
10)/100,h={"padding-top":(c.tallest_height-this.height())*h+parseInt(this.css("padding-top").replace("px",""),10)};h["padding-bottom"]=c.tallest_height-(this.height()+h["padding-top"]);this.find(".dki-authoring-group-elements-wrapper").css(h)})})}
jQuery.fn.extend({capture:function(b,h){var c=$(this).data("cap");if(c){if(c[b])return c[b].apply(c,h);!$(this).hasClass("dki-capture-element")||"goToOverallStep"!==b&&"goToScene"!==b||(c=function(b){b[0]&&(settings.responsive?b.velocity("scroll",{duration:200,offset:-75}):b.velocity("scroll",{duration:200,offset:-75,container:b.closest(".dki-element-content")}))},"goToScene"===b?(b=$($(this).find(h[0])).closest(".panel"),c(b)):"goToOverallStep"===b&&(b=$($(this).find(".step").get(h[0]-1)),h=b.closest(".col-sm-12"),
h.css("position","static"),c(b),h.css("position","")))}}});DKI||(DKI={});
DKI.Scene=function(){var b=function(){var b=this;(new DKI.disabler({text:b.strings.clickToShow,onClick:function(h){h.hide();$(".pageElementsWrapper",b.pageContainer).append(b.narrationElement);b.mousePointer.show();c.stepForward.call(b)}})).show()},h=function(){var b=this;(new DKI.disabler({text:b.strings.clickToTry,onClick:function(h){h.hide();c.stepForward.call(b);$(".dki-hotspot-element",b.pageContainer).on("click",function(){c.stepForward.call(b)});$(".pageElementsWrapper",b.pageContainer).append(b.narrationElement)}})).show()},
c={start:function(){this.groups.hide();this.page.start();"show"==this.parameters.scene.type?b.call(this):h.call(this)},reset:function(b){b=DKI.applyIf(b,{timeout:0});var c=this,h=function(){c.currentGroup=null;c.currentGroupIndex=-1;c.highlightInterval&&clearInterval(c.highlightInterval);b.timeout=0;c.page.reset(b)};0<b.timeout?setTimeout(h,b.timeout):h()},onWindowResize:function(){this.page.onWindowResize()},stepForward:function(){var b=this;this.highlightInterval&&clearInterval(this.highlightInterval);
this.currentGroup&&this.currentGroup.hide();this.currentGroupIndex++;if(this.currentGroupIndex>=this.groups.length)this.currentGroup=null,this.currentGroupIndex=-1,this.mousePointer.hide(),contentApi.contentGoNext();else{this.currentGroup=$(this.groups[this.currentGroupIndex]);this.currentGroup.show();var h=$(".dki-hotspot-element",this.currentGroup);if("try"==this.parameters.scene.type)h.length?this.highlightInterval=setInterval(function(){h.effect("highlight",{},1500)},3500):c.stepForward.call(this);
else{var l=function(){if(h.length){this.mousePointer.show();var c={left:parseInt(h.css("left").split("px")[0],10),top:parseInt(h.css("top").split("px")[0],10)};c.top+=h.height()/2;c.left+=h.width()/2;this.mousePointer.animate(c,b.parameters.scene.stepDuration-1500,function(){h.effect("highlight",{color:"#FFCC66"},1500)})}};h.length||this.mousePointer.hide();var u=$(".dki-audio-element[data-narration\x3d1] .dki-element-content",this.currentGroup);if(u.length){var k=function(h){setTimeout(function(){c.stepForward.call(b)},
500);u.off($.jPlayer.event.ended,k)},q=function(c){l.call(b);u.off($.jPlayer.event.play,q)};u.on($.jPlayer.event.ended,k);u.on($.jPlayer.event.play,q)}else l.call(b),setTimeout(function(){c.stepForward.call(b)},b.parameters.scene.stepDuration)}}},stepBack:function(){this.currentGroup&&this.currentGroup.hide();this.currentGroupIndex--; -1==this.currentGroupIndex?(this.currentGroup=null,this.currentGroupIndex=-1):(this.currentGroup=$(this.groups[this.currentGroupIndex]),this.currentGroup.show())}},
l=function(b,c){var h=this;this.player=b;this.strings={clickToShow:"Click to start the simulation.",clickToTry:"Click to try the simulation."};this.page=c;this.parameters=c.page.parameters;DKI.applyIf(this.parameters,{scene:{stepDuration:2500}});this.behaviour=this.player.behaviour;this.inReview=this.player.inReview;this.settings=this.player.settings;this.pageContainer=this.page.pageContainer;this.mousePointer=$("\x3cdiv class\x3d'scene-mouse-pointer'\x3e\x3c/div\x3e");$(".pageElementsWrapper",this.pageContainer).append(this.mousePointer);
this.groups=$(".dki-authoring-group",this.pageContainer);this.currentGroup=null;this.currentGroupIndex=-1;this.highlightInterval=null;$.each(this.page,function(b){"undefined"==typeof h[b]&&DKI.isFunction(this)&&(h[b]=$.proxy(h.page[b],h.page))})};DKI.applyIf(l.prototype,c);return l}();DKI.Scene.events={finished:"SCENE_FINISHED",started:"SCENE_STARTED"};
(function(b){function h(b,c,h,k){h=null!=h?h:c;for(var l in b)b.hasOwnProperty(l)&&(h[l]=m.rewrite(l,b,c,k));return c}function c(b){return"[object Function]"===z.call(b)}var l=!1,m,p="_Class"+(new Date).getTime()+"_",n="_"+p+"_",u="_"+n+"_",k=/\b_parent\b/.test(function(){this._parent()}),q=k?/\b_parent\b/:/.*/,v=k?/\b_parent\b\./:/.*/,y=RegExp.prototype.test,z=Object.prototype.toString,A=function(){function b(h){if(this instanceof b)!1===l&&c(this.init)&&this.init.apply(this,"object"===typeof h&&
null!==h&&h.callee?h:arguments);else return new b(arguments)}b[n]=!0;return b},r=A();r.extend=function(b,c){var k=A(),n,p=this,r,q=p.prototype;"boolean"!==typeof b&&(c=b);c="object"===typeof c&&null!==c?c:{};r=c.prototype;for(n in p)p.hasOwnProperty(n)&&(k[n]=p[n]);if(!0===b||"object"===typeof r&&null!=r)h(c,p,k,m.initPopulator(p)),c=r;k.constructor=k;l=!0;r=new p;l=!1;c=c||{};h(c,q,r,m.initPopulator(q));k.prototype=r;k.prototype.constructor=k;k.inherits=function(b){return b===p||p.inherits(b)};return k};
r.addMethods=function(b){return h(b,this.prototype)};r.inherits=function(){return!1};r.prototype={addMethods:function(b){return h(b,this)}};v.test=function(b){return y.call(v,b)||!0===b[u]};m=function(b,c){return r.extend(b,c)};m.fnSearch=q;m.parentFnSearch=v;m.log_prefix="_Class";m.errors={logic_parent_call:"Logic error, unable to call the parent function since it isn't defined..",invalid_$:"Invalid data-type of the global '$' property"};m.makeClass=A;m.rewrite=function(b,h,k,l){return!c(h[b])||
!c(k[b])&&b in k||m.is(h[b])||!q.test(h[b])?h[b]:function(b,h,k){h||(h=function(){throw m.log_prefix+m.errors.logic_parent_call;});var l=!(!c(k)||!v.test(b)),n=function(){var c="_parent"in this,m=this._parent,n;if(!0===l){l=!1;n=k();for(var r in n)n.hasOwnProperty(r)&&(h[r]=n[r])}this._parent=h;this._parent[p]=this;n=b.apply(this,arguments);if(c)this._parent=m;else try{delete this._parent}catch(q){}return n};n[u]=l;return n}(h[b],k[b],l)};m.is=function(b){return!(!b||!0!==b[n])};m.initPopulator=function(b){var h;
return function(){if(null==h){h={};for(var k in b)c(b[k])&&(h[k]=function(b){return function(){return b.apply(this[p],arguments)}}(b[k]))}return h}};if(!b.$){if("$"in b)throw m.log_prefix+m.errors.invalid_$;b.$={}}b.$.Class=m})(this);
!function(){var b=function(h){var c=new b.Index;return c.pipeline.add(b.trimmer,b.stopWordFilter,b.stemmer),h&&h.call(c,c),c};b.version="0.5.4";b.utils={};b.utils.warn=function(b){return function(b){}}(this);b.EventEmitter=function(){this.events={}};b.EventEmitter.prototype.addListener=function(){var b=Array.prototype.slice.call(arguments),c=b.pop();if("function"!=typeof c)throw new TypeError("last argument must be a function");b.forEach(function(b){this.hasHandler(b)||(this.events[b]=[]);this.events[b].push(c)},
this)};b.EventEmitter.prototype.removeListener=function(b,c){this.hasHandler(b)&&(c=this.events[b].indexOf(c),this.events[b].splice(c,1),this.events[b].length||delete this.events[b])};b.EventEmitter.prototype.emit=function(b){if(this.hasHandler(b)){var c=Array.prototype.slice.call(arguments,1);this.events[b].forEach(function(b){b.apply(void 0,c)})}};b.EventEmitter.prototype.hasHandler=function(b){return b in this.events};b.tokenizer=function(b){if(!arguments.length||null==b||void 0==b)return[];if(Array.isArray(b))return b.map(function(b){return b.toLowerCase()});
for(var c=b.toString().replace(/^\s+/,""),l=c.length-1;0<=l;l--)if(/\S/.test(c.charAt(l))){c=c.substring(0,l+1);break}return c.split(/(?:\s+|\-)/).map(function(b){return b.toLowerCase()})};b.Pipeline=function(){this._stack=[]};b.Pipeline.registeredFunctions={};b.Pipeline.registerFunction=function(h,c){c in this.registeredFunctions&&b.utils.warn("Overwriting existing registered function: "+c);h.label=c;b.Pipeline.registeredFunctions[h.label]=h};b.Pipeline.warnIfFunctionNotRegistered=function(h){h.label&&
h.label in this.registeredFunctions||b.utils.warn("Function is not registered with pipeline. This may cause problems when serialising the index.\n",h)};b.Pipeline.load=function(h){var c=new b.Pipeline;return h.forEach(function(h){var m=b.Pipeline.registeredFunctions[h];if(!m)throw Error("Cannot load un-registered function: "+h);c.add(m)}),c};b.Pipeline.prototype.add=function(){Array.prototype.slice.call(arguments).forEach(function(h){b.Pipeline.warnIfFunctionNotRegistered(h);this._stack.push(h)},
this)};b.Pipeline.prototype.after=function(h,c){b.Pipeline.warnIfFunctionNotRegistered(c);h=this._stack.indexOf(h)+1;this._stack.splice(h,0,c)};b.Pipeline.prototype.before=function(h,c){b.Pipeline.warnIfFunctionNotRegistered(c);h=this._stack.indexOf(h);this._stack.splice(h,0,c)};b.Pipeline.prototype.remove=function(b){b=this._stack.indexOf(b);this._stack.splice(b,1)};b.Pipeline.prototype.run=function(b){for(var c=[],l=b.length,m=this._stack.length,p=0;l>p;p++){for(var n=b[p],u=0;m>u&&(n=this._stack[u](n,
p,b),void 0!==n);u++);void 0!==n&&c.push(n)}return c};b.Pipeline.prototype.reset=function(){this._stack=[]};b.Pipeline.prototype.toJSON=function(){return this._stack.map(function(h){return b.Pipeline.warnIfFunctionNotRegistered(h),h.label})};b.Vector=function(){this._magnitude=null;this.list=void 0;this.length=0};b.Vector.Node=function(b,c,l){this.idx=b;this.val=c;this.next=l};b.Vector.prototype.insert=function(h,c){var l=this.list;if(!l)return this.list=new b.Vector.Node(h,c,l),this.length++;for(var m=
l,l=l.next;void 0!=l&&!(h<l.idx);)m=l,l=l.next;return m.next=new b.Vector.Node(h,c,l),this.length++};b.Vector.prototype.magnitude=function(){if(this._magniture)return this._magnitude;for(var b,c=this.list,l=0;c;)b=c.val,l+=b*b,c=c.next;return this._magnitude=Math.sqrt(l)};b.Vector.prototype.dot=function(b){var c=this.list;b=b.list;for(var l=0;c&&b;)c.idx<b.idx?c=c.next:c.idx>b.idx?b=b.next:(l+=c.val*b.val,c=c.next,b=b.next);return l};b.Vector.prototype.similarity=function(b){return this.dot(b)/(this.magnitude()*
b.magnitude())};b.SortedSet=function(){this.length=0;this.elements=[]};b.SortedSet.load=function(b){var c=new this;return c.elements=b,c.length=b.length,c};b.SortedSet.prototype.add=function(){Array.prototype.slice.call(arguments).forEach(function(b){~this.indexOf(b)||this.elements.splice(this.locationFor(b),0,b)},this);this.length=this.elements.length};b.SortedSet.prototype.toArray=function(){return this.elements.slice()};b.SortedSet.prototype.map=function(b,c){return this.elements.map(b,c)};b.SortedSet.prototype.forEach=
function(b,c){return this.elements.forEach(b,c)};b.SortedSet.prototype.indexOf=function(b,c,l){c=c||0;l=l||this.elements.length;var m=l-c,p=c+Math.floor(m/2),n=this.elements[p];return 1>=m?n===b?p:-1:b>n?this.indexOf(b,p,l):n>b?this.indexOf(b,c,p):n===b?p:void 0};b.SortedSet.prototype.locationFor=function(b,c,l){c=c||0;l=l||this.elements.length;var m=l-c,p=c+Math.floor(m/2),n=this.elements[p];if(1>=m){if(n>b)return p;if(b>n)return p+1}return b>n?this.locationFor(b,p,l):n>b?this.locationFor(b,c,p):
void 0};b.SortedSet.prototype.intersect=function(h){var c=new b.SortedSet,l=0,m=0,p=this.length,n=h.length,u=this.elements;for(h=h.elements;!(l>p-1||m>n-1);)u[l]!==h[m]?u[l]<h[m]?l++:u[l]>h[m]&&m++:(c.add(u[l]),l++,m++);return c};b.SortedSet.prototype.clone=function(){var h=new b.SortedSet;return h.elements=this.toArray(),h.length=h.elements.length,h};b.SortedSet.prototype.union=function(b){var c,l,m;return this.length>=b.length?(c=this,l=b):(c=b,l=this),m=c.clone(),m.add.apply(m,l.toArray()),m};
b.SortedSet.prototype.toJSON=function(){return this.toArray()};b.Index=function(){this._fields=[];this._ref="id";this.pipeline=new b.Pipeline;this.documentStore=new b.Store;this.tokenStore=new b.TokenStore;this.corpusTokens=new b.SortedSet;this.eventEmitter=new b.EventEmitter;this._idfCache={};this.on("add","remove","update",function(){this._idfCache={}}.bind(this))};b.Index.prototype.on=function(){var b=Array.prototype.slice.call(arguments);return this.eventEmitter.addListener.apply(this.eventEmitter,
b)};b.Index.prototype.off=function(b,c){return this.eventEmitter.removeListener(b,c)};b.Index.load=function(h){h.version!==b.version&&b.utils.warn("version mismatch: current "+b.version+" importing "+h.version);var c=new this;return c._fields=h.fields,c._ref=h.ref,c.documentStore=b.Store.load(h.documentStore),c.tokenStore=b.TokenStore.load(h.tokenStore),c.corpusTokens=b.SortedSet.load(h.corpusTokens),c.pipeline=b.Pipeline.load(h.pipeline),c};b.Index.prototype.field=function(b,c){c=c||{};return this._fields.push({name:b,
boost:c.boost||1}),this};b.Index.prototype.ref=function(b){return this._ref=b,this};b.Index.prototype.add=function(h,c){var l={},m=new b.SortedSet,p=h[this._ref];c=void 0===c?!0:c;this._fields.forEach(function(c){var k=this.pipeline.run(b.tokenizer(h[c.name]));l[c.name]=k;b.SortedSet.prototype.add.apply(m,k)},this);this.documentStore.set(p,m);b.SortedSet.prototype.add.apply(this.corpusTokens,m.toArray());for(var n=0;n<m.length;n++){var u=m.elements[n],k=this._fields.reduce(function(b,c){var h=l[c.name].length;
if(!h)return b;var k=l[c.name].filter(function(b){return b===u}).length;return b+k/h*c.boost},0);this.tokenStore.add(u,{ref:p,tf:k})}c&&this.eventEmitter.emit("add",h,this)};b.Index.prototype.remove=function(b,c){var l=b[this._ref];c=void 0===c?!0:c;if(this.documentStore.has(l)){var m=this.documentStore.get(l);this.documentStore.remove(l);m.forEach(function(b){this.tokenStore.remove(b,l)},this);c&&this.eventEmitter.emit("remove",b,this)}};b.Index.prototype.update=function(b,c){c=void 0===c?!0:c;this.remove(b,
!1);this.add(b,!1);c&&this.eventEmitter.emit("update",b,this)};b.Index.prototype.idf=function(b){var c="@"+b;if(Object.prototype.hasOwnProperty.call(this._idfCache,c))return this._idfCache[c];b=this.tokenStore.count(b);var l=1;return 0<b&&(l=1+Math.log(this.tokenStore.length/b)),this._idfCache[c]=l};b.Index.prototype.search=function(h){h=this.pipeline.run(b.tokenizer(h));var c=new b.Vector,l=[],m=this._fields.reduce(function(b,c){return b+c.boost},0);if(!h.some(function(b){return this.tokenStore.has(b)},
this))return[];h.forEach(function(h,n,u){var k=1/u.length*this._fields.length*m,q=this;n=this.tokenStore.expand(h).reduce(function(l,m){var n=q.corpusTokens.indexOf(m),u=q.idf(m),r=1,B=new b.SortedSet;m!==h&&(r=1/Math.log(Math.max(3,m.length-h.length)));return-1<n&&c.insert(n,k*u*r),Object.keys(q.tokenStore.get(m)).forEach(function(b){B.add(b)}),l.union(B)},new b.SortedSet);l.push(n)},this);return l.reduce(function(b,c){return b.intersect(c)}).map(function(b){return{ref:b,score:c.similarity(this.documentVector(b))}},
this).sort(function(b,c){return c.score-b.score})};b.Index.prototype.documentVector=function(h){for(var c=this.documentStore.get(h),l=c.length,m=new b.Vector,p=0;l>p;p++){var n=c.elements[p],u=this.tokenStore.get(n)[h].tf,k=this.idf(n);m.insert(this.corpusTokens.indexOf(n),u*k)}return m};b.Index.prototype.toJSON=function(){return{version:b.version,fields:this._fields,ref:this._ref,documentStore:this.documentStore.toJSON(),tokenStore:this.tokenStore.toJSON(),corpusTokens:this.corpusTokens.toJSON(),
pipeline:this.pipeline.toJSON()}};b.Index.prototype.use=function(b){var c=Array.prototype.slice.call(arguments,1);c.unshift(this);b.apply(this,c)};b.Store=function(){this.store={};this.length=0};b.Store.load=function(h){var c=new this;return c.length=h.length,c.store=Object.keys(h.store).reduce(function(c,m){return c[m]=b.SortedSet.load(h.store[m]),c},{}),c};b.Store.prototype.set=function(b,c){this.store[b]=c;this.length=Object.keys(this.store).length};b.Store.prototype.get=function(b){return this.store[b]};
b.Store.prototype.has=function(b){return b in this.store};b.Store.prototype.remove=function(b){this.has(b)&&(delete this.store[b],this.length--)};b.Store.prototype.toJSON=function(){return{store:this.store,length:this.length}};b.stemmer=function(){var b={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},
c={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""};return function(l){var m,p,n,u,k,q;if(3>l.length)return l;if(n=l.substr(0,1),"y"==n&&(l=n.toUpperCase()+l.substr(1)),u=/^(.+?)(ss|i)es$/,p=/^(.+?)([^s])s$/,u.test(l)?l=l.replace(u,"$1$2"):p.test(l)&&(l=l.replace(p,"$1$2")),u=/^(.+?)eed$/,p=/^(.+?)(ed|ing)$/,u.test(l)){var v=u.exec(l);u=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*/;u.test(v[1])&&(u=/.$/,l=l.replace(u,""))}else p.test(l)&&(v=p.exec(l),m=v[1],p=/^([^aeiou][^aeiouy]*)?[aeiouy]/,
p.test(m)&&(l=m,p=/(at|bl|iz)$/,k=/([^aeiouylsz])\1$/,q=/^[^aeiou][^aeiouy]*[aeiouy][^aeiouwxy]$/,p.test(l)?l+="e":k.test(l)?(u=/.$/,l=l.replace(u,"")):q.test(l)&&(l+="e")));if(u=/^(.+?[^aeiou])y$/,u.test(l))v=u.exec(l),m=v[1],l=m+"i";if(u=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,u.test(l))v=u.exec(l),m=v[1],p=v[2],u=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,u.test(m)&&(l=m+b[p]);if(u=
/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,u.test(l))v=u.exec(l),m=v[1],p=v[2],u=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,u.test(m)&&(l=m+c[p]);(u=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,p=/^(.+?)(s|t)(ion)$/,u.test(l))?(v=u.exec(l),m=v[1],u=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,u.test(m)&&(l=m)):p.test(l)&&(v=p.exec(l),m=v[1]+v[2],p=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,
p.test(m)&&(l=m));if(u=/^(.+?)e$/,u.test(l))v=u.exec(l),m=v[1],u=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,p=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*([aeiouy][aeiou]*)?$/,k=/^[^aeiou][^aeiouy]*[aeiouy][^aeiouwxy]$/,(u.test(m)||p.test(m)&&!k.test(m))&&(l=m);return u=/ll$/,p=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,u.test(l)&&p.test(l)&&(u=/.$/,l=l.replace(u,"")),"y"==n&&(l=n.toLowerCase()+
l.substr(1)),l}}();b.Pipeline.registerFunction(b.stemmer,"stemmer");b.stopWordFilter=function(h){return-1===b.stopWordFilter.stopWords.indexOf(h)?h:void 0};b.stopWordFilter.stopWords=new b.SortedSet;b.stopWordFilter.stopWords.length=119;b.stopWordFilter.stopWords.elements=" a able about across after all almost also am among an and any are as at be because been but by can cannot could dear did do does either else ever every for from get got had has have he her hers him his how however i if in into is it its just least let like likely may me might most must my neither no nor not of off often on only or other our own rather said say says she should since so some than that the their them then there these they this tis to too twas us wants was we were what when where which while who whom why will with would yet you your".split(" ");
b.Pipeline.registerFunction(b.stopWordFilter,"stopWordFilter");b.trimmer=function(b){return b.replace(/^\W+/,"").replace(/\W+$/,"")};b.Pipeline.registerFunction(b.trimmer,"trimmer");b.TokenStore=function(){this.root={docs:{}};this.length=0};b.TokenStore.load=function(b){var c=new this;return c.root=b.root,c.length=b.length,c};b.TokenStore.prototype.add=function(b,c,l){l=l||this.root;var m=b[0];b=b.slice(1);return m in l||(l[m]={docs:{}}),0===b.length?(l[m].docs[c.ref]=c,void(this.length+=1)):this.add(b,
c,l[m])};b.TokenStore.prototype.has=function(b){if(!b)return!1;for(var c=this.root,l=0;l<b.length;l++){if(!c[b[l]])return!1;c=c[b[l]]}return!0};b.TokenStore.prototype.getNode=function(b){if(!b)return{};for(var c=this.root,l=0;l<b.length;l++){if(!c[b[l]])return{};c=c[b[l]]}return c};b.TokenStore.prototype.get=function(b,c){return this.getNode(b,c).docs||{}};b.TokenStore.prototype.count=function(b,c){return Object.keys(this.get(b,c)).length};b.TokenStore.prototype.remove=function(b,c){if(b){for(var l=
this.root,m=0;m<b.length;m++){if(!(b[m]in l))return;l=l[b[m]]}delete l.docs[c]}};b.TokenStore.prototype.expand=function(b,c){var l=this.getNode(b),m=l.docs||{};c=c||[];return Object.keys(m).length&&c.push(b),Object.keys(l).forEach(function(l){"docs"!==l&&c.concat(this.expand(b+l,c))},this),c};b.TokenStore.prototype.toJSON=function(){return{root:this.root,length:this.length}};(function(b,c){"function"==typeof define&&define.amd?define(c):"object"==typeof exports?module.exports=c():b.lunr=c()})(this,
function(){return b})}();DKI||(DKI={});
DKI.EndModule=function(){var b,h,c,l,m,p,n,u,k,q,v,y=Handlebars.compile(DKI.templates.endScreenTestItem),z,A=function(){objects={};if(showScore=k&&l.showObjectTestSummary)$.each(k.answered,function(){objects[this.objectid]||(objects[this.objectid]={questions:[],object:c.findObject(this.objectid),showScore:l.showObjectTestSummary});objects[this.objectid].questions.push(this)}),$.each(k.unanswered,function(){objects[this.objectid]||(objects[this.objectid]={questions:[],object:c.findObject(this.objectid),
showScore:l.showObjectTestSummary});this.points=0;objects[this.objectid].questions.push(this)});$.each(m.objects,function(b,c){objects[this.objectid]||(b=this.subeos.reduce(function(b,c){return b+(c.complete?1:0)},0)/this.subeos.length*100,b={completion:b,isComplete:100==b,object:this},l.showObjectTestSummary&&0<this.questions.length&&this.testing&&(b.showScore=!0,b.questions=this.questions),objects[this.objectid]=b)});var b=[];$.each(objects,function(){b.push(this)});b.sort(function(b,c){return b.object.eoorder-
c.object.eoorder});return b},r=function(){v.data("flickity")||(flickConfig={cellAlign:"left",wrapAround:!1,autoPlay:!1,prevNextButtons:!1},$("html").hasClass("rtl")&&(flickConfig.rightToLeft=!0),v.flickity(flickConfig).attr("tabindex","-1"))},B=function(){return v.find(".objectTestItem").toArray().reduce(function(b,c){return b+$(c).outerWidth()},0)},C=DKI.func.debounce(function(){B()>v.width()||768>=window.innerWidth?(r(),v.flickity("resize")):v.data("flickity")&&v.flickity("destroy");v.find(".testItemContentContainer").each(function(){var b=
$(this).width()-2*parseInt($(this).find(".gaugecont").css("padding-left"));if($(this).find(".gaugecont").outerWidth()>b||124>$(this).find(".radial").width())b=Math.min(b-$(this).find(".scoreDisp").outerWidth(),124),$(this).find(".radial").RadialGauge("resize",b).parent().css({height:b,width:b})})},50),x=function(){requireFns.getFlickity($.proxy(function(){var b=v;$.each(A(),function(c,l){c={strings:DKI.strings,responsive:settings.responsive,object:{name:l.object.name,linkSubeoId:""}};var m=l.completion;
if(l.showScore){var p=0,r=0;$.each(l.questions,function(){p+=this.weight;this.points&&(r+=this.points)});c.object.score=Math.floor(r/p*100);c.object.totalWeight=p;c.object.points=parseFloat(r.toFixed(1),10);c.forTesting=!0;m=c.object.score}else c.isComplete=l.isComplete,c.gaugeLabel=DKI.strings.endMod.learningStatusLabel+": "+l.completion+"%";0<l.object.subeos.length&&!h&&(c.object.linkSubeoId=l.object.subeos[0].subeoid);c.strings=n;var q=$(y(c));b.append(q);var u=q.find(".radial");u.RadialGauge({width:124,
asPercent:!0});u.RadialGauge("resize");c.forTesting&&k&&2!=l.object.testing||!c.forTesting&&l.completion?u.data("setValue",$.proxy(function(){u.RadialGauge("setRotation",m)},this)):(u.RadialGauge("setText",DKI.strings.runtime.txtNotAvailableShort),q.find(".scoreDisp").remove());flickConfig={cellAlign:"left",wrapAround:!1,autoPlay:!1,prevNextButtons:!1,adaptiveHeight:!0};$("html").hasClass("rtl")&&(flickConfig.rightToLeft=!0)});(B()>b.width()||768>=window.innerWidth)&&r();if(settings.responsive)$(window).off("resize",
C).on("resize",C);C();setTimeout(function(){$(".radial",v).each(function(){$(this).data("setValue")&&$(this).data("setValue")()})},100)},this))};return{init:function(p,r,q){b=p;c=b.dataStorage;h=b.course.testonly;l=b.behaviour;n=p.strings;b.inAssessment||b.inReview?(k=c.assessment,b.inReview&&(k=k.test),u=c.assessment.prepost,m=k.module):(u="content",m=q?q:c.currentModule,k=m.lastAssessment?m.lastAssessment:null);r&&(p=Handlebars.compile(DKI.templates.endModule)({strings:DKI.strings,module:m,responsive:settings.responsive}),
$(r).html(p));$(document).trigger(DKI.EndModule.events.ready)},start:function(){b.stopContentTimer(!0);var r=b.pageFrames.current,y=m.passing_mark&&""!=m.passing_mark?m.passing_mark:b.course.passmark,A,B,C;z=$(".endScreen",r);$(".status",r);A=$(".endMod_revisitLink",r);B=$(".endMod_reviewLink",r);v=$("#endMod_testScoreDetails",r);C=$("#endMod_actions",r);var I=m;$(document).trigger(DKI.ContentPage.events.resize,b.settings.courseHeight);q=$(".endMod_testingLink",r);B.hide();C.on(settings.clickEvent,
".endMod_revisitLink a",function(){b.jumpToModule(I)});p=c.getModuleCompletion(I);C="content"===u?c.getModuleScoringDetails(I):{score:k.getScore(),points:k.getPoints(),weight:k.getWeight()};c.moduleHasPages(I)?A.show():A.hide();c.moduleHasTest(I)&&0!=c.remainingPostAttempts(I)&&l.enablePostTest?"pre"!==u&&0<c.remainingPostAttempts(I)&&(k&&I.post&&0<I.post.attempts&&(q.find("a").text(n.retakeTest),q.addClass("endMod_retakeTest")),q.find("a").removeClass("disabled"),q.find("a").on(settings.clickEvent,
function(){q.find("a").off(settings.clickEvent);b.launchTest(I.loid,"post")})):q.hide();if(k&&("pre"==k.prepost&&l.enablePreTestReview||"post"==k.prepost&&l.enablePostTestReview)){B.find("a").on(settings.clickEvent,function(){if($(this).hasClass("disabled"))return!1;b.launchReview(k)});B.show();settings.responsive&&q.removeClass("col-xs-12").addClass("col-xs-6");var J=C.score>=y;if("pre"==k.prepost){var L=playerBehaviour.reviewPreLimit;L&&!J&&B.find("a").addClass("disabled")}"post"==k.prepost&&(L=
playerBehaviour.reviewPostLimit)&&!J&&B.find("a").addClass("disabled")}$(".endMod_learningLink",r).on(settings.clickEvent,function(){b.resume("pre"===u)});h?($("#endMod_learningLine",r).hide(),A.hide()):$("#endMod_learningStatus",r).text(Math.floor(p)+" %");isNaN(parseInt(C.score,"10"))?($("#endMod_testScore",r).text(n.txtNotAvailableShort),$("#endMod_testPoints",r).text(""),$("#endMod_scoreLine",r).hide(),$("#endMod_learningStatus_container").removeClass("squareSide"),$(".passCont",r).attr("tab-index",
"-1")):($("#endMod_testScore",r).html(Math.floor(C.score)+" %"),$("#endMod_testPoints",r).html(" ("+parseFloat(C.points,10)+" / "+C.weight+" "+n.txtPoints+")"),l.displayPass&&l.passModules&&0<C.weight&&(A=C.score>=y?n.passText:n.failText,B=C.score>=y?"pass":"fail",z.addClass("showPassing"),$(".passCont",r).addClass(B),$(".endMod_passingScore",r).text(DKI.strings.endMod.passingScoreLabel+" "+Math.floor(y)+"%"),$(".endMod_passStatus",r).text(A),$(".endMod_testScore",r).text(Math.floor(C.score)+"%")),
$("#endMod_learningStatus_container").addClass("squareSide"),$("#endMod_scoreLine").addClass("squareSide"));x();v.on(settings.clickEvent,".subeoLink",function(){var b=$(this).data("subeoid");contentApi.jumpToSubeo(b)});h&&v.find(".subeoLink").remove();$(r).removeClass($(r).data("current_player_background")).addClass("player_background_summary").data("current_player_background","player_background_summary");$(document).trigger(DKI.EndModule.events.started)},destroy:function(){$(window).off("resize",
C);if(v&&v.data("flickity"))try{v.flickity("destroy")}catch(b){}}}}();DKI.EndModule.events={ready:"END_MODULE_READY",started:"END_MODULE_STARTED"};DKI||(DKI={});
DKI.EndTest=function(){var b,h,c,l,m,p,n,u,k;return{init:function(c,v){b=c.course;h=c.dataStorage;l=h.assessment;p=c.behaviour;m=l.module.name;k=c;$("#endTest_moduleName",v).text(m);$("#endTest_learningLink",v).on(settings.clickEvent,function(){c.resume()});$("#endTest_reviewLink",v).on(settings.clickEvent,function(){c.launchReview(l)});$("#endTest_revisitLink",v).on(settings.clickEvent,function(){c.jumpToModule(l.module)});u=$("#endTest_retakeTest",v).on(settings.clickEvent,function(){c.launchTest(l.module,
"post")});n=c.strings;$(document).trigger(DKI.EndTest.events.ready)},start:function(){var m,v;m=l.module;var y=$(".status",void 0),z=m.passMark?m.passMark:k.course.passMark;$(document).trigger(DKI.ContentPage.events.resize,k.settings.courseHeight);(b.testonly||"pre"===l.prepost)&&$("#endTest_revisitLink",void 0).css("display","none");"pre"===l.prepost?u.css("display","none"):0===h.remainingPostAttempts(l.module)&&u.unbind().addClass("disabled");c=h.getAssessmentScoringDetails();$("#endTest_testScore",
void 0).text(Math.floor(c.score)+"% ("+c.points+"/"+c.weight+" "+n.txtPoints+")");("pre"==l.prepost&&p.enablePreTestReview||"post"==l.prepost&&p.enablePostTestReview)&&$("#endTest_reviewLink",void 0).css("display","");p.displayPass&&p.passModules&&(m=c.score>=z?n.passText:n.failText,v=c.score>=z?"pass":"fail",y.addClass("showPassing"),$(".endMod_passingScore",void 0).text(z+"%"),$(".endMod_passStatus",void 0).text(" - "+m+" - ").addClass(v),$("#endTest_testScore",void 0).removeClass("dki-themeTextColor").addClass(v));
$(document).trigger(DKI.EndTest.events.started)}}}();DKI.EndTest.events={ready:"END_TEST_READY",started:"END_TEST_STARTED"};DKI||(DKI={});
DKI.EndCourse=function(){var b,h,c,l,m,p,n,u,k,q,v,y,z,A,r=Handlebars.compile(DKI.templates.CourseEndScreenTestItem),B,C,x=function(){B.data("flickity")||(flickConfig={cellAlign:"left",wrapAround:!1,autoPlay:!1,prevNextButtons:!1},$("html").hasClass("rtl")&&(flickConfig.rightToLeft=!0),B.flickity(flickConfig).attr("tabindex","-1"))},D=function(){return B.find(".objectTestItem").toArray().reduce(function(b,c){return b+$(c).outerWidth()},0)},F=DKI.func.debounce(function(){D()>B.width()||768>=window.innerWidth?
(B.removeClass("flex flexrow"),x(),B.flickity("resize")):B.data("flickity")&&(B.flickity("destroy"),B.addClass("flex flexrow"));B.find(".testItemContentContainer").each(function(){var b=$(this).width()-2*parseInt($(this).find(".gaugecont").css("padding-left"));if($(this).find(".gaugecont").outerWidth()>b||124>$(this).find(".radial").width())b=Math.min(b-$(this).find(".scoreDisp").outerWidth(),124),$(this).find(".radial").RadialGauge("resize",b).parent().css({height:b,width:b})})},50),E=function(){requireFns.getFlickity($.proxy(function(){var b=
h.getModuleSummaryData();$.each(b,function(){if(playerBehaviour.showCompletedModules||!this.module.complete||0!=this.module.weight){void 0!==this.weight&&(this.showWeight=!0);playerBehaviour.passModules&&this.failed&&(this.requiresPass=!0,c.displayPass&&(this.showPass=!0));this.responsive=settings.responsive;this.strings=DKI.strings;var b=this.completion;this.showScore?b=this.score:this.gaugeLabel=DKI.strings.endMod.learningStatusLabel+": "+this.completion+"%";var k=$(r(this));!this.noAttempts&&this.showScore||
k.find(".retake").remove();h.moduleHasPages(this.module)||k.find(".view").remove();B.append(k);var l=k.find(".radial");l.RadialGauge({width:124,asPercent:!0});l.RadialGauge("resize");this.text?l.RadialGauge("setText",this.text):l.data("setValue",$.proxy(function(){l.RadialGauge("setRotation",b)},this));this.showScore&&c.displayPass?l.addClass("fill-"+(this.failed?"fail":"pass")):l.addClass("fill-primary")}});$(".objectTestItem",z).delegate(".retake",settings.clickEvent,function(){u.launchTest($(this).attr("data-moduleid"),
"post")});$(".objectTestItem",z).delegate(".view",settings.clickEvent,function(){u.jumpToModule($(this).data("moduleid"))});takeTestLink.on(u.settings.clickEvent,function(){u.launchTest($(this).attr("data-moduleid"),"post")});D()>B.width()||768>=window.innerWidth?(B.removeClass("flex flexrow"),x()):B.addClass("flex flexrow");if(settings.responsive)$(window).off("resize",F).on("resize",F);F();setTimeout(function(){$(".radial",B).each(function(){$(this).data("setValue")&&$(this).data("setValue")()})},
100);$(document).trigger(DKI.EndCourse.events.scoringDetailsRendered)},this))};return{init:function(b,k){h=b.dataStorage;n=b.course;c=b.behaviour;l=h.currentModule;u=b;y=b.strings;if(z=k)b=Handlebars.compile(DKI.templates.endCourse)({strings:DKI.strings,course:n,responsive:settings.responsive}),$(k).html(b);$(document).trigger(DKI.EndCourse.events.ready)},start:function(){var r,x;$(document).trigger(DKI.ContentPage.events.resize,u.settings.courseHeight);A=$("#endCourse_bibliographyLink a",z);b=$("#endCourse_certificateLink a",
z);$("#endCourse_exitLink a",z);k=$("#endCourse_testing",z);takeTestLink=$("#endCourse_takeTestLink a");B=$("#endCourse_testScoreDetails");$("div",k[0]);m=h.getCourseScoringDetails();p=h.getCourseCompletion();h.remainingPostAttempts(l);C=$(".endScreen",z);c.displayPass&&0<m.weight&&C.addClass("showPassing");c.enablePostTest?E():k.hide();n.testonly&&($("#endCourse_learningLine",z).hide(),$("#testingLine").removeClass("squareSide"));isNaN(parseInt(p,10))&&($("#endCourse_learningLine",z).hide(),$("#testingLine").removeClass("squareSide"));
!isNaN(parseInt(m.score,10))&&h.hasTesting()&&(c.enablePreTest||c.enablePostTest)&&(q=$(".endCourse_testScore",z),v=$(".endCourse_passStatus",z),q.html(Math.floor(m.score)+"%"),q.text(Math.floor(m.score)+"%"),c.displayPass&&0<m.weight?($(".objectTestItem.requiresPass",z)[0]&&playerBehaviour.passModules?$(".endCourse_passingScore",z).remove():$(".endCourse_passingScore",z).text(DKI.strings.endMod.passingScoreLabel+" "+Math.floor(h.courseStructure.passmark)+"%"),"passed"===h.lessonStatus?($(".passCont",
z).addClass("pass"),r=y.passText,""!==n.passText&&(r=n.passText),x="pass"):"failed"===h.lessonStatus?($(".passCont",z).addClass("fail"),r=y.failText,""!==n.failText&&(r=n.failText),x="fail"):($(".passCont",z).addClass("incomplete"),r=y.incompleteText,x="incomplete",q.remove()),v.text(r).addClass(x),$(".endScreen",z).addClass("showStatusText")):($(".endMod_passingScore",z).remove(),$(".endMod_passStatus",z).remove(),$(".passCont",z).attr("tabindex","-1")));c.completionCertificate&&($(".endScreen",
z).addClass("showCertificate"),b.attr("tabindex","-1"));c.showBibliography&&DKI.reference.courseHasReferences()&&($(".endScreen",z).addClass("showBibliography"),A.on(u.settings.clickEvent,function(){DKI.reference.showBibliography()}));if("complete"===h.lessonStatus||"passed"===h.lessonStatus)b.removeClass("disabled").attr("tabindex","1"),b.on(settings.clickEvent,function(){u.loadCertificate()});$("#endCourse_testLink",z).on(settings.clickEvent,function(){this.contentFrame.attr("src",this.settings.endCourseURL);
u.launchTest(l.loid,"post")});$("#endCourse_exitLink",z).on(settings.clickEvent,function(){u.exitCourse()});$(z).removeClass($(z).data("current_player_background")).addClass("player_background_summary").data("current_player_background","player_background_summary");$(document).trigger(DKI.EndCourse.events.started)},destroy:function(){$(window).off("resize",F);if(B&&B.data("flickity"))try{B.flickity("destroy")}catch(b){}}}}();
DKI.EndCourse.events={ready:"END_COURSE_READY",started:"END_COURSE_STARTED",scoringDetailsRendered:"END_COURSE_SCORING_DETAILS_RENDERED"};DKI||(DKI={});
DKI.CompletionCertificate=function(){var b,h=function(c){var h=Handlebars.compile(DKI.templates.certificate.body)({strings:DKI.strings});$(c).html(h);var m=document.getElementById("certificate_studentName"),p=document.getElementById("certificate_courseName"),n=document.getElementById("certificate_date"),u=document.getElementById("certificate_print"),k=function(b,c){try{b.innerHTML=c}catch(h){b.innerText=c}};b.getStudentName(function(c){k(m,c);k(p,b.getCourseName());k(n,(new Date).toLocaleDateString());
$(u).on(settings.clickEvent,function(c){b.printPage();return!1})})};return{init:function(c,l){b=c.contentAPI;l&&h(l);$(document).trigger(DKI.CompletionCertificate.events.ready)},start:function(){$(document).trigger(DKI.CompletionCertificate.events.started)}}}();DKI.CompletionCertificate.events={ready:"COMPLETION_CERTIFICATE_READY",started:"COMPLETION_CERTIFICATE_STARTED"};
DKI.Modal=function(){var b,h={method:"GET",display:"modal",name:"modalWindowName"},c={},l=null,m=null,p={appendDataToUrl:function(b){var c=p.getData();b=null===b.match(/\?/)?b+"?":b+"\x26";return b+c},getData:function(){var b="courseID\x3d"+contentApi.getCourseID()+"\x26pageID\x3d"+contentApi.getPageID()+"\x26objectID\x3d"+contentApi.getObjectID()+"\x26userID\x3d"+contentApi.getUserID();if("object"==typeof c.parameters)for(var h in c.parameters)c.parameters.hasOwnProperty(h)&&(b+="\x26"+h+"\x3d"+
c.parameters[h]);return b},loadModalGET:function(c){var h=null,l=null,m=!0,n=DKI.func.debounce(function(){u()},75,!1),u=function(){var b=$(".fancybox-item.fancybox-close",l),c=$(".fancybox-stage .fancybox-content",l),h=c.offset().top-window.pageYOffset-24,c=c.offset().left+c.outerWidth()-$(window).width()-29;b.css({top:h+"px",left:c+"px"});b.addClass("persistant-modal")};$.fancybox.open({type:"iframe",src:p.appendDataToUrl(c.url),iframe:{preload:!1},btnTpl:{close:'\x3cdiv class\x3d"fancybox-item fancybox-close"data-fancybox-close aria-label\x3d"'+
player.strings.buttonLabelClose+'" role\x3d"button" tabindex\x3d"1"\x3e\x3c/div\x3e'},afterShow:function(){m=!1;u();b=this;modalFrame=this.$iframe;modalFrame.attr("tabindex","1");0==$("div.popup.modal:visible").length&&DKI.enforceFocus(l);modalFrame.focus();c.callback&&c.callback();setTimeout(function(){m=!0},400)},beforeShow:function(b,c,k){c=this.$slide.closest(".fancybox-inner");h=b;l=c;h.$refs.container.on("onUpdate.fb",n)},afterClose:function(){h.$refs.container.off("onUpdate.fb",null,n);l=h=
null},beforeClose:function(){m&&$(".fancybox-item.fancybox-close",l).fadeOut();return m}})},loadModalPOST:function(b){p.postURL(modalFrame.attr("name"))},loadWindowGET:function(c){b=window.open(p.appendDataToUrl(c.url));b.focus()},loadWindowPOST:function(c){b=window.open("about:blank");p.postURL(b.name);b.focus()},postURL:function(h){null===l?(l=document.createElement("form"),l.className="modalPoster",l.method="POST",body.append(l)):l.innerHTML="";h&&(m=h);l.target=m;l.action=c.url;l.appendChild(p.buildHiddenInput("courseID",
contentApi.getCourseID()));l.appendChild(p.buildHiddenInput("userID",contentApi.getUserID()));l.appendChild(p.buildHiddenInput("objectID",contentApi.getObjectID()));l.appendChild(p.buildHiddenInput("pageID",contentApi.getPageID()));if("object"==typeof c.parameters)for(var n in c.parameters)c.parameters.hasOwnProperty(n)&&l.appendChild(p.buildHiddenInput(n,c.parameters[n]));$.fancybox({type:"inline",content:l,tpl:DKI.templates.popupPanel,afterShow:function(){b=this;l.submit()}})},buildHiddenInput:function(b,
c){var h=document.createElement("input");h.type="hidden";h.name=b;h.value=c;return h}},n={onPageLoaded:function(){modalOpen&&!c.persist?u.hide():!0===modalOpen?"GET"===c.method.toUpperCase()?modalFrame.attr("src",p.appendDataToUrl(c.url)):p.postURL():b&&!b.closed?"GET"===c.method.toUpperCase()?p.loadWindowGET(c):p.postURL():contentApi.playerEvent.remove("pageLoaded",n.onPageLoaded)},onPostCompleteModal:function(b){modalFrame.on("load.modalPost",function(){modalFrame[0].contentWindow.document.write(b.responseText)});
modalFrame.attr("src","about:blank")},onPostCompleteWindow:function(c){b.document.write(c.responseText)}},u={show:function(b){b&&(c=DKI.applyIf(b,h));"modal"===c.display.toLowerCase()?"GET"==c.method.toUpperCase()?p.loadModalGET(c):p.loadModalPOST(c):"GET"==c.method.toUpperCase()?p.loadWindowGET(c):p.loadWindowPOST(c);if(!0===c.persist)contentApi.playerEvent.on("pageLoaded",n.onPageLoaded)},hide:function(){b.close()}};return u}();
DKI.PopupPanel=function(){var b=function(){return{html:"",autoFocus:!1,modal:!1,returnFocus:null,title:"\x26nbsp;",effect:"fade",zIndex:0,style:"",domStyles:"",tabContent:!0,autoResize:settings.responsive?!0:!1,autoCenter:settings.responsive?!0:!1,id:"dki_"+Math.random().toString(36).substr(2,9),addClass:"",role:"dialog",strings:{close:playerStrings&&playerStrings.buttonLabelClose?playerStrings.buttonLabelClose:"Close"},onHide:function(){}}},h=null,c={setVariables:function(b){b.find(".dki-inline-variable").each(function(){var b=
contentApi.getData($(this).data("variable-id"));$(this).html(b)})},adjustHeight:function(b){var c=b.show().find(".modal-header").css("height").replace("px",""),h=b.find(".modal-header").css("height").replace("px",""),c=window.innerHeight-parseInt(c,10)-parseInt(h,10),c=0<c?c:100;b.find(".modal-body").css({"max-height":c+"px","overflow-y":"auto"})}},l={show:function(m){contentApi.hideAllPopups();if(m)var n=DKI.applyIf(m,b());if(n.popupType){var u=$("#action_popup_"+n.id);u[0]&&u.remove();var k=DKI.templates.alertPanel,
q=n.title?"h1.modal-title":"div.modal-body",u="hidden.bs.modal";switch(n.popupType.type){case "notification":k=DKI.templates.notificationPanel,q=n.title?"span.modal-title":"div.alert-content",u="closed.bs.alert"}m.alignMiddle="middle"==m.popupType.mod.replace(/fill/g,"").trim();m.exit=!("banner"==m.popupType.type&&"middle"==m.popupType.mod);var v=$(k(m));v.addClass(m.addClass);v.data("contentFocus",q?v.find(q):v);c.setVariables(v);$("body").append(v);$(".fancybox-container").length&&(k=parseInt($(".fancybox-container").css("z-index"))+
parseInt(v.css("z-index")),v.css("z-index",k));v.on(u,function(){var b=$("div.popup.modal:visible, .fancybox-inner:visible").last();b.length?(DKI.enforceFocus(b),b=b.find("*[tabindex\x3d'1']:not(.close):not(.fancybox-close)"),b.length&&b[0].focus()):m.returnFocus&&setTimeout(function(){m.returnFocus.focus()},10);n.onHide.apply(v)});v.hasClass("modal")?(v.on("shown.bs.modal",function(){$(document).off("focusin.bs.modal");c.adjustHeight($(this));if(n.autoFocus){var b=this;setTimeout(function(){$(b).is(":visible")&&
(DKI.enforceFocus($(b)),$(b).data("contentFocus")[0].focus())},50)}}),DKI.enforceFocus(!1),u=m.popupType.modal,"string"==typeof u&&(u="true"===u),v.modal({show:!0,backdrop:u})):v.hasClass("alert")?(setTimeout(function(){v.addClass("in");n.autoFocus&&v.data("contentFocus")[0].focus()},0),v.alert()):(v.show(),setTimeout(function(){v.addClass("in");n.autoFocus&&v.data("contentFocus")[0].focus()},0));m.zIndex&&(v.data("bs.modal")&&v.data("bs.modal").$backdrop&&v.data("bs.modal").$backdrop.css("z-index",
m.zIndex+1),v.css("z-index",m.zIndex+2));v.find(".dki-glossary-link").on(settings.clickEvent,function(b){DKI.glossary.showPopup.call(this,[b])});v.on(settings.clickEvent,function(){return!1});v.find("button.dismiss,button.close").on("click",function(b){v.hasClass("modal")?v.modal("hide"):v.hasClass("alert")?v.alert("close"):v.hide()});n.afterShow&&n.afterShow.apply(v)}else $.fancybox({type:"html",content:'\x3cdiv class\x3d"popup-content" tabIndex\x3d"0"\x3e'+n.html+"\x3c/div\x3e",title:""!=n.title?
n.title:null,tpl:DKI.templates.popupPanel,modal:n.modal,autoCenter:n.autoCenter,autoResize:n.autoResize,helpers:{title:{position:"top",type:"inside"}},beforeShow:function(){h=this;n.modal||$(".fancybox-overlay").css("background-image","none");settings.responsive||(this.wrap.draggable({handle:".fancybox-title"}),this.wrap.resizable({handles:"se",alsoResize:".fancybox-inner"}));this.outer.addClass(n.style);n.autoResize?this.wrap.addClass("auto-resize"):this.wrap.removeClass("auto-resize");h.wrap.find(".popup-title").html(n.title);
this.wrap.show()},openEffect:""==n.effect?"none":n.effect,closeEffect:""==n.effect?"none":n.effect,openMethod:"zoomIn",closeMethod:"zoomOut",afterShow:function(){var b=h.wrap.find(".fancybox-title"),c=h.wrap.find(".fancybox-close");h.outer.before(b.detach());b.after(c.detach());b.attr("tabindex",0);n.autoFocus&&h.wrap.find(".popup-content")[0].focus();settings.responsive||$(".fancybox-title").css("cursor","pointer");n.autoCenter||n.autoResize||$(window).unbind("resize.fb");h.wrap.find(".popup-close").on(settings.clickEvent,
function(){l.hide()});n.afterShow&&n.afterShow.apply(this)},afterClose:function(){this.outer.removeClass(n.style);n.returnFocus&&setTimeout(function(){n.returnFocus.focus()},10);h=null}})},hide:function(b){$(document).find(".modal-backdrop").remove();b=DKI.applyIf(b?b:{},{forceClose:!1},!0);h&&$.fancybox.close(b.forceClose);b.id&&(b=$("#action_popup_"+b.id),0<b.length&&(b.hasClass("modal")?(b.modal("hide"),b.off("show.bs.modal")):b.hide()))},destroy:function(b){b.id&&(b=$("#action_popup_"+b.id,"body"),
0<b.length&&(b.hasClass("popup modal")&&b.off().data("bs.modal").removeBackdrop(),b.remove()))}},m=function(){l.hide({forceClose:!0})};$(document).on(DKI.ContentPage.events.started,m);$(document).on(DKI.EndModule.events.started,m);$(document).on(DKI.EndCourse.events.started,m);$(document).on(DKI.EndTest.events.started,m);return l}();
DKI.PresentationPlayer=function(b){this.dataStorage=b.dataStorage;this.course=b.dataStorage.courseStructure;this.behaviour=b.behaviour;this.settings=b.settings;this.strings=b.strings;this.rootURL=b.rootURL;this.transitions=Modernizr.csstransitions?{page:this.dataStorage.courseStructure.pagetransition,jump:this.dataStorage.courseStructure.jumptransition,end:this.dataStorage.courseStructure.endscreentransition}:{page:"none",jump:"none",end:"none"};this.currentPage=null;this.contentPage={previous:null,
current:null,next:null};this.currentTest=this.currentObject=this.currentModule=null;this.currentPageIndex=this.currentObjectIndex=this.currentModuleIndex=0;this.contentFrame=$("#contentFrame");this.pageFrames={};this.pageFrames.previous=document.createElement("div");$(this.pageFrames.previous).css("visibility","hidden");this.pageFrames.previous.className="dkiContentFrame previous dk-hidden";this.pageFrames.current=document.createElement("div");this.pageFrames.current.className="dkiContentFrame current";
this.pageFrames.next=document.createElement("div");$(this.pageFrames.next).css("visibility","hidden");this.pageFrames.next.className="dkiContentFrame next dk-hidden";this.contentFrame.append([this.pageFrames.previous,this.pageFrames.current,this.pageFrames.next]);this.menu=this.contentAPI=null;this.navigation=new DKI.PlayerNavigation(this);this.headerContainer=$("#navbar_header, #headerContainer");this.footerContainer=$("#footerContainer");this.store=DKI.courseStore;this.audio=!0;this.isMobile=$(document.body).hasClass("mobile");
this.isAdminPreview=$(document.body).hasClass("adminPreview");this.questionFeedbackClosed=this.assessmentState=null;this.reachedEnd=!1;this.forward=this.contentForward;this.back=this.contentBack;this.reload=this.contentReload;this.events={pageLoaded:"pageLoaded",contentPageLoaded:"contentPageLoaded",questionPageLoaded:"questionPageLoaded",playerResized:"playerResized",playerTranscriptShown:"playerTranscriptShown",bypassForceSequential:"bypassForceSequential"};this.inReview=this.inEndScreen=this.inAssessment=
!1;this.loadState={previous:"done",current:"done",next:"done"};this.submitButtonPosition="popup";this.queuedAction=null;this.notesWin=!1;this.contentFrame.addClass("loading");this.navigation.hideForwardButton();this.navigation.hideBackButton();$(this.pageFrames.previous).addClass(this.transitions.page);$(this.pageFrames.current).addClass(this.transitions.page);$(this.pageFrames.next).addClass(this.transitions.page);this.initEvents();this.onbeforeunload=function(){};dkiUA.mobile?$("html").addClass("on-device"):
$("html").addClass("on-desktop");dkiUA.iOS&&"tablet"!=dkiUA.getUAProperties().platform&&scormInterface&&$("html").addClass("iOS-iframe");dkiUA.isIE()&&$("html").addClass("isIE");this.behaviour.enableTextHighlight&&$("html").addClass("enableTextHighlight");$(".pageElementsWrapper.design").attr("aria-hidden","true");this.settings.responsive&&(b=function(b){b=$("\x3cdiv/\x3e",{"class":b});$("body").append(b);var c="none"!=b.css("display");b.remove();return c},b("submitButtonPopup")&&(this.submitButtonPosition=
"popup"),b("submitButtonBelowOptions")&&(this.submitButtonPosition="belowQuestionOptions"),b("submitButtonBelowPage")&&(this.submitButtonPosition="belowPage"))};DKI.PresentationPlayer.prototype.applyTransitionClass=function(b,h){b=$(this.pageFrames[b]);b.removeClass(DKI.PresentationPlayer.transitionClasses);b.addClass(h)};
DKI.PresentationPlayer.prototype.initHeadersAndFooters=function(){var b=this;this.headers={primary:{el:$("\x3cdiv/\x3e",{"class":"headerPage hidden clearfix"})},secondary:{el:$("\x3cdiv/\x3e",{"class":"headerPage hidden clearfix"})}};this.footers={primary:{el:$("\x3cdiv/\x3e",{"class":"footerPage hidden clearfix"})},secondary:{el:$("\x3cdiv/\x3e",{"class":"footerPage hidden clearfix"})}};this.contentFrame.prepend([this.headers.primary.el,this.headers.secondary.el]);this.contentFrame.append([this.footers.primary.el,
this.footers.secondary.el]);this.course.header_primary_page&&(this.headers.primary.el.append($(DKI.renderService.renderPage(this.course.header_primary_page,this.course))),this.headers.primary.contentPage=new DKI.ContentPage({contentAPI:b.contentAPI,containerEl:this.headers.primary.el,actions:this.course.header_primary_page.actions,page:this.course.header_primary_page,player:b}));this.course.header_secondary_page&&(this.headers.secondary.el.append($(DKI.renderService.renderPage(this.course.header_secondary_page,
this.course))),this.headers.secondary.contentPage=new DKI.ContentPage({contentAPI:b.contentAPI,containerEl:this.headers.secondary.el,actions:this.course.header_secondary_page.actions,page:this.course.header_secondary_page,player:b}));this.course.footer_primary_page&&(this.footers.primary.el.append($(DKI.renderService.renderPage(this.course.footer_primary_page,this.course))),this.footers.primary.contentPage=new DKI.ContentPage({contentAPI:b.contentAPI,containerEl:this.footers.primary.el,actions:this.course.footer_primary_page.actions,
page:this.course.footer_primary_page,player:b}));this.course.footer_secondary_page&&(this.footers.secondary.el.append($(DKI.renderService.renderPage(this.course.footer_secondary_page,this.course))),this.footers.secondary.contentPage=new DKI.ContentPage({contentAPI:b.contentAPI,containerEl:this.footers.secondary.el,actions:this.course.footer_secondary_page.actions,page:this.course.footer_secondary_page,player:b}));$(document).on(DKI.ContentPage.events.started,function(c,h){h.page.pageid!=b.course.header_primary_page_id&&
h.page.pageid!=b.course.header_secondary_page_id&&h.page.pageid!=b.course.footer_primary_page_id&&h.page.pageid!=b.course.footer_secondary_page_id&&(h.page.parameters.layout.headers.primary_enabled&&b.headers.primary.contentPage?(b.headers.primary.el.removeClass("hidden"),b.headers.primary.contentPage.reset(),b.headers.primary.contentPage.start(0,!0)):b.headers.primary.el.addClass("hidden"),h.page.parameters.layout.headers.secondary_enabled&&b.headers.secondary.contentPage?(b.headers.secondary.el.removeClass("hidden"),
b.headers.secondary.contentPage.reset(),b.headers.secondary.contentPage.start(0,!0)):b.headers.secondary.el.addClass("hidden"),h.page.parameters.layout.footers.primary_enabled&&b.footers.primary.contentPage?(b.footers.primary.el.removeClass("hidden"),b.footers.primary.contentPage.reset(),b.footers.primary.contentPage.start(0,!0)):b.footers.primary.el.addClass("hidden"),h.page.parameters.layout.footers.secondary_enabled&&b.footers.secondary.contentPage?(b.footers.secondary.el.removeClass("hidden"),
b.footers.secondary.contentPage.reset(),b.footers.secondary.contentPage.start(0,!0)):b.footers.secondary.el.addClass("hidden"))});var h=function(){b.headers.primary.el.addClass("hidden");b.headers.secondary.el.addClass("hidden");b.footers.primary.el.addClass("hidden");b.footers.secondary.el.addClass("hidden")};$(document).on(DKI.EndModule.events.started,h);$(document).on(DKI.EndCourse.events.started,h);$(document).on(DKI.EndTest.events.started,h)};
DKI.PresentationPlayer.prototype.openSlideNotes=function(){var b=this;if(!this.notesWin||this.notesWin.closed)this.notesWin=window.open(settings.slideNotesURL,"_blank","height\x3d400,width\x3d600,toolbar\x3d0,location\x3d0,menubar\x3d0"),$(window).on("beforeunload",function(){b.notesWin.close()})};
DKI.PresentationPlayer.prototype.initEvents=function(){var b=this;if(this.behaviour.preventRightClick)$(document).on("contextmenu",function(){return!1});if(this.behaviour.enableBypassForceSequential){var h=function(c){c.ctrlKey&&c.altKey&&70==c.keyCode&&(b.behaviour.forceSequential=!1,$(document).off("keyup",h),$(b).trigger(b.events.bypassForceSequential))};$(document).on("keyup",h)}$(document).on(DKI.ContentPage.events.ready,function(c,h,m){b.resetContentHeight();b.applyCssEffects.init(m)});$(this.dataStorage).on(DKI.DataStorage.events.ready,
function(){"desktop"==dkiUA.getUAProperties().platform&&b.behaviour.pageNotes&&b.openSlideNotes();b.headerContainer=$(b.headerContainer.selector);b.footerContainer=$(b.footerContainer.selector);b.initHeadersAndFooters();b.initSearch();b.setPlayerSize();settings.preventResume||b.resumeBookmark();b.contentFrame.removeClass("loading")});$(this.dataStorage).on(DKI.DataStorage.events.changeObject,function(){b.setObjectDisplay()});$(this.dataStorage).on(DKI.DataStorage.events.courseEnd,function(){b.reachedEnd=
!0});$(this.dataStorage).on(DKI.DataStorage.events.questionSubmitted,function(c,h,m){b.contentPage.current.setScore(h,m)});$(this.dataStorage).on(DKI.DataStorage.events.assessmentReady,function(){b.initBarsAssessment();b.navigation.setCurrentScreen(b.dataStorage.getCurrentQuestionCount());b.loadCurrentQuestion();b.pageFrames.previous.innerHTML="";b.inReview||(b.onbeforeunload=function(c){var h=b.strings.quitTestWarning;if(c=c||window.event)c.returnValue=h;return h});$("html").addClass("in-assessment")});
$(this.dataStorage).on(DKI.DataStorage.events.assessmentCompleted,function(){b.onbeforeunload=function(){};$("html").removeClass("in-assessment")});$(this.dataStorage).on(DKI.DataStorage.events.pageCompleted,function(){$(document).trigger(contentApi.events.dataSet,{name:"sys.learner.completion",newValue:contentApi.getData("sys.learner.completion")})});$(this.navigation).on(DKI.PlayerNavigation.events.forward,function(){b.forward()});$(this.navigation).on(DKI.PlayerNavigation.events.back,function(){b.back()});
$(this.navigation).on(DKI.PlayerNavigation.events.reload,function(){b.reload()});$(this.navigation).on(DKI.PlayerNavigation.events.menuToggle,function(){b.toggleOutline()});$(this.navigation).on(DKI.PlayerNavigation.events.menuClose,function(){b.hideTree()});$(this.navigation).on(DKI.PlayerNavigation.events.glossaryToggle,function(b,h){h?DKI.glossaryBrowse.show():DKI.glossaryBrowse.hide()});$(this.navigation).on(DKI.PlayerNavigation.events.resourceToggle,function(b,h){h?DKI.resourceBrowser.show():
DKI.resourceBrowser.hide()});$(this.navigation).on(DKI.PlayerNavigation.events.exit,function(){b.exitCourse.call(b)});$(this.navigation).on(DKI.PlayerNavigation.events.audioToggle,function(c,h){b.toggleAudio(h)});$(this.navigation).on(DKI.PlayerNavigation.events.transcriptToggle,function(){b.toggleTranscript()});$(document).on(DKI.Events.TestQuestion.nextClicked,function(){b.forward()});$(document).on(DKI.Events.TestQuestion.forceEnd,function(){b.forceEnd()});$(document).on(DKI.PlayerMenu.events.pageClicked,
function(c,h){b.onPageClicked(h)});$(document).on(DKI.ContentPage.events.resize,$.proxy(this.onPageResize,this));$(document).on(DKI.Events.TestQuestion.feedbackShown,function(){b.contentPage.current.question&&b.contentPage.current.numAttempts>=b.contentPage.current.question.attempts&&b.navigation.showForwardButton()});$(document).on(DKI.ContentPage.events.ready,$.proxy(this.onPageReady,this));$(document).on(DKI.EndModule.events.ready,$.proxy(this.onEndReady,this));$(document).on(DKI.EndCourse.events.ready,
$.proxy(this.onEndReady,this));$(document).on(DKI.EndTest.events.ready,$.proxy(this.onEndReady,this));$(window).on(settings.resizeEvent,$.proxy(this.onWindowResize,this));$(window).on("scroll",$.proxy(this.onWindowScroll,this));$(document).on(DKI.PlayerMenu.events.initialized,function(c,h){b.menu=h;b.menuWidth=b.menu.getWidth();b.menuLeft=b.menu.getLeft();$(b.menu).on(DKI.PlayerMenu.events.closed,function(){b.hideTree()})})};DKI.PresentationPlayer.prototype.initMenu=function(){};
DKI.PresentationPlayer.prototype.initSearch=function(){dkiUA.isIE()&&8>=dkiUA.ieVersion?$(".dki-WestPanel .menuHeader a.courseSearchOpen").remove():playerBehaviour.enableCourseSearch&&DKI.search.isSupportedLanguage()||$(".dki-WestPanel .menuHeader a.courseSearchOpen").remove()};
DKI.PresentationPlayer.prototype.checkPreTest=function(){var b;b=this.dataStorage.moduleIsTestOnly()?"undefined"==typeof this.dataStorage.getModuleScoringDetails(this.dataStorage.currentModule).assessment:0===this.dataStorage.getModuleCompletion(this.dataStorage.currentModule);return this.behaviour.enablePreTest&&0<this.dataStorage.currentModule.weight&&b&&"object"!==typeof this.dataStorage.currentModule.pre&&(this.behaviour.forcePreTest||window.confirm(this.strings.pretestQuestLabel+" ("+this.dataStorage.currentModule.loname+
")"))?!0:!1};DKI.PresentationPlayer.prototype.displayURL=function(b,h,c){var l=function(){},m=function(){},p=function(){};c&&("function"==typeof c?l=c:(c.success&&(l=c.success),c.error&&(m=c.error),c.complete&&(p=c.complete)));$.get(b,function(b){h.innerHTML=b},"html").success(l).error(m).complete(p)};DKI.PresentationPlayer.prototype.getCurrentTestScore=function(){return this.dataStorage.getAssessmentScore()};
DKI.PresentationPlayer.prototype.getModuleScreenCount=function(b){for(var h=0,c=0;c<b.objects.length;c++)h+=b.objects[c].pages.length;return h};
DKI.PresentationPlayer.prototype.initBars=function(){if(null!=this.dataStorage.currentPage){var b=this.dataStorage.currentPage.page,h=this.dataStorage.previousPage;this.navigation.contentMode();this.setModuleDisplay();this.setObjectDisplay();this.navigation.setCurrentScreen(this.dataStorage.currentModulePage);this.behaviour.transcripts?b.transcript?this.navigation.enableTranscriptButton():this.navigation.disableTranscriptButton():this.navigation.hideTranscriptButton();b.disableaudio?this.navigation.hideAudioButton():
this.navigation.showAudioButton();this.dataStorage.pageDisablesNext(b)&&this.navigation.hideForwardButton();b.disableback&&this.navigation.hideBackButton();h||this.navigation.hideBackButton();DKI.glossaryBrowse.isEmpty()&&this.navigation.disableGlossaryButton();!DKI.resourceBrowser.isEmpty()&&this.behaviour.enableResourcesButton||this.navigation.disableResourceButton()}};
DKI.PresentationPlayer.prototype.initBarsAssessment=function(){var b=this.dataStorage.getCurrentQuestion().page,h=!1;if(this.inReview||this.behaviour.enableForwardInTesting&&this.dataStorage.getCurrentQuestionCount()<this.dataStorage.getTotalQuestions())h=!0;this.navigation.testMode(h);b.disableAudio?this.navigation.hideAudioButton():this.navigation.showAudioButton();this.navigation.hideBackButton();this.navigation.setTotalScreens(this.dataStorage.getTotalQuestions());this.navigation.setCurrentScreen(this.dataStorage.getCurrentQuestionCount());
this.behaviour.transcripts?b.transcript?this.navigation.enableTranscriptButton():this.navigation.disableTranscriptButton():this.navigation.hideTranscriptButton()};DKI.PresentationPlayer.prototype.initBarsEndScreen=function(){this.inEndScreen=!0;this.behaviour.transcripts&&this.navigation.disableTranscriptButton();this.navigation.endMode()};
DKI.PresentationPlayer.prototype.jumpTo=function(b){var h=null;this.contentPage.current&&(this.contentPage.current.page&&this.contentPage.current.page.pageid?h=this.contentPage.current.page.pageid:this.contentPage.current.question&&this.contentPage.current.question.page_id&&(h=this.contentPage.current.question.page_id));this.resetContentHeight();b==h?this.contentReload():(this.dataStorage.jumpToPage(b),this.jumpComplete())};
DKI.PresentationPlayer.prototype.jumpToModule=function(b){var h=this.dataStorage.moduleIsTestOnly(b);if(h&&this.behaviour.skipEnd)return!1;this.dataStorage.jumpToModule(b);h?(this.inEndScreen=!1,this.loadModuleEnd(),this.startModuleEnd()):this.jumpComplete();return!0};
DKI.PresentationPlayer.prototype.jumpComplete=function(){this.inEndScreen=this.inAssessment=!1;this.contentAPI.hideBoth();this.initBars();this.reachedEnd=!1;this.checkPreTest()?this.launchTest(this.dataStorage.currentModule.loid,"pre"):(this.applyTransitionClass("next",this.transitions.jump),this.loadPage("next",this.dataStorage.currentPage,function(){this.dataStorage.setCurrentPageComplete();this.reload=this.contentReload;this.shuffleForward(!0);this.initBars();this.dataStorage.previousPage&&(this.applyTransitionClass("previous",
this.transitions.page),this.contentPage.previous&&this.contentPage.previous.page&&this.dataStorage.previousPage.page_id==this.contentPage.previous.page.id||this.loadPage("previous",this.dataStorage.previousPage));playerBehaviour.nonLinearCompletion&&!this.dataStorage.courseStructure.complete||!this.dataStorage.isEndOfCourse(this.behaviour.skipEnd)?!this.behaviour.skipEnd&&this.dataStorage.isEndOfModule()?this.loadModuleEnd():this.dataStorage.nextPage?playerBehaviour.nonLinearCompletion&&!this.dataStorage.currentModule.isRevisiting?
this.dataStorage.courseStructure.complete?this.loadCourseEnd():!this.behaviour.skipEnd&&this.dataStorage.currentModule.complete?this.loadModuleEnd():(this.applyTransitionClass("next",this.transitions.page),this.contentPage.next&&this.contentPage.next.page&&this.dataStorage.nextPage.page_id==this.contentPage.next.page.id||this.loadPage("next",this.dataStorage.nextPage),this.dataStorage.nextPage.complete&&this.dataStorage.currentPage.objectid!=this.dataStorage.nextPage.objectid&&(this.forward=this.jumpToNextIncompletePage)):
(this.applyTransitionClass("next",this.transitions.page),this.contentPage.next&&this.contentPage.next.page&&this.dataStorage.nextPage.page_id==this.contentPage.next.page.id||this.loadPage("next",this.dataStorage.nextPage),this.forward=this.contentForward):playerBehaviour.nonLinearCompletion&&!this.dataStorage.currentModule.isRevisiting&&(this.dataStorage.courseStructure.complete?this.loadCourseEnd():!this.behaviour.skipEnd&&this.dataStorage.currentModule.complete?this.loadModuleEnd():(this.applyTransitionClass("next",
this.transitions.page),this.forward=this.jumpToNextIncompletePage,this.navigation.showForwardButton())):this.loadCourseEnd();$(this).trigger(this.events.contentPageLoaded);$(this).trigger(this.events.pageLoaded);this.back=this.contentBack}))};
DKI.PresentationPlayer.prototype.launchReview=function(b){this.inReview=!0;this.inEndScreen=!1;this.forward=this.assessmentForward;this.forceEnd=this.assessmentForceEnd;this.back=this.assessmentBack;this.reload=this.loadCurrentQuestion;this.dataStorage.createReview(b);this.hideTree()};
DKI.PresentationPlayer.prototype.launchTest=function(b,h,c){this.inAssessment||(this.inAssessment=!0,this.inEndScreen=!1,this.forward=this.assessmentForward,this.forceEnd=this.assessmentForceEnd,this.back=this.assessmentBack,this.reload=this.loadCurrentQuestion,this.dataStorage.createTest(b,h,c),this.hideTree())};
DKI.PresentationPlayer.prototype.loadCertificate=function(){var b=this;this.course.certificate_page?this.loadPage("next",{subeotype:0,page:this.course.certificate_page},function(){b.shuffleForward()}):(this.contentPage.next&&this.contentPage.next.destroy&&this.contentPage.next.destroy(),this.contentPage.next=DKI.CompletionCertificate,this.applyTransitionClass("next",this.transitions.end),DKI.CompletionCertificate.init(b,b.pageFrames.next),b.shuffleForward())};
DKI.PresentationPlayer.prototype.loadCompletion=function(){this.dataStorage.loadCompletion();this.dataStorage.publishFilter&&this.dataStorage.publishFilter!=settings.publish_filter.id&&contentApi.changePublishFilter({publishFilterId:this.dataStorage.publishFilter})};
DKI.PresentationPlayer.prototype.loadCourseEnd=function(){var b=!1,h=this;this.reachedEnd||this.behaviour.skipEnd||(b=!0);this.reachedEnd=!0;b?this.loadModuleEnd():this.course.course_summary_page?this.loadPage("next",{subeotype:0,page:this.course.course_summary_page},function(){h.forward=h.startCourseEnd;h.onEndReady()}):(this.contentPage.next&&this.contentPage.next.destroy&&this.contentPage.next.destroy(),this.contentPage.next=DKI.EndCourse,this.applyTransitionClass("next",this.transitions.end),
DKI.EndCourse.init(h,h.pageFrames.next),this.forward=this.startCourseEnd)};
DKI.PresentationPlayer.prototype.loadCurrentPage=function(b){var h=this,c=this.dataStorage.currentPage;this.forward=this.contentForward;this.back=this.contentBack;this.checkPreTest()?this.launchTest(this.dataStorage.currentModule.loid,"pre"):(this.applyTransitionClass("current",this.transitions.page),this.loadPage("current",c,function(){this.reload=this.contentReload;this.contentPage.current.start();this.dataStorage.setCurrentPageComplete();this.navigation.setCurrentScreen(this.dataStorage.currentModulePage);
this.initBars();$(this).trigger(this.events.contentPageLoaded);$(this).trigger(this.events.pageLoaded);if(b&&this.settings.responsive){var c=h.dataStorage.lastSection,m=h.dataStorage.groupBookmark;if(dataStorage.resumeFromBookmark)var p=function(){m?h.contentPage.current.jumpToGroup(m):h.contentPage.current.jumpToGroup(c);$(document).off(DKI.ContentPage.events.loadFinished,p)};$(document).on(DKI.ContentPage.events.loadFinished,p)}}),this.dataStorage.previousPage&&(this.applyTransitionClass("previous",
this.transitions.page),this.loadPage("previous",this.dataStorage.previousPage)),this.dataStorage.isEndOfCourse(this.behaviour.skipEnd)?this.loadCourseEnd():!this.behaviour.skipEnd&&this.dataStorage.isEndOfModule()?this.loadModuleEnd():this.dataStorage.nextPage&&(playerBehaviour.nonLinearCompletion&&!this.dataStorage.currentModule.isRevisiting?this.dataStorage.courseStructure.complete?this.loadCourseEnd():!this.behaviour.skipEnd&&this.dataStorage.currentModule.complete?this.loadModuleEnd():(this.applyTransitionClass("next",
this.transitions.page),this.loadPage("next",this.dataStorage.nextPage),this.forward=this.jumpToNextIncompletePage):(this.applyTransitionClass("next",this.transitions.page),this.loadPage("next",this.dataStorage.nextPage))))};
DKI.PresentationPlayer.prototype.loadPage=function(b,h,c){var l=this,m=this.pageFrames[b],p=h.page.actions;this.loadState[b]="loading";(function(){if(null!==p){l.contentPage[b]&&l.contentPage[b].destroy&&l.contentPage[b].destroy();l.contentPage[b]=new DKI.ContentPage({contentAPI:l.contentAPI,containerEl:m,actions:p,page:h.page,player:l});var n=function(){l.loadState[b]="done";c&&c.call(l);l.queuedAction&&("forward"===l.queuedAction&&"next"===b?l.forward():"resume"===l.queuedAction&&"next"===b?l.resume():
"back"===l.queuedAction&&"previous"===b&&l.back(),l.queuedAction=null);$(document).on(DKI.ContentPage.events.loadFinished+".startTimer",function(b,c){c.page.id==h.page.id&&($(document).off(DKI.ContentPage.events.loadFinished+".startTimer"),(!l.inAssessment||l.inAssessment&&!l.dataStorage.assessment.countdownTimer)&&l.startContentTimer())})};7==h.subeotype?requirejs(["testing"],function(){l.contentPage[b]=new DKI.TestQuestion(l,l.contentPage[b],h.question,!0);n()}):(8==h.subeotype&&(l.contentPage[b]=
new DKI.Scene(l,l.contentPage[b])),n())}})()};DKI.PresentationPlayer.prototype.loadQuestion=function(b,h,c){var l=this;this.loadPage(b,h,function(){requirejs(["testing"],function(){l.contentPage[b]=new DKI.TestQuestion(l,l.contentPage[b],h);c&&c.call(l)})})};
DKI.PresentationPlayer.prototype.loadCurrentQuestion=function(){var b=this,h=this.dataStorage.getCurrentQuestion(),c=this.dataStorage.getNextQuestion();this.applyTransitionClass("next",this.transitions.jump);this.navigation.setTotalScreens(this.dataStorage.getTotalQuestions());this.navigation.setCurrentScreen(this.dataStorage.getCurrentQuestionCount());this.loadQuestion("next",h,function(){b.shuffleForward();b.initBarsAssessment();b.inReview&&b.questionPage.showReview(b.dataStorage.assessment.prepost,
b.dataStorage.getCurrentQuestion().userChoices,b.dataStorage.getCurrentQuestion().options,b.dataStorage.getCurrentQuestion());b.applyTransitionClass("current",b.transitions.page);b.behaviour.transcripts?h.page.transcript?b.navigation.enableTranscriptButton():b.navigation.disableTranscriptButton():b.navigation.hideTranscriptButton();b.menu.selectQuestion(h);b.assessmentState="next";b.questionFeedbackClosed="false";c?(b.applyTransitionClass("next",b.transitions.page),b.loadQuestion("next",c,function(){$(b).trigger(b.events.pageLoaded);
$(b).trigger(b.events.questionPageLoaded)})):b.loadModuleEnd(function(){});$(b).trigger(b.events.questionPageLoaded);$(b).trigger(b.events.pageLoaded)})};
DKI.PresentationPlayer.prototype.loadModuleEnd=function(b){var h=this,c=dataStorage.currentModule;if(this.inEndScreen){var l=dataStorage.getNextModule();l&&(c=l)}this.applyTransitionClass("next",this.transitions.end);this.course.module_summary_page?this.loadPage("next",{subeotype:0,page:this.course.module_summary_page},function(){h.forward=h.startModuleEnd;h.onEndReady();b&&b.call(h)}):(h.contentPage.next=DKI.EndModule,DKI.EndModule.init(h,this.pageFrames.next,c),b&&b.call(h),this.forward=this.startModuleEnd)};
DKI.PresentationPlayer.prototype.loadPageActions=function(b,h){b=this.settings.actionsURL+b+this.settings.actionsPrefix;var c=function(){},l=function(){},m=function(){};h&&("function"==typeof h?c=h:(h.success&&(c=h.success),h.error&&(l=h.error),h.complete&&(m=h.complete)));$.get(b,function(){},"json").success(c).error(l).complete(m)};
DKI.PresentationPlayer.prototype.resume=function(b){var h=this,c=function(b){h.inAssessment=!1;h.inEndScreen=!1;if("loading"===h.loadState.next)return h.queuedAction||(h.queuedAction="resume"),!0;if(h.reachedEnd)h.startCourseEnd();else{var c=this.dataStorage.getModuleScoringDetails(this.dataStorage.currentModule);!b||playerBehaviour.pretestSkipContent&&c.passed?(this.dataStorage.nextModuleIsTestOnly()&&(h.inEndScreen=!0,h.loadModuleEnd(),h.inEndScreen=!1),h.dataStorage.goNextPage()):h.dataStorage.resume();
!this.dataStorage.moduleIsTestOnly()&&h.checkPreTest()?h.launchTest(h.dataStorage.currentModule.loid,"pre"):(h.applyTransitionClass("next",h.transitions.page),h.forward(!0),setTimeout(function(){h.dataStorage.previousPage&&(h.applyTransitionClass("previous",h.transitions.page),h.loadPage("previous",h.dataStorage.previousPage))},500))}};this.course.testonly?function(){var b=h.dataStorage.lessonStatus;"passed"===b||"failed"===b||h.dataStorage.allTestsAttempted()?h.startCourseEnd():h.dataStorage.goNextModule()?
h.launchTest(h.dataStorage.currentModule.loid,"post"):(h.dataStorage.onCourseComplete(),h.startCourseEnd())}():c(b)};
DKI.PresentationPlayer.prototype.resumeBookmark=function(){var b=this,h=this.dataStorage.bookmark,c=this.dataStorage.lessonStatus;this.course.testonly?"passed"===c||"failed"===c||this.dataStorage.allTestsAttempted()?(this.dataStorage.onCourseComplete(),this.resumeToCourseEnd()):h&&""!==h&&this.dataStorage.jumpToModule(h)?this.launchTest(h,"post"):this.dataStorage.jumpToModule(this.course.modules[0].loid)&&this.launchTest(this.course.modules[0].loid,"post"):this.dataStorage.moduleHasPages(this.dataStorage.currentModule)?
(this.dataStorage.resume(this.behaviour.autoResume),this.dataStorage.assessmentBookmark&&this.dataStorage.resumeFromBookmark&&playerBehaviour.enableAssessmentBookmarking?this.launchTest(this.dataStorage.assessmentBookmark.moduleid,this.dataStorage.assessmentBookmark.prepost,!0):(this.setModuleDisplay(),this.loadCurrentPage(!0)),this.dataStorage.assessmentBookmark=null):this.loadModuleEnd(function(){b.startModuleEnd()})};
DKI.PresentationPlayer.prototype.resumeToCourseEnd=function(){var b=this;this.course.course_summary_page?this.loadPage("current",{subeotype:0,page:this.course.course_summary_page},function(){b.initBarsEndScreen();b.hideTree();b.contentPage.current.start()}):(this.contentPage.current=DKI.EndCourse,DKI.EndCourse.init(this,this.pageFrames.current),b.initBarsEndScreen(),b.hideTree(),DKI.EndCourse.start())};
DKI.PresentationPlayer.prototype.resumeToModuleEnd=function(){var b=this;this.course.module_summary_page?this.loadPage("current",{subeotype:0,page:this.module_summary_page},function(){b.initBarsEndScreen();b.hideTree();b.contentPage.current.start()}):(this.contentPage.current=DKI.EndModule,DKI.EndModule.init(this,this.pageFrames.current),b.initBarsEndScreen(),b.hideTree(),DKI.EndModule.start())};
DKI.PresentationPlayer.prototype.shuffleForward=function(b){var h=this.pageFrames.previous;this.contentFrame.removeClass("back").addClass("forward");this.pageFrames.previous=this.pageFrames.current;this.pageFrames.current=this.pageFrames.next;this.pageFrames.next=h;this.contentPage.previous&&this.contentPage.previous.destroy&&this.contentPage.previous.destroy();this.contentPage.previous=this.contentPage.current;this.contentPage.current=this.contentPage.next;this.contentPage.next=null;h.innerHTML=
"";$(this.pageFrames.previous).removeClass("current dk-hidden").addClass("previous").css("top",$(".headerPage:not(.hidden)").outerHeight());$(this.pageFrames.current).removeClass("next dk-hidden").addClass("current").css({visibility:"",top:""});$(this.pageFrames.next).removeClass("previous dk-hidden").addClass("next").css("top",$(".headerPage:not(.hidden)").outerHeight());var c=this,h=function(){$(c.pageFrames.previous).css("visibility","hidden").addClass("dk-hidden");$(c.pageFrames.next).css("visibility",
"hidden").addClass("dk-hidden")};b?h():setTimeout(h,500);this.settings.responsive||($(c.pageFrames.previous).height(this.course.height),$(c.pageFrames.next).height(this.course.height));if($(document.body).hasClass("mobile")){this.headerContainer.css("position","relative");$("body, html, #contentFrame").scrollTop(0);try{$(parent.document).scrollTop(0)}catch(l){}this.headerContainer.css("position","fixed")}else if(this.settings.responsive){$("body, html, #contentFrame").scrollTop(0);try{$(parent.document).scrollTop(0)}catch(l){}}null!==
this.contentPage.previous&&this.contentPage.previous.reset&&this.contentPage.previous.reset({timeout:500});null!=this.contentPage.current&&this.contentPage.current.start()};
DKI.PresentationPlayer.prototype.shuffleBack=function(b){var h=this.pageFrames.next;this.contentFrame.removeClass("forward").addClass("back");this.pageFrames.next=this.pageFrames.current;this.pageFrames.current=this.pageFrames.previous;this.pageFrames.previous=h;this.contentPage.next&&this.contentPage.next.destroy&&this.contentPage.next.destroy();this.contentPage.next=this.contentPage.current;this.contentPage.current=this.contentPage.previous;this.contentPage.previous=null;h.innerHTML="";$(this.pageFrames.next).removeClass("current dk-hidden").addClass("next").css("top",
$(".headerPage:not(.hidden)").outerHeight());$(this.pageFrames.current).removeClass("previous dk-hidden").addClass("current").css({visibility:"",top:""});$(this.pageFrames.previous).removeClass("next dk-hidden").addClass("previous").css("top",$(".headerPage:not(.hidden)").outerHeight());var c=this,h=function(){$(c.pageFrames.previous).css("visibility","hidden").addClass("dk-hidden");$(c.pageFrames.next).css("visibility","hidden").addClass("dk-hidden")};b?h():setTimeout(h,500);this.settings.responsive||
($(c.pageFrames.previous).height(this.course.height),$(c.pageFrames.next).height(this.course.height));if($(document.body).hasClass("mobile")){this.headerContainer.css("position","relative");$("body, html, #contentFrame").scrollTop(0);try{$(parent.document).scrollTop(0)}catch(l){}this.headerContainer.css("position","")}else if(this.settings.responsive){$("body, html, #contentFrame").scrollTop(0);try{$(parent.document).scrollTop(0)}catch(l){}}this.contentPage.next.reset&&this.contentPage.next.reset({timeout:500});
null!=this.contentPage.current&&this.contentPage.current.start()};
DKI.PresentationPlayer.prototype.startModuleEnd=function(){if(playerBehaviour.nonLinearCompletion&&!this.dataStorage.currentModule.complete&&this.jumpToNextIncompletePage())return!1;if(""==this.pageFrames.next.innerHTML)$(document).on(DKI.EndModule.events.ready,$.proxy(function(){this.startModuleEnd()},this));else{var b=this.inAssessment||this.inReview;this.inAssessment=this.inReview=!1;this.dataStorage.assessment&&(this.dataStorage.assessment.currentQuestion=null);$(".questionScoreDisplay").hide();
$(".submitButton").hide();$("#countDownTimer").remove();var h=b&&"pre"===this.dataStorage.assessment.prepost;b&&(this.course.testonly&&this.dataStorage.allTestsAttempted()||!this.course.testonly&&!this.dataStorage.nextPage&&"pre"!==this.dataStorage.assessment.prepost&&this.dataStorage.isEndOfCourse(this.behaviour.skipEnd))&&(this.reachedEnd=!0);if(this.dataStorage.isEndOfCourse(!1,h)||this.dataStorage.nextModuleIsTestOnly()&&this.dataStorage.allTestsAttempted())this.reachedEnd=!0;this.setModuleDisplay();
this.clearObjectDisplay();this.initBarsEndScreen();this.hideTree();this.forward=this.contentForward;this.shuffleForward();if(this.reachedEnd)this.loadCourseEnd();else if(this.applyTransitionClass("next",this.transitions.page),!this.course.testonly&&!this.dataStorage.nextModuleIsTestOnly()||h)playerBehaviour.nonLinearCompletion&&!this.inEndScreen&&this.dataStorage.jumpToEndOfModule(),b=this.dataStorage.getModuleScoringDetails(this.dataStorage.currentModule),!h||playerBehaviour.pretestSkipContent&&
b.passed?(h=this.dataStorage.getNextPage())?(this.applyTransitionClass("next",this.transitions.page),this.loadPage("next",h),this.forward=this.contentForward,this.back=this.contentBack):this.dataStorage.isEndOfCourse(this.behaviour.skipEnd)?this.loadCourseEnd():!this.behaviour.skipEnd&&this.dataStorage.isEndOfModule()&&(this.dataStorage.moduleIsTestOnly()||this.loadModuleEnd()):(this.loadPage("next",this.dataStorage.currentPage),this.forward=this.contentForward,this.back=this.contentBack)}};
DKI.PresentationPlayer.prototype.startCourseEnd=function(){if(playerBehaviour.nonLinearCompletion&&!this.dataStorage.currentModule.complete&&this.jumpToNextIncompletePage())return!1;if(""==this.pageFrames.next.innerHTML)$(document).on(DKI.EndCourse.events.ready,$.proxy(function(){this.startCourseEnd()},this));else this.initBarsEndScreen(),this.navigation.showMenuButton(),this.hideTree(),this.shuffleForward(),this.pageFrames.next.innerHTML=""};
DKI.PresentationPlayer.prototype.setPlayerSize=function(){var b=0,h=this.course.width,c=this,l=function(){c.barHeight=(c.headerContainer.is(":visible")?c.headerContainer.outerHeight():0)+(c.footerContainer.is(":visible")?c.footerContainer.outerHeight():0);b=c.barHeight+parseInt(c.course.height,10)};l();if((this.behaviour.resizeWindow||this.isAdminPreview)&&!settings.responsive){if(scormInterface)scormInterface.process("onPlayerResize",[{barHeight:this.barHeight,totalHeight:b,totalWidth:h}],function(b){l();
c.setPageHeight(b);$("#contentFrame").height(b);$(c).trigger(c.events.playerResized)});else{var m=h-$(window).width(),p=b-$(window).height();DKI.canAccessIframe(top)&&(top.window.resizeBy(m,p),setTimeout(function(){m=h-$(window).width();top.window.resizeBy(m,0)},10));800>=screen.availHeight&&(p=function(){l();if(b>$(window).height()){var h=$(window).height()-c.barHeight;c.setPageHeight(h);$("#contentFrame").height(h);$(window).off(settings.resizeEvent,this);$(c).trigger(c.events.playerResized)}},
$(window).on(settings.resizeEvent,$.proxy(p,p)))}$(this).trigger(this.events.playerResized)}this.resetContentHeight()};DKI.PresentationPlayer.prototype.onEndReady=function(){var b=this.dataStorage.currentPage;!b||this.inAssessment||this.inEndScreen||this.dataStorage.pageDisablesNext(b.page)||this.navigation.showForwardButton()};
DKI.PresentationPlayer.prototype.onWindowResize=DKI.func.debounce(function(){if(this.contentPage.current&&this.contentPage.current.onWindowResize)this.contentPage.current.onWindowResize();if(this.contentPage.previous&&this.contentPage.previous.onWindowResize)this.contentPage.previous.onWindowResize();if(this.contentPage.next&&this.contentPage.next.onWindowResize)this.contentPage.next.onWindowResize();if(this.headers.primary.contentPage&&this.headers.primary.contentPage.onWindowResize)this.headers.primary.contentPage.onWindowResize();
if(this.headers.secondary.contentPage&&this.headers.secondary.contentPage.onWindowResize)this.headers.secondary.contentPage.onWindowResize();if(this.footers.primary.contentPage&&this.footers.primary.contentPage.onWindowResize)this.footers.primary.contentPage.onWindowResize();if(this.footers.secondary.contentPage&&this.footers.secondary.contentPage.onWindowResize)this.footers.secondary.contentPage.onWindowResize();settings.responsive&&this.resetContentHeight();this.setCountdownTimerPosition();this.setContentTimerPosition()},
75,!1);DKI.PresentationPlayer.prototype.resetContentHeight=function(){if(settings.responsive){var b=($(".headerPage:not(.hidden)").outerHeight()+$("#contentFrame").offset().top+$(".footerPage:not(.hidden)").outerHeight()+$("#footerContainer").height())/settings.scale;$(".dkiContentFrame, .bgRepeater, .dkiContentFrame\x3e.pageElementsWrapper").css({"min-height":""}).css({"min-height":$(window).height()-b})}};
DKI.PresentationPlayer.prototype.onWindowScroll=function(){if(this.contentPage.current&&this.contentPage.current.onWindowScroll)this.contentPage.current.onWindowScroll();if(this.contentPage.previous&&this.contentPage.previous.onWindowScroll)this.contentPage.previous.onWindowScroll();if(this.contentPage.next&&this.contentPage.next.onWindowScroll)this.contentPage.next.onWindowScroll();if(this.headers.primary.contentPage&&this.headers.primary.contentPage.onWindowScroll)this.headers.primary.contentPage.onWindowScroll();
if(this.headers.secondary.contentPage&&this.headers.secondary.contentPage.onWindowScroll)this.headers.secondary.contentPage.onWindowScroll();if(this.footers.primary.contentPage&&this.footers.primary.contentPage.onWindowScroll)this.footers.primary.contentPage.onWindowScroll();if(this.footers.secondary.contentPage&&this.footers.secondary.contentPage.onWindowScroll)this.footers.secondary.contentPage.onWindowScroll()};
DKI.PresentationPlayer.prototype.onQuestionLoaded=function(b){this.navigation.setCurrentScreen(this.currentTest.currentQuestionDisplay);this.displayURL(b,this.currentFrame);return!0};DKI.PresentationPlayer.prototype.onQuestionFeedbackClosed=function(){"next"===this.assessmentState?this.loadCurrentQuestion():"complete"===this.assessmentState?this.loadModuleEnd():this.questionFeedbackClosed=!0};
DKI.PresentationPlayer.prototype.onPageClicked=function(b,h,c){"undefined"===typeof h&&(h=!1);"undefined"===typeof c&&(c=!1);c&&!this.canJump(b)?window.alert(this.strings.noNavLabel):(this.hideTree(),h&&this.dataStorage.completePreviousPages(b),this.jumpTo(b))};DKI.PresentationPlayer.prototype.onPageReady=function(b,h){if(this.inAssessment||this.inReview)this.onQuestionPageReady(h);else this.onContentPageReady(h)};
DKI.PresentationPlayer.prototype.onPageResize=function(b,h){this.isMobile&&this.settings.scrolling&&this.setPageHeight(h)};
DKI.PresentationPlayer.prototype.onContentPageReady=function(b){var h=this.dataStorage.nextPage?parseInt(this.dataStorage.nextPage.page.pageid,"10"):null,c=this.dataStorage.previousPage?parseInt(this.dataStorage.previousPage.page.pageid,"10"):null;b=parseInt(b.pageid,10);var l=this.dataStorage.currentPage;b!==h||this.inEndScreen||this.dataStorage.pageDisablesNext(l.page)?b!==c||this.inEndScreen||l.page.disableback||this.navigation.showBackButton():this.navigation.showForwardButton();player.behaviour.pageNotes&&
player.openSlideNotes()};DKI.PresentationPlayer.prototype.onQuestionPageReady=function(){};
DKI.PresentationPlayer.prototype.contentBack=function(){var b=this;this.reachedEnd=!1;this.contentAPI.hideBoth();if("loading"===this.loadState.previous)return this.queuedAction||(this.queuedAction="back"),!0;this.dataStorage.goPreviousPage();this.shuffleBack();this.initBars();this.dataStorage.setCurrentPageComplete();this.navigation.setCurrentScreen(this.dataStorage.currentModulePage);this.forward=this.contentForward;this.reload=this.contentReload;$(this).trigger(this.events.contentPageLoaded);$(this).trigger(this.events.pageLoaded);
setTimeout(function(){b.dataStorage.isEndOfCourse(b.behaviour.skipEnd)?b.loadCourseEnd():!b.behaviour.skipEnd&&b.dataStorage.isEndOfModule()&&b.loadModuleEnd()},500);this.dataStorage.previousPage&&(this.applyTransitionClass("previous",this.transitions.page),this.loadPage("previous",this.dataStorage.previousPage));return!0};
DKI.PresentationPlayer.prototype.contentForward=function(b){var h=this.dataStorage.currentModule,c=this.transitions.page+" next";this.contentAPI.hideBoth();if("loading"===this.loadState.next)return this.queuedAction||(this.queuedAction="forward"),!0;b||(this.behaviour.skipEnd?this.dataStorage.goNextValidPage():this.dataStorage.goNextPage());h!==this.dataStorage.currentModule&&this.checkPreTest(this.dataStorage.currentModule)?this.launchTest(this.dataStorage.currentModule.loid,"pre"):(this.applyTransitionClass(c),
this.shuffleForward(),this.dataStorage.setCurrentPageComplete(),this.navigation.setCurrentScreen(this.dataStorage.currentModulePage),this.reload=this.contentReload,$(this).trigger(this.events.contentPageLoaded),$(this).trigger(this.events.pageLoaded),this.dataStorage.isEndOfCourse(this.behaviour.skipEnd)?this.loadCourseEnd():!this.behaviour.skipEnd&&this.dataStorage.isEndOfModule()?this.loadModuleEnd():this.dataStorage.nextPage&&(playerBehaviour.nonLinearCompletion&&!this.dataStorage.currentModule.isRevisiting?
this.dataStorage.courseStructure.complete?this.loadCourseEnd():!this.behaviour.skipEnd&&this.dataStorage.currentModule.complete?this.loadModuleEnd():(this.applyTransitionClass("next",this.transitions.page),this.loadPage("next",this.dataStorage.nextPage),this.dataStorage.nextPage.complete&&this.dataStorage.currentPage.objectid!=this.dataStorage.nextPage.objectid&&(this.forward=this.jumpToNextIncompletePage)):(this.applyTransitionClass("next",this.transitions.page),this.loadPage("next",this.dataStorage.nextPage))),
this.initBars());return!0};DKI.PresentationPlayer.prototype.contentReload=function(){this.contentPage.current.reset();this.contentPage.current.start()};DKI.PresentationPlayer.prototype.assessmentForceEnd=function(){this.loadModuleEnd();this.startModuleEnd()};
DKI.PresentationPlayer.prototype.assessmentForward=function(){var b;b=this.transitions.page+" next";var h=this;if("loading"===this.loadState.next)return this.queuedAction||(this.queuedAction="forward"),!0;this.dataStorage.goNextQuestion();this.applyTransitionClass(b);this.contentAPI.hideBoth();this.shuffleForward();this.initBarsAssessment();this.navigation.setTotalScreens(this.dataStorage.getTotalQuestions());this.navigation.setCurrentScreen(this.dataStorage.getCurrentQuestionCount());this.inReview&&
this.questionPage.showReview(this.dataStorage.assessment.prepost,this.dataStorage.getCurrentQuestion().userChoices,this.dataStorage.getCurrentQuestion().options,this.dataStorage.getCurrentQuestion());(b=this.dataStorage.getNextQuestion())?(this.applyTransitionClass("next",this.transitions.page),this.loadQuestion("next",b,function(){$(h).trigger(h.events.pageLoaded);$(h).trigger(h.events.questionPageLoaded)})):this.loadModuleEnd(function(){});return!0};
DKI.PresentationPlayer.prototype.assessmentBack=function(){var b;this.applyTransitionClass(this.transitions.page+" previous");this.contentAPI.hideBoth();if("loading"===this.loadState.previous)return this.queuedAction||(this.queuedAction="back"),!0;this.dataStorage.goPreviousQuestion();this.shuffleBack();if(b=this.dataStorage.getPreviousQuestion())this.applyTransitionClass("previous",this.transitions.previous),this.loadQuestion("previous",b),this.contentAPI.showBoth();$(this).trigger(this.events.pageLoaded);
$(this).trigger(this.events.questionPageLoaded);return!0};DKI.PresentationPlayer.prototype.hideTree=function(){this.menu.hide();this.navigation.setMenuState(!1)};DKI.PresentationPlayer.prototype.showTree=function(){this.menu.show();this.menu.scrollToSelected();this.navigation.setMenuState(!0)};DKI.PresentationPlayer.prototype.toggleAudio=function(b){this.audio="on"===b?!0:!1;this.contentPage.current.setAudio&&this.contentPage.current.setAudio(this.audio)};
DKI.PresentationPlayer.prototype.showTranscript=function(){dataStorage.currentPage.page.transcript&&""!=dataStorage.currentPage.page.transcript.body&&(contentApi.showPopup({html:dataStorage.currentPage.page.transcript.body,effect:"fade",style:"gray-light",autoFocus:!0,popupType:{modal:!0,mod:"middle fill",type:"banner"}}),$(this).trigger(this.events.playerTranscriptShown))};DKI.PresentationPlayer.prototype.hideTranscript=function(){this.hideTree()};
DKI.PresentationPlayer.prototype.toggleTranscript=function(){"transcriptTab"!==this.menu.selectedTab()||this.menu.tabSet.isHidden()?this.showTranscript():this.hideTranscript()};DKI.PresentationPlayer.prototype.hideOutline=function(){this.hideTree()};DKI.PresentationPlayer.prototype.showOutline=function(){this.showTree();this.menu.selectedTab("outlineTab")};
DKI.PresentationPlayer.prototype.toggleOutline=function(){"outlineTab"!==this.menu.selectedTab()||this.menu.tabSet.isHidden()?this.showOutline():this.hideOutline()};
DKI.PresentationPlayer.prototype.jumpToNextIncompletePage=function(){for(var b=function(b){var c=!1;$.each(b.subeos,function(){if(!this.complete)return c=this.page.pageid,!1});return c},h=function(c){for(var h=!1,l=0;l<c.objects.length&&!(h=b(c.objects[l]));l++);return h},c=!1,l=this.dataStorage.currentObjectIndex;l<this.dataStorage.currentModule.objects.length&&!(c=b(this.dataStorage.currentModule.objects[l]));l++);if(!c)for(l=0;l<this.dataStorage.currentObjectIndex&&!(c=b(this.dataStorage.currentModule.objects[l]));l++);
if(!c&&this.behaviour.skipEnd){for(l=this.dataStorage.currentModuleIndex;l<this.dataStorage.courseStructure.modules.length&&!(c=h(this.dataStorage.courseStructure.modules[l]));l++);if(!c)for(l=0;l<this.dataStorage.currentModuleIndex&&!(c=h(this.dataStorage.courseStructure.modules[l]));l++);}c&&this.jumpTo(c);return c};
DKI.PresentationPlayer.prototype.jumpToSubeo=function(b,h,c){"undefined"===typeof h&&(h=!0);"undefined"===typeof c&&(c=!1);if(b=this.dataStorage.getPageFromSubeo(b))this.initBars(),player.onPageClicked(b.pageid,h,c)};DKI.PresentationPlayer.prototype.setCurrentObjectComplete=function(){this.dataStorage.setCurrentObjectComplete()};DKI.PresentationPlayer.prototype.setModuleDisplay=function(){this.navigation.setModuleName(this.dataStorage.currentModule.name);this.navigation.setTotalScreens(this.dataStorage.currentModulePageTotal)};
DKI.PresentationPlayer.prototype.setObjectDisplay=function(){this.navigation.setObjectName(this.dataStorage.currentObject?this.dataStorage.currentObject.name:"")};DKI.PresentationPlayer.prototype.setPageHeight=function(b){$(this.pageFrames.current).height(b);this.contentFrame.height(b);dkiUA.blackberry&&parent&&parent.setContentHeight&&parent.setContentHeight(b)};DKI.PresentationPlayer.prototype.clearObjectDisplay=function(){this.navigation.setObjectName("")};
DKI.PresentationPlayer.prototype.canJump=function(b){return this.behaviour.forceSequential?(b=this.dataStorage.getPrecedingPage(b),!b||b.complete?!0:!1):!0};
DKI.PresentationPlayer.prototype.applyCssEffects={allowed:function(){return dkiUA.ie&&6<dkiUA.ieVersion||!dkiUA.ie}(),init:function(b){var h,c;if(this.allowed)for(c=$(".cssFX-slctr-Reflect",b),h=0;h<c.length;h++){var l=$($(".cssFX-slctr-Reflect",b)[h]).find("img");if(2==l.length&&null!==$(c[h]).data("rolloverassetid")){var m="#"+$(l[1]).attr("id");$(m).show();$(m).reflect({height:1/3,opacity:.5,attr:{cls:"dki-image-rollover-reflected",style:"filter:inherit;left: 0px;top: 0px;width: inherit !important;height: inherit !important;right:0px;bottom:0px;overflow: hidden;position: absolute;display:none;z-index:2"}});
$(m).attr("class","reflected")}$(l[0]).data("preReflectedClass")||$(l[0]).data("preReflectedClass",$(l[0]).attr("class"));$(l[0]).reflect({height:1/3,opacity:.5,attr:{cls:$(l[0]).data("preReflectedClass")+" dki-image-root-reflected",style:"filter:inherit; left: 0px; top: 0px; width: inherit !important; height: inherit !important; right:0px; bottom:0px; overflow: hidden; z-index: 1; position: absolute;cursor: "+$(l[0]).css("cursor")}})}else for(c=$(".cssFX-slctr-Reflect",b),h=0;h<c.length;h++)$(c[h]).removeClass("cssFX-slctr-Reflect"),
$(c[h]).removeClass("cssFX-Reflect"),$(c[h]).removeClass("cssFX-MirrorRounded"),$(c[h]).height(Math.round(.7*$(c[h]).height()))}};DKI.PresentationPlayer.prototype.openModal=function(b,h){DKI.Modal.show({url:b,callback:h})};DKI.PresentationPlayer.prototype.exitCourse=function(){var b=!0;this.inAssessment&&(window.confirm(this.strings.quitTestWarning)?(window.onbeforeunload=function(){},this.dataStorage.checkCourseComplete()):b=!1);b&&dataStorage.doExit()};
DKI.PresentationPlayer.prototype.startContentTimer=function(b){var h=$("#content-timer-div"),c=dataStorage.currentModule;if(c.hasContentTimer){var l=this;requirejs(["flipclock"],function(){if(l.contentTimer)if(!h.data("forModule")||h.data("forModule")!==c.loid||b){m=dataStorage.currentModule.parameters.content_time;l.contentTimer.stop();l.contentTimer.setTime(m/1E3);var p="MinuteCounter";36E5<=m&&(p="HourCounter");l.contentTimer.loadClockFace(p,null,!0,!0);m=h.outerWidth(!0);l.contentTimer.start();
h.show();h.width(m+1)}else h.data("forModule")!=c.loid||h.is(":visible")||(m=h.outerWidth(!0),l.contentTimer.start(),h.show(),h.width("auto"),h.width(m+1));else{var m={countdown:!0,clockFace:"MinuteCounter",callbacks:{start:function(){},stop:function(){if(h.data("forModule")===dataStorage.currentModule.loid){var b=1E3*this.factory.time.time;setTimeout($.proxy(function(){0==b&&(dataStorage.currentModule.contentTime=0,$(document).trigger(contentApi.events.dataSet,{name:"sys.currentModule.contentTime",
newValue:0,oldValue:1E3}),$(document).trigger(contentApi.events.dataSet,{name:"sys.modules."+(dataStorage.currentModule.loorder-1)+".contentTime",newValue:0,oldValue:b+1E3}))},this),1E3)}},interval:function(b,c,k){h.data("forModule")===dataStorage.currentModule.loid&&(b=1E3*this.factory.time.time,dataStorage.currentModule.parameters.content_time=b,0<b&&($(document).trigger(contentApi.events.dataSet,{name:"sys.currentModule.contentTime",newValue:b,oldValue:b+1E3}),$(document).trigger(contentApi.events.dataSet,
{name:"sys.modules."+(dataStorage.currentModule.loorder-1)+".contentTime",newValue:b,oldValue:b+1E3})))}}};36E5<c.parameters.content_time&&(m.clockFace="HourCounter");l.contentTimer=h.FlipClock(c.parameters.content_time/1E3,m);m=h.outerWidth(!0);h.show();h.width(m+1);l.setContentTimerPosition();h.draggable({containment:DKI.utility.getDragContainment($("#contentFrame"),h.outerWidth(),h.outerHeight()),drag:function(b,c){DKI.utility.dragFix(c)},stop:function(b,c){c.helper.addClass("userDropped")}});
$(window).on("resize",function(){h.draggable("option","containment",DKI.utility.getDragContainment($("#contentFrame"),h.outerWidth(),h.outerHeight()))})}h.data("forModule",c.loid)})}else this.contentTimer&&this.stopContentTimer(!0)};DKI.PresentationPlayer.prototype.stopContentTimer=function(b){this.contentTimer&&this.contentTimer.stop();b&&$("#content-timer-div").hide()};DKI.PresentationPlayer.prototype.setCountdownTimerPosition=function(){var b=$("#countdown-timer-div");b.length&&0<b.width()&&this.setTimerPosition(b)};
DKI.PresentationPlayer.prototype.setTimerPosition=function(b){var h=$(".bgRepeater").width()+parseInt($(".bgRepeater").style("margin-left")),c=h-b.width()-50*DKI.utility.getScale();if(!b.hasClass("userDropped")||parseInt(b.css("left"),10)+b.width()>h)b.css("left",c+"px"),b.removeClass("userDropped")};DKI.PresentationPlayer.prototype.setContentTimerPosition=function(){this.contentTimer&&this.setTimerPosition(this.contentTimer.$el)};
DKI.PresentationPlayer.prototype.showMultiplePages=function(b,h){for(var c=0;c<b.length;c++)this.showPage(b[c],h,!0)};
DKI.PresentationPlayer.prototype.showPage=function(b,h,c,l){var m=b[l];player.forceCloseLightBox=!1;if("undefined"!==typeof dataStorage){player.contentPage.lightBoxPage&&(player.forceCloseLightBox=!0,$.fancybox.close());var m=dataStorage.findPage(m),p=DKI.clone(m);p.notes=m.notes;if(p){var n=null,u=null,k=!0,q=DKI.func.debounce(function(){player.contentPage.lightBoxPage.onWindowResize();v()},75,!1),v=function(){var b=$(".fancybox-item.fancybox-close",n),c=$(".fancybox-stage .fancybox-content",n);
if(settings.responsive){var h=c.offset().top-window.pageYOffset-9;dkiUA.iOS&&"tablet"!=dkiUA.getUAProperties().platform&&window.matchMedia("(orientation: landscape)").matches&&(h=c.offset().top-9);var k=c.offset().left+c[0].clientWidth-$(window).width()-b.width()/2+9}else{var h=c.offset().top-18,k=($("body").width()-c.outerWidth()*settings.claroLightboxScaling+36)/2*-1,l=($("body").width()-c.outerWidth())/2;c.css({left:l+"px"})}b.css({top:h+"px",left:k+"px"})},y=function(){u.$refs.container.on("onUpdate.fb",
q);u.$refs.container.one("onUpdate.fb",function(){n.removeClass("loading")});u.update()},z=function(){k=!0},A,m={},m=settings.responsive?{"max-height":"100%",width:"100%",position:"relative","overflow-y":"auto","margin-bottom":"0",padding:"0"}:{height:settings.course.height,width:settings.course.width,transfrom:"scale("+settings.claroLightboxScaling+")",position:"absolute",left:"0","margin-bottom":"0px",padding:"0px","transition-duration":"0ms"},r=$('\x3cdiv class\x3d"dki-course-max-width"\x3e\x3c/div\x3e').css(m).attr({role:"document"}),
B=this;$(dataStorage).one(DKI.DataStorage.events.pageSelected,function(){$.fancybox.close()});var C=h||document.activeElement;$.fancybox.open(r,{animationEffect:!1,wrapCSS:"ignore_enter",closeBtn:!1,padding:0,margin:[20,60,20,60],scrolling:"no",buttons:["close"],arrows:["arrowLeft","arrowRight"],keyboard:!0,infobar:!1,smallBtn:!1,touch:!1,autoFocus:!1,backFocus:!1,trapFocus:!1,lang:"en",i18n:{en:{CLOSE:DKI.strings.runtime.buttonLabelClose,NEXT:DKI.strings.runtime.buttonLabelNext,PREV:DKI.strings.index.previousButtonLabel}},
baseTpl:'\x3cdiv class\x3d"fancybox-container ignore_enter" tabindex\x3d"-1"\x3e\x3cdiv class\x3d"fancybox-bg"\x3e\x3c/div\x3e\x3cdiv class\x3d"fancybox-inner"\x3e\x3cdiv class\x3d"fancybox-infobar"\x3e\x3cspan data-fancybox-index\x3e\x3c/span\x3e\x26nbsp;/\x26nbsp;\x3cspan data-fancybox-count\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"fancybox-toolbar"\x3e{{buttons}}\x3c/div\x3e\x3cdiv class\x3d"fancybox-navigation"\x3e{{arrows}}\x3c/div\x3e\x3cdiv class\x3d"fancybox-stage"\x3e\x3c/div\x3e\x3cdiv class\x3d"fancybox-caption"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
btnTpl:{close:'\x3cdiv style\x3d"opacity:0;" class\x3d"fancybox-item fancybox-close"data-fancybox-close aria-label\x3d"'+B.strings.buttonLabelClose+'" role\x3d"button" tabindex\x3d"1" \x3e\x3c/div\x3e'},afterLoad:function(b){this.$slide.closest(".fancybox-container").attr("aria-label","Popup").css("opacity",0);b.current.$slide.closest(".fancybox-inner").find(".fancybox-button--close").on("keypress",function(b){13!=b.which&&32!=b.which||$.fancybox.close(r);return!1})},afterShow:function(m,q,y){k=!1;
var C=dataStorage.getSubeoFromPage(p.id);player.contentPage.lightBoxPage=new DKI.StandalonePage({contentAPI:B.contentAPI,containerEl:r[0],actions:p.actions,page:p,player:B,fancyboxInstance:u});var G=this,K=m.current.$slide,I=function(){v();A=function(){$(G.src).removeClass("loading");if(0==$("div.popup.modal:visible").length){var k=K.find(".dki-course-max-width *[tabindex\x3d'1']:visible").first();k[0]?k[0].focus():$(".fancybox-item.fancybox-close",n)[0].focus();if(k.length)K.find(".dki-html-element iframe").on("load",
function(){k[0].focus()})}G.$slide.closest(".fancybox-container").css("opacity",1);setTimeout(function(){$(".fancybox-close").css("opacity",1);c&&($(".fancybox-button--arrow_left, .fancybox-button--arrow_right").removeClass("disabled").css({opacity:"1",visibility:"visible",cursor:"pointer"}),0==l?$(".fancybox-button--arrow_left").addClass("disabled"):l==b.length-1&&$(".fancybox-button--arrow_right").addClass("disabled"),$(".fancybox-button--arrow_left:not(.disabled)").on("click touchstart",DKI.func.debounce(function(){player.showPage(b,
h,!0,l-1)},10)),$(".fancybox-button--arrow_right:not(.disabled)").on("click touchstart",DKI.func.debounce(function(){player.showPage(b,h,!0,l+1)},10)))},75)};$(document).on(DKI.ContentPage.events.loadFinished,A);player.contentPage.lightBoxPage.start(0,!0);setTimeout(z,1E3);$(dataStorage).one(DKI.DataStorage.events.changePage,z);$(document).trigger(DKI.PresentationPlayer.events.targetPageShown,p)};C&&7==C.subeotype?requirejs(["testing"],function(){player.contentPage.lightBoxPage=new DKI.TestQuestion(B,
player.contentPage.lightBoxPage,C.question,!0);I()}):I()},beforeClose:function(){(k||player.forceCloseLightBox&&player.contentPage.lightBoxPage)&&player.contentPage.lightBoxPage.reset();var b=k||player.forceCloseLightBox;player.forceCloseLightBox=!1;return b},afterClose:function(){$(document).off(DKI.ContentPage.events.loadFinished,null,y);$(document).off(DKI.ContentPage.events.loadFinished,null,A);$(dataStorage).off(DKI.DataStorage.events.changePage,null,z);u.$refs.container.off("onUpdate.fb",null,
q);player.contentPage.lightBoxPage.destroy();r.remove();n=u=player.contentPage.lightBoxPage=null;$(document).trigger(DKI.PresentationPlayer.events.targetPageHidden,p);$("html").removeClass("popupPageOpen");setTimeout(function(){DKI.enforceFocus(!1);DKI.reference.hideReference();DKI.reference.hideBibliography();var b=$("div.popup.modal:visible, .fancybox-inner:visible").last();b.length&&(DKI.enforceFocus(b),b=b.find("*[tabindex\x3d'1']:not(.close):not(.fancybox-close)"),b.length&&b[0].focus());C.focus()},
1)},beforeShow:function(b,c,h){$("html").addClass("popupPageOpen");c=this.$slide.closest(".fancybox-inner");c.after("\x3cdiv tabindex\x3d'1' style\x3d'position:absolute; bottom:1px; right:1px; height:1px; width:1px; opacity:0;'\x3e\x26nbsp;\x3c/div\x3e");u=b;n=c;settings.responsive||c.find(".fancybox-slide").style("overflow","hidden");c.attr("role","dialog").attr("aria-label",p.title).find(".dki-course-max-width").attr("role","document");0==$("div.popup.modal:visible").length&&DKI.enforceFocus(c);
c.addClass("loading");$(document).on(DKI.ContentPage.events.loadFinished,y)}})}}};DKI.PresentationPlayer.transitionClasses="none slide fade flip pop";DKI.PresentationPlayer.events={targetPageShown:"playerTargetPageShow",targetPageHidden:"playerTargetPageHidden"};
DKI.DataStorage=$.Class({init:function(b,h,c,l,m,p){var n=this;this.ready=this.courseTime=this.eventsInitialized=this.resumeFromBookmark=this.loadingLMSCompletionData=!1;this.courseStructure=this.initStructure(b);this.behaviour=h;this.strings=c;this.currentPageIndex=this.currentObjectIndex=this.currentModuleIndex=0;this.store={assets:{},groups:{},elements:{},resources:{},relationships:{glossaryElement:{},assetElement:{},citationGlossary:{}}};this.completion={dataChunk:{},elements:{},progress:""};
l?this.bookmark=l:m&&(b=this.getPageFromSubeo(m))&&(this.bookmark=b.id);this.bookmark&&p&&(this.groupBookmark=p);this.assessmentBookmark=null;this.storeAssessment=!1;this.currentModule=this.courseStructure.modules[this.currentModuleIndex];this.currentObject=this.currentModule.objects[this.currentObjectIndex];this.currentPage=this.currentObject.subeos[this.currentPageIndex];this.moduleCount=this.courseStructure.modules.length;this.currentObjectCount=this.currentModule.objects.length;this.currentPageCount=
this.currentObject.subeos.length;this.previousPage=null;this.currentPage||this.goNextPage();0<this.currentPageIndex&&(this.previousPage=this.getPreviousPage());this.nextPage=this.getNextPage();this.currentModulePageTotal=this.countModulePages(this.currentModule);this.currentModulePage=this.currentPageIndex+1;this.passMark=this.courseStructure.passmark;this.assessment=null;this.lessonStatus="incomplete";this.contentVariables={};this.contentVariableMeta={};this.pagesNextEnabled={};var u={number:0,string:"",
"boolean":!1};$.each(settings.course.custom_variables,function(b,c){n.contentVariables[c.name]=u[c.type]});this.contentVariables["contentVariablesLastUpdated_"+this.courseStructure.courseid]=(new Date).getTime();this.indexAssets();$(document).on(DKI.resourceBrowser.events.resourceRegistered,$.proxy(function(b,c){c.isResource=!0;this.store.assets[c.id]||(this.store.assets[c.id]=c);this.store.resources[c.id]||(this.store.resources[c.id]=c)},this));$(document).on(DKI.courseStore.events.groupRegistered,
$.proxy(function(b,c){this.store.groups[c.id]=c},this));$(document).on(DKI.courseStore.events.elementRegistered,$.proxy(function(b,c){this.store.elements[c.elementid]=c;c.upload_id&&this.setRelationship("assetElement",c.upload_id,c.elementid);if("htm"==c.elementtype||"table"==c.elementtype||"authoringButton"==c.elementtype){var h=this;$("\x3cdiv\x3e"+c.meta.replace(/src=/g,"")+"\x3c/div\x3e").find(".dki-glossary-link").each(function(){var b=$(this).data("id");h.setRelationship("glossaryElement",b,
c.elementid)})}},this));$(document).one(DKI.ContentPage.events.loadFinished,$.proxy(function(){this.startCourseTimer()},this))}});DKI.DataStorage.prototype.getRelationship=function(b,h){var c=[];return this.store.relationships[b]?this.store.relationships[b][h]?this.store.relationships[b][h]:c:c};
DKI.DataStorage.prototype.setRelationship=function(b,h,c){this.store.relationships[b]||(this.store.relationships[b]={});this.store.relationships[b][h]?0>$.inArray(c,this.store.relationships[b][h])&&this.store.relationships[b][h].push(c):this.store.relationships[b][h]=[c]};
DKI.DataStorage.prototype.indexAssets=function(){for(var b=this,h=0;h<DKI.assets.length;h++){var c=DKI.assets[h];this.store.assets[c.id]||(c.labels="",this.store.assets[c.id]=c,$(document).trigger(DKI.DataStorage.events.assetRegistered,[c]))}if(playerBehaviour.preloadImages&&!settings.inPreview){var l=function(){$.each(b.store.assets,function(){var b=this;if("image"==b.type&&!b.preloaded)return $("\x3clink /\x3e",{as:"image",href:b.filePath,rel:"preload"}).on("load",function(){b.preloaded=!0;l()}).appendTo("head"),
!1})};l()}};DKI.DataStorage.prototype.allTestsAttempted=function(){var b,h;return this.hasTesting()&&(this.behaviour.enablePreTest||this.behaviour.enablePostTest)?(b=this.modulesWithTesting().length,h=this.modulesTestAttempted().length,h==b):!0};DKI.DataStorage.prototype.createAssessment=function(b,h,c){return new DKI.Assessment(b,h,c)};DKI.DataStorage.prototype.checkObjectComplete=function(b){for(var h=b.subeos.length,c=0,l=0;l<h;l++)b.subeos[l].complete&&(c+=1);c===h&&this.markObjectComplete(b)};
DKI.DataStorage.prototype.checkModuleComplete=function(b){for(var h=b.objects.length,c=0,l=0;l<h;l++)b.objects[l].complete&&(c+=1);c===h&&this.markModuleComplete(b)};DKI.DataStorage.prototype.checkCourseComplete=function(){for(var b=0,h=0,c=0;c<this.courseStructure.modules.length;c++)this.courseStructure.modules[c].invalidated||(b+=1,this.courseStructure.modules[c].complete&&(h+=1));h===b&&(this.courseStructure.complete||$(this).trigger(DKI.DataStorage.events.courseCompleted),this.doSetCourseComplete())};
DKI.DataStorage.prototype.countCoursePages=function(){for(var b=0,h=0;h<this.courseStructure.modules.length;h+=1)this.courseStructure.modules[h].invalidated||(b+=this.countModulePages(this.courseStructure.modules[h]));return b};DKI.DataStorage.prototype.countModulePages=function(b){for(var h=0,c=0;c<b.objects.length;c++)h+=b.objects[c].subeos.length;return h};
DKI.DataStorage.prototype.moduleIsTestOnly=function(b){b||(b=this.currentModule);"object"!==typeof b&&(b=this.findModule(b));return b?this.moduleHasPages(b)?!1:this.moduleHasTest(b):!1};DKI.DataStorage.prototype.nextModuleIsTestOnly=function(){return this.currentModuleIndex<this.courseStructure.modules.length-1?this.moduleIsTestOnly(this.courseStructure.modules[this.currentModuleIndex+1]):!1};DKI.DataStorage.prototype.createPreTest=function(b){this.createTest(b,"pre")};
DKI.DataStorage.prototype.createPostTest=function(b){this.createTest(b,"post")};
DKI.DataStorage.prototype.createTest=function(b,h,c){b="object"===typeof b?b:this.findModule(b);b.loid!=this.currentModule.loid&&this.loadModule(b);var l=this.loadTest(b,!1,c),m=!0;"pre"===h?0<this.remainingPreAttempts(b)?b.pre={attempts:1,weight:null,points:0,score:0}:m=c:0<this.remainingPostAttempts(b)?b.post?c||b.post.attempts++:b.post={attempts:1,weight:null,points:0,score:0}:m=!1;m?(this.assessment=this.createAssessment(b,h,l),playerBehaviour.enableAssessmentBookmarking&&(this.storeAssessment=
!0),c&&this.assessment.import(this.assessmentBookmark),$(this).trigger(DKI.DataStorage.events.assessmentReady),$(this).trigger(DKI.DataStorage.events.questionSelected,this.assessment.currentQuestion)):$(this).trigger(DKI.DataStorage.events.attemptsMaxed)};DKI.DataStorage.prototype.createReview=function(b){b.test&&(b=b.test);this.assessment=new DKI.AssessmentReview(b);$(this).trigger(DKI.DataStorage.events.assessmentReady);$(this).trigger(DKI.DataStorage.events.questionSelected,this.assessment.currentQuestion)};
DKI.DataStorage.prototype.getElement=function(b){return this.store.elements[b]};DKI.DataStorage.prototype.getElementByDragDropId=function(b){var h=null;$.each(this.store.elements,function(){if(this.dragdrop_id.toLowerCase()==b.toLowerCase())return h=this,!1});return h};DKI.DataStorage.prototype.getGroup=function(b){return this.store.groups[b]};DKI.DataStorage.prototype.getAsset=function(b){return this.store.assets[b]};
DKI.DataStorage.prototype.findPage=function(b){for(var h,c,l=0;l<this.courseStructure.modules.length;l++){h=this.courseStructure.modules[l];for(var m=0;m<h.objects.length;m++){c=h.objects[m];for(var p=0;p<c.subeos.length;p++)if(c.subeos[p].page.pageid==b)return c.subeos[p].page}}if(this.courseStructure.resourcePages)for(l=0;l<this.courseStructure.resourcePages.length;l++)if(this.courseStructure.resourcePages[l].pageid==b)return this.courseStructure.resourcePages[l]};
DKI.DataStorage.prototype.findSubeo=function(b){for(var h,c,l=0;l<this.courseStructure.modules.length;l++){h=this.courseStructure.modules[l];for(var m=0;m<h.objects.length;m++){c=h.objects[m];for(var p=0;p<c.subeos.length;p++)if(c.subeos[p].subeoid==b)return c.subeos[p]}}};
DKI.DataStorage.prototype.findQuestion=function(b){for(var h,c,l=0;l<this.courseStructure.modules.length;l++){h=this.courseStructure.modules[l];for(var m=0;m<h.objects.length;m++){c=h.objects[m];for(var p=0;p<c.questions.length;p++)if(c.questions[p].id==b)return c.questions[p]}}};
DKI.DataStorage.prototype.findQuestionForPage=function(b){for(var h,c,l=0;l<this.courseStructure.modules.length;l++){h=this.courseStructure.modules[l];for(var m=0;m<h.objects.length;m++){c=h.objects[m];for(var p=0;p<c.questions.length;p++)if(c.questions[p].page.pageid==b)return c.questions[p]}}};
DKI.DataStorage.prototype.getSubeoFromPage=function(b){for(var h,c,l=0;l<this.courseStructure.modules.length;l++){h=this.courseStructure.modules[l];for(var m=0;m<h.objects.length;m++){c=h.objects[m];for(var p=0;p<c.subeos.length;p++)if(c.subeos[p].page.pageid==b)return c.subeos[p]}}};
DKI.DataStorage.prototype.findQuestionForPage=function(b){for(var h,c,l=0;l<this.courseStructure.modules.length;l++){h=this.courseStructure.modules[l];for(var m=0;m<h.objects.length;m++){c=h.objects[m];for(var p=0;p<c.questions.length;p++)if(c.questions[p].page.pageid==b)return c.questions[p]}}};
DKI.DataStorage.prototype.getPageFromSubeo=function(b){for(var h,c,l=0;l<this.courseStructure.modules.length;l++){h=this.courseStructure.modules[l];for(var m=0;m<h.objects.length;m++){c=h.objects[m];for(var p=0;p<c.subeos.length;p++)if(c.subeos[p].subeoid==b)return c.subeos[p].page}}};
DKI.DataStorage.prototype.getPageFromExternalId=function(b){for(var h,c,l=0;l<this.courseStructure.modules.length;l++){h=this.courseStructure.modules[l];for(var m=0;m<h.objects.length;m++){c=h.objects[m];for(var p=0;p<c.subeos.length;p++)if(c.subeos[p].page.external_id==b)return c.subeos[p].page}}};DKI.DataStorage.prototype.getModuleEnd=function(b){var h;if("string"===typeof b||"number"===typeof b)b=this.findModule(b);h=b.objects.length-1;return b.objects[h].subeos[b.objects[h].subeos.length-1]};
DKI.DataStorage.prototype.getUserID=function(){return"N/A"};DKI.DataStorage.prototype.findObject=function(b){for(var h,c=0;c<this.courseStructure.modules.length;c++){h=this.courseStructure.modules[c];for(var l=0;l<h.objects.length;l++)if(h.objects[l].objectid==b)return h.objects[l]}};DKI.DataStorage.prototype.findModule=function(b){for(var h=0;h<this.courseStructure.modules.length;h++)if(this.courseStructure.modules[h].loid==b)return this.courseStructure.modules[h]};
DKI.DataStorage.prototype.getModuleByIndex=function(b){return this.courseStructure.modules[b]};DKI.DataStorage.prototype.findModuleIndex=function(b){"object"===typeof b&&(b=b.loid);for(var h=0;h<this.courseStructure.modules.length;h++)if(this.courseStructure.modules[h].loid==b)return h};DKI.DataStorage.prototype.getFirstNonInvalidatedModule=function(){for(var b=0;b<this.courseStructure.modules.length;b++)if(!this.courseStructure.modules[b].invalidated)return this.courseStructure.modules[b];return null};
DKI.DataStorage.prototype.getAssessmentScore=function(){return this.assessment?this.assessment.getScore():null};DKI.DataStorage.prototype.getAssessmentScoringDetails=function(){return this.assessment?{score:this.assessment.getScore(),points:this.assessment.getPoints(),weight:this.assessment.getWeight()}:null};
DKI.DataStorage.prototype.getCourseCompletion=function(b){var h=0,c=0,l,m;if(this.courseStructure.complete&&!b||"1"==this.courseStructure.testOnly&&this.allTestsAttempted()&&this.isPassed()||(this.courseStructure.complete||"testing"==this.behaviour.completionCriteria)&&b&&this.allTestsAttempted()&&this.isPassed())return 100;for(var p=0;p<this.courseStructure.modules.length;p++)if(!this.courseStructure.modules[p].invalidated){l=this.courseStructure.modules[p];for(var n=0;n<l.objects.length;n++)if(m=
l.objects[n],h+=m.subeos.length,m.complete||l.complete)c+=m.subeos.length;else for(var u=0;u<m.subeos.length;u++)m.subeos[u].complete&&c++;(b||"1"==this.courseStructure.testOnly)&&this.moduleHasTest(l)&&(m=this.getModuleScoringDetails(l),l=this.loadTest(l).questions.length,h+=l,m.passed&&(c+=l))}if(b||"1"==this.courseStructure.testOnly)for("testing"==this.behaviour.completionCriteria&&(c=h=0),p=0;p<this.courseStructure.modules.length;p++)this.courseStructure.modules[p].invalidated||(l=this.courseStructure.modules[p],
this.moduleHasTest(l)&&(m=this.getModuleScoringDetails(l),l=this.loadTest(l).questions.length,h+=l,m.passed&&(c+=l)));return 0==h&&0==c?0:Math.round(c/h*1E5)/1E3};DKI.DataStorage.prototype.getCourseScore=function(){return this.hasTesting()?this.getCourseScoringDetails().score:null};
DKI.DataStorage.prototype.getCourseScoringDetails=function(){for(var b=parseFloat(0,"10"),h=0,c,l=0;l<this.courseStructure.modules.length;l++)this.courseStructure.modules[l].invalidated||(c=this.getModuleScoringDetails(this.courseStructure.modules[l]),h+=c.weight,b+=c.points);b=parseFloat(b.toFixed(1),10);return{score:0<b&&0<h?parseInt(b/h*100,10):0,weight:h,points:b}};DKI.DataStorage.prototype.getCourseScoreAvg=function(){return this.hasTesting?this.getCourseScoringDetails().score:null};
DKI.DataStorage.prototype.getContentVariable=function(b){return this.contentVariables[b]};DKI.DataStorage.prototype.setContentVariable=function(b,h,c){this.contentVariables[b]=h;c&&(c.value=h,this.contentVariableMeta[b]=c);this.contentVariables["contentVariablesLastUpdated_"+this.courseStructure.courseid]=(new Date).getTime()};DKI.DataStorage.prototype.getContentVariableMeta=function(b){return this.contentVariableMeta[b]};DKI.DataStorage.prototype.getCourseDurationSeconds=function(){return this.courseStructure.durationSeconds};
DKI.DataStorage.prototype.getCourseDurationMinutes=function(){return Math.floor(this.courseStructure.durationSeconds/60)};DKI.DataStorage.prototype.getCourseDurationString=function(){var b=parseInt(this.getCourseDurationSeconds(),10),b=parseInt(b/60,10),h=parseInt(b/60,10),c=parseInt(h/24,10),b=b-60*h,h=h-24*c;timeString="";return timeString+=c.toString().padStart(2,"0")+":"+h.toString().padStart(2,"0")+":"+b.toString().padStart(2,"0")};
DKI.DataStorage.prototype.getCurrentQuestion=function(){if(this.assessment&&this.assessment.currentQuestion)return this.assessment.currentQuestion};DKI.DataStorage.prototype.getNextQuestion=function(){if(this.assessment)return this.assessment.nextQuestion};DKI.DataStorage.prototype.getPreviousQuestion=function(){if(this.assessment)return this.assessment.previousQuestion};DKI.DataStorage.prototype.getCurrentQuestionCount=function(){if(this.assessment)return this.assessment.currentQuestionCount};
DKI.DataStorage.prototype.getModuleCompletion=function(b){var h=0,c=0;if("number"===typeof b||"string"===typeof b)b=this.findModule(b);if(b.complete)return 100;for(var l=0;l<b.objects.length;l++)if(h+=b.objects[l].subeos.length,b.objects[l].complete)c+=b.objects[l].subeos.length;else for(var m=0;m<b.objects[l].subeos.length;m++)b.objects[l].subeos[m].complete&&c++;return Math.round(c/h*1E5)/1E3};
DKI.DataStorage.prototype.getModuleScore=function(b){var h=null;if("number"===typeof b||"string"===typeof b)b=this.findModule(b);b.pre&&(h=b.pre.score);b.post&&(h&&b.post.score>h||!h)&&(h=b.post.score);return h};DKI.DataStorage.prototype.getAverageQuestionScore=function(b){var h=0;if(!b.lastAssessment||0==b.lastAssessment.answered.length)return 0;for(var c=0;c<b.lastAssessment.answered.length;c++)h+=b.lastAssessment.answered[c].score;return Math.floor(h/b.lastAssessment.answered.length*1E3)/1E3};
DKI.DataStorage.prototype.getModuleScoringDetails=function(b){var h=null,c=0,l=null,m;if("number"===typeof b||"string"===typeof b)b=this.findModule(b);b.pre&&(h=b.pre.score,c=b.pre.points,l=b.pre.weight);b.post&&(h&&b.post.score>h||!h)&&(h=b.post.score,c=b.post.points,l=b.post.weight);var p=null;0===l?m=!0:b.passing_mark?(m=h>=b.passing_mark,p=b.passing_mark):(m=h>=this.passMark,p=this.passMark);return{score:h,points:parseFloat(c.toFixed(1),10),weight:l,passed:m,assessment:b.lastAssessment,passMark:p}};
DKI.DataStorage.prototype.getModuleSummaryData=function(){var b=this,h={};$.each(dataStorage.modulesWithTesting(),function(){var c=dataStorage.getModuleScoringDetails(this);h[this.loid]={module:this,showScore:!0};null===c.score?h[this.loid].text=" \x26nbsp;":(h[this.loid].score=Math.floor(c.score),h[this.loid].points=c.points,h[this.loid].weight=c.weight);null!==c.passMark&&(c.score<c.passMark||null===c.score)&&(h[this.loid].failed=!0,b.behaviour.displayPass&&(h[this.loid].passMark=DKI.strings.endMod.passingScoreLabel+
" "+c.passMark+"%"));if(0<c.weight||null===c.weight){h[this.loid].attempts=b.remainingPostAttempts(this);h[this.loid].retakeText=b.strings.txtTakeTest;h[this.loid].retakeButtonClassExtra="endCourse_takeTest";if(this.pre||this.post)h[this.loid].retakeText=DKI.strings.endTest.retakeTestButton,h[this.loid].retakeButtonClassExtra="endCourse_retakeTest";0<h[this.loid].attempts&&(h[this.loid].showRetake=!0)}else h[this.loid].noAttempts=!0,h[this.loid].attempts=b.strings.txtNotAvailableShort});$.each(dataStorage.courseStructure.modules,
function(){if(!h[this.loid]){var b=this.objects.reduce(function(b,c){return b+(c.complete?1:0)},0)/this.objects.length*100;h[this.loid]={module:this,completion:b,isComplete:100==b}}});var c=[];$.each(h,function(){c.push(this)});c.sort(function(b,c){return b.module.loorder-c.module.loorder});return c};DKI.DataStorage.prototype.getPreviousModule=function(){if(0<this.currentModuleIndex)return this.courseStructure.modules[this.currentModuleIndex-1]};
DKI.DataStorage.prototype.getPrecedingPage=function(b){var h,c;b?(c=this.locatePage(b),b=c.page,h=c.object,c=c.module):(b=this.currentPageIndex,h=this.currentObjecIndex,c=this.currentModuleIndex);return 0<b?this.courseStructure.modules[c].objects[h].subeos[b-1]:0<h?(h--,b=this.courseStructure.modules[c].objects[h].subeos.length-1,this.courseStructure.modules[c].objects[h].subeos[b]):0<c?(c--,h=this.courseStructure.modules[c].objects.length-1,b=this.courseStructure.modules[c].objects[h].subeos.length-
1,this.courseStructure.modules[c].objects[h].subeos[b]):null};
DKI.DataStorage.prototype.getProceedingPage=function(b){var h,c;b?(c=this.locatePage(b),b=c.page,h=c.object,c=c.module):(b=this.currentPageIndex,h=this.currentObjecIndex,c=this.currentModuleIndex);return b<this.courseStructure.modules[c].objects[h].subeos.length-1?this.courseStructure.modules[c].objects[h].subeos[b+1]:h<this.courseStructure.modules[c].objects.length-1?(h++,this.courseStructure.modules[c].objects[h].subeos[0]):c<this.courseStructure.modules[c].length-1?(c++,this.courseStructure.modules[c].objects[0].subeos[0]):
null};DKI.DataStorage.prototype.getTotalQuestions=function(){if(this.assessment)return this.assessment.totalQuestions};DKI.DataStorage.prototype.getPreviousModuleWithPage=function(){for(var b=this.currentModuleIndex-1;0<=b;b--)if(!this.moduleIsTestOnly(this.courseStructure.modules[b]))return b;return null};DKI.DataStorage.prototype.getIndexLastObjectWithPage=function(b){for(var h=b.objects.length-1;0<=h;h--)if(0<b.objects[h].subeos.length)return h;return null};
DKI.DataStorage.prototype.getIndexFirstObjectWithPage=function(b){for(var h=0;h<b.objects.length;h++)if(0<b.objects[h].subeos.length)return h;return null};
DKI.DataStorage.prototype.getNextPage=function(){var b;if(this.currentPageIndex<this.currentPageCount-1)return this.currentObject.subeos[this.currentPageIndex+1];for(var h=this.currentObjectIndex+1;h<this.currentObjectCount;h++)if(0<this.currentModule.objects[h].subeos.length)return this.currentModule.objects[h].subeos[0];for(h=this.currentModuleIndex+1;h<this.moduleCount;h++){b=this.courseStructure.modules[h];for(var c=0;c<b.objects.length;c++)if(0<b.objects[c].subeos.length)return b.objects[c].subeos[0]}return null};
DKI.DataStorage.prototype.getPreviousPage=function(){var b,h;if(0<this.currentPageIndex)return this.currentObject.subeos[this.currentPageIndex-1];for(var c=this.currentObjectIndex-1;0<=c;c--)if(b=this.currentModule.objects[c].subeos.length,0<b)return this.currentModule.objects[c].subeos[b-1];for(c=this.currentModuleIndex-1;0<=c;c--){h=this.courseStructure.modules[c];for(var l=h.objects.length-1;0<=l;l--)if(b=h.objects[l].subeos.length,0<b)return h.objects[l].subeos[b-1]}return null};
DKI.DataStorage.prototype.goNextPage=function(b){this.currentPageIndex<this.currentPageCount-1?(this.currentPageIndex++,this.currentPage=this.currentObject.subeos[this.currentPageIndex],this.currentModulePage++,$(this).trigger(DKI.DataStorage.events.changePage,"forward"),$(this).trigger(DKI.DataStorage.events.pageSelected,this.currentPage)):this.goNextObject(b);this.previousPage=this.getPreviousPage();this.nextPage=this.getNextPage()};DKI.DataStorage.prototype.goNextValidPage=function(){this.goNextPage(!0)};
DKI.DataStorage.prototype.goPreviousPage=function(){0<this.currentPageIndex?(this.currentPageIndex--,this.currentPage=this.currentObject.subeos[this.currentPageIndex],this.currentModulePage--,$(this).trigger(DKI.DataStorage.events.changePage,"back"),$(this).trigger(DKI.DataStorage.events.pageSelected,this.currentPage)):this.goPreviousObject();this.previousPage=this.getPreviousPage();this.nextPage=this.getNextPage()};
DKI.DataStorage.prototype.goNextObject=function(b){if(this.currentObjectIndex<this.currentObjectCount-1){this.currentPageIndex=0;var h;do this.currentObjectIndex+=1,h=this.currentModule.objects[this.currentObjectIndex];while(0==h.subeos.length&&this.currentObjectIndex<this.currentObjectCount-1);0==h.subeos.length?this.goNextModule(b):(this.currentObject=this.currentModule.objects[this.currentObjectIndex],null!=this.currentPageIndex&&(this.currentPage=this.currentObject.subeos[this.currentPageIndex],
this.currentModulePage++,this.currentPageCount=this.currentObject.subeos.length,$(this).trigger(DKI.DataStorage.events.pageSelected,this.currentPage)),$(this).trigger(DKI.DataStorage.events.changeObject,"forward"))}else this.goNextModule(b)};
DKI.DataStorage.prototype.goPreviousObject=function(){if(0<this.currentObjectIndex&&0<this.currentModulePage){var b;do--this.currentObjectIndex,b=this.currentModule.objects[this.currentObjectIndex];while(0==b.subeos.length&&0<this.currentObjectIndex);0==b.subeos.length?this.goPreviousModule():(this.currentObject=this.currentModule.objects[this.currentObjectIndex],this.currentModulePage--,this.currentPageCount=this.currentObject.subeos.length,this.currentPageIndex=this.currentPageCount-1,this.currentPage=
this.currentObject.subeos[this.currentPageIndex],$(this).trigger(DKI.DataStorage.events.pageSelected,this.currentPage));$(this).trigger(DKI.DataStorage.events.changeObject,"back")}else this.goPreviousModule()};
DKI.DataStorage.prototype.goNextModule=function(b){var h=!1;if(this.currentModuleIndex<this.moduleCount-1){this.currentModuleIndex++;this.currentModule=this.courseStructure.modules[this.currentModuleIndex];if(b)for(;this.moduleIsTestOnly(this.currentModule);)if(this.currentModuleIndex<this.moduleCount-1)this.currentModuleIndex++,this.currentModule=this.courseStructure.modules[this.currentModuleIndex];else return this.currentObjectIndex=0,this.currentPageIndex=null,this.currentObject=this.currentModule.objects[0],
this.currentPage=null,this.currentObjectCount=this.currentModule.objects.length,this.currentPageCount=0,this.currentModulePage=null,this.currentModulePageTotal=0,this.currentModuleIndex==this.courseStructure.modules.length-1&&this.moduleHasTest(this.currentModule)&&(h=!0),$(this).trigger(DKI.DataStorage.events.courseEnd,h),!1;this.moduleIsTestOnly(this.currentModule)?(this.currentObjectIndex=0,this.currentPageIndex=null,this.currentObject=this.currentModule.objects[0],this.currentPage=null,this.currentObjectCount=
this.currentModule.objects.length,this.currentPageCount=0,this.currentModulePage=null,this.currentModulePageTotal=0):(this.currentObjectIndex=this.getIndexFirstObjectWithPage(this.currentModule),this.currentPageIndex=0,this.currentObject=this.currentModule.objects[this.currentObjectIndex],this.currentPage=this.currentObject.subeos[this.currentPageIndex],this.currentObjectCount=this.currentModule.objects.length,this.currentPageCount=this.currentObject.subeos.length,this.currentModulePage=1,this.currentModulePageTotal=
this.countModulePages(this.currentModule));this.currentModule.complete&&(this.currentModule.isRevisiting=!0);$(this).trigger(DKI.DataStorage.events.changeModule,"forward");this.currentPage&&null!=this.currentPage&&$(this).trigger(DKI.DataStorage.events.pageSelected,this.currentPage);return!0}this.currentModuleIndex==this.courseStructure.modules.length-1&&this.moduleHasTest(this.currentModule)&&(h=!0);$(this).trigger(DKI.DataStorage.events.courseEnd,h);return!1};
DKI.DataStorage.prototype.getNextModule=function(b){var h=this.currentModuleIndex;b&&(h=this.findModuleIndex(b));return h<this.moduleCount-1?this.courseStructure.modules[h+1]:null};
DKI.DataStorage.prototype.goPreviousModule=function(){if(0<this.currentModuleIndex){var b=this.getPreviousModuleWithPage();null!=b&&(this.currentModuleIndex=b,this.currentModule=this.courseStructure.modules[this.currentModuleIndex],this.currentModulePage=this.currentModulePageTotal=this.countModulePages(this.currentModule),this.currentObjectCount=this.currentModule.objects.length,this.currentObjectIndex=this.getIndexLastObjectWithPage(this.currentModule),this.currentObject=this.currentModule.objects[this.currentObjectIndex],
this.currentPageCount=this.currentObject.subeos.length,this.currentPageIndex=this.currentPageCount-1,this.currentPage=this.currentObject.subeos[this.currentPageIndex],$(this).trigger(DKI.DataStorage.events.changeModule,"back"),$(this).trigger(DKI.DataStorage.events.pageSelected,this.currentPage))}};
DKI.DataStorage.prototype.navigateToModule=function(b){b=this.findModule(b);var h=-1;b&&(h=this.findModuleIndex(b));return 0<=h?(this.currentModuleIndex=h,this.currentPageIndex=this.currentObjectIndex=0,this.currentModule=this.courseStructure.modules[this.currentModuleIndex],this.currentObject=this.currentModule.objects[this.currentObjectIndex],this.currentPage=this.currentObject.subeos[this.currentPageIndex],this.currentObjectCount=this.currentModule.objects.length,this.currentPageCount=this.currentObject.subeos.length,
this.currentModulePage=1,this.currentModulePageTotal=this.countModulePages(this.currentModule),$(this).trigger(DKI.DataStorage.events.changeModule,"forward"),this.currentPage&&$(this).trigger(DKI.DataStorage.events.pageSelected,this.currentPage),!0):!1};
DKI.DataStorage.prototype.goNextQuestion=function(){this.assessment&&this.assessment.goNextQuestion();this.assessment.currentQuestion?$(this).trigger(DKI.DataStorage.events.questionSelected,this.assessment.currentQuestion):(null!==this.assessment.test&&void 0!==this.assessment.test&&(this.assessment=this.assessment.test),$(this).trigger(DKI.DataStorage.events.assessmentCompleted))};
DKI.DataStorage.prototype.goPreviousQuestion=function(){this.assessment&&this.assessment.goPreviousQuestion();this.assessment.currentQuestion?$(this).trigger(DKI.DataStorage.events.questionSelected,this.assessment.currentQuestion):(null!==this.assessment.test&&void 0!==this.assessment.test&&(this.assessment=this.assessment.test),$(this).trigger(DKI.DataStorage.events.assessmentCompleted))};
DKI.DataStorage.prototype.hasTesting=function(){for(var b=0;b<this.courseStructure.modules.length;b++)if(!this.courseStructure.modules[b].invalidated&&0<this.courseStructure.modules[b].weight)return!0;return!1};
DKI.DataStorage.prototype.initEvents=function(){var b=this;this.eventsInitialized||($(this).bind(DKI.DataStorage.events.courseCompleted,function(){b.onCourseComplete()}),$(this).on(DKI.DataStorage.events.assessmentCompleted,function(h){b.onAssessmentComplete(h)}),$(player.navigation).on(DKI.PlayerNavigation.events.nextButtonEnabled,function(){b.nextButtonEnabled()}),this.eventsInitialized=!0)};
DKI.DataStorage.prototype.initStructure=function(b){var h=this;this.courseStructure=b;var c=function(b){if(null==settings.publish_filter)return!0;for(var c=0==b.length?!0:!1,h=b.length-1;0<=h;h--)b[h].id==settings.publish_filter.id&&(c=!0);return c},l=function(b){for(var h=b.length-1;0<=h;h--){var k=b[h];c(k.publish_filters)?(k.elements&&0<k.elements.length&&l(k.elements),$(document).trigger(DKI.DataStorage.events.element_structure_init,k)):b.splice(h,1)}},m=function(b){for(var c=b.groups.length-
1;0<=c;c--){var h=b.groups[c];l(h.elements);$(document).trigger(DKI.DataStorage.events.group_structure_init,h)}$(document).trigger(DKI.DataStorage.events.page_structure_init,b)};(function(l){for(var p=l.length-1;0<=p;p--){var k=l[p];if(c(k.publish_filters)){h.moduleHasTest(k)?k.weight=1:k.weight=0;h.moduleHasPages(k)||h.markModuleComplete(k);0!=k.parameters.content_time&&"undefined"!==typeof k.parameters.content_time&&(k.hasContentTimer=!0,h.courseTime+=k.parameters.content_time,k.parameters.content_time_original=
k.parameters.content_time);for(var q=k.objects,v=q.length-1;0<=v;v--){var y=q[v];if(c(y.publish_filters)){for(var z=q[v].subeos,A=z.length-1;0<=A;A--){var r=z[A];"question"==r.page.pagetype&&(r.page.question=r.question);c(r.page.publish_filters)?(m(r.page),$(document).trigger(DKI.DataStorage.events.subeo_structure_init,r)):z.splice(A,1)}z=q[v].questions;for(A=z.length-1;0<=A;A--)r=z[A],r.page.question=r,c(r.page.publish_filters)?(m(r.page),$(document).trigger(DKI.DataStorage.events.question_structure_init,
r)):z.splice(A,1);0==q[v].subeos.length&&0==q[v].questions.length?q.splice(v,1):$(document).trigger(DKI.DataStorage.events.object_structure_init,y)}else q.splice(v,1)}0==k.objects.length?b.modules.splice(p,1):$(document).trigger(DKI.DataStorage.events.module_structure_init,k)}else l.splice(p,1)}})(b.modules);if(0==b.modules.length){var p="",p=null!=settings.publish_filter.id?settings.inPreview?"This project has no content when previewed with the tag: "+settings.publish_filter.title:"This project has no content when published with the tag: "+
settings.publish_filter.title:"This project has no content as a result of some content filtering.";settings.inPreview&&(p+="\x3cbr\x3e\x3cbr\x3eTo see what content is available, please see the Publish Targets dropdown from the preview bar at the top.");(new DKI.disabler({text:p,clickable:!1,className:"textMessage"})).show()}$(document).trigger(DKI.DataStorage.events.project_structure_init,b);return b};
DKI.DataStorage.prototype.isEndOfModule=function(b){var h=this.getModuleScoringDetails(this.currentModule);return 0==this.currentModulePageTotal||this.currentModulePage==this.currentModulePageTotal||b&&playerBehaviour.pretestSkipContent&&h.passed};
DKI.DataStorage.prototype.isEndOfCourse=function(b,h){if(b){if(this.isEndOfModule()){for(b=this.currentModuleIndex+1;b<this.moduleCount;b++)if(!this.moduleIsTestOnly(this.courseStructure.modules[b]))return!1;return!0}return!1}return this.isEndOfModule(h)&&this.currentModuleIndex===this.moduleCount-1};
DKI.DataStorage.prototype.isMaxedOut=function(b){var h=1;if("string"===typeof b||"number"===typeof b)b=this.findModule(b);this.behaviour.allowRetesting&&(h+=parseInt(this.behaviour.retestAttempts,"10"));return!(!b.post||b.post.attempts<h||this.behaviour.allowRetesting&&0===this.behaviour.retestAttempts)};
DKI.DataStorage.prototype.isPassed=function(b){b||(b=this.getCourseScoringDetails());var h=!1,c=!0;if(b.score>=this.passMark&&this.allTestsAttempted())if(this.behaviour.passModules){for(h=0;h<this.courseStructure.modules.length;h+=1)if(!this.courseStructure.modules[h].invalidated&&(b=this.getModuleScoringDetails(this.courseStructure.modules[h]),0<this.courseStructure.modules[h].weight&&!b.passed)){c=!1;break}h=c}else h=!0;return h};
DKI.DataStorage.prototype.isFailed=function(b){b||(b=this.getCourseScoringDetails());b=b.score<this.passMark&&this.testMaxedOut();if(!b&&this.behaviour.passModules)for(var h=0;h<this.courseStructure.modules.length;h+=1)if(!this.courseStructure.modules[h].invalidated&&(moduleDetails=this.getModuleScoringDetails(this.courseStructure.modules[h]),0<this.courseStructure.modules[h].weight&&!moduleDetails.passed&&this.isMaxedOut(this.courseStructure.modules[h]))){b=!0;break}return b};
DKI.DataStorage.prototype.loadModule=function(b){"object"!==typeof b&&(b=this.findModule(b));if(!b)return!1;this.currentModule=b;this.currentModuleIndex=this.findModuleIndex(b);this.courseStructure.testonly?(this.currentObject=this.currentModule.objects[0],this.currentPageIndex=this.currentPage=this.currentObjectIndex=null):(b.complete&&(b.isRevisiting=!0),this.moduleIsTestOnly(b)?(this.currentObject=b.objects[0],this.currentObjectIndex=0,this.currentPageIndex=this.currentPage=null,this.currentObjectCount=
this.currentModule.objects.length,this.currentModulePageTotal=this.currentModulePage=this.currentPageCount=0):(this.currentObjectIndex=this.getIndexFirstObjectWithPage(b),this.currentObject=b.objects[this.currentObjectIndex],this.currentObjectCount=this.currentModule.objects.length,this.currentPageCount=this.currentObject.subeos.length,this.currentPageIndex=-1,this.currentModulePage=0,this.assessment&&this.assessment.currentQuestion&&(this.assessment.currentQuestion=null),this.currentModulePageTotal=
this.countModulePages(this.currentModule)))};DKI.DataStorage.prototype.jumpToModule=function(b){this.loadModule(b);"object"!==typeof b&&(b=this.findModule(b));if(!b)return!1;this.courseStructure.testonly||this.moduleIsTestOnly(b)||(this.goNextPage(),$(this).trigger(DKI.DataStorage.events.pageSelected,this.currentPage));$(this).trigger(DKI.DataStorage.events.changeModule,"jump");return!0};
DKI.DataStorage.prototype.jumpToEndOfModule=function(b){"undefined"===typeof b&&(b=this.currentModule);this.jumpToPage(b.objects[b.objects.length-1].subeos[b.objects[b.objects.length-1].subeos.length-1].page.pageid)};
DKI.DataStorage.prototype.jumpToPage=function(b){for(var h,c,l="object"===typeof b?b.pageid:b,m=0;m<this.courseStructure.modules.length;m++){b=this.courseStructure.modules[m];for(var p=c=0;p<b.objects.length;p++){h=b.objects[p];for(var n=0;n<h.subeos.length;n++)if(c++,h.subeos[n].page.pageid==l)return this.currentPageIndex=n,this.currentPage=h.subeos[n],this.currentObjectIndex=p,this.currentObject=h,this.currentModuleIndex=m,this.currentModule=b,this.currentModulePageTotal=this.countModulePages(this.currentModule),
this.currentModulePage=c,this.currentObjectCount=this.currentModule.objects.length,this.currentPageCount=this.currentObject.subeos.length,this.currentModule.complete&&(this.currentModule.isRevisiting=!0),this.previousPage=this.getPreviousPage(),this.nextPage=this.getNextPage(),$(this).trigger(DKI.DataStorage.events.changeModule,"jump"),$(this).trigger(DKI.DataStorage.events.pageSelected,this.currentPage),$(player.pageFrames.current).trigger(DKI.ContentPage.events.reset),!0}}};
DKI.DataStorage.prototype.loadCompletion=function(){var b=DKI.uri.decodeCurrentLocation();""!==window.location.hash?this.bookmark=window.location.hash.replace("#page",""):b.pageID&&(this.bookmark=b.pageID);b.groupid&&(this.groupBookmark=b.groupid);this.initEvents();$(this).trigger(DKI.DataStorage.events.beforeReady);$(document).trigger(DKI.DataStorage.events.beforeReady);this.ready=!0;$(this).trigger(DKI.DataStorage.events.ready);$(document).trigger(DKI.DataStorage.events.ready)};
DKI.DataStorage.prototype.getElementCompletion=function(){return!1};DKI.DataStorage.prototype.saveElementCompletion=function(b,h){(h||function(){})()};
DKI.DataStorage.prototype.completePreviousPages=function(b){if("string"===typeof b||"number"===typeof b)b=this.findPage(b);for(var h,c,l=0;l<this.courseStructure.modules.length;l++){h=this.courseStructure.modules[l];for(var m=0;m<h.objects.length;m++){c=h.objects[m];for(var p=0;p<c.subeos.length;p++)if(c.subeos[p].page.pageid!=b.pageid)this.markSubeoComplete(c.subeos[p]);else return null;this.markObjectComplete(c)}this.markModuleComplete(h)}};
DKI.DataStorage.prototype.pageDisablesNext=function(b){if(player.behaviour.keepForwardEnabled){var h=this.pagesNextEnabled[b.pageid];return"undefined"==typeof h?b.disablenext:!h}return b.disablenext};DKI.DataStorage.prototype.nextButtonEnabled=function(b){if("undefined"==typeof b)if(this.assessment&&this.assessment.currentQuestion)b=this.assessment.currentQuestion.page;else if(this.currentPage)b=this.currentPage.page;else return;this.pagesNextEnabled[b.pageid]=!0};
DKI.DataStorage.prototype.invalidateModule=function(b){if("string"===typeof b||"number"===typeof b)b=this.findModule(b);"undefined"!==typeof b&&(b.invalidated=!0);$(document).trigger(DKI.DataStorage.events.moduleInvalidated,b.loid)};
DKI.DataStorage.prototype.revalidateModule=function(b){if("string"===typeof b||"number"===typeof b)b=this.findModule(b);"undefined"!==typeof b&&(b.invalidated=!1,b.complete=!1,$.each(b.objects,function(){this.complete=!1;$.each(this.subeos,function(){this.complete=!1});$.each(this.questions,function(){this.complete=!1})}));$(document).trigger(DKI.DataStorage.events.moduleRevalidated,b.loid)};
DKI.DataStorage.prototype.markSubeoComplete=function(b){var h;if("string"===typeof b||"number"===typeof b)b=this.findSubeo(b);"undefined"!==typeof b&&(this.doSetPageComplete(b),b.complete=!0,h=this.findObject(b.objectid),h.started=!0,$(this).trigger(DKI.DataStorage.events.pageCompleted,b.page.pageid),this.checkObjectComplete(h))};
DKI.DataStorage.prototype.markObjectComplete=function(b,h){if("string"===typeof b||"number"===typeof b)b=this.findObject(b);if("undefined"!==typeof b){var c=!b.complete&&!h;this.doSetObjectComplete(b,h);h=this.findModule(b.moduleid);h.started=!0;c&&$(this).trigger(DKI.DataStorage.events.objectCompleted,b.objectid);this.checkModuleComplete(this.findModule(b.moduleid))}};
DKI.DataStorage.prototype.markModuleComplete=function(b,h){if("string"===typeof b||"number"===typeof b)b=this.findModule(b);if("undefined"!==typeof b){var c=!b.complete;this.doSetModuleComplete(b,h);c&&$(this).trigger(DKI.DataStorage.events.moduleCompleted,b.loid);this.checkCourseComplete()}};DKI.DataStorage.prototype.markCourseComplete=function(b){this.doSetCourseComplete(b);this.checkCourseComplete()};
DKI.DataStorage.prototype.moduleHasTest=function(b){for(var h=0;h<b.objects.length;h++)if(0!==b.objects[h].randQuest&&0<b.objects[h].questions.length)return!0;return!1};DKI.DataStorage.prototype.moduleHasPages=function(b){for(var h=0;h<b.objects.length;h++)if(0<b.objects[h].subeos.length)return!0;return!1};DKI.DataStorage.prototype.modulesTestAttempted=function(){for(var b=this.modulesWithTesting(),h=[],c=0;c<b.length;c++)if("object"==typeof b[c].pre||"object"==typeof b[c].post)h[h.length]=b[c];return h};
DKI.DataStorage.prototype.modulesWithTesting=function(){for(var b=[],h=0;h<this.courseStructure.modules.length;h++)this.courseStructure.modules[h].invalidated||0<this.courseStructure.modules[h].weight&&(b[b.length]=this.courseStructure.modules[h]);return b};DKI.DataStorage.prototype.remainingPreAttempts=function(b){if(this.behaviour.enablePreTest){if("string"===typeof b||"number"===typeof b)b=this.findModule(b);if(0===b.weight||b.pre||0<this.getModuleCompletion(b))return 0}else return 0;return 1};
DKI.DataStorage.prototype.remainingPostAttempts=function(b){var h,c=0;if(this.behaviour.enablePostTest){if("string"===typeof b||"number"===typeof b)b=this.findModule(b);if(0===b.weight)return 0;h=this.behaviour.allowRetesting?parseInt(this.behaviour.retestAttempts,10)+1:1;b.post&&(c=b.post.attempts);h-=c;0>h&&(h=0);this.behaviour.allowRetesting&&"0"==this.behaviour.retestAttempts&&(h=1);return h}return 0};
DKI.DataStorage.prototype.resume=function(b){this.bookmark&&("on"===b||"prompt"===b&&window.confirm(this.strings.iResume))?(isNaN(this.bookmark)&&settings.useExternalIdsForScorm&&(this.bookmark=this.getPageFromExternalId(this.bookmark).pageid),this.jumpToPage(this.bookmark),this.resumeFromBookmark=!0):$(this).trigger(DKI.DataStorage.events.pageSelected,this.currentPage)};DKI.DataStorage.prototype.setCurrentPageComplete=function(){this.markSubeoComplete(this.currentPage)};
DKI.DataStorage.prototype.setCurrentObjectComplete=function(){this.markObjectComplete(this.currentObject)};DKI.DataStorage.prototype.setPageComplete=function(b){(b=this.getSubeoFromPage(b))&&this.markSubeoComplete(b)};DKI.DataStorage.prototype.setObjectComplete=function(b){(b=this.findObject(b))&&this.markObjectComplete(b)};DKI.DataStorage.prototype.setModuleComplete=function(b,h){(b=this.findModule(b))&&this.markModuleComplete(b,h)};
DKI.DataStorage.prototype.submitCurrentQuestion=function(b,h,c,l){h="undefined"===typeof h?0:h;if(this.assessment){var m=this.assessment.currentQuestion;h=DKI.Marker.scoreQuestion(m,b.options,h,l);this.assessment.scoreQuestion(m,b,h,c,l);if(this.assessment.currentQuestion)$(this).trigger(DKI.DataStorage.events.questionSelected,this.assessment.currentQuestion);else if(0===this.assessment.unanswered.length||c)"pre"===this.assessment.prepost?(this.assessment.module.pre.score=this.assessment.getScore(),
this.assessment.module.pre.points=parseFloat(this.assessment.getPoints(),"10"),this.assessment.module.pre.weight=this.assessment.getWeight(),b=this.getModuleScoringDetails(this.assessment.module),this.behaviour.pretestSkipContent&&b.passed&&this.setModuleComplete(this.currentModule.loid,!0)):(this.assessment.module.post.score=this.assessment.getScore(),this.assessment.module.post.points=parseFloat(this.assessment.getPoints(),"10"),this.assessment.module.post.weight=this.assessment.getWeight()),$(this).trigger(DKI.DataStorage.events.assessmentCompleted);
$(this).trigger(DKI.DataStorage.events.questionSubmitted,h)}return h};
DKI.DataStorage.prototype.testMaxedOut=function(){var b=0,h=0,c=1,l=parseInt(this.behaviour.retestAttempts,10),m;if(!this.hasTesting()||!this.behaviour.enablePreTest&&!this.behaviour.enablePostTest)return!0;if(this.hasTesting())if(this.behaviour.enablePreTest&&!this.behaviour.enablePostTest)for(m=0;m<this.courseStructure.modules.length;m++)!this.courseStructure.modules[m].invalidated&&0<this.courseStructure.modules[m].weight&&(b++,(this.courseStructure.modules[m].pre||0<this.getModuleCompletion(this.courseStructure.modules[m]))&&
h++);else for(this.behaviour.allowRetesting&&(c+=l),m=0;m<this.courseStructure.modules.length;m++)!this.courseStructure.modules[m].invalidated&&0<this.courseStructure.modules[m].weight&&(b++,this.courseStructure.modules[m].post&&this.courseStructure.modules[m].post.attempts>=c&&(!this.behaviour.allowRetesting||0!==l)&&h++);return b===h};
DKI.DataStorage.prototype.loadTest=function(b,h,c){"undefined"==typeof h&&(h=this.courseStructure.isDebug);var l={questions:[]},m=b.objects.slice();b=m.length;var p=playerBehaviour.enableShuffleLoOrder;if(c)$.each(this.assessmentBookmark.question_ids,function(){for(var b=0;b<m.length;b++)for(var c=m[b],h=0;h<c.questions.length;h++)if(c.questions[h].id==this){l.questions.push(c.questions[h]);return}});else if(p)for(p=0;p<b;p++)l.questions=l.questions.concat(this.randomQuestions(m[p],h));else for(p=
0;p<b;p++)c=Math.floor(Math.random()*m.length),l.questions=l.questions.concat(this.randomQuestions(m.splice(c,1)[0],h));return l};DKI.DataStorage.prototype.randomQuestions=function(b,h){var c=[],l=b.questions.slice();if(b.randQuest>=l.length&&(1===parseInt(b.preserve_question_order,10)||!0===b.preserve_question_order)||h)return l;for(var m=1;m<=b.randQuest;m++)if(0<l.length)h=Math.floor(Math.random()*l.length),c[c.length]=l.splice(h,1)[0];else break;return c};
DKI.DataStorage.prototype.locatePage=function(b){for(var h={page:0,object:0,module:0},c,l,m=0;m<this.courseStructure.modules.length;m++){c=this.courseStructure.modules[m];for(var p=0;p<c.objects.length;p++){l=c.objects[p];for(var n=0;n<l.subeos.length;n++)if(l.subeos[n].page.pageid===b)return h.page=n,h.object=p,h.module=m,h}}return h};
DKI.DataStorage.prototype.locateObject=function(b){for(var h={object:0,module:0},c,l,m=0;m<this.courseStructure.modules.length;m++){c=this.courseStructure.modules[m];for(var p=0;p<c.objects.length;p++)if(l=c.objects[p],l.objectid===b)return h.object=p,h.module=m,h}};DKI.DataStorage.prototype.locateModule=function(b){for(var h={module:0},c,l=0;l<this.courseStructure.modules.length;l++)if(c=this.courseStructure.modules[l],c.loid===b)return h.module=l,h};
DKI.DataStorage.prototype.doSetCourseComplete=function(b){this.courseStructure.complete=!0;this.courseStructure.started=!0;for(var h=0;h<this.courseStructure.modules.length;h+=1)this.doSetModuleComplete(this.courseStructure.modules[h],b)};DKI.DataStorage.prototype.doSetModuleComplete=function(b,h){b.complete=!0;this.doSetModuleStarted(b);for(var c=0;c<b.objects.length;c+=1)this.doSetObjectComplete(b.objects[c],h)};
DKI.DataStorage.prototype.doSetModuleStarted=function(b){b.started||(b.started=!0,this.courseStructure.started=!0,$(this).trigger(DKI.DataStorage.events.moduleStarted,b.loid))};DKI.DataStorage.prototype.doSetObjectComplete=function(b,h){b.complete=!0;this.doSetObjectStarted(b);for(var c=0;c<b.subeos.length;c+=1)this.doSetPageComplete(b.subeos[c],h);h&&$(this).trigger(DKI.DataStorage.events.objectCompleted,b.objectid)};
DKI.DataStorage.prototype.doSetObjectStarted=function(b){var h=!b.started,c=this.findModule(b.moduleid);h&&(b.started=!0);this.doSetModuleStarted(c);h&&$(this).trigger(DKI.DataStorage.events.objectStarted,b.objectid)};
DKI.DataStorage.prototype.doSetPageComplete=function(b,h){var c=this.findObject(b.objectid);this.findModule(c.loid);b.complete=!0;b.started=!0;!this.loadingLMSCompletionData||this.bookmark==b.page.pageid&&"incomplete"==this.lessonStatus||(this.pagesNextEnabled[b.page.pageid]=!0);this.doSetObjectStarted(c);h&&$(this).trigger(DKI.DataStorage.events.pageCompleted,b.page.pageid)};
DKI.DataStorage.prototype.onCourseComplete=function(){this.lessonStatus="incomplete";var b;this.hasTesting()&&(this.behaviour.enablePreTest||this.behaviour.enablePostTest)?(b=this.getCourseScoringDetails(),this.isPassed(b)?this.lessonStatus="passed":this.isFailed(b)&&(this.lessonStatus="failed")):this.lessonStatus="complete"};
DKI.DataStorage.prototype.onAssessmentComplete=function(){this.assessment.removeTimer();this.storeAssessment=!1;("both"==this.behaviour.completionCriteria&&100===this.getCourseCompletion()||"testing"==this.behaviour.completionCriteria&&this.allTestsAttempted()||5==this.courseStructure.model_id&&this.allTestsAttempted())&&$(this).trigger(DKI.DataStorage.events.courseCompleted)};DKI.DataStorage.prototype.doExit=function(){""!==this.behaviour.exitFunction?eval(this.behaviour.exitFunction):top.window.close()};
DKI.DataStorage.prototype.startCourseTimer=function(){if(this.courseTime&&!this.courseTimer){var b=$.proxy(function(){this.courseTimer=setInterval($.proxy(function(){this.courseTimerPause||(this.courseTime-=1E3,0==this.courseTime&&(clearInterval(this.courseTimer),delete this.courseTimer),$(document).trigger(contentApi.events.dataSet,{name:"sys.course.contentTime",newValue:this.courseTime,oldValue:this.courseTime+1E3}))},this),1E3)},this);this.overallCourseTime=this.courseTime;if(this.ready)b();else $(this).on(DKI.DataStorage.events.ready,
function(){$(document).trigger(contentApi.events.dataSet,{name:"sys.course.contentTime",newValue:this.courseTime,oldValue:this.courseTime});b()})}else this.courseTimerPause=!1};DKI.DataStorage.prototype.stopCourseTimer=function(){this.courseTimerPause=!0};
DKI.DataStorage.prototype.resetCourseTimer=function(){if(!1!==this.courseTime){this.stopCourseTimer();var b=this,h=this.courseTime,c=0;$.each(courseStructure.modules,function(){b.resetModuleTimer(this);c+=this.parameters.content_time});this.courseTime=c;$(document).trigger(contentApi.events.dataSet,{name:"sys.course.contentTime",newValue:this.courseTime,oldValue:h});this.courseTimerPause=!1;this.startCourseTimer()}};
DKI.DataStorage.prototype.resetModuleTimer=function(b){var h=b.parameters.content_time;b.parameters.content_time=b.parameters.content_time_original;this.courseTime+=b.parameters.content_time-h;b.loid==this.currentModule.loid?(player.stopContentTimer(),player.startContentTimer(!0),$(document).trigger(contentApi.events.dataSet,{name:"sys.currentModule.contentTime",newValue:b.parameters.content_time,oldValue:h})):$(document).trigger(contentApi.events.dataSet,{name:"sys.modules."+(b.loorder-1)+".contentTime",
newValue:b.parameters.content_time,oldValue:h})};DKI.DataStorage.prototype.updatePublishFilter=function(b,h){h()};
DKI.DataStorage.events={courseEnd:"courseEnd",testEnd:"testEnd",changePage:"changePage",changeObject:"changeObject",changeModule:"changeModule",pageCompleted:"pageCompleted",objectCompleted:"objectCompleted",moduleCompleted:"moduleCompleted",courseCompleted:"courseCompleted",pageSelected:"pageSelected",questionSelected:"questionSelected",questionSubmitted:"questionSubmitted",questionScored:"questionScored",assessmentCompleted:"assessmentCompleted",assessmentReady:"assessmentReady",attemptsMaxed:"attemptsMaxed",
beforeReady:"beforeReady",ready:"ready",assetRegistered:"assetRegistered",moduleStarted:"moduleStarted",objectStarted:"objectStarted",beforeUnload:"beforeUnload",moduleInvalidated:"moduleInvalidated",moduleRevalidated:"moduleRevalidated",project_structure_init:"project_structure_init",module_structure_init:"module_structure_init",object_structure_init:"object_structure_init",question_structure_init:"question_structure_init",subeo_structure_init:"subeo_structure_init",page_structure_init:"page_structure_init",
group_structure_init:"group_structure_init",element_structure_init:"element_structure_init"};
DKI.PlayerMenu=function(b){var h={element:"westPanel",dataStorage:dataStorage,behaviour:playerBehaviour,strings:playerStrings,player:player,animation:{effect:"slide",options:{direction:$("html").hasClass("ltr")?"left":"right"}}};this.config=b=DKI.applyIf(b,h);this.container=$("#"+b.element);this.behaviour=b.behaviour;this.dataStorage=b.dataStorage;this.strings=b.strings;this.clickEvent=b.player.settings.clickEvent;this.store=DKI.courseStore;this.tabSet=new DKI.TabSet({elementID:"westPanel",player:b.player});
this.tabSet.selectTab("outlineTab",!0);this.outlineTab=document.getElementById("outlineTab");this.tree=DKI.PlayerTree;DKI.PlayerTree.init(b.player,"outlineContent",DKI.courseStore);this.behaviour.transcripts&&(this.transcript=this.tabSet.createTab(this.strings.transcriptLabel,"transcriptTab").content,this.transcriptTab=document.getElementById("transcriptTab"),this.transcriptContent=document.createElement("div"),this.transcriptContent.tabIndex=-1,this.transcriptContent.className="transcript-content",
this.transcript.appendChild(this.transcriptContent),this.transcriptPosition=0);this.behaviour.pageNotes&&(this.notes=this.tabSet.createTab(this.strings.notesLabel,"notesTab").content,this.notesTab=document.getElementById("notesTab"),this.notesContent=document.createElement("div"),this.notesContent.tabIndex=-1,this.notesContent.className="notes-content",this.notes.appendChild(this.notesContent),this.notesPosition=0);this.close=$(".buttonClose");this.pageClicked="menuPageClicked";this.closed="menuClosed";
this.initEvents()};
DKI.PlayerMenu.prototype.initEvents=function(){var b=this;$(this.close).on(this.clickEvent,function(h){h.stopPropagation();b.onCloseClicked()});this.tree.pageClicked=function(b,c){$(document).trigger(DKI.PlayerMenu.events.pageClicked,c)};$(this.dataStorage).on(DKI.DataStorage.events.pageCompleted,function(h,c){b.tree.setComplete({type:b.store.NodeType.page,id:c})});$(this.dataStorage).on(DKI.DataStorage.events.objectCompleted,function(h,c){b.tree.setComplete({type:b.store.NodeType.object,id:c})});
$(this.dataStorage).on(DKI.DataStorage.events.moduleCompleted,function(h,c){b.tree.setComplete({type:b.store.NodeType.module,id:c})});$(this.dataStorage).on(DKI.DataStorage.events.courseCompleted,function(h){b.tree.setComplete({type:b.store.NodeType.course,id:b.dataStorage.courseStructure.courseid})});$(this.dataStorage).on(DKI.DataStorage.events.pageSelected,function(h,c){b.selectPage(c.page)});$(document).on(DKI.EndTest.events.started,$.proxy(function(){this.transcriptContent&&(this.transcriptContent.innerHTML=
"");this.notesContent&&(this.notesContent.innerHTML="")},this));$(document).on(DKI.EndModule.events.started,$.proxy(function(){this.transcriptContent&&(this.transcriptContent.innerHTML="");this.notesContent&&(this.notesContent.innerHTML="")},this));$(document).on(DKI.EndCourse.events.started,$.proxy(function(){this.transcriptContent&&(this.transcriptContent.innerHTML="");this.notesContent&&(this.notesContent.innerHTML="")},this));$(".dki-WestPanel .menuHeader").delegate(".courseSearchOpen",this.clickEvent,
function(b){contentApi.hideMenu();contentApi.toggleCourseSearch();b.stopPropagation()});$(".dki-WestPanel .menuHeader").delegate(".buttonClose",this.clickEvent,function(h){b.onCloseClicked();h.stopPropagation();return!1});$(".dki-WestPanel .innerBlockScroll .content").delegate(".page",this.clickEvent,function(h){h.stopPropagation();b.onCloseClicked();b.dataStorage.jumpToPage($(this).attr("page-id"));return!1});return null};DKI.PlayerMenu.prototype.getLeft=function(){return 0};
DKI.PlayerMenu.prototype.getWidth=function(){return $(this.container).width()};DKI.PlayerMenu.prototype.setCourse=function(b){this.tree.setCourse(b)};DKI.PlayerMenu.prototype.setCourseComplete=function(){};DKI.PlayerMenu.prototype.setHeight=function(b){$(this.container).height(b)};DKI.PlayerMenu.prototype.setModuleComplete=function(b){};DKI.PlayerMenu.prototype.setObjectComplete=function(b){};DKI.PlayerMenu.prototype.setPageComplete=function(b){};
DKI.PlayerMenu.prototype.selectPage=function(b){"string"==typeof b&&(b=this.dataStorage.findPage(b));this.tree.selectPage(b.pageid);$("div.content div.active",this.container).each(function(b){$(this).removeClass("active")});$(this.outlineTab).removeClass("disabled");this.behaviour.transcripts&&b.transcript?(this.transcript.scrollTop=0,this.transcriptContent.innerHTML=b.transcript.body):this.transcriptContent&&(this.transcriptContent.innerHTML="");this.behaviour.pageNotes&&b.pageNote?(this.notesContent.innerHTML=
b.pageNote.body,$(this.notesTab).removeClass("disabled")):this.notesContent&&(this.notesContent.innerHTML="");playerBehaviour.enableCourseSearch&&$(".dki-WestPanel .menuHeader a.courseSearchOpen").show();return null};
DKI.PlayerMenu.prototype.selectQuestion=function(b){"string"==typeof b&&(b=this.dataStorage.findQuestion(b));this.behaviour.transcripts&&b.page.transcript?(this.transcriptContent.innerHTML=b.page.transcript.body,$(this.outlineTab).addClass("disabled"),this.notesTab&&$(this.notesTab).addClass("disabled")):this.transcriptContent&&(this.transcriptContent.innerHTML="");$(".dki-WestPanel .menuHeader a.courseSearchOpen").hide()};DKI.PlayerMenu.prototype.scrollToSelected=function(){this.tree.scrollToSelected()};
DKI.PlayerMenu.prototype.selectedTab=function(b){if(b)this.tabSet.selectTab(b);else return this.tabSet.selectedTab().id};DKI.PlayerMenu.prototype.onCloseClicked=function(b){$(this).trigger(DKI.PlayerMenu.events.closed)};DKI.PlayerMenu.prototype.hide=function(){$(this.container).hide(this.config.animation.effect,this.config.animation.options).addClass("hidden")};
DKI.PlayerMenu.prototype.show=function(){var b=dkiUA.iOS?screen.availHeight-43:$("html").css("height").replace("px","");600>b?$(this.container).css("max-height",.85*b+"px"):$(this.container).css("max-height","600px");$(this.container).show(this.config.animation.effect,this.config.animation.options).removeClass("hidden");player.inAssessment||player.inReview||!playerBehaviour.enableCourseSearch?$(".dki-WestPanel .menuHeader a.courseSearchOpen").hide():$(".dki-WestPanel .menuHeader a.courseSearchOpen").show()};
DKI.PlayerMenu.events={closed:"MENU_CLOSED",pageClicked:"MENU_PAGE_CLICKED",initialized:"PLAYER_MENU_INITIALIZED"};$(document).on(DKI.DataStorage.events.beforeReady,function(){var b=new DKI.PlayerMenu;$(document).trigger(DKI.PlayerMenu.events.initialized,b)});DKI||(DKI={});
DKI.TabSet=function(b){var h=b.elementID;this.config=b;this.container=$("#"+h);this.tabStrip=$(".tabStrip",this.container)[0];null==this.tabStrip&&(this.tabStrip=document.createElement("ul"),this.tabStrip.id=h+"_tabStrip",this.tabStrip.role="tablist",$(this.tabStrip).addClass("tabStrip menuTabs"),0<this.container.length&&(0<this.container[0].childNodes.length?this.container[0].insertBefore(this.container[0].firstChild):this.container[0].appendChild(this.tabStrip)));b=this.tabStrip.childNodes;for(var c,
l=[],m=0;m<b.length;m++)if("LI"===b[m].tagName){l[l.length]=b[m];b[m].id||(b[m].id="tab_"+DKI.TabSet.tabCounter);h=$(b[m]).attr("data-contentid");if(void 0===h||null===h||""===h)h=b[m].id+"Content",b[m].setAttribute("data-contentid",h);b[m].tabIndex="0";b[m].role||(b[m].role="tab");b[m]["aria-controls"]||(b[m]["aria-controls"]=h);c=$("#"+h).addClass("tabContent")[0];null===c||void 0===c?this.createTabContent(h):c.role||(c.role="tabpanel");DKI.TabSet.tabCounter+=1}0<l.length&&this.selectTab(l[0].id,
!0);this.initEvents()};DKI.TabSet.prototype.initEvents=function(){var b=this;this.tabSelected="tabSelected";$(this.tabStrip).delegate(".tab",clickEvent,function(h){h.stopPropagation();$(this).hasClass("disabled")||b.selectTab(this.id);return!1})};DKI.TabSet.tabCounter=0;
DKI.TabSet.prototype.createTab=function(b,h){var c=document.createElement("li"),l={tab:c};c.className="tab";c.role="tab";c.tabIndex=0;b||(b="Tab "+DKI.TabSet.tabCounter);c.innerHTML="\x3ca\x3e"+b+"\x3c/a\x3e";c.id=null!==h&&void 0!==h?h:"tab_"+DKI.TabSet.tabCounter;b=c.id+"Content";c.setAttribute("data-contentid",b);c["aria-controls"]=b;this.tabStrip.appendChild(c);l.content=this.createTabContent(b);return l};
DKI.TabSet.prototype.createTabContent=function(b){var h=document.createElement("div");h.id=b;h.role="tabpanel";h.classList?(h.classList.add("tabContent"),h.classList.add("innerBlockScroll"),h.classList.add("hidden")):$(h).addClass("tabContent hidden innerBlockScroll");this.container.append(h);return h};DKI.TabSet.prototype.removeTab=function(b){(b="string"===typeof b?document.getElementById(b):b)&&this.tabStrip.removeChild(b)};
DKI.TabSet.prototype.selectTab=function(b,h){b="string"==typeof b?$("#"+b):$(b);$(this.tabStrip).children().each(function(){$(this).removeClass("selected");var b=$("#"+this.getAttribute("data-contentid")).addClass("hidden");$("*[tabindex]",b).attr("tabIndex","-1")});b.addClass("selected");b=$("#"+b.attr("data-contentid")).removeClass("hidden");b=$("*[tabIndex]",b).attr("tabIndex","0");!h&&0<b.length&&b[0].focus();return!0};
DKI.TabSet.prototype.selectedTab=function(){return this.tabStrip.querySelector?this.tabStrip.querySelector(".selected"):$(".selected",this.tabStrip)[0]};DKI.TabSet.prototype.hide=function(){$(this.container).hide()};DKI.TabSet.prototype.show=function(){$(this.container).show()};DKI.TabSet.prototype.isHidden=function(){return $(this.container).hasClass("hidden")};DKI||(DKI={});
DKI.PlayerTree=function(){var b=null,h=null,c=null,l=null,m,p=function(b,c,h,k){var l="";switch(b){case "module":l=c;break;case "object":l=c+"."+h;break;case "page":l=c+"."+h+"."+k}return l},n=function(){$(b).delegate(".module,.object,.course,.page","click",function(b){var c=$(this);b=l.get(this.id);if(b.nodeType==l.NodeType.page)c.hasClass("disabled")||(k(b.page.pageid),DKI.PlayerTree.pageClicked(DKI.PlayerTree.pageClicked,b.page.pageid));else if(b.nodeType==l.NodeType.object&&h){for(var c=null,
m=b.childKeys.length-1;0<=m;m--){var n=l.get(b.childKeys[m]);if(n.nodeType==l.NodeType.page&&n.complete&&m==b.childKeys.length-1){c=l.get(b.childKeys[0]).page.pageid;break}if(n.nodeType==l.NodeType.page&&n.complete){c=n.page.pageid;break}}c||(c=l.get(b.childKeys[0]).page_id);k(c);DKI.PlayerTree.pageClicked(DKI.PlayerTree.pageClicked,c)}else c.toggleClass("collapse"),$(c.children()[0]).toggleClass("collapse");return!1});$(m).on(m.events.bypassForceSequential,function(){$(b).find(".treeNode.disabled").removeClass("disabled")});
return null},u=function(k,q,u){m=k;if(null!=q&&null!=u&&void 0!=q&&void 0!=u){b=$("#"+q);b.addClass("dki-PlayerTree");l=u;b.html("");k=playerBehaviour.forceSequential;h=playerBehaviour.hidePagesFromMenu;c=playerBehaviour.enablePageNumbering;if(void 0!==l&&null!==l){q=l.course.get();u=document.createElement("div");u.id=q.key;u.className="treeNode collapse "+l.NodeType.course;var A=u.appendChild(document.createElement("a"));A.setAttribute("tabindex",0);A.innerHTML+="\x3cspan class\x3d'tree-icon collapse'\x3e\x3c/span\x3e\x3cspan title\x3d\""+
q.coursename+"\"\x3e\x3cspan class\x3d'tree-icon status'\x3e\x3c/span\x3e\x3cspan class\x3d'label'\x3e"+q.coursename+"\x3c/span\x3e\x3c/span\x3e";A.className=q.complete?"finished":q.started?"started":"unstarted";A.className+=" collapse";A.id=q.key+"link";var r=1,B;for(B in q.childKeys){var C=l.module.get(q.childKeys[B]),x=c?p("module",r):"",D=document.createElement("div");D.id=C.key;D.className="treeNode collapse "+l.NodeType.module;A=D.appendChild(document.createElement("a"));A.setAttribute("tabindex",
0);A.innerHTML="\x3cspan class\x3d'tree-icon collapse'\x3e\x3c/span\x3e\x3cspan title\x3d\""+x+" "+C.name+"\"\x3e\x3cspan class\x3d'tree-icon status'\x3e\x3c/span\x3e\x3cspan class\x3d'label'\x3e"+x+" "+C.name+"\x3c/span\x3e\x3c/span\x3e";A.className=C.complete?"finished":C.started?"started":"unstarted";A.className+=" collapse";A.id=C.key+"link";u.appendChild(D);var x=1,F;for(F in C.childKeys){var E=l.get(C.childKeys[F]),G=c?p("object",r,x):"",K=document.createElement("div");K.className="treeNode collapse "+
l.NodeType.object;K.id=E.key;h&&(K.className+=" pagesHidden");A=K.appendChild(document.createElement("a"));A.setAttribute("tabindex",0);A.innerHTML="\x3cspan class\x3d'tree-icon collapse'\x3e\x3c/span\x3e\x3cspan title\x3d\""+G+" "+E.name+"\"\x3e\x3cspan class\x3d'tree-icon status'\x3e\x3c/span\x3e\x3cspan class\x3d'label'\x3e"+G+" "+E.name+"\x3c/span\x3e\x3c/span\x3e";A.className=E.complete?"finished":E.started?"started":"unstarted";A.className+=" collapse";A.id=E.key+"link";D.appendChild(K);var G=
1,I;for(I in E.childKeys){var J=l.get(E.childKeys[I]),L=c?p("page",r,x,G):"";if(J.nodeType==l.NodeType.page&&!h){var M=document.createElement("div");M.id=J.key;M.className="treeNode "+l.NodeType.page+(k&&!J.complete?" disabled":"");A=M.appendChild(document.createElement("a"));A.setAttribute("tabindex",0);A.innerHTML='\x3cspan title\x3d"'+L+" "+J.page.title+"\"\x3e\x3cspan class\x3d'tree-icon status'\x3e\x3c/span\x3e\x3cspan class\x3d'label'\x3e"+L+" "+J.page.title+"\x3c/span\x3e\x3c/span\x3e";A.className=
J.complete?"finished":"unstarted";A.id=J.key+"link";K.appendChild(M);G++}}x++}r++}b.append(u)}else b.html("No outline available");n();return null}},k=function(c){var k=null;h?((k=l.object.get(l.NodeType.object+c))||(k=l.object.getForPage(l.NodeType.page+c)),k=$("#"+l.NodeType.object+k.id+"link")):k=$("#"+l.NodeType.page+c+"link");var m=$("#outlineContent");$(".treeNode.course",m);$("a.selected",b).each(function(b){$(this).removeClass("selected")});k.addClass("selected");k.parent().removeClass("disabled");
q();$("div.object a",b).each(function(b){$(this).removeClass("active")});$($("#"+l.NodeType.page+c).parent().children()[0]).addClass("active");for(c=k.parent();null!=c;)c.hasClass("treeNode")?(c.removeClass("collapse"),$(c.children()[0]).removeClass("collapse"),c=c.parent()):c=null;return null},q=function(){var b=$(document.getElementById("outlineContent")),c=$("a.selected",b);if(c.length){var h=$(".treeNode.course",b);b.scrollTop(c.offset().top-h.offset().top)}};return{init:u,scrollToSelected:q,
setComplete:function(b){function c(b){var h=$($("#"+b.key).children()[0]);h.removeClass("unstarted").removeClass("finished").removeClass("started");h.addClass(b.complete?"finished":"started");return b.parentId}var h=$("#"+b.type+b.id+"link");h.removeClass("unstarted");h.removeClass("started");h.addClass("finished");b.type==l.NodeType.page&&(b=l.page.get(b.type+b.id),c(l.module.get(c(l.object.get(b.parentId)))),c(l.course.get()))},selectPage:k,setCourse:u,pageClicked:null}}();
DKI.Assessment=$.Class({prototype:{init:function(b,h,c){this.module=b;this.unanswered=c.questions.concat();this.answered=[];this.prepost=h;this.currentQuestionIndex=0;this.currentQuestion=this.unanswered[this.currentQuestionIndex];this.nextQuestion=this.getNextQuestion();this.previousQuestion=this.getPreviousQuestion();this.totalQuestions=this.unanswered.length;this.currentQuestionCount=1;for(var l=this.totalWeight=0;l<c.questions.length;l++)this.totalWeight+=parseInt(c.questions[l].weight,10);this.module.lastAssessment=
this;this.submissions=[];this.countdownTimer=null;if(settings.enableTimerQuestions&&("post"==h&&playerBehaviour.enableTestTime||"pre"==h&&playerBehaviour.enablePreTestTime)&&"undefined"!==typeof b.parameters&&"undefined"!==typeof b.parameters.test_time&&""!=b.parameters.test_time){var m=this;requirejs(["flipclock"],function(){var c=$("#countdown-timer-div"),h={countdown:!0,clockFace:"MinuteCounter",callbacks:{start:function(){this.getElapsed()},stop:function(){var b=l-this.getElapsed();setTimeout($.proxy(function(){0==
b&&(contentApi.setData("sys.assessment.timeRemaining",0),contentApi.setData("sys.assessment.timeRemainingInMS",0),dataStorage.currentModule.forceTestEnd=!0,contentApi.submitQuestion())},m),1E3)},interval:function(b,c,h){b=l-this.getElapsed();c=DKI.utility.timeFunctions.convertMsToTime(b);contentApi.setData("sys.assessment.timeRemaining",c.h+":"+c.m+":"+c.s);contentApi.setData("sys.assessment.timeRemainingInMS",b)}}};dataStorage.currentModule.forceTestEnd=!1;var l=b.parameters.test_time;36E5<b.parameters.test_time&&
(h.clockFace="HourCounter");m.countdownTimer=c.FlipClock(b.parameters.test_time/1E3,h);h=c.outerWidth(!0);c.show();c.width(h+1);m.setCountdownTimerPosition();c.draggable({containment:DKI.utility.getDragContainment($("#contentFrame"),c.outerWidth(),c.outerHeight()),drag:function(b,c){DKI.utility.dragFix(c)},stop:function(b,c){c.helper.addClass("userDropped")}});$(window).on("resize",function(){c.draggable("option","containment",DKI.utility.getDragContainment($("#contentFrame"),c.outerWidth(),c.outerHeight()))})})}},
setCountdownTimerPosition:function(){if(this.countdownTimer){var b=this.countdownTimer.$el,h=$(".bgRepeater").width()+parseInt($(".bgRepeater").style("margin-left")),c=h-b.width()-50*DKI.utility.getScale();if(!b.hasClass("userDropped")||parseInt(b.css("left"),10)+b.width()>h)b.css("left",c+"px"),b.removeClass("userDropped")}},removeTimer:function(){var b=!1;this.countdownTimer&&(b=this.countdownTimer.$el,this.countdownTimer.timer._destroyTimer($.proxy(function(){delete this.countdownTimer;this.countdownTimer=
null},this)));b&&(b.empty(),b.hide())},getScore:function(){var b=0;if(0<this.answered.length){for(var h=0;h<this.answered.length;h++)var c=parseInt(this.answered[h].weight,10),b=b+parseFloat(this.answered[h].score,10)*c;b=0==b&&0==this.totalWeight?0:b/this.totalWeight}return Math.floor(1E3*b)/1E3},getPoints:function(){var b=parseFloat(0,"10");if(0<this.answered.length)for(var h=0;h<this.answered.length;h++)b+=parseFloat(this.answered[h].points,"10");return parseFloat(b.toFixed(1),10)},getWeight:function(){return this.totalWeight},
getNextQuestion:function(){var b=this.currentQuestionIndex+1;if(1===this.unanswered.length)return null;b>=this.unanswered.length&&(b=0);return this.unanswered[b]},getPreviousQuestion:function(){var b=this.currentQuestionIndex-1;if(1===this.unanswered.length)return null;0>b&&(b=this.unanswered.length-1);return this.unanswered[b]},getTotalQuestions:function(){return this.totalQuestions},goNextQuestion:function(){null!==this.currentQuestion&&this.currentQuestionIndex++;this.currentQuestionIndex>=this.unanswered.length&&
(this.currentQuestionIndex=0);0<this.unanswered.length?(this.currentQuestion=this.unanswered[this.currentQuestionIndex],this.nextQuestion=this.getNextQuestion(),this.previousQuestion=this.getPreviousQuestion()):this.previousQuestion=this.nextQuestion=this.currentQuestion=null},goPreviousQuestion:function(){0<this.currentQuestionIndex?this.currentQuestionIndex--:this.currentQuestionIndex=this.unanswered.length-1;this.currentQuestion=this.unanswered[this.currentQuestionIndex];this.nextQuestion=this.getNextQuestion();
this.previousQuestion=this.getPreviousQuestion()},scoreQuestion:function(b,h,c,l,m,p){"undefined"==typeof p&&(p=!0);var n=DKI.clone(h);this.submissions.push({id:b.id,questionObject:n,score:c,forceEnd:l});for(var u,n=0;n<this.unanswered.length;n++)this.unanswered[n].id===b.id&&(u=this.unanswered[n].page,this.unanswered.splice(n,1),u={choices:h.options,score:c,body:h.body,page:u,points:parseFloat(parseFloat(c*b.weight/100,10).toFixed(1),10),data:h.data,timedOut:l?!0:!1},this.answered[this.answered.length]=
DKI.applyIf(u,b),this.currentQuestionIndex=n);0<this.unanswered.length&&this.currentQuestionCount++;this.currentQuestion=null;$(dataStorage).trigger(DKI.DataStorage.events.questionScored,{question:b,questionObject:h,score:c,test:m,recordInteraction:p})},export:function(){var b=this,h={moduleid:this.module.loid,currentQuestionCount:this.currentQuestionCount,currentQuestionIndex:this.currentQuestionIndex,prepost:this.prepost,question_ids:function(){var c=[];$.each(b.answered,function(){c.push(this.id)});
$.each(b.unanswered,function(){c.push(this.id)});return c}(),submissions:this.submissions};this.countdownTimer&&(h.time=this.countdownTimer.getTime());return h},import:function(b){var h=this;this.countdownTimer&&this.countdownTimer.setTime(b.time);$.each(b.submissions,function(){var b=this;$.each(h.unanswered,function(){this.id==b.id&&h.scoreQuestion(this,b.questionObject,b.score,b.forceEnd,null,!1)})});this.goNextQuestion()}}});DKI||(DKI={});
DKI.AssessmentReview=$.Class({init:function(b){this.module=b.module;this.prepost=b.prepost;this.totalQuestions=b.answered.length+b.unanswered.length;this.questions=[];this.test=b;for(var h=0;h<b.answered.length;h++){var c={id:b.answered[h].id,pageid:b.answered[h].pageid,userChoices:b.answered[h].choices,options:b.answered[h].options,score:parseFloat(b.answered[h].score,10),page:b.answered[h].page,weight:b.answered[h].weight,points:parseFloat(b.answered[h].points,"10")};this.questions[h]=DKI.applyIf(c,
b.answered[h])}for(h=0;h<b.unanswered.length;h++)this.questions[this.questions.length]=DKI.applyIf({id:b.unanswered[h].id,pageid:b.unanswered[h].pageid,userChoices:[],correctChoices:b.unanswered[h].options,score:0,page:b.unanswered[h].page,weight:b.unanswered[h].weight,points:0},b.unanswered[h]);this.currentQuestionIndex=0;this.currentQuestionCount=1;this.currentQuestion=this.questions[this.currentQuestionIndex];this.nextQuestion=this.getNextQuestion();this.previousQuestion=this.getPreviousQuestion()},
getScore:function(){for(var b=0,h=0,c=0;c<this.questions.length;c++)b+=parseFloat(this.questions[c].score,"10")*this.questions[c].weight,h+=parseInt(this.questions[c].weight,"10");return 0==b&&0==h?0:Math.floor(b/h*1E3)/1E3},getPoints:function(){for(var b=parseFloat(0,"10"),h=0;h<this.questions.length;h++)b+=parseFloat(this.questions[h].points,"10");return parseFloat(b.toFixed(1),10)},getWeight:function(){return this.test.totalWeight},goNextQuestion:function(){this.currentQuestionIndex<this.totalQuestions-
1&&(this.currentQuestionIndex++,this.currentQuestionCount++,this.currentQuestion=this.questions[this.currentQuestionIndex],this.nextQuestion=this.getNextQuestion(),this.previousQuestion=this.getPreviousQuestion())},goPreviousQuestion:function(){0<this.currentQuestionIndex&&(this.currentQuestionIndex--,this.currentQuestionCount--,this.currentQuestion=this.questions[this.currentQuestionIndex],this.nextQuestion=this.getNextQuestion(),this.previousQuestion=this.getPreviousQuestion())},getNextQuestion:function(){return this.currentQuestionIndex<
this.totalQuestions?this.questions[this.currentQuestionIndex+1]:null},getPreviousQuestion:function(){return 0<this.currentQuestionIndex?this.questions[this.currentQuestionIndex-1]:null},export:function(){return{}},import:function(){return!1}});DKI||(DKI={});
DKI.prompt=function(b,h,c){var l=playerStrings&&playerStrings.buttonLabelOK?playerStrings.buttonLabelOK:"OK",m=playerStrings&&playerStrings.buttonLabelCancel?playerStrings.buttonLabelCancel:"Cancel",p=playerStrings&&playerStrings.buttonLabelClose?playerStrings.buttonLabelClose:"Close",n,u,k=function(b){b=!1;var k="";$(this).hasClass("prompt_ok")&&(b=!0,k=u.val());h.call(c,b,k);n.modal("hide");return!1};c||(c=window);(function(){n=$(Handlebars.compile(DKI.templates.prompt)({strings:{ok:l,cancel:m,
close:p,message:b}}));u=n.find("#DKI_prompt_input");u[0].addEventListener("keydown",function(b){b.stopPropagation?b.stopPropagation():b.cancelBubble=!0;13==b.keyCode&&n.find(".prompt_ok").trigger(settings.clickEvent)},!0);$("body").append(n);n.on("shown.bs.modal",function(){u.focus()});n.on("hidden.bs.modal",function(){n.remove()});n.find("button").on(settings.clickEvent,k);n.modal("show")})()};
var contentApi=function(){var b={},h,c,l,m,p,n,u,k={called:"contentAPICalled",dataSet:"dataSet",jumpToPage:"jumpToPage",nextButtonEnabled:"nextButtonEnabled"},q={DkiApi:{},events:k},v={init:function(b,k){h=b;n=b.strings;l=h.navigation;m=h.dataStorage;h.isSinglePage||(p=k,c=h.behaviour,p&&!u&&this.getStudentName(function(){}))},audioButtonOn:function(){l.showAudioButton();$(document).trigger(k.called,[{message:"Player Control Action Triggered...\x3c/br\x3eAudio is enabled."}])},audioButtonOff:function(){l.hideAudioButton();
$(document).trigger(k.called,[{message:"Player Control Action Triggered...\x3c/br\x3eAudio is disabled."}])},contentGoBack:function(){l.fireBack();$(document).trigger(k.called,[{message:"Player Control Action Triggered...\x3c/br\x3eNavigated to the previous page."}])},contentGoNext:function(){h.isSinglePage||(h.inEndScreen?!h.reachedEnd&&h.inAssessment||h.contentPage.previous&&h.contentPage.previous.question&&h.contentPage.previous.question.objectid?h.resume("pre"==m.assessment.prepost):h.resume():
l.fireForward());$(document).trigger(k.called,[{message:"Player Control Action Triggered...\x3c/br\x3eNavigated to the next page."}])},getAudioStatus:function(){var b=h.isSinglePage?!0:h.audio;$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Audio Status retrieved",data:b}]);return b},getCourseCompletion:function(){var b=h.isSinglePage?null:m.getCourseCompletion();$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Course completion retrieved",data:b}]);
return b},getCourseID:function(){var b=h.isSinglePage?null:m.courseStructure.manifestId;$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Course ID retrieved",data:b}]);return b},getCourseMetadata:function(){var b=h.isSinglePage?null:m.courseStructure.metadata;$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Course metadata retrieved",data:b}]);return b},getCourseLanguage:function(){var b=h.isSinglePage?null:m.courseStructure.crslanguage;$(document).trigger(k.called,
[{message:"Content API called... \x3c/br\x3e Course language retrieved",data:b}]);return b},getCourseName:function(){var b=h.isSinglePage?null:$("\x3cdiv\x3e").html(m.courseStructure.coursename).text();$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Course name retrieved",data:b}]);return b},getProjectTitleForDisplay:function(b){var c=this.getCourseMetadata(),c=c?c.title:"";h.isSinglePage||""==m.courseStructure.parameters.styledTitle||(c=b?"\x3cdiv class\x3d'styledTitle'\x3e"+
m.courseStructure.parameters.styledTitle+"\x3c/div\x3e":m.courseStructure.parameters.styledTitle);return c},getProjectDescriptionForDisplay:function(b){var c=this.getCourseMetadata(),c=c?c.description:"";h.isSinglePage||""==m.courseStructure.parameters.styledSubtitle||(c=b?"\x3cdiv class\x3d'styledSubtitle'\x3e"+m.courseStructure.parameters.styledSubtitle+"\x3c/div\x3e":m.courseStructure.parameters.styledSubtitle);return c},getCoursePassMark:function(){var b=h.isSinglePage?null:m.courseStructure.passmark;
$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Course pass mark retrieved",data:b}]);return b},getCoursePageCount:function(){var b=h.isSinglePage?null:m.countCoursePages();$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Course page count retrieved",data:b}]);return b},getCourseScore:function(){var b=h.isSinglePage?null:m.getCourseScoreAvg();$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Course score retrieved.",data:b}]);
return b},getCourseScoreAvg:function(){var b=h.isSinglePage?null:m.getCourseScoreAvg();$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Course score average retrieved.",data:b}]);return b},getCurrentModuleName:function(){var b=h.isSinglePage?null:m.currentModule.name;$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Current module name retrieved.",data:b}]);return b},getData:function(c,l){var n=null;try{switch(c.toLowerCase()){case "sys.player.muted":n=
!contentApi.getAudioStatus();break;case "sys.player.inreview":n=h.inReview;break;case "sys.player.inassessment":n=h.inAssessment;break;case "sys.learner.completion":n=contentApi.getCourseCompletion();break;case "sys.learner.score":n=contentApi.getCourseScore();break;case "sys.learner.status":n=contentApi.getStatus();break;case "sys.learner.name":n=contentApi.getStudentName();break;case "sys.learner.id":n=contentApi.getUserID();break;case "sys.course.language":n=contentApi.getCourseLanguage();break;
case "sys.course.title":n=contentApi.getCourseMetadata().title;break;case "sys.course.type":n=m.courseStructure.model_id;break;case "sys.course.description":n=contentApi.getCourseMetadata().description;break;case "sys.course.styledtitle":n=m.courseStructure.parameters.styledTitle;break;case "sys.course.styledsubtitle":n=m.courseStructure.parameters.styledSubtitle;break;case "sys.course.copyright":n=contentApi.getCourseMetadata().copyright;break;case "sys.course.disclaimer":n=contentApi.getCourseMetadata().disclaimer;
break;case "sys.course.summary":n=contentApi.getCourseMetadata().summary;break;case "sys.course.compliance":n=contentApi.getCourseMetadata().compliance;break;case "sys.course.duration":n=contentApi.getDuration();break;case "sys.course.passmark":n=contentApi.getPassMark();break;case "sys.course.completedtests":n=contentApi.getModuleTestCompleteCount();break;case "sys.course.remainingtests":n=contentApi.getModuleTestCount()-contentApi.getModuleTestCompleteCount();break;case "sys.course.totaltests":n=
contentApi.getModuleTestCount();break;case "sys.course.pagecount":n=contentApi.getCoursePageCount();break;case "sys.course.publisheddate":n=contentApi.getCourseMetadata().datelastmodified;break;case "sys.course.publish_filter":n=settings.publish_filter.title;break;case "sys.course.passtext":n=m.courseStructure.passText;break;case "sys.course.failtext":n=m.courseStructure.failText;break;case "sys.metadata.currentdate":var p=new Date,n=p.getFullYear()+"/"+(p.getMonth()+1)+"/"+p.getDate();break;case "sys.metadata.currentyear":p=
new Date;n=p.getFullYear();break;case "sys.course.type":n=m.courseStructure.model_id;break;case "sys.course.contenttime":n=0==parseInt(m.courseTime,10)?0:parseInt(m.courseTime,10)||"N/A";break;case "sys.course.projectduration":n=m?m.getCourseDurationMinutes():0;break;case "sys.course.projectdurationstring":n=m?m.getCourseDurationString():"";break;case "sys.currentmodule.score":n=contentApi.getModuleScore();break;case "sys.currentmodule.title":n=contentApi.getCurrentModuleName();break;case "sys.currentmodule.pagecount":n=
m.countModulePages(m.currentModule);break;case "sys.currentmodule.complete":n=m.currentModule.complete?!0:!1;break;case "sys.currentmodule.pretestscore":n=m.currentModule.pre?m.currentModule.pre.score:null;break;case "sys.currentmodule.posttestscore":n=m.currentModule.post?m.currentModule.post.score:null;break;case "sys.currentmodule.passmark":n=""!=m.currentModule.passing_mark?m.currentModule.passing_mark:contentApi.getPassMark();break;case "sys.currentmodule.hastesting":n=1===m.currentModule.weight?
!0:!1;break;case "sys.currentmodule.testtime":n=m&&m.currentModule?parseInt(m.currentModule.parameters.test_time,10)||"N/A":"N/A";break;case "sys.currentmodule.contenttime":var q=0==parseInt(m.currentModule.parameters.content_time,10)?0:parseInt(m.currentModule.parameters.content_time,10)||"N/A",n=m&&m.currentModule?q:"N/A";break;case "sys.currentmodule.remainingattempts":n=m.remainingPostAttempts(m.currentModule);break;case "sys.currentmodule.averagequestionscore":n=m.getAverageQuestionScore(m.currentModule);
break;case "sys.currentobject.title":n=m.currentObject.title;break;case "sys.currentobject.description":n=m.currentObject.description;break;case "sys.currentobject.pagecount":n=m.currentObject.subeos.length;break;case "sys.currentobject.complete":n=m.currentObject.complete?!0:!1;break;case "sys.currentpage.title":m.currentPage&&(n=m.currentPage.page.title);m.assessment&&m.assessment.currentQuestion&&(n=m.assessment.currentQuestion.title);break;case "sys.currentpage.readingtime":m.currentPage&&(n=
6E4>m.currentPage.page.readingtime?"1 min":Math.round(m.currentPage.page.readingtime/6E4)+"min");m.assessment&&m.assessment.currentQuestion&&(n=6E4>m.assessment.currentQuestion.readingtime?"1 min":Math.round(m.assessment.currentQuestion.readingtime/6E4)+"min");break;case "sys.currentpage.description":m.currentPage&&(n=m.currentPage.page.description);m.assessment&&m.assessment.currentQuestion&&(n=m.assessment.currentQuestion.description);break;case "sys.currentpage.transcript":m.currentPage&&(n=m.currentPage.page.transcript?
m.currentPage.page.transcript.body:"");m.assessment&&m.assessment.currentQuestion&&m.assessment.currentQuestion.page.transcript&&(n=m.assessment.currentQuestion.page.transcript.body);break;case "sys.currentpage.note":m.currentPage&&(n=m.currentPage.page.pageNote?m.currentPage.page.pageNote.body:"");m.assessment&&m.assessment.currentQuestion&&m.assessment.currentQuestion.page.pageNote&&(n=m.assessment.currentQuestion.page.pageNote.body);break;case "sys.currentpage.id":m.currentPage&&(n=m.currentPage.page.pageid);
m.assessment&&m.assessment.currentQuestion&&(n=m.assessment.currentQuestion.page.pageid);break;case "sys.currentpage.external_id":m.currentPage&&(n=m.currentPage.page.external_id);m.assessment&&m.assessment.currentQuestion&&(n=m.assessment.currentQuestion.page.external_id);break;case "sys.currentpage.moduleindex":n=m.currentModulePage;m.assessment&&m.assessment.currentQuestion&&(n=m.assessment.currentQuestionIndex);break;case "sys.currentpage.objectindex":n=m.currentPageIndex+1;m.assessment&&m.assessment.currentQuestion&&
(n=m.assessment.currentQuestion.order);break;case "sys.profile.pretestenabled":n=playerBehaviour.enablePreTest;break;case "sys.profile.pretestforced":n=playerBehaviour.forcePreTest;break;case "sys.profile.pretestreview":n=playerBehaviour.enablePreTestReview;break;case "sys.profile.posttestenabled":n=playerBehaviour.enablePostTest;break;case "sys.profile.posttestreview":n=playerBehaviour.enablePostTestReview;break;case "sys.profile.retestattempts":n=playerBehaviour.retestAttempts;break;case "sys.profile.forcesequential":n=
playerBehaviour.forceSequential;break;case "sys.profile.certificateenabled":n=playerBehaviour.completionCertificate;break;case "sys.assessment.questionsanswered":n=m.currentModule.lastAssessment?m.currentModule.lastAssessment.answered.length:null;break;case "sys.assessment.questionsremaining":n=m.currentModule.lastAssessment?m.currentModule.lastAssessment.unanswered.length:null;break;case "sys.assessment.totalquestions":n=m.currentModule.lastAssessment?m.currentModule.lastAssessment.totalQuestions:
m.loadTest(m.currentModule).questions.length;break;case "sys.assessment.ispretest":n=m.currentModule.lastAssessment?"pre"==m.currentModule.lastAssessment.prepost:null;break;case "sys.assessment.isposttest":n=m.currentModule.lastAssessment?"post"==m.currentModule.lastAssessment.prepost:null;break;case "sys.assessment.totalweight":n=m.currentModule.lastAssessment?m.currentModule.lastAssessment.totalWeight:null;break;case "sys.assessment.currentquestionindex":n=m.getCurrentQuestionCount;m.assessment&&
m.assessment.currentQuestion&&(n=m.assessment.currentQuestionCount);break;case "sys.assessment.scoredpoints":m.currentModule.lastAssessment&&(n=m.currentModule[m.currentModule.lastAssessment.prepost].points);break;default:if(0==c.indexOf("sys.translationStrings.")){var u=c.replace("sys.translationStrings.","");return contentApi.getPlayerString(u)}if(c.toLowerCase().match(/sys\.modules\.[0-9]*\./)){var v=c.toLowerCase().match(/sys\.modules\.([0-9]*)\.(.*)/),y=v[1],E=v[2],n="";if(m.getModuleByIndex){var G=
m.getModuleByIndex(y);switch(E){case "score":n=contentApi.getModuleScore(G.loid);break;case "title":n=G.name;break;case "pagecount":n=m.countModulePages(G);break;case "complete":n=G.complete?!0:!1;break;case "pretestscore":n=G.pre?G.pre.score:null;break;case "posttestscore":n=G.post?G.post.score:null;break;case "passmark":n=""!=G.passing_mark?G.passing_mark:contentApi.getPassMark();break;case "hastesting":n=1===G.weight?!0:!1;break;case "remainingattempts":n=m.remainingPostAttempts(G);break;case "contenttime":n=
parseInt(G.parameters.content_time,10);break;case "averagequestionscore":n=m.getAverageQuestionScore(G)}}return n}n=h.isSinglePage?b[c]:m.getContentVariable(c)}}catch(K){}l||$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Data for "+c+" retrieved",data:n}]);return n},getPlayerString:function(b){b=b.split(".");return DKI.strings[b[0]][b[1]]},getDuration:function(){var b=h.isSinglePage?null:parseInt(m.courseStructure.duration,10);$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Course duration retrieved",
data:b}]);return b},getMaxTestAttempts:function(){var b=0;h.isSinglePage||(b=c.enablePostTest?c.allowRetesting?parseInt(c.retestAttempts,10)+1:1:0);$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Course maximum test attempts retrieved",data:b}]);return b},getModules:function(){var b=null,c;if(!h.isSinglePage)for(var b=[],l=0;l<m.courseStructure.modules.length;l+=1)c=m.courseStructure.modules[l],b[l]={name:c.loname,id:c.loid,hasTesting:1===c.weight?!0:!1,remainingAttempts:m.remainingPostAttempts(c)},
c.pre&&(b[l].pre={score:c.pre.score,rawScore:c.pre.points,maxScore:c.pre.weight}),c.post&&(b[l].post={score:c.post.score,attempts:c.post.attempts,rawScore:c.post.points,maxScore:c.post.weight});$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Course modules retrieved",data:b}]);return b},getModuleScore:function(b){var c=null;if(!h.isSinglePage){if(void 0===b||null===b)b=m.currentModule.loid;c=m.getModuleScore(b)}$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Module by ID:"+
b+" score retrived",data:c}]);return c},getModuleTestCompleteCount:function(){var b=h.isSinglePage?null:m.modulesTestAttempted().length;$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Module test completion count retrieved",data:b}]);return b},getModuleTestCount:function(){var b=h.isSinglePage?null:m.modulesWithTesting().length;$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Module test count retrieved",data:b}]);return b},getObjectID:function(){var b=
h.isSinglePage?null:m.currentObject.objectid;$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Current learning object ID retrieved",data:b}]);return b},getPassMark:function(){var b=h.isSinglePage?null:m.passMark;$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Course passing mark retrieved",data:b}]);return b},getPageID:function(){var b=h.isSinglePage?h.settings.pageId:m.currentPage.page.pageid;$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Current page ID retrieved",
data:b}]);return b},getPreviousPage:function(){var b=h.isSinglePage?null:m.previousPage?m.previousPage.page:null;$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e previous page retrieved",data:b}]);return b},getCurrentPage:function(){var b=h.isSinglePage?null:m.currentPage?m.currentPage.page:null;$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Current page retrieved",data:b}]);return b},getNextPage:function(){var b=h.isSinglePage?null:m.nextPage?m.nextPage.page:
null;$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e next page retrieved",data:b}]);return b},getStatus:function(){var b=null;if(p)switch(m.get("status")){case m.get("statusPassed"):b="passed";break;case m.get("statusCompleted"):b="complete";break;case m.get("statusFailed"):b="failed";break;default:b="incomplete"}else h.isSinglePage||(b=m.lessonStatus);$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Course status retrieved",data:b}]);return b},getStudentName:function(b){var c;
if(b){if(u)return b(u),!1;var h=function(h,l){u=c=h?l:"";b(c);$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Student name entered",data:c}])};p?p.process("GetStudentName",[],function(c){u=c;b(c);$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Student name entered",data:c}])}):DKI.prompt(n.txtEnterName,h)}else{if(u)return u;u=c=window.prompt(n.txtEnterName);$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Student name retreived",
data:c}]);return c}},getUserID:function(){var b=h.isSinglePage?null:m.getUserID();$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Current user ID retrieved",data:b}]);return b},hideBack:function(){l.hideBackButton();$(document).trigger(k.called,[{message:"Player Control Action Triggered...\x3c/br\x3e The preview button is disabled."}])},hideBoth:function(){l.hideBackButton();l.hideForwardButton();$(document).trigger(k.called,[{message:"Player Control Action Triggered...\x3c/br\x3e Both navigation buttons are disabled."}])},
hideForward:function(){l.hideForwardButton();$(document).trigger(k.called,[{message:"Player Control Action Triggered...\x3c/br\x3eThe next button is disabled."}])},hideTranscript:function(){h.isSinglePage||h.hideTranscript();$(document).trigger(k.called,[{message:"Player Control Action Triggered...\x3c/br\x3eThe transcript is hidden."}])},jumpToSubeo:function(b,c,l){DKI.isObject(b)&&b.subeoId&&(b=b.subeoId);"undefined"===typeof l&&(l=!1);h.inAssessment||h.inReview||h.isSinglePage||h.jumpToSubeo(b,
c,l);$(document).trigger(k.called,[{message:"Player Control Action Triggered...\x3c/br\x3eJump to subeo triggered."}])},checkPageExists:function(b){if(h.isSinglePage)return!0;var c;DKI.isObject(b)?b.pageID&&(c=b.pageID):c=b;b=m.findPage(c);return DKI.isDefined(b)},jumpToPage:function(b,c){var l;DKI.isObject(b)?("undefined"!=typeof b.markComplete&&(c=b.markComplete),b.pageID&&(l=b.pageID)):l=b;b=m.getSubeoFromPage(l);$(document).trigger(k.jumpToPage,[l,b]);!b||h.inAssessment||h.inReview||h.isSinglePage||
h.jumpToSubeo(b.subeoid,c);c="Player Control Action Triggered...\x3c/br\x3eJump to page triggered.";b||(c+=".. Page not found in course.");$(document).trigger(k.called,[{message:c}])},getSubeoFromPage:function(b){if(!h.isSinglePage)return h.dataStorage.getSubeoFromPage(b);$(document).trigger(k.called,[{message:"Player Control Action Triggered...\x3c/br\x3egetSubeoFromPage triggered."}])},jumpToLearningObject:function(b,c){if(!h.inAssessment&&!h.inReview&&!h.isSinglePage){b=m.findObject(b);if(0==b.subeos.length)return;
for(var l=b.subeos[0].subeoid,n=1;n<b.subeos.length;n++)if(!b.subeos[n].complete){l=b.subeos[n-1].subeoid;break}contentApi.jumpToSubeo(l,c)}$(document).trigger(k.called,[{message:"Player Control Action Triggered...\x3c/br\x3eJump to object triggered."}])},playerEvent:{on:function(b,c){h.isSinglePage||$(h).bind(b,c);$(document).trigger(k.called,[{message:"Content API called... Handler attached to player event",data:arguments}])},remove:function(b,c){h.isSinglePage||$(h).unbind(b,c);$(document).trigger(k.called,
[{message:"Content API called... Handler removed from player event",data:arguments}])}},printPage:function(){window.print();$(document).trigger(k.called,[{message:"Content API called... Print page called"}])},setData:function(c,l,n,p,q,u){var v;c&&(v=h.isSinglePage?b[c]:this.getData(c),v!=l&&(h.isSinglePage?b[c]=l:m.setContentVariable.apply(m,[c,l,q]),p||($(document).trigger(k.dataSet,{name:c,newValue:l,oldValue:v,cfg:u}),$(document).trigger(k.called,[{message:"Content API called... Data set",data:arguments}]))))},
setObjectCompleted:function(){h.isSinglePage||h.setCurrentObjectComplete();$(document).trigger(k.called,[{message:"Content API called... Current learning object set to complete"}])},setCourseComplete:function(){h.isSinglePage||m.markCourseComplete(!0);$(document).trigger(k.called,[{message:"Content API called... Course learning set to complete"}])},execJS:function(b){try{eval(b.js)}catch(c){$(document).trigger(k.called,[{message:"exec JS Content API called... Error executing javascript: "+b.js,status:"warning"}])}$(document).trigger(k.called,
[{message:"Content API called... Javascript successfully executed.",data:b.js}])},showBack:function(){h.navigation.showBackButton();$(document).trigger(k.called,[{message:"Player Control Action Triggered...\x3c/br\x3eThe previous button is enabled."}])},showBoth:function(){h.navigation.showBackButton();h.navigation.showForwardButton();$(document).trigger(k.nextButtonEnabled);$(document).trigger(k.called,[{message:"Player Control Action Triggered...\x3c/br\x3eBoth navigation buttons are enabled."}])},
showForward:function(){h.navigation.showForwardButton();$(document).trigger(k.nextButtonEnabled);$(document).trigger(k.called,[{message:"Player Control Action Triggered...\x3c/br\x3eThe next button is enabled."}])},takeTest:function(){if(h.isSinglePage)$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eJumped to current module testing"}]);else if(!h.inAssessment&&!h.inReview){var b=m.currentModule,l=m.moduleHasTest(b);if(c.enablePostTest){if(!l)return $(document).trigger(k.called,
[{message:"Content API function called... \x3c/br\x3e "+n.noModuleTesting,status:"warning"}]),null;if(m.isMaxedOut(b))return $(document).trigger(k.called,[{message:"Content API function called... \x3c/br\x3e "+n.exceededTestAttempts,status:"warning"}]),null}else return $(document).trigger(k.called,[{message:"Content API function called... \x3c/br\x3e "+n.testingDisabled,status:"warning"}]),null;m.markModuleComplete(b);(l=m.getModuleEnd(b))&&m.jumpToPage(l.page);h.launchTest(b.loid,"post");$(document).trigger(k.called,
[{message:"Content API function called...\x3c/br\x3eJumped to current module testing"}]);return null}},jumpToModule:function(b){if(h.isSinglePage)$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eJumped to current module content"}]);else if(!h.inAssessment&&!h.inReview){var c=m.currentModule;b.moduleID&&(c=m.findModule(b.moduleID));h.jumpToModule(c)&&$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eJumped to current module content"}]);
return null}},reviewTest:function(b){if(h.isSinglePage)$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eTest review started"}]);else if(!h.inAssessment&&!h.inReview){var c=m.currentModule;b.moduleID&&(c=m.findModule(b.moduleID));(b=c.lastAssessment?c.lastAssessment:null)&&h.launchReview(b);$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eTest review started"}]);return null}},toggleTranscript:function(){h.isSinglePage||h.toggleTranscript();
$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe transcript is toggled"}])},showTranscript:function(){h.isSinglePage||h.showTranscript();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe transcript is showing"}])},openModal:function(b,c){DKI.Modal.show({url:b,callback:c});$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe modal is showing"}])},showGlossaryBrowser:function(){h.isSinglePage||DKI.glossaryBrowse.show();
$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe glossary browser is showing"}])},hideGlossaryBrowser:function(){h.isSinglePage||DKI.glossaryBrowse.hide();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe glossary browser is hidden"}])},toggleGlossaryBrowser:function(){h.isSinglePage||DKI.glossaryBrowse.toggle();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe glossary browser is toggled"}])},
showGlossaryForTerm:function(b,c){DKI.glossary.showPopupForTerm(b,c);$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe glossary term "+b+" has been requested to show is toggled"}])},showResourceBrowser:function(){h.isSinglePage||DKI.resourceBrowser.show();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe resource browser is showing"}])},hideResourceBrowser:function(){h.isSinglePage||DKI.resourceBrowser.hide();$(document).trigger(k.called,
[{message:"Content API function called...\x3c/br\x3eThe resource browser is hidden"}])},toggleResourceBrowser:function(){h.isSinglePage||DKI.resourceBrowser.toggle();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe resource browser is toggled"}])},showBibliography:function(){h.isSinglePage||DKI.reference.showBibliography();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe bibliography is showing"}])},hideBibliography:function(){h.isSinglePage||
DKI.reference.hideBibliography();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe bibliography is hidden"}])},toggleBibliography:function(){h.isSinglePage||DKI.reference.toggleBibliography();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe bibliography is toggled"}])},showCourseSearch:function(b){b&&"object"==typeof b&&(b=null);h.isSinglePage||DKI.search.Window.show(b);$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe course search window is showing"}])},
hideCourseSearch:function(){h.isSinglePage||DKI.search.Window.hide();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe course search window is hidden"}])},toggleCourseSearch:function(){h.isSinglePage||DKI.search.Window.toggle();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe course search window is toggled"}])},searchCourse:function(b,c){var l=null;h.isSinglePage||(l=m.searchManager.search(b,c));$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe course was searched for: "+
b,data:{result:l,term:b,exclude:c}}]);return l},showCorrectAnswers:function(){(h.contentPage.lightBoxPage||h.contentPage.current).showCorrectAnswers();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eCorrect answers are showing"}])},tryAgain:function(){h.contentPage.current.tryAgain();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eTAnother test question attempt has been started"}])},submitQuestion:function(b){if(h.inReview)this.contentGoNext();
else if(h.contentPage.current.submitQuestion||h.contentPage.lightBoxPage&&h.contentPage.lightBoxPage.submitQuestion)(h.contentPage.lightBoxPage||h.contentPage.current).submitQuestion(DKI.isObject(b)?null:b),$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe current question has been submitted"}])},sceneStepForward:function(){h.contentPage.current.stepForward();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe current scene has been stepped forward"}])},
sceneStepBack:function(){h.contentPage.current.stepBack();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe current scene has been stepped back"}])},resetPage:function(b){h.contentPage.current.reset();h.contentPage.current.start();b||$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe current page has been reset"}])},showMenu:function(){h.isSinglePage||h.showOutline();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe menu is showing"}])},
hideMenu:function(){h.isSinglePage||h.hideOutline();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eTThe menu is hidden"}])},toggleMenu:function(){h.isSinglePage||h.toggleOutline();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe menu is toggled"}])},exitCourse:function(){h.isSinglePage||h.exitCourse();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe course exit has been triggered"}])},jumpToElement:function(b){var c=
$("#"+b.elementId+"_wrapper"),h=function(){var b=c.find('*[tabindex][tabindex!\x3d"-1"]:first');0<b.length&&b[0].focus()};if(c.offset().top<$(window).scrollTop()||c.offset().top+c.height()>$(window).scrollTop()+(window.innerHeight||document.documentElement.clientHeight))if(200>c.offset().top)if($(document.body).hasClass("mobile")){var l=$("#headerContainer").css("position");$("#headerContainer").css("position","relative");c.velocity("scroll",{offset:-200,duration:500});setTimeout(function(){$("#headerContainer").css("position",
l);h()},501)}else c.velocity("scroll",{offset:-200,duration:500}),setTimeout(function(){h()},501);else c.velocity("scroll",{offset:-1*$(".bgRepeater").offset().top,duration:500}),setTimeout(function(){h()},501);else h();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eElement has been jumped to",data:b}])},backToTop:function(b){var c=$("body, html, #contentFrame"),h=!1;"undefined"!=typeof b&&(c=$(b),c.hasClass("fancybox-content")?(c.animate({scrollTop:0},500),h=!0):
c=c.scrollParent());h||c.velocity("scroll",{offset:-200,duration:500});$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eBack to top"}])},launchURL:function(b){h.isSinglePage||(DKI.applyIf(b,{display:"modal",method:"GET"}),DKI.Modal.show(b));$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eURL has been launched",data:b}])},enableMenuButton:function(){h.isSinglePage||l.enableMenuButton();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eTHe menu button is enabled"}])},
disableMenuButton:function(){h.isSinglePage||l.disableMenuButton();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe menu is disabled"}])},showPopup:function(b){setTimeout(function(){DKI.PopupPanel.show(b)},50);$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eA popup has been shown",data:b}])},hidePopup:function(b){DKI.PopupPanel.hide({id:b});$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eA popup has been hidden",
data:b}])},hideAllPopups:function(b,c){var h=this,k="div.popup[data-actionID]";c||(k+=":not(.dki-submit-button)");b||(k+=":not(.DKI-questionFeedback)");$(k).each(function(){h.hidePopup($(this).data("actionID"))})},destroyPopup:function(b){DKI.PopupPanel.destroy({id:b});$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eA popup has been destroyed",data:b}])},getCurrentAssessment:function(){var b=h.isSinglePage?null:m.assessment;$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eCurrent assessment has been retrieved",
data:b}]);return b},inReview:function(){var b=h.inReview?!0:!1;$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eIn review status has been retrieved",data:b}]);return b},getGroupTitle:function(b){var c=void 0;if(h.isSinglePage){if(h.contentPage.getGroupById)var l=h.contentPage.getGroupById(b),c="undefined"!==typeof l?l.title:c}else l=m.getGroup(b),c="undefined"!==typeof l?l.title:c;"undefined"==typeof l&&(b=$("#group_"+b).data("title"),c="undefined"!==typeof b?b:c);
$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eGroup title has been retrieved",data:c}]);return c},zoomToElement:function(b,c,h,l){h=void 0!=h?h:1E3;l=void 0!=l?l:function(){};c=$(".pageElementsWrapper.page",c.pageContainer);var m=$("html").height()-$("#headerContainer").height()-$("#footerContainer").height();c.height()>m?c.height(m):m=c.height();var n=$("#"+b+"_wrapper",c);c.offset();n.position();b=c.width()/n.data("width");var m=m/n.data("height"),p=c.width()/
2,q=c.height()/2,u=n.data("x")+n.data("width")/2,v=n.data("y")+n.data("height")/2;c.velocity({scale:b>m?m:b,translateX:p-u,translateY:q-v},{duration:h,complete:function(){l.call(this);$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe page has been zoomed in on an element.",data:n}])}})},zoomOut:function(b,c,h){c=void 0!=c?c:1E3;h=void 0!=h?h:function(){};var l=$(".pageElementsWrapper.page",b.pageContainer);l.velocity({scale:1,translateX:0,translateY:0},{duration:c,
complete:function(){l.css("height","");h.call(this);$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe page has been zoomed out to the original size."}])}})},getElementWrapper:function(b){return $("#"+b+"_wrapper")},sendXAPIStatement:function(b){this.sendScormXAPIStatement(b);this.sendAnalyticsStatement(b)},sendScormXAPIStatement:function(b){p&&(b=DKI.applyIf(DKI.clone(b,!0),{context:{contextActivities:{parent:[]}}},!0),b=this.applyBrowserInfoToStatement(b),b.context.contextActivities.parent.push(m.rootXAPIActivity),
p.process("sendXAPIStatement",[b,function(){}]),$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3esendXAPIStatement",data:JSON.stringify(b)}]))},sendAnalyticsStatement:function(b){tc&&(b=DKI.applyIf(DKI.clone(b,!0),{context:{contextActivities:{parent:[]}}},!0),b=this.applyBrowserInfoToStatement(b),b.context.contextActivities.parent.push({id:settings.activityRootURL+"course/"+(settings.useExternalIdsForScorm?m.courseStructure.external_id:m.courseStructure.courseid)}),
tc.sendStatement(b,function(){}),$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3esendAnalyticsStatement",data:JSON.stringify(b)}]))},applyBrowserInfoToStatement:function(b){playerBehaviour.xapi_includeBrowserInfoInStatements&&(b=DKI.applyIf(DKI.clone(b,!0),{context:{extensions:{"http://id.tincanapi.com/extension/browser-info":dkiUA.getUAProperties()}}},!0));return b},getXAPIStatements:function(b){p&&(DKI.applyIf(b,{callback:function(){}}),p.process("getXAPIStatements",
[b],b.callback));$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3egetXAPIStatements",data:JSON.stringify(b)}])},showCompletionCertificate:function(){!h.isSinglePage&&h.behaviour.completionCertificate&&h.loadCertificate();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eCompletion Certificate has been shown."}])},getDefaultFeedbackText:function(b){var c;c=h.isSinglePage?settings.course.parameters.questionFeedback[b]:m.courseStructure.parameters.questionFeedback[b];
$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3e default feedback text retrieved for type "+b+"."}]);return c},getDefaultFeedbackPopup:function(){var b;b=h.isSinglePage?settings.course.parameters.questionFeedback.popup:m.courseStructure.parameters.questionFeedback.popup;$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3e default feedback style retrieved."}]);return b},getRandomNumber:function(b,c){var h=isNaN(b)?0:parseInt(b);c=isNaN(c)?
1E16:parseInt(c);b=Math.min(h,c);c=Math.max(h,c);return Math.round(Math.random()*(c-b))+b},getCurrentTime:function(){var b=new Date,c=b.getHours()%12,c=c||12,h=b.getMinutes();return c+":"+(10>h?"0"+h:h)+" "+(12>=b.getHours()?"am":"pm")},getCurrentDate:function(b){return $.format.date(new Date,b||"dd/MM/yyyy")},invalidateModule:function(b){(b=h.dataStorage.getModuleByIndex(b.moduleIndex))&&h.dataStorage.invalidateModule(b)},revalidateModule:function(b){(b=h.dataStorage.getModuleByIndex(b.moduleIndex))&&
h.dataStorage.revalidateModule(b)},closePopupPage:function(){$.fancybox.close()},resetCourseTimer:function(){h.dataStorage&&h.dataStorage.resetCourseTimer()},pauseNarration:function(b){(b&&b.pageInstance?b.pageInstance:h.contentPage.current).pauseNarration();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3e Narartion Paused."}])},playNarration:function(b){(b&&b.pageInstance?b.pageInstance:h.contentPage.current).playNarration();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3e Narartion Played."}])},
muteNarration:function(b){(b&&b.pageInstance?b.pageInstance:h.contentPage.current).muteNarration();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3e Narartion Muted."}])},unmuteNarration:function(b){(b&&b.pageInstance?b.pageInstance:h.contentPage.current).unmuteNarration();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3e Narartion Unmuted."}])},replayNarration:function(b){(b&&b.pageInstance?b.pageInstance:h.contentPage.current).replayNarration();
$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3e Narartion Replayed."}])},changePublishFilter:function(b){var c=new URL(window.location.href),h=null,k=function(){DKI.utility.changeContentLocation(c)};b.publishFilterId?(c.searchParams.set("publish_filter",b.publishFilterId),h=b.publishFilterId):c.searchParams.delete("publish_filter");m&&m.updatePublishFilter?m.updatePublishFilter(h,k):k();return!1}},y;for(y in v)v.hasOwnProperty(y)&&(q[y]=v[y],q.DkiApi[y]=v[y]);q.shLMS=
{meth1:function(b,c){var k=h.dataStorage;c=c?k.findModule(c):k.currentModule;c.post&&(c.post.attempts=b);k.saveCompletion&&k.saveCompletion()}};p&&q.getStudentName(function(){});return q}();DKI||(DKI={});
DKI.PlayerNavigation=function(b){this.showMenu=this.showReload=this.showAudio=this.showBack=this.showForward=!0;this.audioState="on";this.ignoreSkipToContentFocus=this.bibliographyState=this.resourceState=this.glossaryState=this.moreState=this.menuState=!1;this.clickEvent=b.settings.clickEvent;this.initEvents();this.registerDOM();$(".navButton").each(function(){$(this).data("tab-index",$(this).attr("tabIndex"))})};
DKI.PlayerNavigation.prototype.registerDOM=function(){this.exitButton=$("#exitButton");this.audioButton=$("#audioButton");this.replayButton=$("#replayButton");this.backButton=$("#backButton");this.forwardButton=$("#forwardButton");this.menuButton=$("#menuButton");this.listButton=$("#listButton");this.moreButtons=$("#moreButtons");this.moreOverlay=$("#moreOverlay");this.transcriptButton=$("#transcriptButton");this.glossaryButton=$("#glossaryButton");this.resourceButton=$("#resourceButton");this.skipToContent=
$("#skipToContent");this.skipToNavigation=$("#skipToNavigation");$(".navButton").each(function(){$(this).data("tab-index",$(this).attr("tabIndex"))});this.forwardButton.data("tab-index",this.forwardButton.attr("tabIndex"));this.backButton.data("tab-index",this.backButton.attr("tabIndex"))};
DKI.PlayerNavigation.prototype.initEvents=function(){var b=this;$(document).on("dki_theme_ready",function(){b.registerDOM()});$(document.body).on(this.clickEvent,"#exitButton",function(c){c.stopPropagation();$(b).trigger(DKI.PlayerNavigation.events.exit);return!1});$(document.body).on(this.clickEvent,"#audioButton",function(c){c.stopPropagation();$(this).hasClass("disabled")||(b.audioState="on"===b.audioState?"off":"on",b.audioButton.toggleClass("muted"),$(b).trigger(DKI.PlayerNavigation.events.audioToggle,
[b.audioState]),b.hideMore());return!1});var h=function(c){$("#backButton").hasClass("disabled")||$(b).trigger(DKI.PlayerNavigation.events.back);c.stopPropagation();c.gesture&&c.gesture.preventDefault();return!1},c=function(c){$("#forwardButton").hasClass("disabled")||$(b).trigger(DKI.PlayerNavigation.events.forward);c.stopPropagation();c.gesture&&c.gesture.preventDefault();return!1};playerBehaviour.enableKeyNavigation&&($(document).on("keyup",function(b){if(39==b.which||34==b.which||38==b.which)$(".dkiContentFrame.current .endMod_learningLink").length?
$(".endMod_learningLink").trigger("click"):$("#downHeader").length?$("#downHeader").trigger("click"):player.inEndScreen||c(b)}),$(document).on("keyup",function(b){if(33==b.which||37==b.which||40==b.which)$(".dkiContentFrame.current .endMod_revisitLink").length?$(".endMod_revisitLink a").trigger("click"):$("#upHeader").length?$("#upHeader").trigger("click"):player.inEndScreen||h(b)}));$(document.body).on("click","#backButton",h);$(document.body).on("click","#forwardButton",c);if(dkiUA.touchEnabled&&
playerBehaviour.enableSwiping){var l=function(c){$("#backButton").hasClass("disabled")||c.gesture&&!(c.gesture&&150<c.gesture.deltaX)||$(b).trigger(DKI.PlayerNavigation.events.back);c.stopPropagation();c.gesture&&c.gesture.preventDefault();return!1},m=function(c){$("#forwardButton").hasClass("disabled")||c.gesture&&!(c.gesture&&-150>c.gesture.deltaX)||$(b).trigger(DKI.PlayerNavigation.events.forward);c.stopPropagation();c.gesture&&c.gesture.preventDefault();return!1};$("html").on("swipeleft",m);$("html").on("swiperight",
l);$(document).on(DKI.Events.TestQuestion.dragStarted,function(){$("html").off("swiperight");$("html").off("swipeleft")});$(document).on(DKI.Events.TestQuestion.dragStopped,function(){$("html").on("swiperight",l);$("html").on("swipeleft",m)});$(document).on(DKI.ContentPage.events.elementSwipeStart,function(){$("html").off("swiperight");$("html").off("swipeleft")});$(document).on(DKI.ContentPage.events.elementSwipeEnd,function(){$("html").on("swiperight",l);$("html").on("swipeleft",m)})}$(b).on(DKI.PlayerNavigation.events.back,
function(){b.hideBackButton();b.hideForwardButton()});$(b).on(DKI.PlayerNavigation.events.forward,function(){b.hideBackButton();b.hideForwardButton()});$(document.body).on(this.clickEvent,"#menuButton",function(c){c.stopPropagation();$(this).hasClass("disabled")||(b.menuState=b.menuState?!1:!0,$(b).trigger(DKI.PlayerNavigation.events.menuToggle,[b.menuState]),b.hideMore());return!1});$(document.body).on(this.clickEvent,"#replayButton",function(c){c.stopPropagation();$(this).hasClass("disabled")||
($(b).trigger(DKI.PlayerNavigation.events.reload),b.hideMore());return!1});$(document.body).on(this.clickEvent,"#listButton",function(c){c.stopPropagation();b.onListClick(c);return!1});$(document.body).on(this.clickEvent,"#transcriptButton",function(c){c.stopPropagation();$(this).hasClass("disabled")||$(b).trigger(DKI.PlayerNavigation.events.transcriptToggle);return!1});$(document.body).on(this.clickEvent,"#glossaryButton",function(c){c.stopPropagation();$(this).hasClass("disabled")||(b.glossaryState=
b.glossaryState?!1:!0,$(b).trigger(DKI.PlayerNavigation.events.glossaryToggle,[b.glossaryState]),b.hideMore());return!1});$(document.body).on(this.clickEvent,"#resourceButton",function(c){c.stopPropagation();$(this).hasClass("disabled")||(b.resourceState=b.resourceState?!1:!0,$(b).trigger(DKI.PlayerNavigation.events.resourceToggle,[b.resourceState]),b.hideMore());return!1});if(this.moreOverlay)$(document.body).on(this.clickEvent,"#moreOverlay",function(c){c.stopPropagation();b.hideMore();b.moreOverlay.css("display",
"none");return!1});$(document).on(DKI.ContentPage.events.started,function(){b.ignoreSkipToContentFocus?b.ignoreSkipToContentFocus=!1:$("#skipToContent").focus()});$(document).on(DKI.EndModule.events.started,function(){$("#skipToContent").focus()});$(document).on(DKI.EndCourse.events.started,function(){$("#skipToContent").focus()});$(document).on(DKI.EndTest.events.started,function(){$("#skipToContent").focus()});$(document.body).on(this.clickEvent,"#skipToContent",function(b){b.stopPropagation();
$(".headerPage:not(.hidden) *[tabindex][tabindex!\x3d'-1'], .dkiContentFrame.current .pageElementsWrapper *[tabindex][tabindex!\x3d'-1'], .dkiContentFrame.current .endScreenWrapper *[tabindex][tabindex!\x3d'-1']").each(function(){if($(this).is(":visible")&&!$(this).isDisabled()||$(this).hasClass("sr-only"))return this.focus(),!1});return!1});$(document.body).on(this.clickEvent,"#skipToNavigation",function(c){c.stopPropagation();c=$("*[tabindex][tabindex!\x3d'-1']","#navbar_header, #headerContainer");
0==c.length&&(c=b.forwardButton);c.each(function(){if(!$(this).hasClass("disabled")&&!$(this).hasClass("disabled-element")&&$(this).is(":visible"))return this.focus(),!1});return!1})};DKI.PlayerNavigation.prototype.fireBack=function(){$(this).trigger(DKI.PlayerNavigation.events.back)};DKI.PlayerNavigation.prototype.fireForward=function(){$(this).trigger(DKI.PlayerNavigation.events.forward)};
DKI.PlayerNavigation.prototype.disableButton=function(b){b="string"==$.type(b)?$("#"+b):$(b);b.addClass("disabled");b.attr("tabindex",-1);b.attr("aria-hidden","true")};DKI.PlayerNavigation.prototype.enableButton=function(b){b="string"==$.type(b)?$("#"+b):$(b);b.removeClass("disabled");b.attr("tabindex",b.data("tab-index"));b.attr("aria-hidden","false")};DKI.PlayerNavigation.prototype.hideTranscriptButton=function(){this.transcriptButton.css("display","none")};
DKI.PlayerNavigation.prototype.showTranscriptButton=function(){this.transcriptButton.css("display","")};DKI.PlayerNavigation.prototype.disableTranscriptButton=function(){this.disableButton(this.transcriptButton)};DKI.PlayerNavigation.prototype.enableTranscriptButton=function(){this.enableButton(this.transcriptButton)};DKI.PlayerNavigation.prototype.hideAudioButton=function(){this.disableButton(this.audioButton)};DKI.PlayerNavigation.prototype.showAudioButton=function(){this.enableButton(this.audioButton)};
DKI.PlayerNavigation.prototype.hideBackButton=function(){this.disableButton(this.backButton)};DKI.PlayerNavigation.prototype.showBackButton=function(){this.enableButton(this.backButton)};DKI.PlayerNavigation.prototype.hideForwardButton=function(){this.disableButton(this.forwardButton)};DKI.PlayerNavigation.prototype.showForwardButton=function(){this.enableButton(this.forwardButton);$(this).trigger(DKI.PlayerNavigation.events.nextButtonEnabled)};DKI.PlayerNavigation.prototype.hideMenuButton=function(){this.disableButton(this.menuButton)};
DKI.PlayerNavigation.prototype.showMenuButton=function(){this.enableButton(this.menuButton)};DKI.PlayerNavigation.prototype.hideReloadButton=function(){this.disableButton(this.replayButton)};DKI.PlayerNavigation.prototype.showReloadButton=function(){this.enableButton(this.replayButton)};DKI.PlayerNavigation.prototype.showScreenCountDisplay=function(){$("#screenCount").css("display","");$("#navbar_screencount_wrapper").length&&$("#navbar_screencount_wrapper").css("display","")};
DKI.PlayerNavigation.prototype.hideScreenCountDisplay=function(){$("#screenCount").css("display","none");$("#navbar_screencount_wrapper").length&&$("#navbar_screencount_wrapper").css("display","none")};DKI.PlayerNavigation.prototype.hideGlossaryButton=function(){this.glossaryButton.css("display","none")};DKI.PlayerNavigation.prototype.showGlossaryButton=function(){this.glossaryButton.css("display","")};DKI.PlayerNavigation.prototype.disableGlossaryButton=function(){this.disableButton(this.glossaryButton)};
DKI.PlayerNavigation.prototype.enableGlossaryButton=function(){this.enableButton(this.glossaryButton)};DKI.PlayerNavigation.prototype.disableResourceButton=function(){this.disableButton(this.resourceButton)};DKI.PlayerNavigation.prototype.enableResourceButton=function(){this.enableButton(this.resourceButton)};DKI.PlayerNavigation.prototype.disableMenuButton=function(){this.disableButton(this.menuButton)};DKI.PlayerNavigation.prototype.enableMenuButton=function(){this.enableButton(this.menuButton)};
DKI.PlayerNavigation.prototype.setTotalScreens=function(b){$("#totalScreens,.totalScreens").text(b)};DKI.PlayerNavigation.prototype.setCurrentScreen=function(b){$("#currentScreen,.currentScreen").text(b)};DKI.PlayerNavigation.prototype.setModuleName=function(b){$("#moduleName").text(b)};DKI.PlayerNavigation.prototype.setObjectName=function(b){$("#objectName").text(b)};DKI.PlayerNavigation.prototype.setMenuState=function(b){this.menuState=b};
DKI.PlayerNavigation.prototype.setGlossaryState=function(b){this.glossaryState=b};DKI.PlayerNavigation.prototype.setResourceState=function(b){this.resourceState=b};DKI.PlayerNavigation.prototype.setBibliographyState=function(b){this.BibliographyState=b};DKI.PlayerNavigation.prototype.contentMode=function(){this.showAudioButton();this.showReloadButton();this.showMenuButton();this.showScreenCountDisplay()};
DKI.PlayerNavigation.prototype.testMode=function(b){b?(this.showForwardButton(),this.showBackButton()):(this.hideForwardButton(),this.hideBackButton());this.showAudioButton();this.hideReloadButton();this.hideMenuButton();this.showScreenCountDisplay()};DKI.PlayerNavigation.prototype.endMode=function(){this.hideForwardButton();this.hideBackButton();this.hideReloadButton();this.hideAudioButton();this.hideMenuButton();this.hideScreenCountDisplay();this.setObjectName("");this.setModuleName("")};
DKI.PlayerNavigation.prototype.onListClick=function(){this.menuState=!1;$(this).trigger(DKI.PlayerNavigation.events.menuClose);this.moreState?(this.moreButtons.css("display","none"),this.moreOverlay.css("display","none"),this.moreState=!1):(this.moreButtons.css("display","block"),this.moreOverlay.css("display","block"),this.moreState=!0)};
DKI.PlayerNavigation.prototype.hideMore=function(){this.moreState&&(this.moreButtons.css("display","none"),this.moreOverlay.css("display","none"),this.moreState=!1)};DKI.PlayerNavigation.events={audioToggle:"audioToggle",back:"back",forward:"forward",menuToggle:"menuToggle",menuClose:"menuClose",reload:"reload",exit:"exit",transcriptToggle:"transcriptToggle",glossaryToggle:"glossaryToggle",resourceToggle:"resourceToggle",bibliographyToggle:"bibliographyToggle",nextButtonEnabled:"nextButtonEnabled"};
DKI.Marker={scoreQuestion:function(b,h,c,l){c="undefined"===typeof c?0:c;if("1"==b.type)c=this.scoreTrueFalse(h,b.options);else if("2"==b.type)c=this.scoreMultipleChoice(h,b.options);else if("3"==b.type)c=this.scoreFreeForm(h,b.options);else if("4"==b.type)c=this.scoreFillBlanks(h,b.options);else if("5"==b.type)c=this.scoreMultiplePulldown(h,b.options);else if("6"==b.type)c=this.scoreDragDrop(h,b.options);else if("7"==b.type)c=this.scoreCustom(h,b.options,c);else if("8"==b.type)c=this.scoreCapture(c);
else if("9"==b.type)c=this.scoreImageMap(l);else if("10"==b.type)c=this.scoreScenario(l);else if("11"==b.type)c=this.scoreMatching(l);else if("12"==b.type)c=this.scoreSequencing(l);else if("13"==b.type)c=this.scoreMultipleChoiceQuestionWidget(l);else if("14"==b.type)c=this.scoreFillInTheBlanksQuestionWidget(l);else throw"Invalid question type: "+b.type;(0==b.parameters.scoringType&&!playerBehaviour.partialScoring||2==b.parameters.scoringType)&&100>c&&(c=0);return isNaN(c)?0:c},scoreTrueFalse:function(b,
h){return h[0].parameters.correct&&1==b[0]?100:h[1].parameters.correct&&1==b[1]?100:0},scoreMultipleChoice:function(b,h){for(var c=0,l=0,m=0,p=0;p<h.length;p++)h[p].parameters.correct?(c++,b[p]&&1==b[p].checked&&l++):b[p]&&1==b[p].checked&&m++;l-=m;return 0<l?Math.round(l/c*100):0},scoreFillBlanks:function(b,h){for(var c,l=0,m=0,p=0;p<h.length;p++){m++;c=h[p].parameters.correctValues;for(var n=0;n<c.length;n++){var u=$.trim(c[n].toString().toLowerCase()),k=$.trim(b[p].toString().toLowerCase());$.isNumeric(u)?
(u=parseFloat(u),k=parseFloat(k.replace(/\,|\s/g,""))):u=$("\x3cspan\x3e"+u+"\x3c/span\x3e").text().trim();if(k===u){l++;break}}}return Math.round(l/m*100)},scoreMultiplePulldown:function(b,h){for(var c=0,l=0,m,p=0;p<h.length;p++)m=$('\x3cselect\x3e\x3coption value\x3d"'+escape(h[p].parameters.correctValue)+'"\x3e'+h[p].parameters.correctValue+"\x3c/option\x3e\x3c/select\x3e"),l++,m=m.value().trim(),escape(b[p].toString()).toLowerCase()===m.toString().toLowerCase()&&c++;return Math.round(c/l*100)},
scoreFreeForm:function(b){return""!==b[0].trim()?100:0},scoreDragDrop:function(b,h){if(0==b.length&&0==h.length)return 0;for(var c=0,l=h.length,m,p,n=0;n<b.length;n++){m=!1;p=null;for(var u=0;u<h.length;u++)if(h[u].element_id==b[n].elementId){p=h[u];break}for(u=0;u<p.parameters.correctTargets.length;u++)b[n].target.id&&b[n].target.id.toString().toLowerCase()==p.parameters.correctTargets[u].toString().toLowerCase()&&(m=!0);b[n].target.id||0!=p.parameters.correctTargets.length||(m=!0);m&&c++}return Math.round(c/
l*100)},scoreCustom:function(b,h,c){try{if(isNaN(c))throw"Invalid data. Please provide a numeric score.";c=parseInt(c,10);c=0>c?0:c;return 100<c?100:c}catch(l){return 0}},scoreCapture:function(b){return b},scoreImageMap:function(b){return b.mapEl.data("dki.ImageMap").score()},scoreScenario:function(b){return b.scenarioEl.data("dki.Scenario").getScore()},scoreMatching:function(b){return b.matchEl.data("dki.MatchingQuestion").score()},scoreSequencing:function(b){return b.sequenceEl.data("dki.SequencingQuestion").score()},
scoreMultipleChoiceQuestionWidget:function(b){return b.questionEl.data("dki.MultipleChoiceQuestion").scoreQuestion(!0,!0)},scoreFillInTheBlanksQuestionWidget:function(b){return b.questionEl.data("dki.FillInTheBlanksQuestion").scoreQuestion(!0,!0)}};
DKI.browserWarning=function(){return{init:function(b){b.warnBrowser&&(dkiUA.firefox&&4>dkiUA.firefoxVersion||dkiUA.ie&&8>dkiUA.ieVersion||dkiUA.safari&&(dkiUA.windows||5>dkiUA.safariVersion))&&(b=$(Handlebars.compile(DKI.templates.browserWarning)({strings:DKI.strings})),$("body").append(b),b.modal("show"),dkiUA.windows?$("#browserWarning_downloads").addClass("windows"):dkiUA.mac?$("#browserWarning_downloads").addClass("mac"):dkiUA.android?$("#browserWarning_downloads").addClass("android"):dkiUA.iOS&&
$("#browserWarning_downloads").addClass("iOS"))}}}();
DKI.glossary=function(){var b={},h=[],c={},l=null,m=function(b,c,h){b=DKI.calculateCoords(b,c,h);12>b.y&&(b.y=12);return b},p=function(b){DKI.utility.isObject(b)||(b=v(b));playerBehaviour.autoLinkGlossaries&&!b.autoLinked&&(b.definition=DKI.renderService.processElementTextForGlossaries(b.definition),b.autoLinked=!0);return b},n=function(b,c){c=c.find("#glossaryPopupSource");b.attribution?c.html("Source: "+b.attribution):b.citation_id?c.html("Source: "+DKI.reference.getFullCitationText(b.citation_id)):
(c.html(""),c[0].tabIndex=-1)},u=function(c){c=m(c,b.wrapper,5);b.wrapper.css({top:c.y+"px",left:c.x+"px"});c=$("#glossaryPopupDefinitionContainer");150<c.height()&&c.height(150)},k=DKI.func.debounce(function(c,h){if("show"==c){if(p($(h).data("id")),!b.wrapper.is(":visible")){var k=v($(h).data("id")),l=this;if(k){c=DKI.stripHTML(k.definition);c=50<c.length?c.substr(0,47)+"...":c;b.hoverDefinition.html("\x3cp style\x3d'display:inline;'\x3e"+c+"\x3c/p\x3e");h=m(h,b.hoverDefinition,5);b.hoverDefinition.css({top:h.y+
"px",left:h.x+"px"});var n=b.hoverDefinition.parent();b.hoverDefinition.detach();setTimeout(function(){b.hoverDefinition.css("display","block");n.append(b.hoverDefinition);$(player).trigger(l.events.definitionShown,k)},100)}}}else"hide"==c&&(b.hoverDefinition.hide(),h&&(k=v($(h).data("id")),$(player).trigger(this.events.definitionHidden,k)))},100,!1),q=function(b,c){k.call(this,"hide",c)},v=function(b){for(var c=0;c<h.length;c++)if(h[c].glossaryid==b)return h[c]},y=function(){h.sort(function(b,c){b=
b.term.replace(/[.*+?^${}()|[\]\\]/g,"\\$\x26").toLowerCase();c=c.term.replace(/[.*+?^${}()|[\]\\]/g,"\\$\x26").toLowerCase();return b<c?-1:b>c?1:0})},z=function(b){for(var c="",h=0;h<DKI.assets.length;h++)DKI.assets[h].src==$(b).data("id")&&(c=DKI.renderService.getAssetUrl(DKI.assets[h]),"html"==DKI.assets[h].type&&(c+="/"+DKI.assets[h].parameters.LAUNCHFILE));""!=c&&window.open(c,"_blank","location\x3d0,width\x3d"+$(window).width()+",height\x3d"+$(window).height())},A={tooltip:{enabled:!1,config:{}}};
Handlebars.registerHelper("DKI_templates_glossary_list",function(b){b=DKI.applyIf(b.hash,A);b=Handlebars.compile(DKI.templates.glossary.list)({strings:DKI.strings,config:b,terms:h});$(document).on(c.clickEvent,".dki-glossary-list-term",function(b){DKI.glossary.showPopup.call(this,[b])});return b});return{init:function(k){h=k.terms;c=k.settings;language=k.languageString;k=Handlebars.compile(DKI.templates.glossaryPopup)();$("#contentFrame").append(k);b.wrapper=$("#glossaryPopup");b.term=$("#glossaryPopupTerm");
b.definition=$("#glossaryPopupDefinition");b.definitionContainer=$("#glossaryPopupDefinitionContainer");b.attribution=$("#glossaryPopupSource");b.close=$("#glossaryPopupClose").attr("title",playerStrings.buttonLabelClose);b.hoverDefinition=$("#glossaryHoverDefinition");b.hoverDefinition.attr("role","alert");b.hoverDefinition.attr("aria-live","polite");b.viewBrowserLink=$("#viewBrowserLink");b.viewBrowserLink.attr("title",language.viewTermTooltip);b.close.on(c.clickEvent,function(){l&&l.focus();b.wrapper.hide()});
$(window).on(c.resizeEvent,function(c){l&&u(l);b.wrapper.is(":visible")&&b.wrapper.closest(".fancybox-wrap").length&&b.wrapper.closest(".fancybox-wrap").centerInWindow()});b.hoverDefinition.on("mouseleave",function(b){q(b)});y()},showPopup:function(h,k){p($(this).data("id"));null!=k?(c.selectedTerm=v($(this).data("id")),"capture"==k.data("type")?(captureEl=k.data("cap"),captureEl.showGlossaryPane(c.selectedTerm.definition),captureEl.panelManager.panelContentContainer.off(c.clickEvent).on(c.clickEvent,
"a",function(){$(this).closest(".capture").length&&($(this).closest(".capture").removeClass("capture-fullscreen-overflow"),$(this).closest(".capture-display").removeClass("capture-fullscreen-height"));z(this)})):(k.removeClass("hidden"),k.find(".glossary-title-text").html(c.selectedTerm.term),k.find(".glossary-definition-text").html(c.selectedTerm.definition),n(c.selectedTerm,k),k.find("#glossaryOkButton").on(c.clickEvent,function(){k.addClass("hidden");$(k).closest(".capture").length&&$(k).closest(".dki-capture-element").data("cap").setPause(!1)}),
k.off(c.clickEvent).on(c.clickEvent,"#glossaryDefinitionText a",function(){$(this).closest(".capture").length&&($(this).closest(".capture").removeClass("capture-fullscreen-overflow"),$(this).closest(".capture-display").removeClass("capture-fullscreen-height"));z(this)}))):b.wrapper.is(":visible")&&c.selectedTerm&&c.selectedTerm.glossaryid==$(this).data("id")?(b.wrapper.hide(),l.focus(),l=null):(c.selectedTerm=v($(this).data("id")),c.selectedTerm?(q(),b.term.text(c.selectedTerm.term),b.definition.html(c.selectedTerm.definition),
b.viewBrowserLink.show(),b.viewBrowserLink.attr("href",'javascript:DKI.glossaryBrowse.selectTerm("'+c.selectedTerm.id+'")'),l=h.currentTarget,h=b.wrapper.find(".glossaryPopupBody").clone(),h.find("*[tabindex]").attr("tabindex",1),n(c.selectedTerm,h),contentApi.showPopup({id:"glossary_"+c.selectedTerm.id,html:h.html(),modal:!1,returnFocus:this,autoFocus:!0,tabContent:!1,popupType:{type:"pop",mod:"noModal",modal:!0},title:c.selectedTerm.term,onHide:function(){this.find("#glossaryPopupDefinitionContainer").remove()},
afterShow:function(){this.find("#glossaryPopupDefinitionContainer a").on("click",function(){z(this)})}}),b.term[0].clientWidth<b.term[0].scrollWidth&&b.term.attr("title",c.selectedTerm.term),b.definitionContainer.scrollTop(0),$(player).trigger(DKI.glossary.events.popupShown,c.selectedTerm)):c.inPreview&&(q(),b.term.text("Untranslated term"),b.definition.html("This glossary term has not been translated"),b.viewBrowserLink.hide(),u(h.currentTarget),l=h.currentTarget,b.wrapper.show(),b.definition[0].focus()))},
showPopupForTerm:function(b,c){a:{for(var k=0;k<h.length;k++)if(h[k].term==b){b=h[k];break a}b=void 0}b&&("undefined"==typeof c&&(c=document.createElement("a")),"undefined"==typeof $(c).attr("data-id")&&$(c).attr("data-id",b.glossaryid),DKI.glossary.showPopup.call(c,[{currentTarget:c}]))},showDefinition:function(b,c){k.call(this,"show",c)},hideDefinition:q,clearTermsUsageForAutolinkFirstMapped:function(){for(var b=0;b<DKI.terms.length;b++)DKI.terms[b].termsUsageForAutolinkFirstMapped=!1},events:{definitionShown:"glossaryDefinitionShown",
definitionHidden:"glossaryDefinitionHidden",popupShown:"glossaryPopupShown",popupHidden:"glossaryPopupHidden"}}}();DKI.Reference||(DKI.Reference={});
DKI.Reference.playerReferenceUIInterface=function(b){var h={},c={},l={},m={},p=!1,n=null,u={citationRegistered:"citationRegistered",referenceRegistered:"referenceRegistered",referenceShown:"referenceShown",referenceHovered:"referenceHovered",bibliographyShown:"bibliographyShown"},k={},q=function(){for(var b in DKI.references.citations)$(document).trigger(u.citationRegistered,[DKI.references.citations[b]])},v=function(b,c){m.currentElement=b;!0===p&&m.selectedCitations&&"referencePopup"!=b.id&&0==
$(b).parents("#referencePopup").length&&m.selectedTextLinkId!=$(b).data("citationid")&&m.selectedElementId!=$(b).closest(".dki-authoring-element, .dki-authoring-element-element").data("id")&&(p=!1);c&&!p?(y(b),c=m.selectedCitations[m.currentIdx],z(b),h.wrapper.show(),c&&$(document).trigger(this.events.referenceHovered,c)):c||p||h.wrapper.hide()},y=function(b){m.currentIdx=0;m.selectedTextLinkId=$(b).data("citationid");m.selectedElementId=$(b).closest(".dki-authoring-element, .dki-authoring-element-element").data("id");
m.selectedCitations=F(m.selectedTextLinkId,m.selectedElementId);h.next.removeClass("disable");h.previous.addClass("disable")},z=function(){var b=m.currentIdx;citation=m.selectedCitations[b];1>=m.selectedCitations.length?h.nav.hide():(h.nav.show(),0>=b?h.previous.addClass("disable"):h.previous.removeClass("disable"),b>=m.selectedCitations.length-1?h.next.addClass("disable"):h.next.removeClass("disable"),h.counter.html(b+1+" / "+m.selectedCitations.length));citation&&(b=E(citation.referenceId),b="\x3cspan class\x3d'refNum'\x3e"+
G(citation.id)+".\x3c/span\x3e "+DKI.Reference.makeRefText(b,k.txtReferenceLink,citation),h.refText.html(b));A(m.currentElement)},A=function(b){b=DKI.calculateCoords(b,h.wrapper,0);12>b.y&&(b.y=12);h.wrapper.css({top:b.y+"px",left:b.x+"px"});b=$("#referencePopupText");150<b.height()&&b.height(150)},r=function(){x();DKI.centerInPlayer(c.wrapper,!0);c.wrapper.show();$(document).trigger(DKI.Reference.playerReferenceUIInterface.events.bibliographyShown);$("*[tabindex][tabindex!\x3d'-1']",c.content).each(function(){if($(this).is(":visible"))return this.focus(),
!1});player.navigation.setBibliographyState(!0)},B=function(){c.wrapper.hide();player.navigation.setBibliographyState(!1)},C=function(b){l=b;b=l.referenceOrder;for(var h="\x3cul class\x3d'rf-Bibliography'\x3e",m=0;m<b.length;m++){var n=l.references[b[m]];$(document).trigger(u.referenceRegistered,[n]);var p=DKI.Reference.makeRefText(n,k.txtReferenceLink),h=h+("\x3cli tabindex\x3d'0'\x3e \x3cspan class\x3d'refIndex'\x3e"+K(n)+".\x3c/span\x3e "+p+"\x3c/li\x3e")}c.content.html(h+"\x3c/ul\x3e")},x=function(){h.wrapper.hide();
p=!1},D=function(b){if(l.citations[b])return l.citations[b]},F=function(b,c){var h=[],k;for(k in l.citations)l.citations[k].textLinkId==b&&l.citations[k].elementId==c&&h.push(l.citations[k]);h.sort(function(b,c){return b.order<c.order?-1:b.order>c.order?1:0});return h},E=function(b){if(l.references[b])return l.references[b]},G=function(b){b=D(b);var c=E(b.referenceId),c=K(c);"#"!=c&&b.alphaOrder&&(c+=b.alphaOrder);return c},K=function(b){var c="#";b.refIndex&&(c=parseInt(b.refIndex,10));return c},
I=function(b){$(".dki-citation-link",b).each(function(b,c){if(0==$(c).has("sup.refSup").length){b=F($(c).data("citationid"),$(c).closest("div.dki-authoring-element, div.dki-authoring-element-element").data("id"));for(var h="",k=0;k<b.length;k++)h+=G(b[k].id)+" ";h=h.substring(0,h.length-1);jQuery("\x3csup /\x3e",{html:h,"class":"refSup"}).appendTo(c)}})};return{strings:k,showReference:function(b){m.currentElement=b;B();!0===p&&m.selectedCitations&&m.selectedTextLinkId==$(b).data("citationid")&&m.selectedElementId==
$(b).closest(".dki-authoring-element, .dki-authoring-element-element").data("id")?(h.wrapper.hide(),n=null,p=!1):(p=!0,y(b),z(b,0),n=b,h.wrapper.show(),(b=m.selectedCitations[m.currentIdx])&&$(document).trigger(this.events.referenceShown,b),$("*[tabindex][tabindex!\x3d'-1']",h.content).each(function(){if($(this).is(":visible"))return this.focus(),!1}))},hoverReference:v,hideReference:x,showBibliography:r,hideBibliography:B,courseHasReferences:function(){return void 0===l.referenceOrder?!1:0<l.referenceOrder.length?
!0:!1},toggleBibliography:function(){"none"==c.wrapper.css("display")?this.showBibliography():this.hideBibliography()},getFullCitationText:function(b){var c=D(b),h=E(c.referenceId);return"\x3cspan class\x3d'refNum'\x3e"+G(b)+".\x3c/span\x3e "+DKI.Reference.makeRefText(h,k.txtReferenceLink,c)},loadReferences:function(b){C(b)},events:u,init:function(b){m=b.settings;k=b.languageString;var l={strings:DKI.strings},l=Handlebars.compile(DKI.templates.citationPopup)(l),p={strings:DKI.strings,windowContent:"",
id:"bibliographyContainer",windowTitle:DKI.strings.references.bibliographyWindowTitle,contentId:"bibliographyContentContainer"},p=Handlebars.compile(DKI.templates.window)(p);$("#contentFrame").append(l);$("body").append(p);h.wrapper=$("#referencePopup");h.wrapper.hide();h.refText=$("#referenceTextContainer");h.content=$(".referencePopupBody",h.wrapper);h.close=$("#referencePopupClose");h.nav=$("#referencePopup div.nav");h.next=$("#referencePopup span.next");h.previous=$("#referencePopup span.previous");
h.counter=$("#referencePopup span.counter");h.viewBibliographyLink=$("#viewBibliographyLink");c.wrapper=$("#bibliographyContainer");c.content=c.wrapper.find(".browserContentContainer");c.close=c.wrapper.find(".windowContainer-close");C(b.references);contentApi.playerEvent.on("pageLoaded",x);h.next.on(m.clickEvent,function(b){$(this).hasClass("disable")||(m.currentIdx++,z())});h.previous.on(m.clickEvent,function(b){$(this).hasClass("disable")||(m.currentIdx--,z())});h.close.on(m.clickEvent,function(){x()});
c.close.on(m.clickEvent,function(){c.wrapper.hide()});h.viewBibliographyLink.on(m.clickEvent,function(){r()});h.wrapper.draggable({handle:$("#referenceTextContainer"),containment:".dkiContentFrame.current"});c.wrapper.draggable({handle:c.wrapper.find(".browserHeader"),containment:"body"});$(document).on(DKI.ContentPage.events.ready,function(b,c,h){I(h)});$(window).resize(function(){n&&A(n)});h.wrapper.on("mouseleave",function(b){v(b.target,!1)});q()}}}();
DKI.Reference.makeRefText=function(b,h,c){var l=b.refText;c&&c.label&&(l+=" ("+c.label+")");b.URL&&(l+=" (\x3ca tabindex\x3d'1' href\x3d'"+b.URL+"' target\x3d'_refTarget'\x3e"+h+"\x3c/a\x3e)");return l};
DKI.glossaryBrowse=function(){var b=$("body").hasClass("phone")||$("body").hasClass("responsive")?!0:!1,h={},c=[],l=function(){h.container.show();"undefined"!=typeof player&&player.navigation.setGlossaryState(!0);0!==h.termList.termElements.length&&0!==h.termList.termElements[0].length&&h.termList.termElements[0][0].focus()},m=function(){pronunciationPlayer.jPlayer&&pronunciationPlayer.jPlayer("stop");h.container.hide();"undefined"!=typeof player&&player.navigation.setGlossaryState(!1)},p=function(b){c=
b;h.termList.container.html("");$.each(c,function(b,c){b=dkiUA.iOS||dkiUA.android||dkiUA.blackberry;var l=c.term,m="";b&&(l="\x3cspan class\x3d'termIcon'\x3e\x3c/span\x3e"+c.term,m+="mobile");l=$("\x3cli/\x3e",{id:c.id,html:l,"class":m,tabindex:0});m=function(){var b=c.id;pronunciationPlayer.jPlayer&&pronunciationPlayer.jPlayer("stop");k(b)};if(b)l.find("span").on(settings.clickEvent,m);else l.on(settings.clickEvent,m);h.termList.container.append(l);h.termList.termElements.push(l);c.citation_id&&
"undefined"!==typeof dataStorage&&dataStorage.setRelationship("citationGlossary",c.citation_id,c.glossaryid);$(document).trigger(DKI.glossaryBrowse.events.glossaryRegistered,[c])});$("#glossaryBrowserContainer #glossaryManagePronunciation_player").jPlayer({swfPath:settings.swfPath,cssSelectorAncestor:"#glossaryManagePronunciation",ready:function(){pronunciationPlayer=$(this);h.container.css("visibility","visible");h.container.removeClass("loading");contentApi.playerEvent.on("pageLoaded",function(){h.container.hide()});
if("undefined"!==typeof player)player.navigation.forwardButton.on(settings.clickEvent,function(){m()})},supplied:"mp3",autohide:!1,loop:!1,preload:"auto",solution:"html, flash",size:{width:"0px",height:"0px"},muted:!1,volume:1})},n=function(b){for(var h=0;h<c.length;h++)if(c[h].id==b)return c[h]},u=function(b){0==b?h.termList.container.show():h.termDetails.container.show();h.contentContainer.animate({left:b},200,function(){0==b?h.termDetails.container.hide():h.termList.container.hide();h.container.trigger("shifted")})},
k=function(c){l();$("#termDetails .detailsContent").show();$("#termDetails").css("visibility","visible");var k=n(c);v(c);h.termDetails.termTitle.html(k.term);h.termDetails.termDefinition.html(k.definition);q(k);k.pronunciation_asset_filename?(h.player.show(),pronunciationPlayer.jPlayer("setMedia",{mp3:settings.assetURL+k.pronunciation_asset_filename})):h.player.hide();b?(h.container.on("shifted",function(){h.termDetails.termDefinition[0].focus();h.container.off("shifted")}),u(-1*h.termList.container.parent().outerWidth()),
h.back.fadeIn(200)):h.termDetails.termDefinition[0].focus()},q=function(b){b.attribution?h.termDetails.attribution.html("Source: "+b.attribution):b.citation_id?h.termDetails.attribution.html("Source: "+DKI.reference.getFullCitationText(b.citation_id)):h.termDetails.attribution.html("")},v=function(b){$("#termList li").removeClass("selected");$("#"+b).addClass("selected")};return{getTerms:function(){return c},getTerm:n,initialize:function(c){settings=c.settings;language=c.languageStrings;pronunciationPlayer=
{};var k=Handlebars.compile(DKI.templates.glossaryBrowser)({strings:DKI.strings,mobile:b,audioSimpleAncestorId:"glossaryManagePronunciation",audioSimplePlayerId:"glossaryManagePronunciation_player"}),k=Handlebars.compile(DKI.templates.window)({windowContent:k,id:"glossaryBrowserContainer",windowTitle:DKI.strings.glossary.titleText,afterHeader:Handlebars.compile(DKI.templates.mobileBackSearch)({mobile:b,disableSearch:!0}),contentId:"glossaryContentContainer"});$("body").append(k);h.container=$("#glossaryBrowserContainer");
h.contentContainer=$("#glossaryContentContainer");h.player=$("#glossaryManagePronunciation");h.close=h.container.find(".windowContainer-close");h.back=h.container.find(".backButton");b&&h.container.addClass("phone");h.termList={container:$("#termUl"),termElements:[]};h.termDetails={termTitle:$("#term"),termDefinition:$("#definition"),attribution:$("#attribution"),container:$("#termDetails")};p(c.terms);h.close.on(settings.clickEvent,function(){m()});if(b)h.back.on(settings.clickEvent,function(){h.container.on("shifted",
function(){var b=$(".terms li.selected");b.length?b[0].focus():0!==h.termList.termElements.length&&0!==h.termList.termElements[0].length&&h.termList.termElements[0][0].focus();h.container.off("shifted")});h.back.fadeOut(200);u(0)});h.container.draggable({handle:$("#browserHeader"),containment:"body"})},show:l,hide:m,selectTerm:k,isEmpty:function(){return 0<c.length?!1:!0},toggle:function(){"none"==h.container.css("display")?this.show():this.hide()},loadTerms:function(b){p(b)},events:{glossaryRegistered:"glossaryRegistered"}}}();
(function(b){b.fn.jsonSearch=function(h){var c;h=b.extend({url:"",data:[],minCharacters:1,maxResults:void 0,wildCard:"",caseSensitive:!1,notCharacter:"!",maxHeight:350,highlightMatches:!0,onSelect:void 0,width:void 0,searchKey:"text"},h);return this.each(function(){function l(b,c){var h="/.*+?|()[]{}\\".split("");if(c)for(var k=0;k<h.length;k++)h[k]===c&&h.splice(k,1);c=new RegExp("(\\"+h.join("|\\")+")","g");return b.replace(c,"\\$1")}function m(c){b("li",q).removeClass("resultHover");c&&b(c).addClass("resultHover");
v=c}function p(c,k){k="("+k+")";var l=!0,n=0,p=h.caseSensitive?new RegExp(k,"g"):new RegExp(k,"ig");b(q).html("").hide();for(k=0;k<c.length;k+=1){var y=b("\x3cli /\x3e"),z=c[k][h.searchKey];!0===h.highlightMatches&&(z=z.replace(p,"\x3cstrong\x3e$1\x3c/strong\x3e"));b(y).append('\x3ca class\x3d"ui-corner-all"\x3e'+z+"\x3c/a\x3e");"string"===typeof c[k].image&&b("\x3ea",y).prepend('\x3cimg src\x3d"'+c[k].image+'" /\x3e');"string"===typeof c[k].extra&&b("\x3ea",y).append("\x3csmall\x3e"+c[k].extra+"\x3c/small\x3e");
b(y).addClass("ui-menu-item").addClass(l?"odd":"even").attr("role","menuitem").click(function(k){return function(){var l=c[k];u.val(l.text);b(q).html("").hide();if("function"===typeof h.onSelect)h.onSelect(l)}}(k)).mouseover(function(b){return function(){m(b)}}(y));b(q).append(y);l=!l;n+=1;if("number"===typeof h.maxResults&&n>=h.maxResults)break}0<b("li",q).length&&(v=void 0,b(q).show().css("height","auto"),b(q).height()>h.maxHeight&&b(q).css({overflow:"auto",height:h.maxHeight+"px"}))}function n(m){m=
function(c){if(this.value.length<h.minCharacters)return b(q).html("").hide(),!1;var m=[],n=h.wildCard?l(this.value,h.wildCard).replace(k,".*"):l(this.value),r=!0,u,v;h.notCharacter&&0===n.indexOf(h.notCharacter)&&(n=n.substr(h.notCharacter.length,n.length),0<n.length&&(r=!1));n=n||".*";n=h.wildCard?"^"+n:n;u=h.caseSensitive?new RegExp(n):new RegExp(n,"i");for(v=0;v<c.length;v+=1)u.test(c[v][h.searchKey])===r&&m.push(c[v]);p(m,n)};if(h.data&&h.data.length)m.apply(this,[h.data]);else if(h.url&&"string"===
typeof h.url){var n=this.value;b(q).html('\x3cli class\x3d"ui-menu-item ajaxSearching"\x3e\x3ca class\x3d"ui-corner-all"\x3eSearching...\x3c/a\x3e\x3c/li\x3e').show().css("height","auto");c=window.clearTimeout(c);c=window.setTimeout(function(){b.getJSON(h.url,{search:n},function(c){c?p(c,n):b(q).html("").hide()})},500)}}var u=b(this),k=new RegExp(l(h.wildCard||""),"g"),q=b("\x3cul /\x3e"),v,y,z;b(q).addClass("jsonSuggest ui-autocomplete ui-menu ui-widget ui-widget-content ui-corner-all").attr("role",
"listbox").css({top:u.position().top+u.outerHeight()+"px",left:u.position().left+"px","z-index":999}).hide();u.after(q).keyup(function(c){switch(c.keyCode){case 13:return b(v).trigger("click"),!1;case 40:return v="undefined"===typeof v?b("li:first",q).get(0):b(v).next().get(0),m(v),v&&b(q).scrollTop(v.offsetTop),!1;case 38:return v="undefined"===typeof v?b("li:last",q).get(0):b(v).prev().get(0),m(v),v&&b(q).scrollTop(v.offsetTop),!1;default:n.apply(this,[c])}}).keydown(function(c){if(9===c.keyCode&&
v)return b(v).trigger("click"),!0}).blur(function(c){c=b(q).offset();c.bottom=c.top+b(q).height();c.right=c.left+b(q).width();(z<c.top||z>c.bottom||y<c.left||y>c.right)&&b(q).hide()}).focus(function(c){b(q).css({top:u.position().top+u.outerHeight()+"px",left:u.position().left+"px"});0<b("li",q).length&&b(q).show()}).attr("autocomplete","off");b(window).mousemove(function(b){y=b.pageX;z=b.pageY});h.notCharacter=l(h.notCharacter||"");h.data&&"string"===typeof h.data&&(h.data=b.parseJSON(h.data))})}})(jQuery);
DKI.resourceBrowser=function(){var b=$("body").hasClass("phone")||$("body").hasClass("responsive")?!0:!1,h={},c={},l=[],m=[],p=null,n={},u=[],k={},q={},v={},y={},z,A=dkiUA.iOS||dkiUA.android?"html,flash":"flash,html",r=function(b){for(var c={},h=0;h<b.length;h++){var k=b[h].type;k in c?c[k].push(b[h]):c[k]=[b[h]]}return c},B=function(){var b=r(c),h=DKI.getObjectKeys(b),k=$("#resourceList #list"),m,n,q,u=dkiUA.iOS||dkiUA.android||dkiUA.blackberry;p&&(m=$("\x3cli /\x3e",{text:v.txtPrintableVersionHeader}),
n=$("\x3cul /\x3e",{"class":"sublist"}),q=$("\x3cli /\x3e",{id:"documentVersion","class":"subItem ",title:v.txtPrintableVersionTitle,html:"\x3cspan class\x3d'icon document'\x3e\x3c/span\x3e"+p.name}),q.on(z.clickEvent,I),n.append(q),m.append(n),k.append(m));h.sort();$.each(h,function(c,h){c=b[h];h=$("\x3cli /\x3e").append($("\x3cspan /\x3e",{"class":"Resource_type_label",text:y[h]}));var l=$("\x3cul /\x3e",{"class":"subList"});c.sort(C);$.each(c,function(b,c){b="\x3e";c.elementLink&&(b="title\x3d'"+
v.txtElementLinkTitle+"'\x3e\x3cspan class\x3d'linkIcon'\x3e\x3c/span\x3e");b="\x3cspan class\x3d'icon "+c.type+"'"+b+"\x3c/span\x3e"+c.title;var h="";u&&(b+="\x3cspan class\x3d'chevron'\x3e\x3c/span\x3e",h+="mobile");b=$("\x3cli /\x3e",{id:c.id,"class":"subItem "+h,title:c.title,html:b,tabIndex:0});h=function(){J(c.id)};if(u)b.find("span").on(z.clickEvent,h);else b.on(z.clickEvent,h);l.append(b);$(document).trigger(ca.resourceRegistered,[c])});h.append(l);k.append(h)});h=playerBehaviour.removeWebLinks;
0<l.length&&!h&&(m=$("\x3cli /\x3e").append($("\x3cspan /\x3e",{"class":"Resource_type_label",text:v.txtLinksHeader})),n=$("\x3cul /\x3e",{"class":"subList"}),$.each(l,function(b,c){if(!c.parameters.notIncludedInResources){b="\x3cspan class\x3d'icon link'\x3e\x3c/span\x3e"+(c.parameters.title&&""!==c.parameters.title?c.parameters.title:c.parameters.url);var h="";u&&(b+="\x3cspan class\x3d'chevron'\x3e\x3c/span\x3e",h+="mobile");q=$("\x3cli /\x3e",{id:c.id,"class":"subItem link "+h,title:c.parameters.url,
html:b,tabIndex:0});b=function(){L(c.id)};if(u)q.find("span").on(z.clickEvent,b);else q.on(z.clickEvent,b);n.append(q)}}),m.append(n),k.append(m))},C=function(b,c){return b.title<c.title?-1:b.title>c.title?1:0},x=function(b,c){var h=$("#resourceView").innerHeight()-$("#resourceDetails .assetProperties").outerHeight()-30,k=$("#resourceView").innerWidth()-45,l=h-c,m=k-b,n=b/c;0>l&&l<m?(c=h,b=n*h):0>m&&m<l?(c=k/n,b=k):c=parseInt(c,10);h=0;200>c&&(h=(200-c)/2);return{width:b,height:c,top:h}},D=function(b,
c){$("#resourceVideo_player").jPlayer({swfPath:z.swfPath,cssSelectorAncestor:"#resourceVideo_container",ready:function(){n=$(this);n.jPlayer("setMedia",b.media);$(this).bind($.jPlayer.event.pause,function(){$(".jp-video-play",this.parentNode).css("display","");$("#resourceVideo_container .jp-interface").hide()});$(this).bind($.jPlayer.event.play,function(){$(".jp-video-play",this.parentNode).css("display","none");$("#resourceVideo_container .jp-interface").show()});$(this).bind($.jPlayer.event.click,
function(b){b.jPlayer.status.paused?$(this).jPlayer("play"):$(this).jPlayer("pause")});$("#resourceContent").off("keypress").on("keypress",function(c){var h=n.data().jPlayer,k=h.status,h=h.options;32==c.which||13==c.which?k.paused?n.jPlayer("play"):n.jPlayer("pause"):102==c.which?$(".jp-full-screen",this).click():27==c.which?$(".jp-restore-screen",this).click():116==c.which&&""!=b.transcript?contentApi.showPopup({html:b.transcript,modal:!1,autoFocus:!0,returnFocus:this}):109==c.which?h.muted?n.jPlayer("unmute"):
n.jPlayer("mute"):61==c.which||43==c.which?n.jPlayer("volume",h.volume+.1):45!=c.which&&95!=c.which||n.jPlayer("volume",h.volume-.1)})},solution:A,volume:1,supplied:b.supplied,autohide:!0,size:{width:c.width+"px",height:c.height+"px"},sizeFull:{height:"600px"},nativeVideoControls:z.nativeVideoControls})},F=function(b){$("#resourceAudio_player").jPlayer({swfPath:z.swfPath,cssSelectorAncestor:"#resourceAudio",ready:function(){k=$(this);k.jPlayer("setMedia",b.media);q=k},supplied:b.supplied,solution:A})},
E=function(b){var c=0;for(b=parseInt(b,10);1024<=b;)b/=1024,c++;return b.toFixed(1)+" "+["B","kB","MB"][c]},G=function(b,c){var k=b.title;if("html"!==b.type)if(playerBehaviour.allowResourceDownload)var k=b.title,l=c.split("."),k=k+("."+l[l.length-1]),k="\x3ca download\x3d'"+k+"' target\x3d'_blank' href\x3d'"+c+"' title\x3d'"+v.txtSaveAs+"'\x3e"+b.title+" \x3cspan class\x3d'downloadIcon'\x3e\x3c/span\x3e("+E(b.size)+")\x3c/a\x3e";else k="\x3cspan\x3e"+b.title+"\x3c/span\x3e";c=$(k);$("#resourceTitle").html("").append(c);
$("#resourceSize").html(E(b.size));$("#resourceDescription").html(b.description);h.detailsContainer.is(":hidden")&&h.detailsContainer.show()},K=function(b){var c=null,k=b.parameters.title,l=b.parameters.description,c=v.txtNewWindowTitle;""===k&&(k=b.parameters.url);b.parameters.isWebsite?(c=$("\x3ca href\x3d'#' class\x3d'resourceLinkLabel link website' title\x3d'"+c+"'\x3e"+k+"\x3c/a\x3e"),c.on(z.clickEvent,function(){b.parameters.target&&"modal"===b.parameters.target?contentApi.openModal(b.parameters.url):
window.open(b.parameters.url,"_blank").focus()})):(k+="\x3cspan class\x3d'downloadIcon'\x3e\x3c/span\x3e",c=v.txtSaveAs,c=$("\x3ca download target\x3d'_blank' href\x3d'"+b.parameters.url+"' class\x3d'resourceLinkLabel link download' title\x3d'"+c+"'\x3e"+k+"\x3c/a\x3e"));playerBehaviour.allowResourceDownload||(c=$("\x3cspan\x3e"+k+"\x3c/span\x3e"));$("#resourceTitle").html("").append(c);$("#resourceSize").html("");$("#resourceDescription").html(l);h.detailsContainer.is(":hidden")&&h.detailsContainer.show()},
I=function(){var c=$("#resourceContent"),k=player.rootURL+"assets/"+p.name,l=x(100,100),m=$(document.createElement("div"));m.css({margin:"0px auto",width:l.width,height:l.height,padding:l.top+"px 0px"});m.html("\x3cdiv class\x3d'docImg doc'\x3e\x3c/div\x3e");c.html("");c.append(m);G({title:p.name,description:"",size:p.size},k);$("#resourceList li").removeClass("selected");$("#documentVersion").addClass("selected");b&&(H(-250),h.back.fadeIn(200))},J=function(c){var k=M(c),l=$("#resourceContent");k.filePath||
(k.filePath=k.assetURL);var m=k.filePath;G(k,m);var n,p=$("\x3cdiv/\x3e"),q;l.html("");switch(k.type){case "audio":n=x(225,50);l=m;m=Handlebars.compile("{{\x3e jPlayerAudio}}")({audioAncestorId:"resourceAudio",audioPlayerId:"resourceAudio_player"});$("#resourceContent").append(p.html(m));m={};k="mp4"===k.extension?"m4a":k.extension;m[k]=l;F({media:m,supplied:k});break;case "video":n=x(k.w,k.h);l=m;m=n;q=Handlebars.compile("{{\x3e jPlayerVideo}}")({videoAncestorId:"resourceVideo_container",videoPlayerId:"resourceVideo_player"});
$("#resourceContent").append(p.html(q));q={};k="mp4"===k.extension||"mov"===k.extension?"m4v":k.extension;q[k]=l;D({media:q,supplied:k},m);break;case "image":n=x(k.w,k.h);l.append(p.html("\x3cimg src\x3d'"+m+"' width\x3d'100%' height \x3d '100%'/\x3e"));break;case "flash":n=x(k.w,k.h);l.append(p.html('\x3cobject classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width\x3d"100%" height\x3d"100%" id\x3d"flash_previewer"\x3e\x3cparam name\x3d"movie" value\x3d"'+m+'"/\x3e\x3cparam name\x3d"allowfullscreen" value\x3d"false" /\x3e\x3cparam name\x3d"allowScriptAccess" value\x3d"sameDomain" /\x3e\x3cparam name\x3d"wmode" value\x3d"transparent" /\x3e\x3c!--[if !IE]\x3e--\x3e\x3cobject type\x3d"application/x-shockwave-flash" data\x3d"'+
m+'" width\x3d"100%" height\x3d"100%"\x3e\x3cparam name\x3d"allowfullscreen" value\x3d"false" /\x3e\x3cparam name\x3d"allowScriptAccess" value\x3d"sameDomain" /\x3e\x3cparam name\x3d"wmode" value\x3d"transparent" /\x3e\x3c!--\x3c![endif]--\x3e\x3ca target\x3d"flashplayer" href\x3d"http://www.adobe.com/go/getflashplayer"\x3e\x3cimg src\x3d"http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif" alt\x3d"Get Adobe Flash player" /\x3e\x3c/a\x3e\x3c!--[if !IE]\x3e--\x3e\x3c/object\x3e\x3c!--\x3c![endif]--\x3e\x3c/object\x3e\x3c/div\x3e'));
break;case "html":n=x(k.w,k.h);m=k.filePath?m+"/"+k.parameters.LAUNCHFILE:k.assetURL.substring(0,k.assetURL.length-1)+"/"+k.parameters.LAUNCHFILE;q=k.parameters.scrolling;switch(q){case "off":q="no";break;case "on":q="yes";break;default:q="auto"}l.append(p.html("\x3ciframe src\x3d'"+m+"' frameborder\x3d'"+k.parameters.border+"' scrolling\x3d'"+q+"'/\x3e"));break;default:n=x(100,100),l.append(p.html("\x3cdiv class\x3d'docImg "+k.extension+"'\x3e\x3c/div\x3e"))}p.css({margin:"0px auto",width:n.width,
height:n.height,padding:n.top+"px 0px"});$("#resourceList li").removeClass("selected");$("#"+c).addClass("selected");b&&(H(-250),h.back.fadeIn(200))},L=function(c){var k;a:{for(k=0;k<l.length;k++)if(l[k].id==c){k=l[k];break a}k=void 0}if(""!=k.parameters.description){var m=$("#resourceContent");m.html("");var n=$("\x3cdiv/\x3e");K(k);k.parameters.isWebsite&&(n.html("\x3ciframe style\x3d'margin:0;padding:0;width: 100%; height: 290px;' src\x3d'"+k.parameters.url+"' frameborder\x3d'0' scrolling\x3d'auto'/\x3e"),
n.css({margin:"0px auto",width:"100%",height:"290px"}),m.append(n));$("#resourceList li").removeClass("selected");$("#"+c).addClass("selected");b&&(H(-250),h.back.fadeIn(200))}else k.parameters.target&&"modal"===k.parameters.target?contentApi.openModal(k.parameters.url):window.open(k.parameters.url,"_blank").focus()},M=function(b){for(var h=0;h<c.length;h++)if(c[h].id==b)return c[h]},H=function(b){0==b?h.resourceList.list.show():h.detailsContainer.show();h.contentContainer.animate({left:b},300,function(){if(0==
b){var c=$(".selected[tabindex]:first",h.resourceList.list);0<c.length?c[0].focus():$("*[tabindex]:first",h.resourceList.list)[0].focus();h.detailsContainer.hide()}else h.resourceList.list.hide(),$("*[tabindex]:first",h.detailsContainer)[0].focus()})},aa=function(){h.container.hide();"undefined"!=typeof player&&player.navigation.setResourceState(!1)},ca={resourceRegistered:"resourceRegistered",resourceOpened:"resourceOpened",resourceDownloaded:"resourceDownloaded"},T={fancybox:{enabled:!0}};Handlebars.registerHelper("DKI_templates_resource_list",
function(b){var h={image:"image",video:"inline",audio:"inline",html:"iframe",flash:"swf"};b=DKI.applyIf(b.hash,T);var k={strings:DKI.strings,config:b,categories:function(){var b={};if(playerBehaviour.allowResourceDownload&&DKI.resourceBrowser.getDocumentVersion()){var k=DKI.resourceBrowser.getDocumentVersion(),k={type:v.txtPrintableVersionHeader,allowResourceDownload:playerBehaviour.allowResourceDownload,filePath:fileLocation=player.rootURL+"assets/"+k.name,title:k.fileName,extension:k.extension,
id:"documentVersion"};b[k.type]={title:k.type,resources:[k]}}$.each(c,function(){this.allowResourceDownload=playerBehaviour.allowResourceDownload;this.filePath=this.filePath?player.rootURL+this.filePath:this.assetURL;"html"==this.type&&(this.filePath+="/"+this.parameters.LAUNCHFILE);this.fancybox={type:h[this.type],href:this.filePath,inline_content:"",group:this.type,title:this.title};if("video"==this.type||"audio"==this.type){var c="inline_resource_"+this.id;this.fancybox.href="#"+c;this.fancybox.inline_content=
Handlebars.compile("video"==this.type?DKI.templates.resource.video_content:DKI.templates.resource.audio_content)({id:c,resource_id:this.id,player_id:this.type+"_player_"+this.id,ancestor_id:this.type+"_ancestor_"+this.id})}if(this.allowResourceDownload||"document"!=this.type&&"source"!=this.type)b[this.type]?b[this.type].resources.push(this):b[this.type]={title:y[this.type],resources:[this]}});return b}(),links:function(){var b={title:DKI.strings.resources.txtLinksHeader,resources:[]};$.each(l,function(){if(this.parameters.notIncludedInResources)return!0;
""==this.parameters.title&&(this.parameters.title=this.parameters.url);b.resources.push(this)});return 0<b.resources.length?b:!1}(),pages:function(){var b={resources:m,title:DKI.strings.runtime["Theme Pages"]};return 0<b.resources.length?b:!1}()},k=Handlebars.compile(DKI.templates.resource.list)(k);if(b.fancybox.enabled)$(document).on("dki_theme_ready",function(){$(".dki-resource-asset-list-item-download").each(function(){$(this).on("keypress",function(b){32==b.which&&dkiUA.ie&&(window.open($(this).attr("href")),
$(document).trigger(DKI.resourceBrowser.events.resourceDownloaded,M($(this).data("id"))))});this.addEventListener(z.clickEvent,function(b){$(document).trigger(DKI.resourceBrowser.events.resourceDownloaded,M($(this).data("id")));DKI.EVENT_CANCEL_BUBBLE(b)},!0)});$(".dki-resource-list-item.fancy-box-item").click(function(){var b=null,c=null,h=DKI.func.debounce(function(){k()},75,!1),k=function(){var b=$(".fancybox-item.fancybox-close",c),h=$(".fancybox-stage .fancybox-content",c),k=h.offset().top-window.pageYOffset-
9,h=h.offset().left+h.outerWidth()-$(window).width()-25;b.css({top:k+"px",left:h+"px"})},l=this,m=$("\x3cdiv\x3e");$.fancybox.open(m,{src:$(this).data("fancybox-href"),caption:$(this).data("fancyboxTitle"),type:$(this).data("fancybox-type"),buttons:["close"],btnTpl:{close:'\x3cdiv class\x3d"fancybox-item fancybox-close"data-fancybox-close aria-label\x3d"'+player.strings.buttonLabelClose+'" role\x3d"button" tabindex\x3d"1" \x3e\x3c/div\x3e'},fitToView:!0,autoSize:!1,autoCenter:!0,margin:[20,60,20,
60],afterShow:function(){$(".fancybox-stage",c).after($(".fancybox-toolbar",c).remove());k();var b=this;this.$slide.closest(".fancybox-inner").closest(".fancybox-overlay").on(z.clickEvent,function(b){return!1});$(document).trigger(ca.resourceOpened,M($(l).data("id")));if("inline"==this.type){$("[data-fancybox-close]",this.$slide).remove();var h=M($(l).data("id")),m="mp4"===h.extension||"mov"===h.extension?"m4v":h.extension;"audio"==h.type&&(m="mp4"===h.extension?"m4a":h.extension);var n={};n[m]=h.filePath;
this.$slide.find("#"+h.type+"_player_"+h.id).jPlayer({swfPath:z.swfPath,cssSelectorAncestor:"#"+h.type+"_ancestor_"+h.id,ready:function(){var c=$(this);c.jPlayer("setMedia",n);$(this).bind($.jPlayer.event.pause,function(){$(".jp-video-play",this.parentNode).css("display","");$(".jp-interface",b.$slide).hide()});$(this).bind($.jPlayer.event.play,function(){$(".jp-video-play",this.parentNode).css("display","none");$(".jp-interface",b.$slide).show()});$(this).bind($.jPlayer.event.click,function(b){b.jPlayer.status.paused?
$(this).jPlayer("play"):$(this).jPlayer("pause")});b.$slide.off("keypress").on("keypress",function(b){var k=c.data().jPlayer,l=k.status,k=k.options;32==b.which||13==b.which?l.paused?c.jPlayer("play"):c.jPlayer("pause"):102==b.which?$(".jp-full-screen",this).click():27==b.which?$(".jp-restore-screen",this).click():116==b.which&&""!=h.transcript?contentApi.showPopup({html:h.transcript,modal:!1,autoFocus:!0,returnFocus:this}):109==b.which?k.muted?c.jPlayer("unmute"):c.jPlayer("mute"):61==b.which||43==
b.which?c.jPlayer("volume",k.volume+.1):45!=b.which&&95!=b.which||c.jPlayer("volume",k.volume-.1)});k()},solution:A,volume:1,supplied:m,autohide:"video"==h.type?{restored:!0,hold:500}:{},size:{width:function(){var c="video"==h.type?h.w+"px":"";h.w>b.width&&(c="100%");return c}(),height:function(){var c="video"==h.type?h.h+"px":"";h.h>b.height&&(c="100%");return c}(),cssClass:function(){var c="";"video"==h.type&&h.h>b.height&&(c="jp-over-max");return c}()},sizeFull:{height:"600px"},nativeVideoControls:z.nativeVideoControls})}},
beforeShow:function(k,l,m){l=this.$slide.closest(".fancybox-inner");b=k;c=l;b.$refs.container.on("onUpdate.fb",h)},afterClose:function(){b.$refs.container.off("onUpdate.fb",null,h);c=b=null}})});$(".dki-resource-list .dki-resource-pages .dki-resource-list-item").click(function(){var b=$(this).data("id");player.showPage([b],!1,!1,0)})});return k});return{init:function(k){var n;v=k.languageString;y={document:v.documentType,html:v.htmlType,audio:v.audioType,video:v.videoType,image:v.imageType,flash:v.flashType,
source:v.sourceType};c=k.resources;for(n=0;n<c.length;n++)u.push({id:c[n].id,title:c[n].title,type:"resource"});for(n=0;n<k.actions.length;n++)"http"==k.actions[n].type&&0==$.grep(l,function(b){return b.parameters.url==k.actions[n].parameters.url}).length&&(l.push(k.actions[n]),u.push({id:k.actions[n].id,title:k.actions[n].parameters.title,type:"link"}));player.isSinglePage||dataStorage.courseStructure.resourcePages.forEach(function(b){b.parameters.includeAsResource&&m.push(b)});z=k.settings;p=k.documentVersion;
var r={strings:DKI.strings,mobile:b},r=Handlebars.compile(DKI.templates.resourceBrowser)(r),r=Handlebars.compile(DKI.templates.window)({windowContent:r,id:"resourceWindowContainer",windowTitle:DKI.strings.resources.resourceBrowserTitle,afterHeader:Handlebars.compile(DKI.templates.mobileBackSearch)({mobile:b}),contentId:"resourceContentContainer"});$("body").append(r);h.container=$("#resourceWindowContainer");h.contentContainer=$("#resourceContentContainer");h.close=h.container.find(".windowContainer-close");
h.back=h.container.find(".backButton");h.detailsContainer=$("#resourceView");b&&h.container.addClass("phone");h.resourceList={container:$("#resourceList"),list:$("#resourceList #list"),termElements:[]};h.resourceDetails={resourceTitle:$("#resources")};B();h.container.hide();h.container.css("visibility","visibile");if(b)h.back.on(z.clickEvent,function(){h.back.fadeOut(200);H(0);q&&q.jPlayer&&q.jPlayer("stop")});h.close.on(z.clickEvent,function(){aa()});h.container.draggable({handle:h.container.find(".browserHeader"),
containment:"body"});h.container.find(".searchInput").jsonSearch({data:u,searchKey:"title",onSelect:function(b){"resource"==b.type?J(b.id):"link"==b.type&&L(b.id)}})},show:function(){h.container.show();"undefined"!=typeof player&&player.navigation.setResourceState(!0);$("*[tabindex]:first",h.resourceList.list)[0]&&$("*[tabindex]:first",h.resourceList.list)[0].focus()},hide:aa,toggle:function(){"none"==h.container.css("display")?this.show():this.hide()},isEmpty:function(){var b=0,h;p&&(b=1);for(h in c)c.hasOwnProperty(h)&&
b++;for(h in l)l.hasOwnProperty(h)&&b++;return 0===b},setLaunchMethod:function(b){},events:ca,hasResources:function(){return 0<m.length||0<l.length||DKI.resources&&0<DKI.resources.length||p},getDocumentVersion:function(){return p}}}();DKI||(DKI={});
DKI.disabler=function(b){this.config=b;DKI.applyIf(this.config,{text:"",onClick:function(){},showSpinner:!1,className:"",clickable:!0});this.disabler=$("\x3cdiv /\x3e",{"class":"disablerWrapper "+this.config.className+(this.config.clickable?" clickable":"")});this.spinner=$("\x3cdiv /\x3e",{"class":"disabler"});this.disabler.append(this.spinner);this.disabler.on("click",$.proxy(function(){this.config.onClick(this)},this));this.text=$("\x3cp /\x3e",{"class":"disablerMessage",html:this.config.text});
""!=this.config.text&&this.text.attr("tabindex","0");this.disabler.append(this.text);this.config.showSpinner&&this.spinner.addClass("spinner");$("body").append(this.disabler);return this};DKI.disabler.prototype.show=function(){this.disabler.show();this.spinner.show();this.text[0].focus()};DKI.disabler.prototype.hide=function(b){b?this.disabler.fadeOut():this.disabler.hide()};DKI.disabler.prototype.setText=function(b){this.config.text=b;this.text.html(b)};
DKI.search||(DKI.search={events:{show:"searchUiShow",hide:"searchUiHide",search:"searchUiSearch",filterClicked:"searchFilterClicked",loadedProperties:"searchLoadedProperties"},isSupportedLanguage:function(b){b=b?b:contentApi.getCourseLanguage();return 0<=$.inArray(b.toLowerCase(),["en-us","en-gb","en-au","en-ca"])}});
(function(){var b={enabled:!0,indexes:{},itemStore:[],memberMap:{pages:{transcript:"transcript.body",title:"title",keysFlat:"keysFlat",description:"Description",note:"pageNote.body"}},supportedAssetTypes:["video","audio","image","flash","html"],supportedElementTypes:["htm","authoringButton","table","videoembed","tab"],memberRules:{elements:function(b){b.elementMeta=DKI.stripHTML(b.meta);b.keysFlat=b.keywords?b.keywords.join(" "):""},objects:function(b){b.keysFlat=b.keywords.join(" ")},assets:function(b){b.keysFlat=
b.keywords.join(" ")},pages:function(b){b.keysFlat=b.keywords.join(" ")}}},h={init:function(c){DKI.apply(b,c);b.enabled&&(h.initIndexes(),h.initSubscribers())},alterPipelines:function(b){DKI.search.isSupportedLanguage()||(b.pipeline.remove(lunr.stemmer),b.pipeline.remove(lunr.stopWordFilter),b.pipeline.remove(lunr.trimmer),b.pipeline.add(function(b,c,h){if(""!=b)return b}))},initSubscribers:function(){$(document).on(DKI.courseStore.events.courseRegistered,function(b,c){h.registerAssets()});$(document).on(DKI.courseStore.events.moduleRegistered,
function(b,c){h.addToIndex(c,"modules")});$(document).on(DKI.courseStore.events.loRegistered,function(b,c){h.addToIndex(c,"objects")});$(document).on(DKI.courseStore.events.pageRegistered,function(b,c){h.addToIndex(c,"pages")});$(document).on(DKI.courseStore.events.elementRegistered,function(c,m,p){if(!p&&(0<=$.inArray(m.elementtype,b.supportedElementTypes)&&h.addToIndex(m,"elements"),m.parameters.labels))for(c=0;c<m.parameters.labels.length;c++)if(p=dataStorage.getAsset(m.upload_id))p.labels+=" "+
m.parameters.labels[c].text});$(document).on(DKI.glossaryBrowse.events.glossaryRegistered,function(b,c){h.addToIndex(c,"glossaries")});$(document).on(DKI.Reference.playerReferenceUIInterface.events.referenceRegistered,function(b,c){h.addToIndex(c,"references")});$(document).on(DKI.Reference.playerReferenceUIInterface.events.citationRegistered,function(b,c){h.addToIndex(c,"citations")})},initIndexes:function(){b.indexes={elements:lunr(function(){this.ref("idx");this.field("elementMeta",{boost:12.5});
this.field("txt",{boost:12.5});this.field("description",{boost:10});this.field("keysFlat",{boost:10});h.alterPipelines(this)}),pages:lunr(function(){this.ref("idx");this.field("transcript",{boost:10});this.field("note",{boost:10});this.field("title",{boost:50});this.field("description",{boost:25});this.field("keysFlat",{boost:10});h.alterPipelines(this)}),assets:lunr(function(){this.ref("idx");this.field("title",{boost:12.5});this.field("description",{boost:10});this.field("transcript",{boost:10});
this.field("labels",{boost:10});this.field("keysFlat",{boost:10});h.alterPipelines(this)}),citations:lunr(function(){this.ref("idx");this.field("label",{boost:10});h.alterPipelines(this)}),references:lunr(function(){this.ref("idx");this.field("refText",{boost:10});h.alterPipelines(this)}),glossaries:lunr(function(){this.ref("idx");this.field("term",{boost:12.5});this.field("definition",{boost:10});this.field("attribution",{boost:7.5});h.alterPipelines(this)})}},registerAssets:function(){for(var c in b.dataStorage.store.assets){var m=
b.dataStorage.store.assets[c];0<=$.inArray(m.type,b.supportedAssetTypes)&&h.addToIndex(m,"assets")}},addToIndex:function(c,h){if(b.indexes[h]){c.idx=b.itemStore.length;c.smSearchType=h;var p=c;if(b.memberRules[h])b.memberRules[h](p);if(b.memberMap[h]){var p={idx:c.idx},n;for(n in b.memberMap[h])p[n]=b.memberMap[h][n].split(".").reduce(function(b,c){return b[c]?b[c]:{}},c)}b.itemStore.push(c);b.indexes[h].add(p);return c.idx}},search:function(c,m){var p=[],n;for(n in b.indexes)m&&DKI.isArray(m)&&0<=
m.indexOf(n)||(p=p.concat(b.indexes[n].search(c)));return p.map(function(c){c.obj=b.itemStore[c.ref];return c}).sort(h.sortResults)},sortResults:function(b,c){return b.score<c.score?1:b.score>c.score?-1:0},runAsync:function(b){setTimeout(b,0)}},c={search:function(b,c){return h.search(b,c)},isEnabled:function(){return b.enabled},getItemByStoreIndex:function(c){return b.itemStore[c]}};DKI.search.Manager=function(b){h.init(b);jQuery.extend(this,c);return this}})();
DKI.search.Window=function(){var b=!0,h=$("html").hasClass("csstransforms")?500:0,c=$("body").hasClass("phone")||$("body").hasClass("responsive")?!0:!1,l={},m={},p,n=!1,u={categories:{top:[],image:[],video:[],audio:[],reference:[],glossary:[],page:[],text:[],richMedia:[]}},k={},q=dkiUA.iOS||dkiUA.android?"html,flash":"flash,html",v={},y=function(b){return'\x3cobject classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width\x3d"100%" height\x3d"100%" id\x3d"search_flash"\x3e\x3cparam name\x3d"movie" value\x3d"'+
b+'"/\x3e\x3cparam name\x3d"allowfullscreen" value\x3d"false" /\x3e\x3cparam name\x3d"allowScriptAccess" value\x3d"sameDomain" /\x3e\x3cparam name\x3d"wmode" value\x3d"transparent" /\x3e\x3c!--[if !IE]\x3e--\x3e\x3cobject type\x3d"application/x-shockwave-flash" data\x3d"'+b+'" width\x3d"100%" height\x3d"100%"\x3e\x3cparam name\x3d"allowfullscreen" value\x3d"false" /\x3e\x3cparam name\x3d"allowScriptAccess" value\x3d"sameDomain" /\x3e\x3cparam name\x3d"wmode" value\x3d"transparent" /\x3e\x3c!--\x3c![endif]--\x3e\x3ca target\x3d"flashplayer" href\x3d"http://www.adobe.com/go/getflashplayer"\x3e\x3cimg src\x3d"http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif" alt\x3d"Get Adobe Flash player" /\x3e\x3c/a\x3e\x3c!--[if !IE]\x3e--\x3e\x3c/object\x3e\x3c!--\x3c![endif]--\x3e\x3c/object\x3e\x3c/div\x3e'},
z=function(b){return $("\x3cdiv class\x3d'widgetPlaceholder'\x3e\x3c/div\x3e").on(p.clickEvent,function(c){DKI.Modal.show({url:b,name:"widgetPreview",method:"GET"})})},A=function(b){var c=l.search.val(),h=dataStorage.searchManager.search(c);$(document).trigger(DKI.search.events.search,[c,h]);populateResults(h,c,b)};showVideoPlayer=function(b,c,h,k){var l={},m="mp4"===b.extension||"mov"===b.extension?"m4v":b.extension;l[m]=c;renderVideoPlayer({media:l,supplied:m},k,h,b)};showAudioPlayer=function(b,
c,h){var k={};b="mp4"===b.extension?"m4a":b.extension;k[b]=c;renderAudioPlayer({media:k,supplied:b},h)};renderAudioPlayer=function(b,c){$(c).find("#search_audioPlayer").jPlayer({swfPath:p.swfPath,cssSelectorAncestor:"#search_audioAncestor",ready:function(){$(this).jPlayer("setMedia",b.media)},supplied:b.supplied,solution:q})};renderVideoPlayer=function(b,c,h,k){$(h).find("#search_vidPlayer").jPlayer({swfPath:p.swfPath,cssSelectorAncestor:"#search_vidAncestor",ready:function(){videoPlayer=$(this);
videoPlayer.jPlayer("setMedia",b.media);$(this).bind($.jPlayer.event.pause,function(){$(".jp-video-play",this.parentNode).css("display","");$("#searchBrowserContainer .vidContainer .jp-interface").hide()});$(this).bind($.jPlayer.event.play,function(){$(".jp-video-play",this.parentNode).css("display","none");$("#searchBrowserContainer .vidContainer .jp-interface").show()});$(this).bind($.jPlayer.event.click,function(b){b.jPlayer.status.paused?$(this).jPlayer("play"):$(this).jPlayer("pause")});$(".jp-transcript",
this.parentNode).on(p.clickEvent,function(){contentApi.showPopup({html:k.transcript,modal:!1,title:playerStrings.transcriptLabel})});h.off("keypress").on("keypress",function(c){var h=videoPlayer.data().jPlayer,k=h.status,h=h.options;32==c.which||13==c.which?k.paused?videoPlayer.jPlayer("play"):videoPlayer.jPlayer("pause"):102==c.which?$(".jp-full-screen",this).click():27==c.which?$(".jp-restore-screen",this).click():116==c.which&&""!=b.transcript?contentApi.showPopup({html:b.transcript,modal:!1,autoFocus:!0,
returnFocus:this}):109==c.which?h.muted?videoPlayer.jPlayer("unmute"):videoPlayer.jPlayer("mute"):61==c.which||43==c.which?videoPlayer.jPlayer("volume",h.volume+.1):45!=c.which&&95!=c.which||videoPlayer.jPlayer("volume",h.volume-.1)})},solution:q,volume:1,supplied:b.supplied,autohide:!0,size:{width:c.width+"px",height:c.height+"px"},sizeFull:{height:"600px"},nativeVideoControls:p.nativeVideoControls})};getType=function(b){switch(b.smSearchType){case "assets":return"flash"==b.type||"html"==b.type?
["richMedia"]:[b.type];case "glossaries":return["glossary","text"];case "references":return["reference","text"];case "citations":return["reference","text"];case "pages":return["page"];case "elements":return"videoembed"==b.elementtype?["video"]:["text"];case "objects":return["objects"]}};setObjects=function(b){var c=function(b,c){var h=dataStorage.locatePage(b);b=courseStructure.modules[h.module].objects[h.object];h=b.subeos[h.page];k.objects[b.eoid]?k.objects[b.eoid].push({obj:c,subeoId:h.subeoid}):
k.objects[b.eoid]=[{obj:c,subeoId:h.subeoid}]},h=[];switch(b.smSearchType){case "assets":h=dataStorage.getRelationship("assetElement",b.upload_id);break;case "glosariees":h=dataStorage.getRelationship("glossaryElement",b.glossary_id);break;case "citations":b.elementId?h=[b.elementId]:(termId=dataStorage.getRelationship("citationGlossary",b.id),h=dataStorage.getRelationship("glossaryElement",termId));break;case "pages":c(b.pageid,b);break;case "elements":h=[b.elementid]}for(var l=0;l<h.length;l++){var m=
dataStorage.getElement(h[l]);c(m.pageid,b)}};populateResults=function(b,c,h){l.details.listPanel.html("\x3cdiv tabindex\x3d'0' class\x3d'backNav'\x3e\x3cspan class\x3d'icon backChevron'\x3e\x3c/span\x3e\x3cspan\x3e"+m.back+"\x3c/span\x3e\x3c/div\x3e");k=DKI.clone(u);k.objects={};c=!1;for(var n=0;n<b.length;n++){var p=b[n];if(testForSequential(p)){k.categories.top.push(p);for(var q=getType(p.obj),v=0;v<q.length;v++)k.categories[q[v]].push(p)}else c=!0}c?(l.sequential.show(),l.details.detailsPanel.addClass("sequentialBlock")):
(l.sequential.hide(),l.details.detailsPanel.removeClass("sequentialBlock"));setFilterResults(k.categories,h)};getResultElements=function(b,c){c=[];var h=getType(b)[0];if("assets"==b.smSearchType)c=dataStorage.getRelationship("assetElement",b.id);else if("reference"==h)if(h=function(b){var c=[];b.elementId?c.push(b.elementId):(termId=dataStorage.getRelationship("citationGlossary",b.id),c=dataStorage.getRelationship("glossaryElement",termId));return c},"citations"==b.smSearchType)c=h(b);else for(var k in DKI.references.citations)DKI.references.citations[k].referenceId==
b.id&&(c=c.concat(h(DKI.references.citations[k])));else"glossaries"==b.smSearchType?c=dataStorage.getRelationship("glossaryElement",b.glossaryid):"elements"==b.smSearchType&&c.push(b.elementid);return c};testForSequential=function(b){var c=[];if(!n)return!0;var h=getType(b.obj)[0];if("page"==h)c.push(b.obj.pageid);else{if("objects"==h)for(c=dataStorage.findObject(b.obj.id),b=0;b<c.subeos.length;b++){if(c.subeos[b].complete)return!0}else for(c=getResultElements(b.obj),b=0;b<c.length;b++)if(dataStorage.getSubeoFromPage(dataStorage.getElement(c[b]).pageid).complete)return!0;
return!1}};getTitle=function(b){switch(b.smSearchType){case "citations":b=b.label;break;case "glossaries":b=b.term;break;case "elements":b="text"==getType(b)[0]?50<b.elementMeta.length?b.elementMeta.substr(0,47)+"...":b.elementMeta:b.title;break;default:b=b.title}return b};getDescription=function(b){switch(b.smSearchType){case "glossaries":return b.definition;case "citations":return DKI.Reference.playerReferenceUIInterface.getFullCitationText(b.id);case "references":return b.refText;case "pages":return b.description;
case "elements":return"text"==getType(b)[0]?b.elementMeta:b.description;default:return b.description}};getItemId=function(b){return b.id};setFilterResults=function(b,h){var k=l.filters.parent(),m=l.filters.detach(),n=l.sequential.detach(),p=!1,q;for(q in b){var u=l.filters.find("li[data-filter\x3d'"+q+"']");if(u){var v=!1;0<b[q].length&&(u.find("span.resCount").html(b[q].length),v=!0,u.data("istextitem")&&(p=!0));v?u.show():u.hide()}}p?l.filters.find("li.division").show():l.filters.find("li.division").hide();
k.append(m);k.append(n);!c&&h&&filterClicked.call(l.filters.find("li[data-filter\x3d'top']")[0])};filterClicked=function(b){b=$(this).data("filter");$(document).trigger(DKI.search.events.filterClicked,b);l.filters.find("li").removeClass("selected");l.container.trigger("filterClicked",[b]);0<k.categories[b].length&&$(this).addClass("selected");l.container.addClass("shift");l.details.detailsPanel.removeClass("properties").addClass("list")};loadAsset=function(b,c){var h={width:$(c).width(),height:$(c).height()};
switch(b.type){case "video":showVideoPlayer(b,getAssetUrl(b),c,h);break;case "audio":h.height=50,$(c).css("height","50px"),showAudioPlayer(b,getAssetUrl(b),c)}};loadListPanel=function(b){var c=k.categories[b];l.details.listPanel.html("\x3cdiv tabindex\x3d'0' class\x3d'backNav'\x3e\x3cspan class\x3d'icon backChevron'\x3e\x3c/span\x3e\x3cspan\x3e"+m.back+"\x3c/span\x3e\x3c/div\x3e");for(var h=0;h<c.length;h++){var q=c[h].obj,u=getType(q)[0];if("objects"!=u||!k.objects[q.eoid]||k.objects[q.eoid][0].subeoId){if("page"==
u){if("undefined"==typeof dataStorage.getSubeoFromPage(q.pageid))continue}else if(elements=getResultElements(q,null),0==elements.length)continue;q="image"!=b?generateListItem(c[h]):generateImageItem(c[h]);l.details.listPanel.append(q);q.on(p.clickEvent,function(){var b=dataStorage.searchManager.getItemByStoreIndex($(this).data("ref"));dataStorage.getCurrentQuestion();var c=getType(b)[0];"objects"==c&&k.objects[b.eoid]?contentApi.jumpToSubeo(k.objects[b.eoid][0].subeoId,!1):("page"==c?b=dataStorage.getSubeoFromPage(b.pageid):
(b=getResultElements(b,null),b=dataStorage.getSubeoFromPage(dataStorage.getElement(b[0]).pageid)),(b.complete&&n||!n)&&contentApi.jumpToSubeo(b.subeoid,!1))})}}0==c.length&&l.details.listPanel.find(".backNav").trigger("click");l.details.detailsPanel.append(l.details.switchContainer);c.length&&l.details.listPanel.find("*[tabindex]:visible")[0].focus()};generateListItem=function(b,c){var h=b.obj,k=$("\x3cdiv class\x3d'itemContainer' tabindex\x3d'0'\x3e\x3cspan class\x3d'iconContainer'\x3e\x3cspan class\x3d'icon'\x3e\x3c/span\x3e \x3c/span\x3e\x3cspan class\x3d'chevronContainer'\x3e\x3cspan class\x3d'icon chevron'\x3e\x3c/span\x3e\x3c/span\x3e\x3cdiv class\x3d'metaContainer'\x3e\x3ch3\x3e\x3c/h3\x3e\x3cp\x3e\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e");
k.data("ref",b.ref);k.find("h3").html(getTitle(h));k.find("p").html(getDescription(h));k.find(".iconContainer .icon").addClass(getType(h)[0]);c&&(b="page"==getType(h)[0]?"Jump to this page":"Jump to the page containing this result",k.find(".chevron").removeClass("chevron").addClass("jump").attr("title",b));return k};getAssetUrl=function(b){return b.filePath?player.rootURL+b.filePath:b.assetURL};generateImageItem=function(b){var c=$("\x3cdiv tabindex\x3d'0' class\x3d'imageThumb' data-ref\x3d'"+b.ref+
"'\x3e\x3c/div\x3e");c.css("background-image","url("+getAssetUrl(b.obj)+")");return c};loadPropertiesPanel=function(b){var c=l.details.propertiesPanel,k=getType(b)[0];$(document).trigger(DKI.search.events.loadedProperties,[b,k]);l.details.overflow=l.details.overflow.detach();var m=l.details.overflow.find(".propertiesContent");m.html("").append("\x3cdiv tabindex\x3d'0' class\x3d'preview'\x3e\x3c/div\x3e\x3cdiv class\x3d'propertiesMeta'\x3e\x3c/div\x3e");if("image"!=k&&"video"!=k&&"audio"!=k&&"richMedia"!=
k)var n=m.find(".preview").hide();else switch(n=m.find(".preview").show(),n.css("height",("assets"==b.smSearchType?b.h:b.height)+"px"),k){case "image":n.css({"background-image":"url("+getAssetUrl(b)+")","background-position":"center","background-size":"contain","background-repeat":"no-repeat"});break;case "video":"assets"==b.smSearchType?(k=Handlebars.compile("{{\x3e jPlayerVideo}}")({videoAncestorId:"search_vidAncestor",videoPlayerId:"search_vidPlayer"}),n.html(k),n.off(),n.on("detailsLoaded",function(){loadAsset(b,
this)})):(n.off(),setTimeout(function(){"dynamic"==b.meta2?(n.append("\x3ciframe frameborder\x3d'0' scrolling\x3d'no' src\x3d'"+DKI.getVideoEmbedURL(b.elementid)+"'\x3e\x3c/iframe\x3e"),n.find("iframe").load(function(){$("object",$(this).contents()).css({"max-width":n.css("max-width"),"max-height":n.css("max-height")})})):n.html(b.meta);n.find("iframe").css({width:"100%",height:"100%"})},h));break;case "audio":k=Handlebars.compile("{{\x3e jPlayerAudio}}")({audioAncestorId:"search_audioAncestor",audioPlayerId:"search_audioPlayer"});
n.html(k);n.off();n.on("detailsLoaded",function(){loadAsset(b,this)});break;case "richMedia":"flash"==b.type?n.html(y(getAssetUrl(b))):(n.css("height","96px"),k=getAssetUrl(b),k=b.filePath?k:k.substring(0,k.length-1),k+="/"+b.parameters.LAUNCHFILE,n.html(z(k)))}m.find(".propertiesMeta").html("\x3ch3 tabindex\x3d'0'\x3e"+getTitle(b)+"\x3c/h3\x3e\x3cp tabindex\x3d'0'\x3e"+getDescription(b)+"\x3c/p\x3e");k=loadPageLinks(l.details.linksContainer.detach(),b);c.append(l.details.overflow);m.append(k);n.trigger("detailsLoaded");
l.details.detailsPanel.removeClass("list").addClass("properties")};unloadPreview=function(){l.details.overflow=l.details.overflow.detach()};loadPageLinks=function(b,c){dataStorage.getCurrentQuestion();var h=[],l=getType(c)[0],m=b.find(".links");m.html("");var q=b.find("h3.linksTitle").html("");if("objects"==l&&k.objects[c.eoid])for(q.html("See Also:"),l=0;l<k.objects[c.eoid].length;l++){var u=k.objects[c.eoid][l],u=generateListItem({obj:u.obj,ref:u.subeoId},!0);u.on(p.clickEvent,function(){contentApi.jumpToSubeo($(this).data("ref"),
!1)});m.append(u)}else if("page"==l){if(u=dataStorage.getSubeoFromPage(c.pageid),u.complete&&n||!n)q.html("Found Locations:"),u=generateListItem({obj:c,ref:u.subeoid},!0),u.on(p.clickEvent,function(){contentApi.jumpToSubeo($(this).data("ref"),!1)}),m.append(u)}else h=getResultElements(c,m);0<h.length&&q.html("Found Locations:");c=[];for(l=0;l<h.length;l++)u=dataStorage.getSubeoFromPage(dataStorage.getElement(h[l]).pageid),(u.complete&&n||!n)&&u&&0>$.inArray(u.subeoid,c)&&(q=u.page,c.push(u.subeoid),
u=generateListItem({obj:q,ref:u.subeoid},!0),u.on(p.clickEvent,function(){contentApi.jumpToSubeo($(this).data("ref"),!1)}),m.append(u));return b};show=function(c){$(document).trigger(DKI.search.events.show,c);if(b){l.container.show();var h=l.search[0];h&&(h.focus(),"undefined"!==typeof c&&l.search.val(c),A(),h=l.filters.find("li.selected"),"undefined"!==typeof c?(h=h[0]?h:l.filters.find("li[data-filter\x3d'top']"),h.addClass("selected"),l.container.trigger("filterClicked",[h.data("filter")])):h[0]&&
l.container.trigger("filterClicked",[h.data("filter")]),l.details.detailsPanel.hasClass("properties")&&l.details.propertiesPanel.append(l.details.overflow))}else!b&&p.inPreview&&(DKI.search.isSupportedLanguage()?alert("Course searching is not supported in your browser. Please upgrade your internet browser if you wish to use this feature."):alert("Search is not supported in this language."))};hide=function(){if(b){var c=l.search[0];l.container.is(":visible")&&$(document).trigger(DKI.search.events.hide);
c&&c.blur();l.container.hide();unloadPreview()}};toggle=function(){b&&("none"==l.container.css("display")?this.show():this.hide())};parseToBasic=function(b){return{title:getTitle(b),description:getDescription(b),id:getItemId(b)}};return{init:function(k){b=!(dkiUA.isIE()&&8>=dkiUA.ieVersion)&&DKI.search.isSupportedLanguage();n=playerBehaviour.forceSequential&&playerBehaviour.enableCourseSearchSequential;m=k.languageString;p=k.settings;documentVersion=k.documentVersion;b&&(k=Handlebars.compile(DKI.templates.window)({windowContent:Handlebars.compile(DKI.templates.search)({strings:DKI.strings}),
id:"searchBrowserContainer",windowTitle:DKI.strings.courseSearch.title}),$("body").append(k),l={container:$("#searchBrowserContainer"),details:{detailsPanel:$("#searchBrowserContainer .panel.details"),listPanel:$("#searchBrowserContainer .listPanel"),propertiesPanel:$("#searchBrowserContainer .propertiesPanel"),propertiesContent:$("#searchBrowserContainer .propertiesPanel .propertiesContent"),switchContainer:$("#searchBrowserContainer .switchContainer"),backNav:$("#searchBrowserContainer .propertiesPanel .backNav"),
linksContainer:$("#searchBrowserContainer .propertiesPanel .linksContainer"),overflow:$("#searchBrowserContainer .propertiesPanel .overflowContainer")},close:$("#searchBrowserContainer .windowContainer-close").attr("title",playerStrings.buttonLabelClose),back:$("#searchBrowserContainer .backButton"),search:$("#searchBrowserContainer .searchInput"),filters:$("#searchBrowserContainer .resultList"),sequential:$("#searchBrowserContainer .sequential")},v=DKI.func.debounce(A,200,!1,this),$("#searchBrowserContainer").on(p.clickEvent,
".backNav",function(){setTimeout(unloadPreview,h);l.details.detailsPanel.hasClass("properties")?l.details.detailsPanel.removeClass("properties").addClass("list"):l.container.removeClass("shift")}),l.close.on(p.clickEvent,function(){hide()}),$(l.filters).on(p.clickEvent,"li",filterClicked),$(document.body).on(p.clickEvent,".searchPageJump",function(b){contentApi.jumpToSubeo($(this).data("id"),!1)}),$(document).on(DKI.ContentPage.events.ready,function(){hide()}),$(document).on(DKI.EndCourse.events.ready,
function(){hide()}),$(document).on(DKI.EndModule.events.ready,function(){hide()}),$(document).on(DKI.EndTest.events.ready,function(){hide()}),l.search.on("input",function(){v(!0)}),l.container.on("filterClicked",function(b,c){loadListPanel(c)}),$(window).on(p.resizeEvent,$.proxy(function(){l.container.css("left",($(".bgRepeater").outerWidth()-l.container.outerWidth())/2);$("body").hasClass("responsive")&&(480>=$(window).width()?(c=!0,l.container.removeClass("shift")):c=!1)},this)))},show:show,hide:hide,
toggle:toggle,parseToBasic:parseToBasic}}();
DKI.PlayerOptions=$.Class({init:function(b){Object.defineProperty(DKI.PlayerOptions,"OPTION_CANDIDATES",{value:{behaviour:[{id:"forceSequential",ns:"forceSequential",type:"boolean"},{id:"enableShuffleLoOrder",ns:"enableShuffleLoOrder",type:"boolean"},{id:"enableTestTime",ns:"enableTestTime",type:"boolean"},{id:"retestAttempts",ns:"retestAttempts",type:"number"}],structure:{project:[{id:"passmark",ns:"passmark",type:"number"}],module:[{id:"content_time",ns:"parameters.content_time",type:"number"},
{id:"test_time",ns:"parameters.test_time",type:"number"}],object:[{id:"preserve_question_order",ns:"preserve_question_order",type:"boolean"},{id:"randQuest",ns:"randQuest",type:"number"}]}},writable:!1,enumerable:!0,configurable:!1});var h=this;this.overrideObjectParameters(b,"behaviour");$(document).on(DKI.DataStorage.events.project_structure_init,function(b,l){h.overrideObjectParameters(l,"project")});$(document).on(DKI.DataStorage.events.module_structure_init,function(b,l){h.overrideObjectParameters(l,
"module")});$(document).on(DKI.DataStorage.events.object_structure_init,function(b,l){h.overrideObjectParameters(l,"object")})}});
DKI.PlayerOptions.prototype.overrideObjectParameters=function(b,h){var c=DKI.getURLParameterValue("playerOptions",!1,!1),l=!1,m=!1;"undefined"!==typeof c&&(c=JSON.parse(c.replace(/%20/ig,"").replace(/%22/ig,'"')),l="undefined"!==typeof c.behaviour?!0:!1,m="undefined"!==typeof c.structure?!0:!1);if("behaviour"==h&&l)for(h=DKI.PlayerOptions.OPTION_CANDIDATES.behaviour,l=0;l<h.length;l++)typeof c.behaviour[h[l].id]==h[l].type&&DKI.setNS(h[l].ns,b,c.behaviour[h[l].id]);else if(m&&"undefined"!==typeof c.structure[h])for(m=
DKI.PlayerOptions.OPTION_CANDIDATES.structure,l=0;l<m[h].length;l++)typeof c.structure[h][m[h][l].id]==m[h][l].type&&DKI.setNS(m[h][l].ns,b,c.structure[h][m[h][l].id])};
(function(b){function h(b,c){if(!(1<b.originalEvent.touches.length)){b.preventDefault();var h=b.originalEvent.changedTouches[0],k=document.createEvent("MouseEvents");k.initMouseEvent(c,!0,!0,window,1,h.screenX,h.screenY,h.clientX,h.clientY,!1,!1,!1,!1,0,null);b.target.dispatchEvent(k)}}b.support.touch="ontouchend"in document;if(b.support.touch){var c=b.ui.mouse.prototype,l=c._mouseInit,m;c._touchStart=function(b){!m&&this._mouseCapture(b.originalEvent.changedTouches[0])&&(m=!0,this._touchMoved=!1,
h(b,"mouseover"),h(b,"mousemove"),h(b,"mousedown"))};c._touchMove=function(b){m&&(this._touchMoved=!0,h(b,"mousemove"))};c._touchEnd=function(b){m&&(h(b,"mouseup"),h(b,"mouseout"),this._touchMoved||h(b,"click"),m=!1)};c._mouseInit=function(){this.element.bind("touchstart",b.proxy(this,"_touchStart")).bind("touchmove",b.proxy(this,"_touchMove")).bind("touchend",b.proxy(this,"_touchEnd"));l.call(this)}}})(jQuery);var requirejs,require,define;
!function(b,h){function c(b,c){return c||""}function l(b){return"[object Function]"===U.call(b)}function m(b){return"[object Array]"===U.call(b)}function p(b,c){var h;if(b)for(h=0;h<b.length&&(!b[h]||!c(b[h],h,b));h+=1);}function n(b,c){var h;if(b)for(h=b.length-1;-1<h&&(!b[h]||!c(b[h],h,b));--h);}function u(b,c){return Q.call(b,c)}function k(b,c){return u(b,c)&&b[c]}function q(b,c){for(var h in b)if(u(b,h)&&c(b[h],h))break}function v(b,c,h,k){return c&&q(c,function(c,n){!h&&u(b,n)||(!k||"object"!=
typeof c||!c||m(c)||l(c)||c instanceof RegExp?b[n]=c:(b[n]||(b[n]={}),v(b[n],c,h,k)))}),b}function y(b,c){return function(){return c.apply(b,arguments)}}function z(b){throw b;}function A(c){if(!c)return c;var h=b;return p(c.split("."),function(b){h=h[b]}),h}function r(b,c,h,k){c=Error(c+"\nhttps://requirejs.org/docs/errors.html#"+b);return c.requireType=b,c.requireModules=k,h&&(c.originalError=h),c}function B(c){function B(b,c,h){var l,m,n,p,q,r,u,v;c=c&&c.split("/");var x=ea.map,w=x&&x["*"];if(b){m=
(b=b.split("/")).length-1;ea.nodeIdCompat&&ca.test(b[m])&&(b[m]=b[m].replace(ca,""));"."===b[0].charAt(0)&&c&&(b=c.slice(0,c.length-1).concat(b));m=b;for(n=0;n<m.length;n++)"."===(p=m[n])?(m.splice(n,1),--n):".."!==p||0===n||1===n&&".."===m[2]||".."===m[n-1]||0<n&&(m.splice(n-1,2),n-=2);b=b.join("/")}if(h&&x&&(c||w)){m=(h=b.split("/")).length;a:for(;0<m;--m){if(p=h.slice(0,m).join("/"),c)for(n=c.length;0<n;--n)if((l=k(x,c.slice(0,n).join("/")))&&(l=k(l,p))){q=l;r=m;break a}!u&&w&&k(w,p)&&(u=k(w,p),
v=m)}!q&&u&&(q=u,r=v);q&&(h.splice(0,r,q),b=h.join("/"))}return k(ea.pkgs,b)||b}function D(b){X&&p(document.getElementsByTagName("script"),function(c){if(c.getAttribute("data-requiremodule")===b&&c.getAttribute("data-requirecontext")===Y.contextName)return c.parentNode.removeChild(c),!0})}function C(b){var c=k(ea.paths,b);if(c&&m(c)&&1<c.length)return c.shift(),Y.require.undef(b),Y.makeRequire(null,{skipMap:!0})([b]),!0}function F(b){var c,h=b?b.indexOf("!"):-1;return-1<h&&(c=b.substring(0,h),b=b.substring(h+
1,b.length)),[c,b]}function E(b,c,h,l){var m,n,p,q,r=null,u=c?c.name:null,v=b,x=!0,w="";return b||(x=!1,b="_@r"+(qb+=1)),r=(q=F(b))[0],b=q[1],r&&(r=B(r,u,l),n=k(na,r)),b&&(r?w=h?b:n&&n.normalize?n.normalize(b,function(b){return B(b,u,l)}):-1===b.indexOf("!")?B(b,u,l):b:(r=(q=F(w=B(b,u,l)))[0],w=q[1],h=!0,m=Y.nameToUrl(w))),{prefix:r,name:w,parentMap:c,unnormalized:!!(p=!r||n||h?"":"_unnormalized"+(ob+=1)),url:m,originalName:v,isDefine:x,id:(r?r+"!"+w:w)+p}}function G(b){var c=b.id,h=k(R,c);return h||
(h=R[c]=new Y.Module(b)),h}function H(b,c,h){var l=b.id,m=k(R,l);!u(na,l)||m&&!m.defineEmitComplete?(m=G(b)).error&&"error"===c?h(m.error):m.on(c,h):"defined"===c&&h(na[l])}function J(b,c){var h=b.requireModules,l=!1;c?c(b):(p(h,function(c){(c=k(R,c))&&(c.error=b,c.events.error&&(l=!0,c.emit("error",b)))}),l||x.onError(b))}function K(){Z.length&&(p(Z,function(b){var c=b[0];"string"==typeof c&&(Y.defQueueMap[c]=!0);Fa.push(b)}),Z=[])}function L(b){delete R[b];delete db[b]}function w(){var b,c,l=1E3*
ea.waitSeconds,m=l&&Y.startTime+l<(new Date).getTime(),n=[],u=[],v=!1,x=!0;if(!W){if(W=!0,q(db,function(b){var h=b.map,k=h.id;if(b.enabled&&(h.isDefine||u.push(b),!b.error))if(!b.inited&&m)C(k)?v=c=!0:(n.push(k),D(k));else if(!b.inited&&b.fetched&&h.isDefine&&(v=!0,!h.prefix))return x=!1}),m&&n.length)return(b=r("timeout","Load timeout for modules: "+n,null,n)).contextName=Y.contextName,J(b);x&&p(u,function(b){!function ib(b,c,h){var l=b.map.id;b.error?b.emit("error",b.error):(c[l]=!0,p(b.depMaps,
function(l,m){l=l.id;var n=k(R,l);!n||b.depMatched[m]||h[l]||(k(c,l)?(b.defineDep(m,na[l]),b.check()):ib(n,c,h))}),h[l]=!0)}(b,{},{})});m&&!c||!v||!X&&!O||Sa||(Sa=h(function(){Sa=0;w()},50));W=!1}}function M(b){u(na,b[0])||G(E(b[0],null,!0)).init(b[1],b[2])}function Q(b){b=b.currentTarget||b.srcElement;var c=Y.onScriptLoad;b.detachEvent&&!V?b.detachEvent("onreadystatechange",c):b.removeEventListener("load",c,!1);c=Y.onScriptError;b.detachEvent&&!V||b.removeEventListener("error",c,!1);return{node:b,
id:b&&b.getAttribute("data-requiremodule")}}function U(){var b;for(K();Fa.length;){if(null===(b=Fa.shift())[0])return J(r("mismatch","Mismatched anonymous define() module: "+b[b.length-1]));M(b)}Y.defQueueMap={}}var W,aa,Y,fa,Sa,ea={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},R={},db={},eb={},Fa=[],na={},Ta={},Na={},qb=1,ob=1;return fa={require:function(b){return b.require?b.require:b.require=Y.makeRequire(b.map)},exports:function(b){if(b.usingExports=!0,b.map.isDefine)return b.exports?
na[b.map.id]=b.exports:b.exports=na[b.map.id]={}},module:function(b){return b.module?b.module:b.module={id:b.map.id,uri:b.map.url,config:function(){return k(ea.config,b.map.id)||{}},exports:b.exports||(b.exports={})}}},(aa=function(b){this.events=k(eb,b.id)||{};this.map=b;this.shim=k(ea.shim,b.id);this.depExports=[];this.depMaps=[];this.depMatched=[];this.pluginMaps={};this.depCount=0}).prototype={init:function(b,c,h,k){k=k||{};this.inited||(this.factory=c,h?this.on("error",h):this.events.error&&
(h=y(this,function(b){this.emit("error",b)})),this.depMaps=b&&b.slice(0),this.errback=h,this.inited=!0,this.ignore=k.ignore,k.enabled||this.enabled?this.enable():this.check())},defineDep:function(b,c){this.depMatched[b]||(this.depMatched[b]=!0,--this.depCount,this.depExports[b]=c)},fetch:function(){if(!this.fetched){this.fetched=!0;Y.startTime=(new Date).getTime();var b=this.map;if(!this.shim)return b.prefix?this.callPlugin():this.load();Y.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||
[],y(this,function(){return b.prefix?this.callPlugin():this.load()}))}},load:function(){var b=this.map.url;Ta[b]||(Ta[b]=!0,Y.load(this.map.id,b))},check:function(){if(this.enabled&&!this.enabling){var b,c,h=this.map.id,k=this.depExports,m=this.exports,n=this.factory;if(this.inited)if(this.error)this.emit("error",this.error);else{if(!this.defining){if(this.defining=!0,1>this.depCount&&!this.defined){if(l(n)){if(this.events.error&&this.map.isDefine||x.onError!==z)try{m=Y.execCb(h,n,k,m)}catch(q){b=
q}else m=Y.execCb(h,n,k,m);if(this.map.isDefine&&void 0===m&&((c=this.module)?m=c.exports:this.usingExports&&(m=this.exports)),b)return b.requireMap=this.map,b.requireModules=this.map.isDefine?[this.map.id]:null,b.requireType=this.map.isDefine?"define":"require",J(this.error=b)}else m=n;if(this.exports=m,this.map.isDefine&&!this.ignore&&(na[h]=m,x.onResourceLoad)){var r=[];p(this.depMaps,function(b){r.push(b.normalizedMap||b)});x.onResourceLoad(Y,this.map,r)}L(h);this.defined=!0}this.defining=!1;
this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else u(Y.defQueueMap,h)||this.fetch()}},callPlugin:function(){var b=this.map,c=b.id,h=E(b.prefix);this.depMaps.push(h);H(h,"defined",y(this,function(h){var l,m,n,p=k(Na,this.map.id),v=this.map.name,w=this.map.parentMap?this.map.parentMap.name:null,z=Y.makeRequire(b.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(h.normalize&&(v=h.normalize(v,function(b){return B(b,
w,!0)})||""),H(m=E(b.prefix+"!"+v,this.map.parentMap,!0),"defined",y(this,function(b){this.map.normalizedMap=m;this.init([],function(){return b},null,{enabled:!0,ignore:!0})})),void((n=k(R,m.id))&&(this.depMaps.push(m),this.events.error&&n.on("error",y(this,function(b){this.emit("error",b)})),n.enable()))):p?(this.map.url=Y.nameToUrl(p),void this.load()):((l=y(this,function(b){this.init([],function(){return b},null,{enabled:!0})})).error=y(this,function(b){this.inited=!0;(this.error=b).requireModules=
[c];q(R,function(b){0===b.map.id.indexOf(c+"_unnormalized")&&L(b.map.id)});J(b)}),l.fromText=y(this,function(h,k){var m=b.name,n=E(m),p=S;k&&(h=k);p&&(S=!1);G(n);u(ea.config,c)&&(ea.config[m]=ea.config[c]);try{x.exec(h)}catch(q){return J(r("fromtexteval","fromText eval for "+c+" failed: "+q,q,[c]))}p&&(S=!0);this.depMaps.push(n);Y.completeLoad(m);z([m],l)}),void h.load(b.name,z,l,ea))}));Y.enable(h,this);this.pluginMaps[h.id]=h},enable:function(){this.enabling=(db[this.map.id]=this).enabled=!0;p(this.depMaps,
y(this,function(b,c){var h,l;if("string"==typeof b){if(b=E(b,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[c]=b,h=k(fa,b.id))return void(this.depExports[c]=h(this));this.depCount+=1;H(b,"defined",y(this,function(b){this.undefed||(this.defineDep(c,b),this.check())}));this.errback?H(b,"error",y(this,this.errback)):this.events.error&&H(b,"error",y(this,function(b){this.emit("error",b)}))}h=b.id;l=R[h];u(fa,h)||!l||l.enabled||Y.enable(b,this)}));q(this.pluginMaps,y(this,
function(b){var c=k(R,b.id);c&&!c.enabled&&Y.enable(b,this)}));this.enabling=!1;this.check()},on:function(b,c){var h=this.events[b];h||(h=this.events[b]=[]);h.push(c)},emit:function(b,c){p(this.events[b],function(b){b(c)});"error"===b&&delete this.events[b]}},(Y={config:ea,contextName:c,registry:R,defined:na,urlFetched:Ta,defQueue:Fa,defQueueMap:{},Module:aa,makeModuleMap:E,nextTick:x.nextTick,onError:J,configure:function(b){if(b.baseUrl&&"/"!==b.baseUrl.charAt(b.baseUrl.length-1)&&(b.baseUrl+="/"),
"string"==typeof b.urlArgs){var c=b.urlArgs;b.urlArgs=function(b,h){return(-1===h.indexOf("?")?"?":"\x26")+c}}var h=ea.shim,k={paths:!0,bundles:!0,config:!0,map:!0};q(b,function(b,c){k[c]?(ea[c]||(ea[c]={}),v(ea[c],b,!0,!0)):ea[c]=b});b.bundles&&q(b.bundles,function(b,c){p(b,function(b){b!==c&&(Na[b]=c)})});b.shim&&(q(b.shim,function(b,c){m(b)&&(b={deps:b});!b.exports&&!b.init||b.exportsFn||(b.exportsFn=Y.makeShimExports(b));h[c]=b}),ea.shim=h);b.packages&&p(b.packages,function(b){var c;c=(b="string"==
typeof b?{name:b}:b).name;b.location&&(ea.paths[c]=b.location);ea.pkgs[c]=b.name+"/"+(b.main||"main").replace(T,"").replace(ca,"")});q(R,function(b,c){b.inited||b.map.unnormalized||(b.map=E(c,null,!0))});(b.deps||b.callback)&&Y.require(b.deps||[],b.callback)},makeShimExports:function(c){return function(){var h;return c.init&&(h=c.init.apply(b,arguments)),h||c.exports&&A(c.exports)}},makeRequire:function(b,h){function m(k,n,p){var q,v;return h.enableBuildCallback&&n&&l(n)&&(n.__requireJsBuild=!0),
"string"==typeof k?l(n)?J(r("requireargs","Invalid require call"),p):b&&u(fa,k)?fa[k](R[b.id]):x.get?x.get(Y,k,b,m):(q=E(k,b,!1,!0).id,u(na,q)?na[q]:J(r("notloaded",'Module name "'+q+'" has not been loaded yet for context: '+c+(b?"":". Use require([])")))):(U(),Y.nextTick(function(){U();(v=G(E(null,b))).skipMap=h.skipMap;v.init(k,n,p,{enabled:!0});w()}),m)}return h=h||{},v(m,{isBrowser:X,toUrl:function(c){var h,k=c.lastIndexOf("."),l=c.split("/")[0];return-1!==k&&(!("."===l||".."===l)||1<k)&&(h=c.substring(k,
c.length),c=c.substring(0,k)),Y.nameToUrl(B(c,b&&b.id,!0),h,!0)},defined:function(c){return u(na,E(c,b,!1,!0).id)},specified:function(c){return c=E(c,b,!1,!0).id,u(na,c)||u(R,c)}}),b||(m.undef=function(c){K();var h=E(c,b,!0),l=k(R,c);l.undefed=!0;D(c);delete na[c];delete Ta[h.url];delete eb[c];n(Fa,function(b,h){b[0]===c&&Fa.splice(h,1)});delete Y.defQueueMap[c];l&&(l.events.defined&&(eb[c]=l.events),L(c))}),m},enable:function(b){k(R,b.id)&&G(b).enable()},completeLoad:function(b){var c,h,l,m=k(ea.shim,
b)||{},n=m.exports;for(K();Fa.length;){if(null===(h=Fa.shift())[0]){if(h[0]=b,c)break;c=!0}else h[0]===b&&(c=!0);M(h)}if(Y.defQueueMap={},l=k(R,b),!c&&!u(na,b)&&l&&!l.inited){if(!(!ea.enforceDefine||n&&A(n)))return C(b)?void 0:J(r("nodefine","No define call for "+b,null,[b]));M([b,m.deps||[],m.exportsFn])}w()},nameToUrl:function(b,c,h){var l,n,p,q;l=k(ea.pkgs,b);if(l&&(b=l),l=k(Na,b))return Y.nameToUrl(l,c,h);if(x.jsExtRegExp.test(b))l=b+(c||"");else{l=ea.paths;for(p=(n=b.split("/")).length;0<p;--p)if(q=
k(l,n.slice(0,p).join("/"))){m(q)&&(q=q[0]);n.splice(0,p,q);break}l=n.join("/");l=("/"===(l+=c||(/^data\:|^blob\:|\?/.test(l)||h?"":".js")).charAt(0)||l.match(/^[\w\+\.\-]+:/)?"":ea.baseUrl)+l}return ea.urlArgs&&!/^blob\:/.test(l)?l+ea.urlArgs(b,l):l},load:function(b,c){x.load(Y,b,c)},execCb:function(b,c,h,k){return c.apply(k,h)},onScriptLoad:function(b){if("load"===b.type||N.test((b.currentTarget||b.srcElement).readyState))I=null,b=Q(b),Y.completeLoad(b.id)},onScriptError:function(b){var c=Q(b);
if(!C(c.id)){var h=[];return q(R,function(b,k){0!==k.indexOf("_@r")&&p(b.depMaps,function(b){if(b.id===c.id)return h.push(k),!0})}),J(r("scripterror",'Script error for "'+c.id+(h.length?'", needed by: '+h.join(", "):'"'),b,[c.id]))}}}).require=Y.makeRequire(),Y}function C(){return I&&"interactive"===I.readyState||n(document.getElementsByTagName("script"),function(b){if("interactive"===b.readyState)return I=b}),I}var x,D,F,E,G,K,I,J,L,M,H=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/gm,aa=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,
ca=/\.js$/,T=/^\.\//;D=Object.prototype;var U=D.toString,Q=D.hasOwnProperty,X=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),O=!X&&"undefined"!=typeof importScripts,N=X&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,V="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),fa={},W={},Z=[],S=!1;if(void 0===define){if(void 0!==requirejs){if(l(requirejs))return;W=requirejs;requirejs=void 0}void 0===require||l(require)||(W=require,require=
void 0);x=requirejs=function(b,c,h,l){var n,p,q="_";return m(b)||"string"==typeof b||(p=b,m(c)?(b=c,c=h,h=l):b=[]),p&&p.context&&(q=p.context),(n=k(fa,q))||(n=fa[q]=x.s.newContext(q)),p&&n.configure(p),n.require(b,c,h)};x.config=function(b){return x(b)};x.nextTick=void 0!==h?function(b){h(b,4)}:function(b){b()};require||(require=x);x.version="2.3.6";x.jsExtRegExp=/^\/|:|\?|\.js$/;x.isBrowser=X;D=x.s={contexts:fa,newContext:B};x({});p(["toUrl","undef","defined","specified"],function(b){x[b]=function(){var c=
fa._;return c.require[b].apply(c,arguments)}});X&&(F=D.head=document.getElementsByTagName("head")[0],E=document.getElementsByTagName("base")[0],E&&(F=D.head=E.parentNode));x.onError=z;x.createNode=function(b,c,h){c=b.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return c.type=b.scriptType||"text/javascript",c.charset="utf-8",c.async=!0,c};x.load=function(b,c,k){var l,m=b&&b.config||{};if(X)return(l=x.createNode(m,c,k)).setAttribute("data-requirecontext",
b.contextName),l.setAttribute("data-requiremodule",c),!l.attachEvent||l.attachEvent.toString&&0>l.attachEvent.toString().indexOf("[native code")||V?(l.addEventListener("load",b.onScriptLoad,!1),l.addEventListener("error",b.onScriptError,!1)):(S=!0,l.attachEvent("onreadystatechange",b.onScriptLoad)),l.src=k,m.onNodeCreated&&m.onNodeCreated(l,m,c,k),J=l,E?F.insertBefore(l,E):F.appendChild(l),J=null,l;if(O)try{h(function(){},0),importScripts(k),b.completeLoad(c)}catch(n){b.onError(r("importscripts",
"importScripts failed for "+c+" at "+k,n,[c]))}};X&&!W.skipDataMain&&n(document.getElementsByTagName("script"),function(b){if(F||(F=b.parentNode),G=b.getAttribute("data-main"))return L=G,W.baseUrl||-1!==L.indexOf("!")||(L=(K=L.split("/")).pop(),M=K.length?K.join("/")+"/":"./",W.baseUrl=M),L=L.replace(ca,""),x.jsExtRegExp.test(L)&&(L=G),W.deps=W.deps?W.deps.concat(L):[L],!0});define=function(b,h,k){var n,p;"string"!=typeof b&&(k=h,h=b,b=null);m(h)||(k=h,h=null);!h&&l(k)&&(h=[],k.length&&(k.toString().replace(H,
c).replace(aa,function(b,c){h.push(c)}),h=(1===k.length?["require"]:["require","exports","module"]).concat(h)));S&&(n=J||C())&&(b||(b=n.getAttribute("data-requiremodule")),p=fa[n.getAttribute("data-requirecontext")]);p?(p.defQueue.push([b,h,k]),p.defQueueMap[b]=!0):Z.push([b,h,k])};define.amd={jQuery:!0};x.exec=function(b){return eval(b)};x(W)}}(this,"undefined"==typeof setTimeout?void 0:setTimeout);DKI=DKI||{};
DKI.Events={TestQuestion:{exportSubmitted:"TESTQUESTION_EXPORT_SUBMITTED",submitted:"TESTQUESTION_SUBMITTED",nextClicked:"TESTQUESTION_NEXT_CLICKED",forceEnd:"TESTQUESTION_FORCE_END",correct:"TESTQUESTION_CORRECT",incorrect:"TESTQUESTION_INCORRECT",partiallyCorrect:"TESTQUESTION_PARTIALLY_CORRECT",attemptSubmitted:"PRACTICE_QUESTION_ATTEMPT_SUBMITTED",attemptIncorrect:"PRACTICE_QUESTION_ATTEMPT_INCORRECT",attemptPartiallyCorrect:"PRACTICE_QUESTION_ATTEMPT_PARTIALLY_CORRECT",questionInReview:"TESTQUESTION_REVIEW",
feedbackShown:"TESTQUESTION_FEEDBACK_SHOWN",dragStarted:"TESTQUESTION_DRAG_STARTED",dragStopped:"TESTQUESTION_DRAG_STOPPED",retry:"PRACTICE_QUESTION_RETRIED"}};
!function(b){var h=function(c,h){this.options=h;this.parent=this.options.parentSelector?b(b(c).closest(this.options.parentSelector)):b(c).parent();this.state={current:0};b(c).addClass("dki-radialgauge");return this};h.DEFAULTS={parentSelector:"",startingPosition:0,halfGauge:!1,showText:!1,asPercent:!1,ringSize:0,fontRatio:3,current:function(){return this.rg.state.current}};h.prototype={setText:function(b){if(this.rg.options.showText)this.$.find(".overlay .text").html(this.rg.options.showText);else{var h=
this.rg.options.current.call(this);b=""==h||isNaN(h/100)?b:h;this.$.find(".overlay .text").html(b+(this.rg.options.asPercent&&!isNaN(b)?"%":""));isNaN(b)||(this.$.find(".overlay .dki-element-progressBar").attr("role","progressbar"),this.$.find(".overlay .dki-element-progressBar").attr("aria-valuenow",b),this.$.find(".overlay .dki-element-progressBar").attr("aria-valuetext",b+"%"),this.$.find(".overlay .dki-element-progressBar").attr("aria-valuemax",100),this.$.find(".overlay .dki-element-progressBar").attr("aria-valuemin",
0))}},setRotation:function(b,h){var m=Math.round(b/100*360),p=this.rg.options.startingPosition,m=m/2;p&&this.$.find(".mask.half").css("transform","rotate("+p+"deg)");this.rg.options.halfGauge&&(this.$.css("clip","rect(0px 100px 50px 0px"),m/=2);this.$.find(".fill").css("transform","rotate("+m+"deg)");this.$.find(".mask.full").css("transform","rotate("+(m+p)+"deg)");this.$.find(".fill.fix").css("transform","rotate("+2*m+"deg)");this.rg.state.current=b;h&&h(this.$,this.rg);this.rg.setText.call(this,
Math.floor(b))},resize:function(b){b&&(this.rg.options.width=b);b=2*Math.round((this.rg.options.width?this.rg.options.width:this.rg.parent.outerWidth())/2);var h=2*(parseInt(this.rg.parent.css("padding"),10)||0);b=height=b-h;height=this.rg.options.halfGauge?height/2:height;this.rg.parent.css({height:height+h+"px"});this.$.css("width",b).css("height",height);var h="0px "+height+"px "+height+"px "+height/2+"px",m="0px "+height/2+"px "+height+"px 0px";b=this.$.find(".overlay");this.$.find(".mask").css("clip",
"rect("+h+")");this.$.find(".fill").css("clip","rect("+m+")");this.rg.options.ringSize&&(h=2*Math.round(height*(1-this.rg.options.ringSize)/2),b.height(h),b.width(h),b.css("margin",(height-h)/2));b.css("font-size",b.innerWidth()/this.rg.options.fontRatio+"px").css("line-height",b.innerWidth()+"px")},shown:function(){this.$.RadialGauge("resize")}};b.fn.RadialGauge=function(c){var l=c,m=Array.prototype.slice.call(arguments,1);return this.each(function(){var p=b(this),n=b(this).data("dki.RadialGauge");
options=b.extend({},h.DEFAULTS,"object"===typeof l&&l);n?"string"===typeof c&&(p=b(this).data("dki.RadialGauge"))&&p[c]&&p[c].apply({$:b(this),rg:b(this).data("dki.RadialGauge")},m):p.data("dki.RadialGauge",new h(this,options))})};b.fn.RadialGauge.Constructor=h}(window.jQuery);
var objectFitImages=function(){function b(b){if(b.srcset&&!A&&window.picturefill){var c=window.picturefill._;b[c.ns]&&b[c.ns].evaled||c.fillImg(b,{reselect:!0});b[c.ns].curSrc||(b[c.ns].supported=!1,c.fillImg(b,{reselect:!0}));b.currentSrc=b[c.ns].curSrc||b.src}}function h(b){for(var c=getComputedStyle(b).fontFamily,h={};null!==(b=k.exec(c));)h[b[1]]=b[2];return h}function c(b,c,h){c="data:image/svg+xml,%3Csvg xmlns\x3d'http://www.w3.org/2000/svg' width\x3d'"+(c||1)+"' height\x3d'"+(h||0)+"'%3E%3C/svg%3E";
r.call(b,"src")!==c&&B.call(b,"src",c)}function l(b,c){b.naturalWidth?c(b):setTimeout(l,100,b,c)}function m(k){var m=h(k),n=k[u];if(m["object-fit"]=m["object-fit"]||"fill",!n.img)if("fill"===m["object-fit"]||!n.skipTest&&v&&!m["object-position"])return;if(!n.img){n.img=new Image(k.width,k.height);n.img.srcset=r.call(k,"data-ofi-srcset")||k.srcset;n.img.src=r.call(k,"data-ofi-src")||k.src;B.call(k,"data-ofi-src",k.src);k.srcset&&B.call(k,"data-ofi-srcset",k.srcset);c(k,k.naturalWidth||k.width,k.naturalHeight||
k.height);k.srcset&&(k.srcset="");try{p(k)}catch(q){}}b(n.img);k.style.backgroundImage='url("'+(n.img.currentSrc||n.img.src).replace(/"/g,'\\"')+'")';k.style.backgroundPosition=m["object-position"]||"center";k.style.backgroundRepeat="no-repeat";k.style.backgroundOrigin="content-box";/scale-down/.test(m["object-fit"])?l(n.img,function(){n.img.naturalWidth>k.width||n.img.naturalHeight>k.height?k.style.backgroundSize="contain":k.style.backgroundSize="auto"}):k.style.backgroundSize=m["object-fit"].replace("none",
"auto").replace("fill","100% 100%");l(n.img,function(b){c(k,b.naturalWidth,b.naturalHeight)})}function p(b){var c={get:function(c){return b[u].img[c?c:"src"]},set:function(c,h){return b[u].img[h?h:"src"]=c,B.call(b,"data-ofi-"+h,c),m(b),c}};Object.defineProperty(b,"src",c);Object.defineProperty(b,"currentSrc",{get:function(){return c.get("currentSrc")}});Object.defineProperty(b,"srcset",{get:function(){return c.get("srcset")},set:function(b){return c.set(b,"srcset")}})}function n(b,c){var h=!C&&!b;
if(c=c||{},b=b||"img",y&&!c.skipTest||!z)return!1;"img"===b?b=document.getElementsByTagName("img"):"string"==typeof b?b=document.querySelectorAll(b):"length"in b||(b=[b]);for(var k=0;k<b.length;k++)b[k][u]=b[k][u]||{skipTest:c.skipTest},m(b[k]);h&&(document.body.addEventListener("load",function(b){"IMG"===b.target.tagName&&n(b.target,{skipTest:c.skipTest})},!0),C=!0,b="img");c.watchMQ&&window.addEventListener("resize",n.bind(null,b,{skipTest:c.skipTest}))}var u="bfred-it:object-fit-images",k=/(object-fit|object-position)\s*:\s*([-.\w\s%]+)/g,
q="undefined"==typeof Image?{style:{"object-position":1}}:new Image,v="object-fit"in q.style,y="object-position"in q.style,z="background-size"in q.style,A="string"==typeof q.currentSrc,r=q.getAttribute,B=q.setAttribute,C=!1;return n.supportsObjectFit=v,n.supportsObjectPosition=y,function(){function b(c,h){return c[u]&&c[u].img&&("src"===h||"srcset"===h)?c[u].img:c}y||(HTMLImageElement.prototype.getAttribute=function(c){return r.call(b(this,c),c)},HTMLImageElement.prototype.setAttribute=function(c,
h){return B.call(b(this,c),c,String(h))})}(),n}();
!function(b){var h=function(c,l){this.options=l;this.$el=b(c);this.initDB(l.outline);this.started=!1;this.removed=[];this.passed=0;this.tried=[];this.tries=0;this.onWindowResize=DKI.func.debounce(b.proxy(this.setHeight,this),50,!1);this.containmentEl=this.$el.closest(".dki-categoryCards-element");this.initSubscribers();this.initInteractions();this.options.accessible&&(this.accessibility=new h.Accessibility(this));return this};h.DEFAULTS={accessible:!0,responsive:!1,strings:{scoreLabel:"Score:",retryLabel:"Retry"},
outline:{},retries:0};h.constant=Object.freeze({screenReader:{visible:{tabindex:"1"},hidden:{tabindex:"-1"}}});h.prototype={initDB:function(c){this.db=function(){var b={},c={dragdrop_id:{}};return{store:function(h){b[h.id]=h;"categoryCardsAnswer"!==h.elementtype&&(c.dragdrop_id[h.dragdrop_id]=b[h.id])},get:function(c){return b[c]},getByKey:function(b,h){return c[b][h]},remove:function(c){delete b[item.id]},clear:function(){b={}},getLength:function(){return Object.keys(b).length}}}();var h=b.proxy(function(b){this.db.store(b);
for(var c in b.elements)h(b.elements[c])},this);h(c)},start:function(){this.$el.find(".categoryCardsAnswer").first().draggable("enable").removeClass("disabled");this.accessibility&&this.accessibility.start()},initSubscribers:function(){var c=this;this.$el.on("click",".feedback.showFeedback .btn",function(){c.resetUI();c.$el.velocity("scroll",{offset:-50});c.$el.trigger(CategoryCardEvents.onRetry)});b(window).on("resize",this.onWindowResize)},setHeight:function(){},initInteractions:function(){var c=
this;b(window).on("resize",function(){c.$el.find(".categoryCardsAnswer").data("ui-draggable")&&c.$el.find(".categoryCardsAnswer").draggable("option","containment",DKI.utility.getDragContainment(c.containmentEl,c.$el.find(".categoryCardsAnswer").width(),c.$el.find(".categoryCardsAnswer").height()))});b(document).on(DKI.ContentPage.events.started,function(b,h){(player.isSinglePage||h.page.id==c.options.outline.pageid)&&c.$el.find(".categoryCardsAnswer").data("ui-draggable")&&setTimeout(function(){c.$el.find(".categoryCardsAnswer").draggable("option",
"containment",DKI.utility.getDragContainment(c.containmentEl,c.$el.find(".categoryCardsAnswer").width(),c.$el.find(".categoryCardsAnswer").height()))},20)});b(document).on(DKI.ContentPage.events.shown,function(){c.$el.find(".categoryCardsAnswer").data("ui-draggable")&&c.$el.find(".categoryCardsAnswer").draggable("option","containment",DKI.utility.getDragContainment(c.containmentEl,c.$el.find(".categoryCardsAnswer").width(),c.$el.find(".categoryCardsAnswer").height()))});b(document).on(DKI.ContentPage.events.hidden,
function(){c.$el.find(".categoryCardsAnswer").data("ui-draggable")&&c.$el.find(".categoryCardsAnswer").draggable("option","containment",DKI.utility.getDragContainment(c.containmentEl,c.$el.find(".categoryCardsAnswer").width(),c.$el.find(".categoryCardsAnswer").height()))});b(document).on(DKI.ContentPage.events.questionElementFeedbackShown,function(){c.$el.find(".categoryCardsAnswer").data("ui-draggable")&&c.$el.find(".categoryCardsAnswer").draggable("option","containment",DKI.utility.getDragContainment(c.containmentEl,
c.$el.find(".categoryCardsAnswer").width(),c.$el.find(".categoryCardsAnswer").height()))});this.$el.find(".categoryCardsAnswer").draggable({disabled:!0,containment:DKI.utility.getDragContainment(c.containmentEl,c.$el.find(".categoryCardsAnswer").width(),c.$el.find(".categoryCardsAnswer").height()),scroll:"undefined"!=typeof settings?settings.responsive:b("html").hasClass("responsive"),start:function(l,m){b(this).addClass("dragging").style("right","auto");b(this).css("right","initial");c.$el.trigger(h.Events.onDragStart)},
drag:function(b,c){DKI.utility.dragFix(c)},stop:function(c,m){b(this).hasClass("dropped")||(b(this).addClass("transition").css({top:0,left:0}),h.Utility.onTransition(b(this),function(){b(this).removeClass("dragging");h.Utility.onTransition(b(this),function(){b(this).removeClass("transition")})}))}});this.$el.find(".categoryCardsCategory").droppable({accept:".categoryCardsAnswer",tolerance:"pointer",drop:function(h,m){b(m.draggable).addClass("transition dropped").removeClass("dragging");var p=this;
c.moveTo(b(m.draggable),b(this),function(){c.runScoring(b(m.draggable),b(p))})},disabled:!1})},moveTo:function(b,l,m){m=m||function(){};l=l.position();var p=b.parent().position(),n=DKI.utility.getScale();l.top/=n;l.left/=n;p.top/=n;p.left/=n;b.css({top:l.top-p.top,left:l.left-p.left-10});if(b.hasClass("transition"))h.Utility.onTransition(b,m);else setTimeout(m,0)},runScoring:function(b,h){var m=this.getPass(b,h);b.addClass("transition dropped").removeClass("dragging");m?this.runPassAnimation(b,h):
this.runFailAnimation(b,h);return m},getPass:function(c,l){var m=this.db.get(b(c).data("id"));l=this.db.get(b(l).data("id"));var p=m&&l&&m.parameters.config.link==l.dragdrop_id;-1==this.tried.indexOf(m.id)&&(this.tried.push(m.id),this.passed+=p?1:0,this.removed.push(c));this.$el.trigger(h.Events.onAnswer,{dragged:m,target:l,correct:p});return p},runPassAnimation:function(c,l){var m=this;b(c).appendTo(b(l)).css({top:0,left:0}).addClass("categoryCards-pass").append("\x3cspan class\x3d'fa fa-check border "+
this.options.outline.parameters.config.cardClass+"'\x3e\x3c/span\x3e");var p=this.$el.find(".deck .categoryCardsAnswer").first().draggable("enable").removeClass("disabled");h.Utility.onAnimation(b(l),b.proxy(function(){b(c).removeClass("categoryCards-pass transition dropped").find(".fa-check").remove();b(c).detach();m.$el.trigger(h.Events.onPass,b(c));if(!p[0]){var l=m.score();m.showEnd(l);m.fireResult(l);m.$el.trigger(h.Events.onComplete,l)}},l),1200)},runFailAnimation:function(c,l,m){b(c).addClass("categoryCards-fail");
var p=this;h.Utility.onAnimation(b(c),function(){b(this).removeClass("dropped categoryCards-fail").css({top:0,left:0});h.Utility.onTransition(b(this),function(){b(this).removeClass("transition");p.$el.trigger(h.Events.onFail,b(c))})})},score:function(){return Math.floor(100*(this.tried.length?this.passed/this.tried.length:0))},fireResult:function(b){this.$el.trigger(CategoryCardEvents.onAttempt);(100===b||this.tries>=this.options.retries)&&this.$el.trigger(CategoryCardEvents.onSubmitted);if(100===
b)this.$el.trigger(CategoryCardEvents.onCorrect);else{var h="on";this.tries<this.options.retries&&(h+="Attempt");this.$el.trigger(CategoryCardEvents[h+(0===b?"Incorrect":"PartialCorrect")])}},getxAPICompleteData:function(c){c=c||function(){};var h=this,m={sources:[],targets:[],matches:this.tried.map(function(b){return b+"."+h.db.get(b).parameters.config.link}),element:this.options.outline},h=this;b.each(this.options.outline.elements,function(){m["categoryCardsCategory"==this.elementtype?"targets":
"sources"].push(this)});c(m);return m},resetUI:function(){for(;this.removed.length;)this.$el.find(".deck").prepend(this.removed.pop()).find(".card").addClass("disabled").draggable("disable");this.$el.find(".deck .feedback, .deck").removeClass("showFeedback");this.$el.find(".deck .feedback .score").removeClass("correct incorrect");this.passed=0;this.tried=[];this.start()},reset:function(){this.resetUI();this.tries=0},showEnd:function(b){++this.tries;var h=this.$el.find(".deck .feedback").addClass("showFeedback");
if(this.options.outline.parameters.config.showScore){var m=h.find(".score").RadialGauge({ringSize:.25,asPercent:!0});m.addClass(100===b?"correct":"incorrect").RadialGauge("resize");m.RadialGauge("setRotation",b)}else h.find(".gauge").hide();(0==this.options.retries||this.tries<this.options.retries)&&100!==b?h.find(".btn").show().focus():h.find(".btn").hide();this.options.feedback&&(this.$el.find(".deck").addClass("showFeedback"),this.options.outline.parameters.config.useProjectDefault&&h.find(".f-text").css("text-align",
"center"),b=100===b?this.options.feedback.correct:0<b&&this.options.feedback.partial?this.options.feedback.partial:this.options.feedback.incorrect,h.find(".f-text").html(b),h.focus())},destroy:function(){b(window).off("resize",this.onWindowResize)},elementStart:function(){b("h2, .description",this.$el).attr({tabindex:this.options.accessible?"1":"-1"})}};b.fn.CategoryCards=function(c){var l=c,m=Array.prototype.slice.call(arguments,1);return this.each(function(){var p=b(this),n=b(this).data("dki.CategoryCards");
options=b.extend(!0,{},h.DEFAULTS,"object"===typeof l&&l);if("string"===typeof c&&!n)return!1;n?"string"===typeof c&&(p=b(this).data("dki.CategoryCards"))&&p[c]&&p[c].apply(b(this).data("dki.CategoryCards"),m):p.data("dki.CategoryCards",new h(this,options))})};b.fn.CategoryCards.Constructor=h;h.Utility={onAnimation:function(c,l,m){c=c instanceof jQuery?c:b(c);h.Utility.onGeneric(c,"animation",l,m)},onTransition:function(c,l,m){c=c instanceof jQuery?c:b(c);h.Utility.onGeneric(c,"transition",l,m)},
onGeneric:function(c,l,m,p){var n=c.get(0),u=h.Utility[l+"Event"];p=p||350;if((!dkiUA||!dkiUA.ie||10<dkiUA.ieVersion)&&u){if(u)return c.one(u+".categoryCard",m),!1}else{if(b("html").hasClass("csstransforms"))return c.data("categoryCard-"+l,setTimeout(function(){m.call(n)},p)),!1;setTimeout(m,p)}},genericOff:function(c,l){var m=h.Utility[l+"Event"];m?c.off(m+".categoryCard"):b("html").hasClass("csstransforms")&&c.data("categoryCard-"+l)&&(clearTimeout(c.data("categoryCard-"+l)),c.data("categoryCard-"+
l,""))},animationOff:function(b){h.Utility.genericOff(b,"animation")},transitionOff:function(b){h.Utility.genericOff(b,"transition")}};(function(){var c={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in c)if(void 0!==b("html")[0].style[t]){h.Utility.transitionEvent=c[t];break}c={animation:"animationend",IEAnimation:"MSAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(a in c)if(void 0!==b("html")[0].style[a]){h.Utility.animationEvent=
c[a];break}})();h.Events={onDragStart:"dragStart",onAnswer:"answered",onPass:"pass",onFail:"fail",onComplete:"completed",onRestart:"restart"};h.Accessibility=function(b){this.categoryCards=b;this.$el=b.$el;this.initSubscribers();return this};h.Accessibility.prototype={getNextFocus:function(){var c=b(this.$el.find(".deck .card").first());return c[0]?c.attr(h.constant.screenReader.visible):this.setEndAccessible()},setEndAccessible:function(){return this.$el.find(".deck .feedback").attr(h.constant.screenReader.visible)},
setEndInaccessible:function(){return this.$el.find(".deck .feedback").attr(h.constant.screenReader.hidden)},start:function(){this.getNextFocus().focus();this.setEndInaccessible()},setCategoryAccessible:function(){this.$el.find(".deck .card").attr(h.constant.screenReader.hidden);this.$el.find("\x3e *").addClass("categorySelect");this.$el.find("\x3e *.categorySelect .categories .card:first").attr(h.constant.screenReader.visible)},setCategoryInaccessible:function(){this.$el.find(".deck .card").attr(h.constant.screenReader.visible);
this.$el.find(".categories .card").attr(h.constant.screenReader.hidden);this.$el.find("\x3e *").removeClass("categorySelect")},initSubscribers:function(){var c=this,l=function(){b(this).addClass("dragging");b(this).css("right","initial");c.dragging=b(this);c.setCategoryAccessible()};this.$el.on(h.Events.onDragStart,function(){c.setCategoryInaccessible()});this.$el.on(h.Events.onPass,function(l,p){c.getNextFocus();b(p).attr(h.constant.screenReader.hidden)});this.$el.on("click",".deck .card[tabindex\x3d'1']",
function(b){l.call(this)});this.$el.on("keydown",".deck .card[tabindex\x3d'1']",function(b){if("Enter"==b.key||"Space"==b.key)return l.call(this),c.$el.find(".categories:first \x3e div:first .categoryCardsCategory").focus(),b.stopPropagation(),b.preventDefault(),!1});this.$el.on("click","\x3e *.categorySelect .categories .card",function(l){if(c.dragging){var p=function(){c.$el.off(h.Events.onPass+" "+h.Events.onFail,p);var b=c.getNextFocus();b.hasClass("card")||(c.setCategoryInaccessible(),c.dragging=
null);b[0].focus()};c.$el.on(h.Events.onPass+" "+h.Events.onFail,p);c.categoryCards.runScoring(c.dragging,b(this));return!1}});this.$el.on("mousedown","\x3e *.categorySelect .categories .card",function(c){b(this).data("isClick",!0)});this.$el.on("focus","\x3e *.categorySelect .categories .card",function(l){if(c.dragging&&!c.dragging.hasClass("dropped")){var p=this;c.categoryCards.moveTo(c.dragging,b(this),function(){b(p).data("isClick")&&(b(p).trigger("click"),b(p).data("isClick",!1));c.$el.find("\x3e *.categorySelect .categories .card").attr(h.constant.screenReader.hidden);
b(p).attr(h.constant.screenReader.visible)})}});this.$el.on("keydown","\x3e *.categorySelect .categories .card",function(h){if(c.dragging&&!c.dragging.hasClass("dropped")){var l=!1;"ArrowLeft"==h.key?(l=b(this).parent().parent().prev().find(".card"),0==l.length&&(l=b(this).parent().parent().parent().prev().find(".card:last"),0==l.length&&(l=c.$el.find("\x3e *.categorySelect .categories:last .card:last")))):"ArrowRight"==h.key?(l=b(this).parent().parent().next().find(".card"),0==l.length&&(l=b(this).parent().parent().parent().next().find(".card:first"),
0==l.length&&(l=c.$el.find("\x3e *.categorySelect .categories:first .card:first")))):"Home"==h.key?l=c.$el.find("\x3e *.categorySelect .categories:first .card:first"):"End"==h.key&&(l=c.$el.find("\x3e *.categorySelect .categories:last .card:last"));if(l)return l.focus(),h.stopPropagation(),h.preventDefault(),!1}})}}}(window.jQuery);
var CategoryCardEvents={onSubmitted:"categoryCardSubmitted",onCorrect:"categoryCardCorrect",onIncorrect:"categoryCardIncorrect",onPartialCorrect:"categoryCardPartialCorrect",onAttempt:"categoryCardAttempt",onAttemptIncorrect:"categoryCardAttemptIncorrect",onAttemptPartialCorrect:"categoryCardAttemptPartialCorrect",onRetry:"categoryCardRetry"};